(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[179],{284:(J_,Ts,Gt)=>{"use strict";function Tt(a){return"function"==typeof a}function ic(a){const i=a(l=>{Error.call(l),l.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const Fh=ic(a=>function(i){a(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((l,h)=>`${h+1}) ${l.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function oc(a,n){if(a){const i=a.indexOf(n);0<=i&&a.splice(i,1)}}class Wr{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const p of i)p.remove(this);else i.remove(this);const{initialTeardown:l}=this;if(Tt(l))try{l()}catch(p){n=p instanceof Fh?p.errors:[p]}const{_finalizers:h}=this;if(h){this._finalizers=null;for(const p of h)try{Xd(p)}catch(y){n=n??[],y instanceof Fh?n=[...n,...y.errors]:n.push(y)}}if(n)throw new Fh(n)}}add(n){var i;if(n&&n!==this)if(this.closed)Xd(n);else{if(n instanceof Wr){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&oc(i,n)}remove(n){const{_finalizers:i}=this;i&&oc(i,n),n instanceof Wr&&n._removeParent(this)}}Wr.EMPTY=(()=>{const a=new Wr;return a.closed=!0,a})();const Ms=Wr.EMPTY;function Vt(a){return a instanceof Wr||a&&"closed"in a&&Tt(a.remove)&&Tt(a.add)&&Tt(a.unsubscribe)}function Xd(a){Tt(a)?a():a.unsubscribe()}const Na={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kl={setTimeout(a,n,...i){const{delegate:l}=kl;return l?.setTimeout?l.setTimeout(a,n,...i):setTimeout(a,n,...i)},clearTimeout(a){const{delegate:n}=kl;return(n?.clearTimeout||clearTimeout)(a)},delegate:void 0};function Gg(a){kl.setTimeout(()=>{const{onUnhandledError:n}=Na;if(!n)throw a;n(a)})}function ve(){}const ew=Kd("C",void 0,void 0);function Kd(a,n,i){return{kind:a,value:n,error:i}}let xr=null;function Fa(a){if(Na.useDeprecatedSynchronousErrorHandling){const n=!xr;if(n&&(xr={errorThrown:!1,error:null}),a(),n){const{errorThrown:i,error:l}=xr;if(xr=null,i)throw l}}else a()}class tw extends Wr{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Vt(n)&&n.add(this)):this.destination=ho}static create(n,i,l){return new aa(n,i,l)}next(n){this.isStopped?sc(function Ug(a){return Kd("N",a,void 0)}(n),this):this._next(n)}error(n){this.isStopped?sc(function ae(a){return Kd("E",void 0,a)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?sc(ew,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dL=Function.prototype.bind;function Ol(a,n){return dL.call(a,n)}class nw{constructor(n){this.partialObserver=n}next(n){const{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(l){ac(l)}}error(n){const{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(l){ac(l)}else ac(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){ac(i)}}}class aa extends tw{constructor(n,i,l){let h;if(super(),Tt(n)||!n)h={next:n??void 0,error:i??void 0,complete:l??void 0};else{let p;this&&Na.useDeprecatedNextContext?(p=Object.create(n),p.unsubscribe=()=>this.unsubscribe(),h={next:n.next&&Ol(n.next,p),error:n.error&&Ol(n.error,p),complete:n.complete&&Ol(n.complete,p)}):h=n}this.destination=new nw(h)}}function ac(a){Na.useDeprecatedSynchronousErrorHandling?function Rx(a){Na.useDeprecatedSynchronousErrorHandling&&xr&&(xr.errorThrown=!0,xr.error=a)}(a):Gg(a)}function sc(a,n){const{onStoppedNotification:i}=Na;i&&kl.setTimeout(()=>i(a,n))}const ho={closed:!0,next:ve,error:function Ai(a){throw a},complete:ve},rn="function"==typeof Symbol&&Symbol.observable||"@@observable";function fo(a){return a}function rw(a){return 0===a.length?fo:1===a.length?a[0]:function(i){return a.reduce((l,h)=>h(l),i)}}let qn=(()=>{class a{constructor(i){i&&(this._subscribe=i)}lift(i){const l=new a;return l.source=this,l.operator=i,l}subscribe(i,l,h){const p=function Wg(a){return a&&a instanceof tw||function iw(a){return a&&Tt(a.next)&&Tt(a.error)&&Tt(a.complete)}(a)&&Vt(a)}(i)?i:new aa(i,l,h);return Fa(()=>{const{operator:y,source:b}=this;p.add(y?y.call(p,b):b?this._subscribe(p):this._trySubscribe(p))}),p}_trySubscribe(i){try{return this._subscribe(i)}catch(l){i.error(l)}}forEach(i,l){return new(l=jg(l))((h,p)=>{const y=new aa({next:b=>{try{i(b)}catch(C){p(C),y.unsubscribe()}},error:p,complete:h});this.subscribe(y)})}_subscribe(i){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(i)}[rn](){return this}pipe(...i){return rw(i)(this)}toPromise(i){return new(i=jg(i))((l,h)=>{let p;this.subscribe(y=>p=y,y=>h(y),()=>l(p))})}}return a.create=n=>new a(n),a})();function jg(a){var n;return null!==(n=a??Na.Promise)&&void 0!==n?n:Promise}const Va=ic(a=>function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pn=(()=>{class a extends qn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const l=new As(this,this);return l.operator=i,l}_throwIfClosed(){if(this.closed)throw new Va}next(i){Fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const l of this.currentObservers)l.next(i)}})}error(i){Fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:l}=this;for(;l.length;)l.shift().error(i)}})}complete(){Fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:l,isStopped:h,observers:p}=this;return l||h?Ms:(this.currentObservers=null,p.push(i),new Wr(()=>{this.currentObservers=null,oc(p,i)}))}_checkFinalizedStatuses(i){const{hasError:l,thrownError:h,isStopped:p}=this;l?i.error(h):p&&i.complete()}asObservable(){const i=new qn;return i.source=this,i}}return a.create=(n,i)=>new As(n,i),a})();class As extends Pn{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,l;null===(l=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===l||l.call(i,n)}error(n){var i,l;null===(l=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===l||l.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,l;return null!==(l=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==l?l:Ms}}function ow(a){return Tt(a?.lift)}function hn(a){return n=>{if(ow(n))return n.lift(function(i){try{return a(i,this)}catch(l){this.error(l)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ln(a,n,i,l,h){return new Pt(a,n,i,l,h)}class Pt extends tw{constructor(n,i,l,h,p,y){super(n),this.onFinalize=p,this.shouldUnsubscribe=y,this._next=i?function(b){try{i(b)}catch(C){n.error(C)}}:super._next,this._error=h?function(b){try{h(b)}catch(C){n.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=l?function(){try{l()}catch(b){n.error(b)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function jt(a,n){return hn((i,l)=>{let h=0;i.subscribe(Ln(l,p=>{l.next(a.call(n,p,h++))}))})}function Vo(a){return this instanceof Vo?(this.v=a,this):new Vo(a)}function Ge(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=a[Symbol.asyncIterator];return n?n.call(a):(a=function go(a){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&a[n],l=0;if(i)return i.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(p){i[p]=a[p]&&function(y){return new Promise(function(b,C){!function h(p,y,b,C){Promise.resolve(C).then(function(M){p({value:M,done:b})},y)}(b,C,(y=a[p](y)).done,y.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ei=a=>a&&"number"==typeof a.length&&"function"!=typeof a;function Wt(a){return Tt(a?.then)}function qg(a){return Tt(a[rn])}function pt(a){return Symbol.asyncIterator&&Tt(a?.[Symbol.asyncIterator])}function Ls(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Je=function Me(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ge(a){return Tt(a?.[Je])}function Ne(a){return function ri(a,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h,l=i.apply(a,n||[]),p=[];return h={},y("next"),y("throw"),y("return"),h[Symbol.asyncIterator]=function(){return this},h;function y(V){l[V]&&(h[V]=function(G){return new Promise(function($,Z){p.push([V,G,$,Z])>1||b(V,G)})})}function b(V,G){try{!function C(V){V.value instanceof Vo?Promise.resolve(V.value.v).then(M,I):R(p[0][2],V)}(l[V](G))}catch($){R(p[0][3],$)}}function M(V){b("next",V)}function I(V){b("throw",V)}function R(V,G){V(G),p.shift(),p.length&&b(p[0][0],p[0][1])}}(this,arguments,function*(){const i=a.getReader();try{for(;;){const{value:l,done:h}=yield Vo(i.read());if(h)return yield Vo(void 0);yield yield Vo(l)}}finally{i.releaseLock()}})}function xe(a){return Tt(a?.getReader)}function kr(a){if(a instanceof qn)return a;if(null!=a){if(qg(a))return function kt(a){return new qn(n=>{const i=a[rn]();if(Tt(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(a);if(Ei(a))return function Ue(a){return new qn(n=>{for(let i=0;i<a.length&&!n.closed;i++)n.next(a[i]);n.complete()})}(a);if(Wt(a))return function Zg(a){return new qn(n=>{a.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,Gg)})}(a);if(pt(a))return Nl(a);if(ge(a))return function Ut(a){return new qn(n=>{for(const i of a)if(n.next(i),n.closed)return;n.complete()})}(a);if(xe(a))return function Hh(a){return Nl(Ne(a))}(a)}throw Ls(a)}function Nl(a){return new qn(n=>{(function aw(a,n){var i,l,h,p;return function Is(a,n,i,l){return new(i||(i=Promise))(function(p,y){function b(I){try{M(l.next(I))}catch(R){y(R)}}function C(I){try{M(l.throw(I))}catch(R){y(R)}}function M(I){I.done?p(I.value):function h(p){return p instanceof i?p:new i(function(y){y(p)})}(I.value).then(b,C)}M((l=l.apply(a,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=Ge(a);!(l=yield i.next()).done;)if(n.next(l.value),n.closed)return}catch(y){h={error:y}}finally{try{l&&!l.done&&(p=i.return)&&(yield p.call(i))}finally{if(h)throw h.error}}n.complete()})})(a,n).catch(i=>n.error(i))})}function la(a,n,i,l=0,h=!1){const p=n.schedule(function(){i(),h?a.add(this.schedule(null,l)):this.unsubscribe()},l);if(a.add(p),!h)return p}function $t(a,n,i=1/0){return Tt(n)?$t((l,h)=>jt((p,y)=>n(l,p,h,y))(kr(a(l,h))),i):("number"==typeof n&&(i=n),hn((l,h)=>function cc(a,n,i,l,h,p,y,b){const C=[];let M=0,I=0,R=!1;const V=()=>{R&&!C.length&&!M&&n.complete()},G=Z=>M<l?$(Z):C.push(Z),$=Z=>{p&&n.next(Z),M++;let ee=!1;kr(i(Z,I++)).subscribe(Ln(n,ie=>{h?.(ie),p?G(ie):n.next(ie)},()=>{ee=!0},void 0,()=>{if(ee)try{for(M--;C.length&&M<l;){const ie=C.shift();y?la(n,y,()=>$(ie)):$(ie)}V()}catch(ie){n.error(ie)}}))};return a.subscribe(Ln(n,G,()=>{R=!0,V()})),()=>{b?.()}}(l,h,a,i)))}function Qe(a=1/0){return $t(fo,a)}const Gn=new qn(a=>a.complete());function Ii(a){return a[a.length-1]}function np(a){return Tt(Ii(a))?a.pop():void 0}function za(a){return function _n(a){return a&&Tt(a.schedule)}(Ii(a))?a.pop():void 0}function sw(a,n=0){return hn((i,l)=>{i.subscribe(Ln(l,h=>la(l,a,()=>l.next(h),n),()=>la(l,a,()=>l.complete(),n),h=>la(l,a,()=>l.error(h),n)))})}function Yg(a,n=0){return hn((i,l)=>{l.add(a.schedule(()=>i.subscribe(l),n))})}function fc(a,n){if(!a)throw new Error("Iterable cannot be null");return new qn(i=>{la(i,n,()=>{const l=a[Symbol.asyncIterator]();la(i,n,()=>{l.next().then(h=>{h.done?i.complete():i.next(h.value)})},0,!0)})})}function Mt(a,n){return n?function Ee(a,n){if(null!=a){if(qg(a))return function Fx(a,n){return kr(a).pipe(Yg(n),sw(n))}(a,n);if(Ei(a))return function Re(a,n){return new qn(i=>{let l=0;return n.schedule(function(){l===a.length?i.complete():(i.next(a[l++]),i.closed||this.schedule())})})}(a,n);if(Wt(a))return function Xg(a,n){return kr(a).pipe(Yg(n),sw(n))}(a,n);if(pt(a))return fc(a,n);if(ge(a))return function hc(a,n){return new qn(i=>{let l;return la(i,n,()=>{l=a[Je](),la(i,n,()=>{let h,p;try{({value:h,done:p}=l.next())}catch(y){return void i.error(y)}p?i.complete():i.next(h)},0,!0)}),()=>Tt(l?.return)&&l.return()})}(a,n);if(xe(a))return function Kg(a,n){return fc(Ne(a),n)}(a,n)}throw Ls(a)}(a,n):kr(a)}function Bl(...a){const n=za(a),i=function Vl(a,n){return"number"==typeof Ii(a)?a.pop():n}(a,1/0),l=a;return l.length?1===l.length?kr(l[0]):Qe(i)(Mt(l,n)):Gn}class rr extends Pn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:l}=this;if(n)throw i;return this._throwIfClosed(),l}next(n){super.next(this._value=n)}}function Le(...a){return Mt(a,za(a))}function Gh(a={}){const{connector:n=(()=>new Pn),resetOnError:i=!0,resetOnComplete:l=!0,resetOnRefCountZero:h=!0}=a;return p=>{let y,b,C,M=0,I=!1,R=!1;const V=()=>{b?.unsubscribe(),b=void 0},G=()=>{V(),y=C=void 0,I=R=!1},$=()=>{const Z=y;G(),Z?.unsubscribe()};return hn((Z,ee)=>{M++,!R&&!I&&V();const ie=C=C??n();ee.add(()=>{M--,0===M&&!R&&!I&&(b=lw($,h))}),ie.subscribe(ee),!y&&M>0&&(y=new aa({next:ne=>ie.next(ne),error:ne=>{R=!0,V(),b=lw(G,i,ne),ie.error(ne)},complete:()=>{I=!0,V(),b=lw(G,l),ie.complete()}}),kr(Z).subscribe(y))})(p)}}function lw(a,n,...i){if(!0===n)return void a();if(!1===n)return;const l=new aa({next:()=>{l.unsubscribe(),a()}});return kr(n(...i)).subscribe(l)}function Gi(a,n){return hn((i,l)=>{let h=null,p=0,y=!1;const b=()=>y&&!h&&l.complete();i.subscribe(Ln(l,C=>{h?.unsubscribe();let M=0;const I=p++;kr(a(C,I)).subscribe(h=Ln(l,R=>l.next(n?n(C,R,I,M++):R),()=>{h=null,b()}))},()=>{y=!0,b()}))})}function Qg(a,n=fo){return a=a??vL,hn((i,l)=>{let h,p=!0;i.subscribe(Ln(l,y=>{const b=n(y);(p||!a(h,b))&&(p=!1,h=b,l.next(y))}))})}function vL(a,n){return a===n}function sn(a){for(let n in a)if(a[n]===sn)return n;throw Error("Could not find renamed property on target object.")}function rp(a,n){for(const i in n)n.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(a[i]=n[i])}function cr(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(cr).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const n=a.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function ip(a,n){return null==a||""===a?null===n?"":n:null==n||""===n?a:a+" "+n}const Jg=sn({__forward_ref__:sn});function Rn(a){return a.__forward_ref__=Rn,a.toString=function(){return cr(this())},a}function wt(a){return uw(a)?a():a}function uw(a){return"function"==typeof a&&a.hasOwnProperty(Jg)&&a.__forward_ref__===Rn}function cw(a){return a&&!!a.\u0275providers}const Vx="https://g.co/ng/security#xss";class fe extends Error{constructor(n,i){super(function tm(a,n){return`NG0${Math.abs(a)}${n?": "+n:""}`}(n,i)),this.code=n}}function bt(a){return"string"==typeof a?a:null==a?"":String(a)}function hw(a,n){throw new fe(-201,!1)}function mo(a,n){null==a&&function at(a,n,i,l){throw new Error(`ASSERTION ERROR: ${a}`+(null==l?"":` [Expected=> ${i} ${l} ${n} <=Actual]`))}(n,a,null,"!=")}function Pe(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function fr(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ns(a){return ca(a,ap)||ca(a,im)}function ca(a,n){return a.hasOwnProperty(n)?a[n]:null}function Ua(a){return a&&(a.hasOwnProperty(pc)||a.hasOwnProperty(yo))?a[pc]:null}const ap=sn({\u0275prov:sn}),pc=sn({\u0275inj:sn}),im=sn({ngInjectableDef:sn}),yo=sn({ngInjectorDef:sn});var Kt=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(Kt||{});let jh;function mi(a){const n=jh;return jh=a,n}function vc(a,n,i){const l=Ns(a);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:i&Kt.Optional?null:void 0!==n?n:void hw(cr(a))}const wn=globalThis,Wh={},$h="__NG_DI_FLAG__",cp="ngTempTokenPath",um=/\n/gm,cm="__source";let mc;function dr(a){const n=mc;return mc=a,n}function yc(a,n=Kt.Default){if(void 0===mc)throw new fe(-203,!1);return null===mc?vc(a,void 0,n):mc.get(a,n&Kt.Optional?null:void 0,n)}function Se(a,n=Kt.Default){return(function sp(){return jh}()||yc)(wt(a),n)}function Ie(a,n=Kt.Default){return Se(a,wo(n))}function wo(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Fs(a){const n=[];for(let i=0;i<a.length;i++){const l=wt(a[i]);if(Array.isArray(l)){if(0===l.length)throw new fe(900,!1);let h,p=Kt.Default;for(let y=0;y<l.length;y++){const b=l[y],C=gw(b);"number"==typeof C?-1===C?h=b.token:p|=C:h=b}n.push(Se(h,p))}else n.push(Se(l))}return n}function Bo(a,n){return a[$h]=n,a.prototype[$h]=n,a}function gw(a){return a[$h]}function yi(a){return{toString:a}.toString()}var Ul=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(Ul||{}),Fr=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(Fr||{});const oi={},qt=[],zo=sn({\u0275cmp:sn}),jl=sn({\u0275dir:sn}),Wl=sn({\u0275pipe:sn}),mw=sn({\u0275mod:sn}),Xe=sn({\u0275fac:sn}),$l=sn({__NG_ELEMENT_ID__:sn}),fm=sn({__NG_ENV_ID__:sn});function yw(a,n,i){let l=a.length;for(;;){const h=a.indexOf(n,i);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const p=n.length;if(h+p===l||a.charCodeAt(h+p)<=32)return h}i=h+1}}function dm(a,n,i){let l=0;for(;l<i.length;){const h=i[l];if("number"==typeof h){if(0!==h)break;l++;const p=i[l++],y=i[l++],b=i[l++];a.setAttribute(n,y,b,p)}else{const p=h,y=i[++l];pm(p)?a.setProperty(n,p,y):a.setAttribute(n,p,y),l++}}return l}function _c(a){return 3===a||4===a||6===a}function pm(a){return 64===a.charCodeAt(0)}function ja(a,n){if(null!==n&&0!==n.length)if(null===a||0===a.length)a=n.slice();else{let i=-1;for(let l=0;l<n.length;l++){const h=n[l];"number"==typeof h?i=h:0===i||vm(a,i,h,null,-1===i||2===i?n[++l]:null)}}return a}function vm(a,n,i,l,h){let p=0,y=a.length;if(-1===n)y=-1;else for(;p<a.length;){const b=a[p++];if("number"==typeof b){if(b===n){y=-1;break}if(b>n){y=p-1;break}}}for(;p<a.length;){const b=a[p];if("number"==typeof b)break;if(b===i){if(null===l)return void(null!==h&&(a[p+1]=h));if(l===a[p+1])return void(a[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==y&&(a.splice(y,0,n),p=y+1),a.splice(p++,0,i),null!==l&&a.splice(p++,0,l),null!==h&&a.splice(p++,0,h)}const _w="ng-template";function ww(a,n,i){let l=0,h=!0;for(;l<a.length;){let p=a[l++];if("string"==typeof p&&h){const y=a[l++];if(i&&"class"===p&&-1!==yw(y.toLowerCase(),n,0))return!0}else{if(1===p){for(;l<a.length&&"string"==typeof(p=a[l++]);)if(p.toLowerCase()===n)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function gm(a){return 4===a.type&&a.value!==_w}function bw(a,n,i){return n===(4!==a.type||i?a.value:_w)}function Sw(a,n,i){let l=4;const h=a.attrs||[],p=function Ux(a){for(let n=0;n<a.length;n++)if(_c(a[n]))return n;return a.length}(h);let y=!1;for(let b=0;b<n.length;b++){const C=n[b];if("number"!=typeof C){if(!y)if(4&l){if(l=2|1&l,""!==C&&!bw(a,C,i)||""===C&&1===n.length){if(_i(l))return!1;y=!0}}else{const M=8&l?C:n[++b];if(8&l&&null!==a.attrs){if(!ww(a.attrs,M,i)){if(_i(l))return!1;y=!0}continue}const R=Cw(8&l?"class":C,h,gm(a),i);if(-1===R){if(_i(l))return!1;y=!0;continue}if(""!==M){let V;V=R>p?"":h[R+1].toLowerCase();const G=8&l?V:null;if(G&&-1!==yw(G,M,0)||2&l&&M!==V){if(_i(l))return!1;y=!0}}}}else{if(!y&&!_i(l)&&!_i(C))return!1;if(y&&_i(C))continue;y=!1,l=C|1&l}}return _i(l)||y}function _i(a){return 0==(1&a)}function Cw(a,n,i,l){if(null===n)return-1;let h=0;if(l||!i){let p=!1;for(;h<n.length;){const y=n[h];if(y===a)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=n[++h];for(;"string"==typeof b;)b=n[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Tw(a,n){let i=a.indexOf(4);if(i>-1)for(i++;i<a.length;){const l=a[i];if("number"==typeof l)return-1;if(l===n)return i;i++}return-1}(n,a)}function xw(a,n,i=!1){for(let l=0;l<n.length;l++)if(Sw(a,n[l],i))return!0;return!1}function mm(a,n){e:for(let i=0;i<n.length;i++){const l=n[i];if(a.length===l.length){for(let h=0;h<a.length;h++)if(a[h]!==l[h])continue e;return!0}}return!1}function hp(a,n){return a?":not("+n.trim()+")":n}function ql(a){let n=a[0],i=1,l=2,h="",p=!1;for(;i<a.length;){let y=a[i];if("string"==typeof y)if(2&l){const b=a[++i];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!_i(y)&&(n+=hp(p,h),h=""),l=y,p=p||!_i(l);i++}return""!==h&&(n+=hp(p,h)),n}function qr(a){return yi(()=>{const n=_m(a),i={...n,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===Ul.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||Fr.Emulated,styles:a.styles||qt,_:null,schemas:a.schemas||null,tView:null,id:""};wm(i);const l=a.dependencies;return i.directiveDefs=Zl(l,!1),i.pipeDefs=Zl(l,!0),i.id=function wi(a){let n=0;const i=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Mw(a){return Bt(a)||Zt(a)}function ym(a){return null!==a}function ir(a){return yi(()=>({type:a.type,bootstrap:a.bootstrap||qt,declarations:a.declarations||qt,imports:a.imports||qt,exports:a.exports||qt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Aw(a,n){if(null==a)return oi;const i={};for(const l in a)if(a.hasOwnProperty(l)){let h=a[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),i[h]=l,n&&(n[h]=p)}return i}function ht(a){return yi(()=>{const n=_m(a);return wm(n),n})}function Nn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Bt(a){return a[zo]||null}function Zt(a){return a[jl]||null}function Vr(a){return a[Wl]||null}function ai(a,n){const i=a[mw]||null;if(!i&&!0===n)throw new Error(`Type ${cr(a)} does not have '\u0275mod' property.`);return i}function _m(a){const n={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:a.inputs||oi,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||qt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Aw(a.inputs,n),outputs:Aw(a.outputs)}}function wm(a){a.features?.forEach(n=>n(a))}function Zl(a,n){if(!a)return null;const i=n?Vr:Mw;return()=>("function"==typeof a?a():a).map(l=>i(l)).filter(ym)}const L=0,O=1,U=2,X=3,pe=4,qe=5,vt=6,Qt=7,At=8,Wi=9,Fn=10,St=11,bm=12,Wx=13,Vs=14,pr=15,Sm=16,fp=17,da=18,Cm=19,_L=20,Yl=21,Xl=22,xm=23,Kl=24,Jt=25,$x=1,dp=2,pa=7,bc=9,kn=11;function $i(a){return Array.isArray(a)&&"object"==typeof a[$x]}function si(a){return Array.isArray(a)&&!0===a[$x]}function Sc(a){return 0!=(4&a.flags)}function Tr(a){return a.componentOffset>-1}function pp(a){return 1==(1&a.flags)}function Wa(a){return!!a.template}function vp(a){return 0!=(512&a[U])}function gp(a,n){return a.hasOwnProperty(Xe)?a[Xe]:null}let li=null,Mm=!1;function Ho(a){const n=li;return li=a,n}const Am={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Xx(a){if(!Jl(a)||a.dirty){if(!a.producerMustRecompute(a)&&!Pm(a))return void(a.dirty=!1);a.producerRecomputeValue(a),a.dirty=!1}}function Gs(a){a.dirty=!0,function DL(a){if(void 0===a.liveConsumerNode)return;const n=Mm;Mm=!0;try{for(const i of a.liveConsumerNode)i.dirty||Gs(i)}finally{Mm=n}}(a),a.consumerMarkedDirty?.(a)}function Im(a){return a&&(a.nextProducerIndex=0),Ho(a)}function Kx(a,n){if(Ho(n),a&&void 0!==a.producerNode&&void 0!==a.producerIndexOfThis&&void 0!==a.producerLastReadVersion){if(Jl(a))for(let i=a.nextProducerIndex;i<a.producerNode.length;i++)Rw(a.producerNode[i],a.producerIndexOfThis[i]);for(;a.producerNode.length>a.nextProducerIndex;)a.producerNode.pop(),a.producerLastReadVersion.pop(),a.producerIndexOfThis.pop()}}function Pm(a){eu(a);for(let n=0;n<a.producerNode.length;n++){const i=a.producerNode[n],l=a.producerLastReadVersion[n];if(l!==i.version||(Xx(i),l!==i.version))return!0}return!1}function Qx(a){if(eu(a),Jl(a))for(let n=0;n<a.producerNode.length;n++)Rw(a.producerNode[n],a.producerIndexOfThis[n]);a.producerNode.length=a.producerLastReadVersion.length=a.producerIndexOfThis.length=0,a.liveConsumerNode&&(a.liveConsumerNode.length=a.liveConsumerIndexOfThis.length=0)}function Rw(a,n){if(function ML(a){a.liveConsumerNode??=[],a.liveConsumerIndexOfThis??=[]}(a),eu(a),1===a.liveConsumerNode.length)for(let l=0;l<a.producerNode.length;l++)Rw(a.producerNode[l],a.producerIndexOfThis[l]);const i=a.liveConsumerNode.length-1;if(a.liveConsumerNode[n]=a.liveConsumerNode[i],a.liveConsumerIndexOfThis[n]=a.liveConsumerIndexOfThis[i],a.liveConsumerNode.length--,a.liveConsumerIndexOfThis.length--,n<a.liveConsumerNode.length){const l=a.liveConsumerIndexOfThis[n],h=a.liveConsumerNode[n];eu(h),h.producerIndexOfThis[l]=n}}function Jl(a){return a.consumerIsAlwaysLive||(a?.liveConsumerNode?.length??0)>0}function eu(a){a.producerNode??=[],a.producerIndexOfThis??=[],a.producerLastReadVersion??=[]}let nD=null;function Nw(a){const n=Ho(null);try{return a()}finally{Ho(n)}}const oD=()=>{},aD=(()=>({...Am,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:a=>{a.schedule(a.ref)},hasRun:!1,cleanupFn:oD}))();class sD{constructor(n,i,l){this.previousValue=n,this.currentValue=i,this.firstChange=l}isFirstChange(){return this.firstChange}}function Go(){return lD}function lD(a){return a.type.prototype.ngOnChanges&&(a.setInput=$a),XH}function XH(){const a=PL(this),n=a?.current;if(n){const i=a.previous;if(i===oi)a.previous=n;else for(let l in n)i[l]=n[l];a.current=null,this.ngOnChanges(n)}}function $a(a,n,i,l){const h=this.declaredInputs[i],p=PL(a)||function KH(a,n){return a[Fw]=n}(a,{previous:oi,current:null}),y=p.current||(p.current={}),b=p.previous,C=b[h];y[h]=new sD(C&&C.currentValue,n,b===oi),a[l]=n}Go.ngInherit=!0;const Fw="__ngSimpleChanges__";function PL(a){return a[Fw]||null}const qa=function(a,n,i){};function Vn(a){for(;Array.isArray(a);)a=a[L];return a}function Kh(a,n){return Vn(n[a])}function Pi(a,n){return Vn(n[a.index])}function Vw(a,n){return a.data[n]}function yp(a,n){return a[n]}function bo(a,n){const i=n[a];return $i(i)?i:i[L]}function Uo(a,n){return null==n?null:a[n]}function Bw(a){a[fp]=0}function hD(a){1024&a[U]||(a[U]|=1024,Za(a,1))}function NL(a){1024&a[U]&&(a[U]&=-1025,Za(a,-1))}function Za(a,n){let i=a[X];if(null===i)return;i[qe]+=n;let l=i;for(i=i[X];null!==i&&(1===n&&1===l[qe]||-1===n&&0===l[qe]);)i[qe]+=n,l=i,i=i[X]}const gt={lFrame:Co(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Om(){return gt.bindingsEnabled}function Nm(){return null!==gt.skipHydrationRootTNode}function _e(){return gt.lFrame.lView}function un(){return gt.lFrame.tView}function rt(a){return gt.lFrame.contextLView=a,a[At]}function it(a){return gt.lFrame.contextLView=null,a}function Zr(){let a=FL();for(;null!==a&&64===a.type;)a=a.parent;return a}function FL(){return gt.lFrame.currentTNode}function Us(a,n){const i=gt.lFrame;i.currentTNode=a,i.isParent=n}function vD(){return gt.lFrame.isParent}function Hw(){gt.lFrame.isParent=!1}function ui(){const a=gt.lFrame;let n=a.bindingRootIndex;return-1===n&&(n=a.bindingRootIndex=a.tView.bindingStartIndex),n}function wp(){return gt.lFrame.bindingIndex++}function nu(a){const n=gt.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+a,i}function tG(a,n){const i=gt.lFrame;i.bindingIndex=i.bindingRootIndex=a,Gw(n)}function Gw(a){gt.lFrame.currentDirectiveIndex=a}function mD(a){const n=gt.lFrame.currentDirectiveIndex;return-1===n?null:a[n]}function yD(){return gt.lFrame.currentQueryIndex}function Uw(a){gt.lFrame.currentQueryIndex=a}function rG(a){const n=a[O];return 2===n.type?n.declTNode:1===n.type?a[vt]:null}function on(a,n,i){if(i&Kt.SkipSelf){let h=n,p=a;for(;!(h=h.parent,null!==h||i&Kt.Host||(h=rG(p),null===h||(p=p[Vs],10&h.type))););if(null===h)return!1;n=h,a=p}const l=gt.lFrame=Yn();return l.currentTNode=n,l.lView=a,!0}function Ce(a){const n=Yn(),i=a[O];gt.lFrame=n,n.currentTNode=i.firstChild,n.lView=a,n.tView=i,n.contextLView=a,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Yn(){const a=gt.lFrame,n=null===a?null:a.child;return null===n?Co(a):n}function Co(a){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=n),n}function ga(){const a=gt.lFrame;return gt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const _D=ga;function Vm(){const a=ga();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Zi(){return gt.lFrame.selectedIndex}function ru(a){gt.lFrame.selectedIndex=a}function Xn(){const a=gt.lFrame;return Vw(a.tView,a.selectedIndex)}let jw=!0;function ef(){return jw}function js(a){jw=a}function bp(a,n){for(let i=n.directiveStart,l=n.directiveEnd;i<l;i++){const p=a.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:I}=p;y&&(a.contentHooks??=[]).push(-i,y),b&&((a.contentHooks??=[]).push(i,b),(a.contentCheckHooks??=[]).push(i,b)),C&&(a.viewHooks??=[]).push(-i,C),M&&((a.viewHooks??=[]).push(i,M),(a.viewCheckHooks??=[]).push(i,M)),null!=I&&(a.destroyHooks??=[]).push(i,I)}}function Hm(a,n,i){wD(a,n,3,i)}function Gm(a,n,i,l){(3&a[U])===i&&wD(a,n,i,l)}function Ww(a,n){let i=a[U];(3&i)===n&&(i&=8191,i+=1,a[U]=i)}function wD(a,n,i,l){const p=l??-1,y=n.length-1;let b=0;for(let C=void 0!==l?65535&a[fp]:0;C<y;C++)if("number"==typeof n[C+1]){if(b=n[C],null!=l&&b>=l)break}else n[C]<0&&(a[fp]+=65536),(b<p||-1==p)&&(UL(a,i,n,C),a[fp]=(4294901760&a[fp])+C+2),C++}function bD(a,n){qa(4,a,n);const i=Ho(null);try{n.call(a)}finally{Ho(i),qa(5,a,n)}}function UL(a,n,i,l){const h=i[l]<0,p=i[l+1],b=a[h?-i[l]:i[l]];h?a[U]>>13<a[fp]>>16&&(3&a[U])===n&&(a[U]+=8192,bD(b,p)):bD(b,p)}const nn=-1;class Xa{constructor(n,i,l){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=l}}function CD(a){return a!==nn}function jm(a){return 32767&a}function iu(a,n){let i=function WL(a){return a>>16}(a),l=n;for(;i>0;)l=l[Vs],i--;return l}let vr=!0;function xD(a){const n=vr;return vr=a,n}const $w=255,Sp=5;let uG=0;const $s={};function qw(a,n){const i=zt(a,n);if(-1!==i)return i;const l=n[O];l.firstCreatePass&&(a.injectorIndex=n.length,ou(l.data,a),ou(n,null),ou(l.blueprint,null));const h=Zw(a,n),p=a.injectorIndex;if(CD(h)){const y=jm(h),b=iu(h,n),C=b[O].data;for(let M=0;M<8;M++)n[p+M]=b[y+M]|C[y+M]}return n[p+8]=h,p}function ou(a,n){a.push(0,0,0,0,0,0,0,0,n)}function zt(a,n){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===n[a.injectorIndex+8]?-1:a.injectorIndex}function Zw(a,n){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let i=0,l=null,h=n;for(;null!==h;){if(l=XL(h),null===l)return nn;if(i++,h=h[Vs],-1!==l.injectorIndex)return l.injectorIndex|i<<16}return nn}function tf(a,n,i){!function cG(a,n,i){let l;"string"==typeof i?l=i.charCodeAt(0)||0:i.hasOwnProperty($l)&&(l=i[$l]),null==l&&(l=i[$l]=uG++);const h=l&$w;n.data[a+(h>>Sp)]|=1<<h}(a,n,i)}function gr(a,n,i){if(i&Kt.Optional||void 0!==a)return a;hw()}function $L(a,n,i,l){if(i&Kt.Optional&&void 0===l&&(l=null),!(i&(Kt.Self|Kt.Host))){const h=a[Wi],p=mi(void 0);try{return h?h.get(n,l,i&Kt.Optional):vc(n,l,i&Kt.Optional)}finally{mi(p)}}return gr(l,0,i)}function Cp(a,n,i,l=Kt.Default,h){if(null!==a){if(2048&n[U]&&!(l&Kt.Self)){const y=function YL(a,n,i,l,h){let p=a,y=n;for(;null!==p&&null!==y&&2048&y[U]&&!(512&y[U]);){const b=TD(p,y,i,l|Kt.Self,$s);if(b!==$s)return b;let C=p.parent;if(!C){const M=y[_L];if(M){const I=M.get(i,$s,l);if(I!==$s)return I}C=XL(y),y=y[Vs]}p=C}return h}(a,n,i,l,$s);if(y!==$s)return y}const p=TD(a,n,i,l,$s);if(p!==$s)return p}return $L(n,i,l,h)}function TD(a,n,i,l,h){const p=function qL(a){if("string"==typeof a)return a.charCodeAt(0)||0;const n=a.hasOwnProperty($l)?a[$l]:void 0;return"number"==typeof n?n>=0?n&$w:fG:n}(i);if("function"==typeof p){if(!on(n,a,l))return l&Kt.Host?gr(h,0,l):$L(n,i,l,h);try{let y;if(y=p(l),null!=y||l&Kt.Optional)return y;hw()}finally{_D()}}else if("number"==typeof p){let y=null,b=zt(a,n),C=nn,M=l&Kt.Host?n[pr][vt]:null;for((-1===b||l&Kt.SkipSelf)&&(C=-1===b?Zw(a,n):n[b+8],C!==nn&&Cc(l,!1)?(y=n[O],b=jm(C),n=iu(C,n)):b=-1);-1!==b;){const I=n[O];if(ZL(p,b,I.data)){const R=hG(b,n,i,y,l,M);if(R!==$s)return R}C=n[b+8],C!==nn&&Cc(l,n[O].data[b+8]===M)&&ZL(p,b,n)?(y=I,b=jm(C),n=iu(C,n)):b=-1}}return h}function hG(a,n,i,l,h,p){const y=n[O],b=y.data[a+8],I=Yw(b,y,i,null==l?Tr(b)&&vr:l!=y&&0!=(3&b.type),h&Kt.Host&&p===b);return null!==I?au(n,y,I,b):$s}function Yw(a,n,i,l,h){const p=a.providerIndexes,y=n.data,b=1048575&p,C=a.directiveStart,I=p>>20,V=h?b+I:a.directiveEnd;for(let G=l?b:b+I;G<V;G++){const $=y[G];if(G<C&&i===$||G>=C&&$.type===i)return G}if(h){const G=y[C];if(G&&Wa(G)&&G.type===i)return C}return null}function au(a,n,i,l){let h=a[i];const p=n.data;if(function jL(a){return a instanceof Xa}(h)){const y=h;y.resolving&&function gL(a,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${a}`:"";throw new fe(-200,`Circular dependency in DI detected for ${a}${i}`)}(function fn(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():bt(a)}(p[i]));const b=xD(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?mi(y.injectImpl):null;on(a,l,Kt.Default);try{h=a[i]=y.factory(void 0,p,a,l),n.firstCreatePass&&i>=l.directiveStart&&function Ws(a,n,i){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=n.type.prototype;if(l){const y=lD(n);(i.preOrderHooks??=[]).push(a,y),(i.preOrderCheckHooks??=[]).push(a,y)}h&&(i.preOrderHooks??=[]).push(0-a,h),p&&((i.preOrderHooks??=[]).push(a,p),(i.preOrderCheckHooks??=[]).push(a,p))}(i,p[i],n)}finally{null!==M&&mi(M),xD(b),y.resolving=!1,_D()}}return h}function ZL(a,n,i){return!!(i[n+(a>>Sp)]&1<<a)}function Cc(a,n){return!(a&Kt.Self||a&Kt.Host&&n)}class Yi{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,l){return Cp(this._tNode,this._lView,n,wo(l),i)}}function fG(){return new Yi(Zr(),_e())}function Yr(a){return yi(()=>{const n=a.prototype.constructor,i=n[Xe]||MD(n),l=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==l;){const p=h[Xe]||MD(h);if(p&&p!==i)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function MD(a){return uw(a)?()=>{const n=MD(wt(a));return n&&n()}:gp(a)}function XL(a){const n=a[O],i=n.type;return 2===i?n.declTNode:1===i?a[vt]:null}const Tp="__parameters__";function Mp(a,n,i){return yi(()=>{const l=function AD(a){return function(...i){if(a){const l=a(...i);for(const h in l)this[h]=l[h]}}}(n);function h(...p){if(this instanceof h)return l.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(C,M,I){const R=C.hasOwnProperty(Tp)?C[Tp]:Object.defineProperty(C,Tp,{value:[]})[Tp];for(;R.length<=I;)R.push(null);return(R[I]=R[I]||[]).push(y),C}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}function Dc(a,n){a.forEach(i=>Array.isArray(i)?Dc(i,n):n(i))}function eR(a,n,i){n>=a.length?a.push(i):a.splice(n,0,i)}function Kw(a,n){return n>=a.length-1?a.pop():a.splice(n,1)[0]}function Wm(a,n){const i=[];for(let l=0;l<a;l++)i.push(n);return i}function xo(a,n,i){let l=Ep(a,n);return l>=0?a[1|l]=i:(l=~l,function rf(a,n,i,l){let h=a.length;if(h==n)a.push(i,l);else if(1===h)a.push(l,a[0]),a[0]=i;else{for(h--,a.push(a[h-1],a[h]);h>n;)a[h]=a[h-2],h--;a[n]=i,a[n+1]=l}}(a,l,n,i)),l}function LD(a,n){const i=Ep(a,n);if(i>=0)return a[1|i]}function Ep(a,n){return function Qw(a,n,i){let l=0,h=a.length>>i;for(;h!==l;){const p=l+(h-l>>1),y=a[p<<i];if(n===y)return p<<i;y>n?h=p:l=p+1}return~(h<<i)}(a,n,1)}const sf=Bo(Mp("Optional"),8),$m=Bo(Mp("SkipSelf"),4);function ib(a){return 128==(128&a.flags)}var Qa=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(Qa||{});const SG=/^>|^->|<!--|-->|--!>|<!-$/g,GD=/(<|>)/g,CG="\u200b$1\u200b";const UD=new Map;let hR=0;const ab="__ngContext__";function bi(a,n){$i(n)?(a[ab]=n[Cm],function xG(a){UD.set(a[Cm],a)}(n)):a[ab]=n}let sb;function lb(a,n){return sb(a,n)}function kp(a){const n=a[X];return si(n)?n[X]:n}function qD(a){return YD(a[bm])}function ZD(a){return YD(a[pe])}function YD(a){for(;null!==a&&!si(a);)a=a[pe];return a}function df(a,n,i,l,h){if(null!=l){let p,y=!1;si(l)?p=l:$i(l)&&(y=!0,l=l[L]);const b=Vn(l);0===a&&null!==i?null==h?Bp(n,i,b):Ys(n,i,b,h||null,!0):1===a&&null!==i?Ys(n,i,b,h||null,!0):2===a?function cb(a,n,i){const l=mf(a,n);l&&function CR(a,n,i,l){a.removeChild(n,i,l)}(a,l,n,i)}(n,b,y):3===a&&n.destroyNode(b),null!=p&&function AR(a,n,i,l,h){const p=i[pa];p!==Vn(i)&&df(n,a,l,p,h);for(let b=kn;b<i.length;b++){const C=i[b];Qm(C[O],C,a,n,l,p)}}(n,a,p,i,h)}}function et(a,n){return a.createComment(function mt(a){return a.replace(SG,n=>n.replace(GD,CG))}(n))}function Np(a,n,i){return a.createElement(n,i)}function Ym(a,n){const i=a[bc],l=i.indexOf(n);NL(n),i.splice(l,1)}function hi(a,n){if(a.length<=kn)return;const i=kn+n,l=a[i];if(l){const h=l[Sm];null!==h&&h!==a&&Ym(h,l),n>0&&(a[i-1][pe]=l[pe]);const p=Kw(a,kn+n);!function wR(a,n){Qm(a,n,n[St],2,null,null),n[L]=null,n[vt]=null}(l[O],l);const y=p[da];null!==y&&y.detachView(p[O]),l[X]=null,l[pe]=null,l[U]&=-129}return l}function pf(a,n){if(!(256&n[U])){const i=n[St];n[xm]&&Qx(n[xm]),n[Kl]&&Qx(n[Kl]),i.destroyNode&&Qm(a,n,i,3,null,null),function XD(a){let n=a[bm];if(!n)return Ec(a[O],a);for(;n;){let i=null;if($i(n))i=n[bm];else{const l=n[kn];l&&(i=l)}if(!i){for(;n&&!n[pe]&&n!==a;)$i(n)&&Ec(n[O],n),n=n[X];null===n&&(n=a),$i(n)&&Ec(n[O],n),i=n&&n[pe]}n=i}}(n)}}function Ec(a,n){if(!(256&n[U])){n[U]&=-129,n[U]|=256,function vf(a,n){let i;if(null!=a&&null!=(i=a.destroyHooks))for(let l=0;l<i.length;l+=2){const h=n[i[l]];if(!(h instanceof Xa)){const p=i[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],C=p[y+1];qa(4,b,C);try{C.call(b)}finally{qa(5,b,C)}}else{qa(4,h,p);try{p.call(h)}finally{qa(5,h,p)}}}}}(a,n),function IG(a,n){const i=a.cleanup,l=n[Qt];if(null!==i)for(let p=0;p<i.length-1;p+=2)if("string"==typeof i[p]){const y=i[p+3];y>=0?l[y]():l[-y].unsubscribe(),p+=2}else i[p].call(l[i[p+1]]);null!==l&&(n[Qt]=null);const h=n[Yl];if(null!==h){n[Yl]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(a,n),1===n[O].type&&n[St].destroy();const i=n[Sm];if(null!==i&&si(n[X])){i!==n[X]&&Ym(i,n);const l=n[da];null!==l&&l.detachView(a)}!function DG(a){UD.delete(a[Cm])}(n)}}function Fp(a,n,i){return function Vp(a,n,i){let l=n;for(;null!==l&&40&l.type;)l=(n=l).parent;if(null===l)return i[L];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=a.data[l.directiveStart+h];if(p===Fr.None||p===Fr.Emulated)return null}return Pi(l,i)}}(a,n.parent,i)}function Ys(a,n,i,l,h){a.insertBefore(n,i,l,h)}function Bp(a,n,i){a.appendChild(n,i)}function gf(a,n,i,l,h){null!==l?Ys(a,n,i,l,h):Bp(a,n,i)}function mf(a,n){return a.parentNode(n)}function QD(a,n,i){return JD(a,n,i)}let eT,zp,oT,fb,JD=function ub(a,n,i){return 40&a.type?Pi(a,i):null};function Xm(a,n,i,l){const h=Fp(a,l,n),p=n[St],b=QD(l.parent||n[vt],l,n);if(null!=h)if(Array.isArray(i))for(let C=0;C<i.length;C++)gf(p,h,i[C],b,!1);else gf(p,h,i,b,!1);void 0!==eT&&eT(p,l,n,i,h)}function qo(a,n){if(null!==n){const i=n.type;if(3&i)return Pi(n,a);if(4&i)return TR(-1,a[n.index]);if(8&i){const l=n.child;if(null!==l)return qo(a,l);{const h=a[n.index];return si(h)?TR(-1,h):Vn(h)}}if(32&i)return lb(n,a)()||Vn(a[n.index]);{const l=Km(a,n);return null!==l?Array.isArray(l)?l[0]:qo(kp(a[pr]),l):qo(a,n.next)}}return null}function Km(a,n){return null!==n?a[pr][vt].projection[n.projection]:null}function TR(a,n){const i=kn+a+1;if(i<n.length){const l=n[i],h=l[O].firstChild;if(null!==h)return qo(l,h)}return n[pa]}function tT(a,n,i,l,h,p,y){for(;null!=i;){const b=l[i.index],C=i.type;if(y&&0===n&&(b&&bi(Vn(b),l),i.flags|=2),32!=(32&i.flags))if(8&C)tT(a,n,i.child,l,h,p,!1),df(n,a,h,b,p);else if(32&C){const M=lb(i,l);let I;for(;I=M();)df(n,a,h,I,p);df(n,a,h,b,p)}else 16&C?Ic(a,n,l,i,h,p):df(n,a,h,b,p);i=y?i.projectionNext:i.next}}function Qm(a,n,i,l,h,p){tT(i,l,a.firstChild,n,h,p,!1)}function Ic(a,n,i,l,h,p){const y=i[pr],C=y[vt].projection[l.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)df(n,a,h,C[M],p);else{let M=C;const I=y[X];ib(l)&&(M.flags|=128),tT(a,n,M,I,h,p,!0)}}function Xs(a,n,i){""===i?a.removeAttribute(n,"class"):a.setAttribute(n,"class",i)}function rT(a,n,i){const{mergedAttrs:l,classes:h,styles:p}=i;null!==l&&dm(a,n,l),null!==h&&Xs(a,n,h),null!==p&&function fu(a,n,i){a.setAttribute(n,"style",i)}(a,n,p)}function yf(a){return function hb(){if(void 0===zp&&(zp=null,wn.trustedTypes))try{zp=wn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return zp}()?.createHTML(a)||a}function Hp(){if(void 0!==oT)return oT;if(typeof document<"u")return document;throw new fe(210,!1)}function sT(){if(void 0===fb&&(fb=null,wn.trustedTypes))try{fb=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return fb}function lT(a){return sT()?.createHTML(a)||a}function du(a){return sT()?.createScriptURL(a)||a}class _f{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vx})`}}class Jn extends _f{getTypeName(){return"HTML"}}class uT extends _f{getTypeName(){return"Style"}}class kR extends _f{getTypeName(){return"Script"}}class LG extends _f{getTypeName(){return"URL"}}class Si extends _f{getTypeName(){return"ResourceURL"}}function Kr(a){return a instanceof _f?a.changingThisBreaksApplicationSecurity:a}function Ao(a,n){const i=function RG(a){return a instanceof _f&&a.getTypeName()||null}(a);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Vx})`)}return i===n}class hT{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(yf(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Yt{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=yf(n),i}}const Gp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function es(a){return(a=String(a)).match(Gp)?a:"unsafe:"+a}function Ks(a){const n={};for(const i of a.split(","))n[i]=!0;return n}function pu(...a){const n={};for(const i of a)for(const l in i)i.hasOwnProperty(l)&&(n[l]=!0);return n}const wa=Ks("area,br,col,hr,img,wbr"),FR=Ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jm=Ks("rp,rt"),Mr=pu(wa,pu(FR,Ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pu(Jm,Ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pu(Jm,FR)),gn=Ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),BR=pu(gn,Ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zR=Ks("script,style,template");class HR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,l=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?l=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,l&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Mr.hasOwnProperty(i))return this.sanitizedSomething=!0,!zR.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const l=n.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),y=p.name,b=y.toLowerCase();if(!BR.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;gn[b]&&(C=es(C)),this.buf.push(" ",y,'="',dT(C),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Mr.hasOwnProperty(i)&&!wa.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(dT(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const GR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UR=/([^\#-~ |!])/g;function dT(a){return a.replace(/&/g,"&amp;").replace(GR,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(UR,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vu;function pT(a,n){let i=null;try{vu=vu||function wf(a){const n=new Yt(a);return function On(){try{return!!(new window.DOMParser).parseFromString(yf(""),"text/html")}catch{return!1}}()?new hT(n):n}(a);let l=n?String(n):"";i=vu.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=i.innerHTML,i=vu.getInertBodyElement(l)}while(l!==p);return yf((new HR).sanitizeChildren(db(i)||i))}finally{if(i){const l=db(i)||i;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function db(a){return"content"in a&&function FG(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Xi=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(Xi||{});function ey(a){const n=ty();return n?lT(n.sanitize(Xi.HTML,a)||""):Ao(a,"HTML")?lT(Kr(a)):pT(Hp(),bt(a))}function vT(a){const n=ty();return n?n.sanitize(Xi.URL,a)||"":Ao(a,"URL")?Kr(a):es(bt(a))}function gT(a){const n=ty();if(n)return du(n.sanitize(Xi.RESOURCE_URL,a)||"");if(Ao(a,"ResourceURL"))return du(Kr(a));throw new fe(904,!1)}function ty(){const a=_e();return a&&a[Fn].sanitizer}class ke{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Pe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ny=new ke("ENVIRONMENT_INITIALIZER"),$R=new ke("INJECTOR",-1),gu=new ke("INJECTOR_DEF_TYPES");class mT{get(n,i=Wh){if(i===Wh){const l=new Error(`NullInjectorError: No provider for ${cr(n)}!`);throw l.name="NullInjectorError",l}return i}}function pb(a){return{\u0275providers:a}}function vb(...a){return{\u0275providers:gb(0,a),\u0275fromNgModule:!0}}function gb(a,...n){const i=[],l=new Set;let h;const p=y=>{i.push(y)};return Dc(n,y=>{const b=y;bf(b,p,[],l)&&(h||=[],h.push(b))}),void 0!==h&&jp(h,p),i}function jp(a,n){for(let i=0;i<a.length;i++){const{ngModule:l,providers:h}=a[i];mb(h,p=>{n(p,l)})}}function bf(a,n,i,l){if(!(a=wt(a)))return!1;let h=null,p=Ua(a);const y=!p&&Bt(a);if(p||y){if(y&&!y.standalone)return!1;h=a}else{const C=a.ngModule;if(p=Ua(C),!p)return!1;h=C}const b=l.has(h);if(y){if(b)return!1;if(l.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of C)bf(M,n,i,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let M;l.add(h);try{Dc(p.imports,I=>{bf(I,n,i,l)&&(M||=[],M.push(I))})}finally{}void 0!==M&&jp(M,n)}if(!b){const M=gp(h)||(()=>new h);n({provide:h,useFactory:M,deps:qt},h),n({provide:gu,useValue:h,multi:!0},h),n({provide:ny,useValue:()=>Se(h),multi:!0},h)}const C=p.providers;if(null!=C&&!b){const M=a;mb(C,I=>{n(I,M)})}}}return h!==a&&void 0!==a.providers}function mb(a,n){for(let i of a)cw(i)&&(i=i.\u0275providers),Array.isArray(i)?mb(i,n):n(i)}const yT=sn({provide:String,useValue:sn});function _T(a){return null!==a&&"object"==typeof a&&yT in a}function mu(a){return"function"==typeof a}const Sf=new ke("Set Injector scope."),Ki={},YR={};let Cf;function xf(){return void 0===Cf&&(Cf=new mT),Cf}class Eo{}class Wp extends Eo{get destroyed(){return this._destroyed}constructor(n,i,l,h){super(),this.parent=i,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wb(n,y=>this.processProvider(y)),this.records.set($R,qp(void 0,this)),h.has("environment")&&this.records.set(Eo,qp(void 0,this));const p=this.records.get(Sf);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(gu.multi,qt,Kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=dr(this),l=mi(void 0);try{return n()}finally{dr(i),mi(l)}}get(n,i=Wh,l=Kt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(fm))return n[fm](this);l=wo(l);const p=dr(this),y=mi(void 0);try{if(!(l&Kt.SkipSelf)){let C=this.records.get(n);if(void 0===C){const M=function KR(a){return"function"==typeof a||"object"==typeof a&&a instanceof ke}(n)&&Ns(n);C=M&&this.injectableDefInScope(M)?qp(_b(n),Ki):null,this.records.set(n,C)}if(null!=C)return this.hydrate(n,C)}return(l&Kt.Self?xf():this.parent).get(n,i=l&Kt.Optional&&i===Wh?null:i)}catch(b){if("NullInjectorError"===b.name){if((b[cp]=b[cp]||[]).unshift(cr(n)),p)throw b;return function Gx(a,n,i,l){const h=a[cp];throw n[cm]&&h.unshift(n[cm]),a.message=function nt(a,n,i,l=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let h=cr(n);if(Array.isArray(n))h=n.map(cr).join(" -> ");else if("object"==typeof n){let p=[];for(let y in n)if(n.hasOwnProperty(y)){let b=n[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):cr(b)))}h=`{${p.join(", ")}}`}return`${i}${l?"("+l+")":""}[${h}]: ${a.replace(um,"\n  ")}`}("\n"+a.message,h,i,l),a.ngTokenPath=h,a[cp]=null,a}(b,n,"R3InjectorError",this.source)}throw b}finally{mi(y),dr(p)}}resolveInjectorInitializers(){const n=dr(this),i=mi(void 0);try{const h=this.get(ny.multi,qt,Kt.Self);for(const p of h)p()}finally{dr(n),mi(i)}}toString(){const n=[],i=this.records;for(const l of i.keys())n.push(cr(l));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(n){let i=mu(n=wt(n))?n:wt(n&&n.provide);const l=function $p(a){return _T(a)?qp(void 0,a.useValue):qp(XR(a),Ki)}(n);if(mu(n)||!0!==n.multi)this.records.get(i);else{let h=this.records.get(i);h||(h=qp(void 0,Ki,!0),h.factory=()=>Fs(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,l)}hydrate(n,i){return i.value===Ki&&(i.value=YR,i.value=i.factory()),"object"==typeof i.value&&i.value&&function GG(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=wt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function _b(a){const n=Ns(a),i=null!==n?n.factory:gp(a);if(null!==i)return i;if(a instanceof ke)throw new fe(204,!1);if(a instanceof Function)return function Qi(a){const n=a.length;if(n>0)throw Wm(n,"?"),new fe(204,!1);const i=function Ga(a){return a&&(a[ap]||a[im])||null}(a);return null!==i?()=>i.factory(a):()=>new a}(a);throw new fe(204,!1)}function XR(a,n,i){let l;if(mu(a)){const h=wt(a);return gp(h)||_b(h)}if(_T(a))l=()=>wt(a.useValue);else if(function ZR(a){return!(!a||!a.useFactory)}(a))l=()=>a.useFactory(...Fs(a.deps||[]));else if(function yb(a){return!(!a||!a.useExisting)}(a))l=()=>Se(wt(a.useExisting));else{const h=wt(a&&(a.useClass||a.provide));if(!function ry(a){return!!a.deps}(a))return gp(h)||_b(h);l=()=>new h(...Fs(a.deps))}return l}function qp(a,n,i=!1){return{factory:a,value:n,multi:i?[]:void 0}}function wb(a,n){for(const i of a)Array.isArray(i)?wb(i,n):i&&cw(i)?wb(i.\u0275providers,n):n(i)}const Zp=new ke("AppId",{providedIn:"root",factory:()=>Yp}),Yp="ng",iy=new ke("Platform Initializer"),Zo=new ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oy=new ke("AnimationModuleType"),ay=new ke("CSP nonce",{providedIn:"root",factory:()=>Hp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fy=(a,n,i)=>null;function dy(a,n,i=!1){return fy(a,n,i)}class $G{}class Af{}class Xp{resolveComponentFactory(n){throw function qG(a){const n=Error(`No component factory found for ${cr(a)}.`);return n.ngComponent=a,n}(n)}}let Kp=(()=>{class a{static#e=this.NULL=new Xp}return a})();function ek(){return Ci(Zr(),_e())}function Ci(a,n){return new dn(Pi(a,n))}let dn=(()=>{class a{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=ek}return a})();function ba(a){return a instanceof dn?a.nativeElement:a}class Ri{}let Qr=(()=>{class a{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function tk(){const a=_e(),i=bo(Zr().index,a);return($i(i)?i:a)[St]}()}return a})(),Qs=(()=>{class a{static#e=this.\u0275prov=Pe({token:a,providedIn:"root",factory:()=>null})}return a})();class Js{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const fi=new Js("16.2.8"),xb={};function rk(a,n=null,i=null,l){const h=Ab(a,n,i,l);return h.resolveInjectorInitializers(),h}function Ab(a,n=null,i=null,l,h=new Set){const p=[i||qt,vb(a)];return l=l||("object"==typeof a?void 0:cr(a)),new Wp(p,n||xf(),l||null,h)}let mr=(()=>{class a{static#e=this.THROW_IF_NOT_FOUND=Wh;static#t=this.NULL=new mT;static create(i,l){if(Array.isArray(i))return rk({name:""},l,i,"");{const h=i.name??"";return rk({name:h},i.parent,i.providers,h)}}static#n=this.\u0275prov=Pe({token:a,providedIn:"any",factory:()=>Se($R)});static#r=this.__NG_ELEMENT_ID__=-1}return a})();function MT(a){return a.ngOriginalError}class Sa{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&MT(n);for(;i&&MT(i);)i=MT(i);return i||null}}function AT(a){return n=>{setTimeout(a,void 0,n)}}const mn=class tU extends Pn{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,l){let h=n,p=i||(()=>null),y=l;if(n&&"object"==typeof n){const C=n;h=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=AT(p),h&&(h=AT(h)),y&&(y=AT(y)));const b=super.subscribe({next:h,error:p,complete:y});return n instanceof Wr&&n.add(b),b}};function ET(...a){}class pn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mn(!1),this.onMicrotaskEmpty=new mn(!1),this.onStable=new mn(!1),this.onError=new mn(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&i,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function uY(){const a="function"==typeof wn.requestAnimationFrame;let n=wn[a?"requestAnimationFrame":"setTimeout"],i=wn[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function sk(a){const n=()=>{!function ak(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(wn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Ib(a),a.isCheckStableRunning=!0,Eb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Ib(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,l,h,p,y,b)=>{if(function Qp(a){return!(!Array.isArray(a)||1!==a.length)&&!0===a[0].data?.__ignore_ng_zone__}(b))return i.invokeTask(h,p,y,b);try{return lk(a),i.invokeTask(h,p,y,b)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||a.shouldCoalesceRunChangeDetection)&&n(),uk(a)}},onInvoke:(i,l,h,p,y,b,C)=>{try{return lk(a),i.invoke(h,p,y,b,C)}finally{a.shouldCoalesceRunChangeDetection&&n(),uk(a)}},onHasTask:(i,l,h,p)=>{i.hasTask(h,p),l===h&&("microTask"==p.change?(a._hasPendingMicrotasks=p.microTask,Ib(a),Eb(a)):"macroTask"==p.change&&(a.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,l,h,p)=>(i.handleError(h,p),a.runOutsideAngular(()=>a.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pn.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(pn.isInAngularZone())throw new fe(909,!1)}run(n,i,l){return this._inner.run(n,i,l)}runTask(n,i,l,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,n,rU,ET,ET);try{return p.runTask(y,i,l)}finally{p.cancelTask(y)}}runGuarded(n,i,l){return this._inner.runGuarded(n,i,l)}runOutsideAngular(n){return this._outer.run(n)}}const rU={};function Eb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Ib(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function lk(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function uk(a){a._nesting--,Eb(a)}class ck{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mn,this.onMicrotaskEmpty=new mn,this.onStable=new mn,this.onError=new mn}run(n,i,l){return n.apply(i,l)}runGuarded(n,i,l){return n.apply(i,l)}runOutsideAngular(n){return n()}runTask(n,i,l,h){return n.apply(i,l)}}const Pb=new ke("",{providedIn:"root",factory:hk});function hk(){const a=Ie(pn);let n=!0;return Bl(new qn(h=>{n=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{h.next(n),h.complete()})}),new qn(h=>{let p;a.runOutsideAngular(()=>{p=a.onStable.subscribe(()=>{pn.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(n=!0,h.next(!0))})})});const y=a.onUnstable.subscribe(()=>{pn.assertInAngularZone(),n&&(n=!1,a.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}}).pipe(Gh()))}function IT(a){return a.ownerDocument.defaultView}function wu(a){return a instanceof Function?a():a}let gy=(()=>{class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pe({token:a,providedIn:"root",factory:()=>new a})}return a})();function Br(a){for(;a;){a[U]|=64;const n=kp(a);if(vp(a)&&!n)return a;a=n}return null}const Yo=new ke("",{providedIn:"root",factory:()=>!1});let my=null;function LT(a,n){return a[n]??yy()}function RT(a,n){const i=yy();i.producerNode?.length&&(a[n]=my,i.lView=a,my=gk())}const uU={...Am,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{Br(a.lView)},lView:null};function gk(){return Object.create(uU)}function yy(){return my??=gk(),my}const Et={};function ue(a){Rb(un(),_e(),Zi()+a,!1)}function Rb(a,n,i,l){if(!l)if(3==(3&n[U])){const p=a.preOrderCheckHooks;null!==p&&Hm(n,p,i)}else{const p=a.preOrderHooks;null!==p&&Gm(n,p,0,i)}ru(i)}function he(a,n=Kt.Default){const i=_e();return null===i?Se(a,n):Cp(Zr(),i,wt(a),n)}function kb(a,n,i,l,h,p,y,b,C,M,I){const R=n.blueprint.slice();return R[L]=h,R[U]=140|l,(null!==M||a&&2048&a[U])&&(R[U]|=2048),Bw(R),R[X]=R[Vs]=a,R[At]=i,R[Fn]=y||a&&a[Fn],R[St]=b||a&&a[St],R[Wi]=C||a&&a[Wi]||null,R[vt]=p,R[Cm]=function qm(){return hR++}(),R[Xl]=I,R[_L]=M,R[pr]=2==n.type?a[pr]:R,R}function If(a,n,i,l,h){let p=a.data[n];if(null===p)p=function Ob(a,n,i,l,h){const p=FL(),y=vD(),C=a.data[n]=function dU(a,n,i,l,h,p){let y=n?n.injectorIndex:-1,b=0;return Nm()&&(b|=128),{type:i,index:l,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,i,n,l,h);return null===a.firstChild&&(a.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(a,n,i,l,h),function gD(){return gt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=i,p.value=l,p.attrs=h;const y=function Fm(){const a=gt.lFrame,n=a.currentTNode;return a.isParent?n:n.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Us(p,!0),p}function rv(a,n,i,l){if(0===i)return-1;const h=n.length;for(let p=0;p<i;p++)n.push(l),a.blueprint.push(l),a.data.push(null);return h}function Nc(a,n,i,l,h){const p=LT(n,xm),y=Zi(),b=2&l;try{ru(-1),b&&n.length>Jt&&Rb(a,n,Jt,!1),qa(b?2:0,h);const M=b?p:null,I=Im(M);try{null!==M&&(M.dirty=!1),i(l,h)}finally{Kx(M,I)}}finally{b&&null===n[xm]&&RT(n,xm),ru(y),qa(b?3:1,h)}}function Su(a,n,i){if(Sc(n)){const l=Ho(null);try{const p=n.directiveEnd;for(let y=n.directiveStart;y<p;y++){const b=a.data[y];b.contentQueries&&b.contentQueries(1,i[y],y)}}finally{Ho(l)}}}function Cu(a,n,i){Om()&&(function vU(a,n,i,l){const h=i.directiveStart,p=i.directiveEnd;Tr(i)&&function Fc(a,n,i){const l=Pi(n,a),h=OT(i);let y=16;i.signals?y=4096:i.onPush&&(y=64);const b=Gb(a,kb(a,h,null,y,l,n,null,a[Fn].rendererFactory.createRenderer(l,i),null,null,null));a[n.index]=b}(n,i,a.data[h+i.componentOffset]),a.firstCreatePass||qw(i,n),bi(l,n);const y=i.initialInputs;for(let b=h;b<p;b++){const C=a.data[b],M=au(n,a,b,i);bi(M,n),null!==y&&Ck(0,b-h,M,C,0,y),Wa(C)&&(bo(i.index,n)[At]=au(n,a,b,i))}}(a,n,i,Pi(i,n)),64==(64&i.flags)&&zb(a,n,i))}function Nb(a,n,i=Pi){const l=n.localNames;if(null!==l){let h=n.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],b=-1===y?i(n,a):a[y];a[h++]=b}}}function OT(a){const n=a.tView;return null===n||n.incompleteFirstPass?a.tView=Fb(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):n}function Fb(a,n,i,l,h,p,y,b,C,M,I){const R=Jt+l,V=R+h,G=function mk(a,n){const i=[];for(let l=0;l<n;l++)i.push(l<a?null:Et);return i}(R,V),$="function"==typeof M?M():M;return G[O]={type:a,blueprint:G,template:i,queries:null,viewQuery:b,declTNode:n,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:$,incompleteFirstPass:!1,ssrId:I}}let NT=a=>null;function VT(a,n,i,l){for(let h in a)if(a.hasOwnProperty(h)){i=null===i?{}:i;const p=a[h];null===l?Vb(i,n,h,p):l.hasOwnProperty(h)&&Vb(i,n,l[h],p)}return i}function Vb(a,n,i,l){a.hasOwnProperty(i)?a[i].push(n,l):a[i]=[n,l]}function Xo(a,n,i,l,h,p,y,b){const C=Pi(n,i);let I,M=n.inputs;!b&&null!=M&&(I=M[l])?(jT(a,i,I,l,h),Tr(n)&&function BT(a,n){const i=bo(n,a);16&i[U]||(i[U]|=64)}(i,n.index)):3&n.type&&(l=function pY(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(l),h=null!=y?y(h,n.value||"",l):h,p.setProperty(C,l,h))}function zT(a,n,i,l){if(Om()){const h=null===l?null:{"":-1},p=function gU(a,n){const i=a.directiveRegistry;let l=null,h=null;if(i)for(let p=0;p<i.length;p++){const y=i[p];if(xw(n,y.selectors,!1))if(l||(l=[]),Wa(y))if(null!==y.findHostDirectiveDefs){const b=[];h=h||new Map,y.findHostDirectiveDefs(y,b,h),l.unshift(...b,y),Sk(a,n,b.length)}else l.unshift(y),Sk(a,n,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(a,i);let y,b;null===p?y=b=null:[y,b]=p,null!==y&&HT(a,n,i,y,h,b),h&&function gY(a,n,i){if(n){const l=a.localNames=[];for(let h=0;h<n.length;h+=2){const p=i[n[h+1]];if(null==p)throw new fe(-301,!1);l.push(n[h],p)}}}(i,l,h)}i.mergedAttrs=ja(i.mergedAttrs,i.attrs)}function HT(a,n,i,l,h,p){for(let M=0;M<l.length;M++)tf(qw(i,n),a,l[M].type);!function yY(a,n,i){a.flags|=1,a.directiveStart=n,a.directiveEnd=n+i,a.providerIndexes=n}(i,a.data.length,l.length);for(let M=0;M<l.length;M++){const I=l[M];I.providersResolver&&I.providersResolver(I)}let y=!1,b=!1,C=rv(a,n,l.length,null);for(let M=0;M<l.length;M++){const I=l[M];i.mergedAttrs=ja(i.mergedAttrs,I.hostAttrs),an(a,i,n,C,I),mY(C,I,h),null!==I.contentQueries&&(i.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(i.flags|=64);const R=I.type.prototype;!y&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((a.preOrderHooks??=[]).push(i.index),y=!0),!b&&(R.ngOnChanges||R.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(i.index),b=!0),C++}!function iv(a,n,i){const h=n.directiveEnd,p=a.data,y=n.attrs,b=[];let C=null,M=null;for(let I=n.directiveStart;I<h;I++){const R=p[I],V=i?i.get(R):null,$=V?V.outputs:null;C=VT(R.inputs,I,C,V?V.inputs:null),M=VT(R.outputs,I,M,$);const Z=null===C||null===y||gm(n)?null:Dk(C,I,y);b.push(Z)}null!==C&&(C.hasOwnProperty("class")&&(n.flags|=8),C.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=b,n.inputs=C,n.outputs=M}(a,i,p)}function zb(a,n,i){const l=i.directiveStart,h=i.directiveEnd,p=i.index,y=function nG(){return gt.lFrame.currentDirectiveIndex}();try{ru(p);for(let b=l;b<h;b++){const C=a.data[b],M=n[b];Gw(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&vY(C,M)}}finally{ru(-1),Gw(y)}}function vY(a,n){null!==a.hostBindings&&a.hostBindings(1,n)}function Sk(a,n,i){n.componentOffset=i,(a.components??=[]).push(n.index)}function mY(a,n,i){if(i){if(n.exportAs)for(let l=0;l<n.exportAs.length;l++)i[n.exportAs[l]]=a;Wa(n)&&(i[""]=a)}}function an(a,n,i,l,h){a.data[l]=h;const p=h.factory||(h.factory=gp(h.type)),y=new Xa(p,Wa(h),he);a.blueprint[l]=y,i[l]=y,function pU(a,n,i,l,h){const p=h.hostBindings;if(p){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const b=~n.index;(function bk(a){let n=a.length;for(;n>0;){const i=a[--n];if("number"==typeof i&&i<0)return i}return 0})(y)!=b&&y.push(b),y.push(i,l,p)}}(a,n,l,rv(a,i,h.hostVars,Et),h)}function el(a,n,i,l,h,p){const y=Pi(a,n);!function Hb(a,n,i,l,h,p,y){if(null==p)a.removeAttribute(n,h,i);else{const b=null==y?bt(p):y(p,l||"",h);a.setAttribute(n,h,b,i)}}(n[St],y,p,a.value,i,l,h)}function Ck(a,n,i,l,h,p){const y=p[n];if(null!==y)for(let b=0;b<y.length;)xk(l,i,y[b++],y[b++],y[b++])}function xk(a,n,i,l,h){const p=Ho(null);try{const y=a.inputTransforms;null!==y&&y.hasOwnProperty(l)&&(h=y[l].call(n,h)),null!==a.setInput?a.setInput(n,h,i,l):n[l]=h}finally{Ho(p)}}function Dk(a,n,i){let l=null,h=0;for(;h<i.length;){const p=i[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(a.hasOwnProperty(p)){null===l&&(l=[]);const y=a[p];for(let b=0;b<y.length;b+=2)if(y[b]===n){l.push(p,y[b+1],i[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function Tk(a,n,i,l){return[a,!0,!1,n,null,0,l,i,null,null,null]}function Mk(a,n){const i=a.contentQueries;if(null!==i)for(let l=0;l<i.length;l+=2){const p=i[l+1];if(-1!==p){const y=a.data[p];Uw(i[l]),y.contentQueries(2,n[p],p)}}}function Gb(a,n){return a[bm]?a[Wx][pe]=n:a[bm]=n,a[Wx]=n,n}function GT(a,n,i){Uw(0);const l=Ho(null);try{n(a,i)}finally{Ho(l)}}function Ak(a){return a[Qt]||(a[Qt]=[])}function Ek(a){return a.cleanup||(a.cleanup=[])}function Ik(a,n,i){return(null===a||Wa(a))&&(i=function kL(a){for(;Array.isArray(a);){if("object"==typeof a[$x])return a;a=a[L]}return null}(i[n.index])),i[St]}function UT(a,n){const i=a[Wi],l=i?i.get(Sa,null):null;l&&l.handleError(n)}function jT(a,n,i,l,h){for(let p=0;p<i.length;){const y=i[p++],b=i[p++];xk(a.data[y],n[y],l,b,h)}}function mU(a,n){const i=bo(n,a),l=i[O];!function WT(a,n){for(let i=n.length;i<a.blueprint.length;i++)n.push(a.blueprint[i])}(l,i);const h=i[L];null!==h&&null===i[Xl]&&(i[Xl]=dy(h,i[Wi])),ov(l,i,i[At])}function ov(a,n,i){Ce(n);try{const l=a.viewQuery;null!==l&&GT(1,l,i);const h=a.template;null!==h&&Nc(a,n,h,1,i),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Mk(a,n),a.staticViewQueries&&GT(2,a.viewQuery,i);const p=a.components;null!==p&&function yU(a,n){for(let i=0;i<n.length;i++)mU(a,n[i])}(n,p)}catch(l){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),l}finally{n[U]&=-5,Vm()}}let Pk=(()=>{class a{constructor(){this.all=new Set,this.queue=new Map}create(i,l,h){const p=typeof Zone>"u"?null:Zone.current,y=function IL(a,n,i){const l=Object.create(aD);i&&(l.consumerAllowSignalWrites=!0),l.fn=a,l.schedule=n;const h=y=>{l.cleanupFn=y};return l.ref={notify:()=>Gs(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Pm(l))return;l.hasRun=!0;const y=Im(l);try{l.cleanupFn(),l.cleanupFn=oD,l.fn(h)}finally{Kx(l,y)}},cleanup:()=>l.cleanupFn()},l.ref}(i,M=>{this.all.has(M)&&this.queue.set(M,p)},h);let b;this.all.add(y),y.notify();const C=()=>{y.cleanup(),b?.(),this.all.delete(y),this.queue.delete(y)};return b=l?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[i,l]of this.queue)this.queue.delete(i),l?l.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pe({token:a,providedIn:"root",factory:()=>new a})}return a})();function _y(a,n,i){let l=i?a.styles:null,h=i?a.classes:null,p=0;if(null!==n)for(let y=0;y<n.length;y++){const b=n[y];"number"==typeof b?p=b:1==p?h=ip(h,b):2==p&&(l=ip(l,b+": "+n[++y]+";"))}i?a.styles=l:a.stylesWithoutHost=l,i?a.classes=h:a.classesWithoutHost=h}function av(a,n,i,l,h=!1){for(;null!==i;){const p=n[i.index];null!==p&&l.push(Vn(p)),si(p)&&Ub(p,l);const y=i.type;if(8&y)av(a,n,i.child,l);else if(32&y){const b=lb(i,n);let C;for(;C=b();)l.push(C)}else if(16&y){const b=Km(n,i);if(Array.isArray(b))l.push(...b);else{const C=kp(n[pr]);av(C[O],C,b,l,!0)}}i=h?i.projectionNext:i.next}return l}function Ub(a,n){for(let i=kn;i<a.length;i++){const l=a[i],h=l[O].firstChild;null!==h&&av(l[O],l,h,n)}a[pa]!==a[L]&&n.push(a[pa])}function Vc(a,n,i,l=!0){const h=n[Fn],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{$T(a,n,a.template,i)}catch(C){throw l&&UT(n,C),C}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function $T(a,n,i,l){const h=n[U];if(256!=(256&h)){n[Fn].effectManager?.flush(),Ce(n);try{Bw(n),function BL(a){return gt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==i&&Nc(a,n,i,2,l);const y=3==(3&h);if(y){const M=a.preOrderCheckHooks;null!==M&&Hm(n,M,null)}else{const M=a.preOrderHooks;null!==M&&Gm(n,M,0,null),Ww(n,0)}if(function qT(a){for(let n=qD(a);null!==n;n=ZD(n)){if(!n[dp])continue;const i=n[bc];for(let l=0;l<i.length;l++){hD(i[l])}}}(n),Rk(n,2),null!==a.contentQueries&&Mk(a,n),y){const M=a.contentCheckHooks;null!==M&&Hm(n,M)}else{const M=a.contentHooks;null!==M&&Gm(n,M,1),Ww(n,1)}!function cU(a,n){const i=a.hostBindingOpCodes;if(null===i)return;const l=LT(n,Kl);try{for(let h=0;h<i.length;h++){const p=i[h];if(p<0)ru(~p);else{const y=p,b=i[++h],C=i[++h];tG(b,y),l.dirty=!1;const M=Im(l);try{C(2,n[y])}finally{Kx(l,M)}}}}finally{null===n[Kl]&&RT(n,Kl),ru(-1)}}(a,n);const b=a.components;null!==b&&by(n,b,0);const C=a.viewQuery;if(null!==C&&GT(2,C,l),y){const M=a.viewCheckHooks;null!==M&&Hm(n,M)}else{const M=a.viewHooks;null!==M&&Gm(n,M,2),Ww(n,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),n[U]&=-73,NL(n)}finally{Vm()}}}function Rk(a,n){for(let i=qD(a);null!==i;i=ZD(i))for(let l=kn;l<i.length;l++)ZT(i[l],n)}function kk(a,n,i){ZT(bo(n,a),i)}function ZT(a,n){if(!function Qh(a){return 128==(128&a[U])}(a))return;const i=a[O],l=a[U];if(80&l&&0===n||1024&l||2===n)$T(i,a,i.template,a[At]);else if(a[qe]>0){Rk(a,1);const h=i.components;null!==h&&by(a,h,1)}}function by(a,n,i){for(let l=0;l<n.length;l++)kk(a,n[l],i)}class sv{get rootNodes(){const n=this._lView,i=n[O];return av(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(n){this._lView[At]=n}get destroyed(){return 256==(256&this._lView[U])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[X];if(si(n)){const i=n[8],l=i?i.indexOf(this):-1;l>-1&&(hi(n,l),Kw(i,l))}this._attachedToViewContainer=!1}pf(this._lView[O],this._lView)}onDestroy(n){!function fD(a,n){if(256==(256&a[U]))throw new fe(911,!1);null===a[Yl]&&(a[Yl]=[]),a[Yl].push(n)}(this._lView,n)}markForCheck(){Br(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){this._lView[U]|=128}detectChanges(){Vc(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SR(a,n){Qm(a,n,n[St],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=n}}class Ok extends sv{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Vc(n[O],n,n[At],!1)}checkNoChanges(){}get context(){return null}}class YT extends Kp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Bt(n);return new Pf(i,this.ngModule)}}function Nk(a){const n=[];for(let i in a)a.hasOwnProperty(i)&&n.push({propName:a[i],templateName:i});return n}class Jr{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,l){l=wo(l);const h=this.injector.get(n,xb,l);return h!==xb||i===xb?h:this.parentInjector.get(n,i,l)}}class Pf extends Af{get inputs(){const n=this.componentDef,i=n.inputTransforms,l=Nk(n.inputs);if(null!==i)for(const h of l)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return l}get outputs(){return Nk(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function qh(a){return a.map(ql).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,l,h){let p=(h=h||this.ngModule)instanceof Eo?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Jr(n,p):n,b=y.get(Ri,null);if(null===b)throw new fe(407,!1);const R={rendererFactory:b,sanitizer:y.get(Qs,null),effectManager:y.get(Pk,null),afterRenderEventManager:y.get(gy,null)},V=b.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",$=l?function hU(a,n,i,l){const p=l.get(Yo,!1)||i===Fr.ShadowDom,y=a.selectRootElement(n,p);return function yk(a){NT(a)}(y),y}(V,l,this.componentDef.encapsulation,y):Np(V,G,function wU(a){const n=a.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(G)),ie=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ne=null;null!==$&&(ne=dy($,y,!0));const ye=Fb(0,null,null,1,0,null,null,null,null,null,null),we=kb(null,ye,null,ie,null,null,R,V,y,null,ne);let je,Dt;Ce(we);try{const It=this.componentDef;let Ht,In=null;It.findHostDirectiveDefs?(Ht=[],In=new Map,It.findHostDirectiveDefs(It,Ht,In),Ht.push(It)):Ht=[It];const vi=function Vk(a,n){const i=a[O],l=Jt;return a[l]=n,If(i,l,2,"#host",null)}(we,$),X_=function bU(a,n,i,l,h,p,y){const b=h[O];!function SU(a,n,i,l){for(const h of a)n.mergedAttrs=ja(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(_y(n,n.mergedAttrs,!0),null!==i&&rT(l,i,n))}(l,a,n,y);let C=null;null!==n&&(C=dy(n,h[Wi]));const M=p.rendererFactory.createRenderer(n,i);let I=16;i.signals?I=4096:i.onPush&&(I=64);const R=kb(h,OT(i),null,I,h[a.index],a,p,M,null,null,C);return b.firstCreatePass&&Sk(b,a,l.length-1),Gb(h,R),h[a.index]=R}(vi,$,It,Ht,we,R,V);Dt=Vw(ye,Jt),$&&function CU(a,n,i,l){if(l)dm(a,i,["ng-version",fi.full]);else{const{attrs:h,classes:p}=function Ui(a){const n=[],i=[];let l=1,h=2;for(;l<a.length;){let p=a[l];if("string"==typeof p)2===h?""!==p&&n.push(p,a[++l]):8===h&&i.push(p);else{if(!_i(h))break;h=p}l++}return{attrs:n,classes:i}}(n.selectors[0]);h&&dm(a,i,h),p&&p.length>0&&Xs(a,i,p.join(" "))}}(V,It,$,l),void 0!==i&&function XT(a,n,i){const l=a.projection=[];for(let h=0;h<n.length;h++){const p=i[h];l.push(null!=p?Array.from(p):null)}}(Dt,this.ngContentSelectors,i),je=function Bk(a,n,i,l,h,p){const y=Zr(),b=h[O],C=Pi(y,h);HT(b,h,y,i,null,l);for(let I=0;I<i.length;I++)bi(au(h,b,y.directiveStart+I,y),h);zb(b,h,y),C&&bi(C,h);const M=au(h,b,y.directiveStart+y.componentOffset,y);if(a[At]=h[At]=M,null!==p)for(const I of p)I(M,n);return Su(b,y,a),M}(X_,It,Ht,In,we,[xU]),ov(ye,we,null)}finally{Vm()}return new Fk(this.componentType,je,Ci(Dt,we),we,Dt)}}class Fk extends $G{constructor(n,i,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Ok(h),this.componentType=n}setInput(n,i){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const p=this._rootLView;jT(p[O],p,h,n,i),this.previousInputValues.set(n,i),Br(bo(this._tNode.index,p))}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function xU(){const a=Zr();bp(_e()[O],a)}function Tn(a){let n=function zk(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),i=!0;const l=[a];for(;n;){let h;if(Wa(a))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new fe(903,!1);h=n.\u0275dir}if(h){if(i){l.push(h);const y=a;y.inputs=Sy(a.inputs),y.inputTransforms=Sy(a.inputTransforms),y.declaredInputs=Sy(a.declaredInputs),y.outputs=Sy(a.outputs);const b=h.hostBindings;b&&Gk(a,b);const C=h.viewQuery,M=h.contentQueries;if(C&&Hk(a,C),M&&KT(a,M),rp(a.inputs,h.inputs),rp(a.declaredInputs,h.declaredInputs),rp(a.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),rp(y.inputTransforms,h.inputTransforms)),Wa(h)&&h.data.animation){const I=a.data;I.animation=(I.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(a),b===Tn&&(i=!1)}}n=Object.getPrototypeOf(n)}!function DU(a){let n=0,i=null;for(let l=a.length-1;l>=0;l--){const h=a[l];h.hostVars=n+=h.hostVars,h.hostAttrs=ja(h.hostAttrs,i=ja(i,h.hostAttrs))}}(l)}function Sy(a){return a===oi?{}:a===qt?[]:a}function Hk(a,n){const i=a.viewQuery;a.viewQuery=i?(l,h)=>{n(l,h),i(l,h)}:n}function KT(a,n){const i=a.contentQueries;a.contentQueries=i?(l,h,p)=>{n(l,h,p),i(l,h,p)}:n}function Gk(a,n){const i=a.hostBindings;a.hostBindings=i?(l,h)=>{n(l,h),i(l,h)}:n}function jk(a){const n=a.inputConfig,i={};for(const l in n)if(n.hasOwnProperty(l)){const h=n[l];Array.isArray(h)&&h[2]&&(i[l]=h[2])}a.inputTransforms=i}function $b(a){return!!function xy(a){return null!==a&&("function"==typeof a||"object"==typeof a)}(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function Ji(a,n,i){return a[n]=i}function ki(a,n,i){return!Object.is(a[n],i)&&(a[n]=i,!0)}function xi(a,n,i,l){const h=_e();return ki(h,wp(),n)&&(un(),el(Xn(),h,a,n,i,l)),xi}function ze(a,n,i,l,h,p,y,b){const C=_e(),M=un(),I=a+Jt,R=M.firstCreatePass?function kU(a,n,i,l,h,p,y,b,C){const M=n.consts,I=If(n,a,4,y||null,Uo(M,b));zT(n,i,I,Uo(M,C)),bp(n,I);const R=I.tView=Fb(2,I,l,h,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,M,null);return null!==n.queries&&(n.queries.template(n,I),R.queries=n.queries.embeddedTView(I)),I}(I,M,C,n,i,l,h,p,y):M.data[I];Us(R,!1);const V=zr(M,C,R,a);ef()&&Xm(M,C,V,R),bi(V,C),Gb(C,C[I]=Tk(V,C,V,R)),pp(R)&&Cu(M,C,R),null!=y&&Nb(C,R,b)}let zr=function no(a,n,i,l){return js(!0),n[St].createComment("")};function Un(a){return yp(function VL(){return gt.lFrame.contextLView}(),Jt+a)}function Ae(a,n,i){const l=_e();return ki(l,wp(),n)&&Xo(un(),Xn(),l,a,n,l[St],i,!1),Ae}function Qb(a,n,i,l,h){const y=h?"class":"style";jT(a,i,n.inputs[y],y,l)}function J(a,n,i,l){const h=_e(),p=un(),y=Jt+a,b=h[St],C=p.firstCreatePass?function Jb(a,n,i,l,h,p){const y=n.consts,C=If(n,a,2,l,Uo(y,h));return zT(n,i,C,Uo(y,p)),null!==C.attrs&&_y(C,C.attrs,!1),null!==C.mergedAttrs&&_y(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(y,p,h,n,i,l):p.data[y],M=oM(p,h,C,b,n,a);h[y]=M;const I=pp(C);return Us(C,!0),rT(b,M,C),32!=(32&C.flags)&&ef()&&Xm(p,h,M,C),0===function Rm(){return gt.lFrame.elementDepthCount}()&&bi(M,h),function km(){gt.lFrame.elementDepthCount++}(),I&&(Cu(p,h,C),Su(p,C,h)),null!==l&&Nb(h,C),J}function te(){let a=Zr();vD()?Hw():(a=a.parent,Us(a,!1));const n=a;(function Ya(a){return gt.skipHydrationRootTNode===a})(n)&&function JH(){gt.skipHydrationRootTNode=null}(),function _p(){gt.lFrame.elementDepthCount--}();const i=un();return i.firstCreatePass&&(bp(i,a),Sc(a)&&i.queries.elementEnd(a)),null!=n.classesWithoutHost&&function sG(a){return 0!=(8&a.flags)}(n)&&Qb(i,n,_e(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function lG(a){return 0!=(16&a.flags)}(n)&&Qb(i,n,_e(),n.stylesWithoutHost,!1),te}function Ct(a,n,i,l){return J(a,n,i,l),te(),Ct}let oM=(a,n,i,l,h,p)=>(js(!0),Np(l,h,function zm(){return gt.lFrame.currentNamespace}()));function Vf(a,n,i){const l=_e(),h=un(),p=a+Jt,y=h.firstCreatePass?function FU(a,n,i,l,h){const p=n.consts,y=Uo(p,l),b=If(n,a,8,"ng-container",y);return null!==y&&_y(b,y,!0),zT(n,i,b,Uo(p,h)),null!==n.queries&&n.queries.elementStart(n,b),b}(p,h,l,n,i):h.data[p];Us(y,!0);const b=Ay(h,l,y,a);return l[p]=b,ef()&&Xm(h,l,b,y),bi(b,l),pp(y)&&(Cu(h,l,y),Su(h,y,l)),null!=i&&Nb(l,y),Vf}function is(){let a=Zr();const n=un();return vD()?Hw():(a=a.parent,Us(a,!1)),n.firstCreatePass&&(bp(n,a),Sc(a)&&n.queries.elementEnd(a)),is}let Ay=(a,n,i,l)=>(js(!0),et(n[St],""));function zn(){return _e()}function Ey(a){return!!a&&"function"==typeof a.then}function aO(a){return!!a&&"function"==typeof a.subscribe}function He(a,n,i,l){const h=_e(),p=un(),y=Zr();return function nS(a,n,i,l,h,p,y){const b=pp(l),M=a.firstCreatePass&&Ek(a),I=n[At],R=Ak(n);let V=!0;if(3&l.type||y){const Z=Pi(l,n),ee=y?y(Z):Z,ie=R.length,ne=y?we=>y(Vn(we[l.index])):l.index;let ye=null;if(!y&&b&&(ye=function tS(a,n,i,l){const h=a.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===i&&h[p+1]===l){const b=n[Qt],C=h[p+2];return b.length>C?b[C]:null}"string"==typeof y&&(p+=2)}return null}(a,n,h,l.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=p,ye.__ngLastListenerFn__=p,V=!1;else{p=sO(l,n,I,p,!1);const we=i.listen(ee,h,p);R.push(p,we),M&&M.push(h,ne,ie,ie+1)}}else p=sO(l,n,I,p,!1);const G=l.outputs;let $;if(V&&null!==G&&($=G[h])){const Z=$.length;if(Z)for(let ee=0;ee<Z;ee+=2){const je=n[$[ee]][$[ee+1]].subscribe(p),Dt=R.length;R.push(p,je),M&&M.push(h,l.index,Dt,-(Dt+1))}}}(p,h,h[St],y,a,n,l),He}function aM(a,n,i,l){try{return qa(6,n,i),!1!==i(l)}catch(h){return UT(a,h),!1}finally{qa(7,n,i)}}function sO(a,n,i,l,h){return function p(y){if(y===Function)return l;Br(a.componentOffset>-1?bo(a.index,n):n);let C=aM(n,i,l,y),M=p.__ngNextListenerFn__;for(;M;)C=aM(n,i,M,y)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&y.preventDefault(),C}}function Oe(a=1){return function iG(a){return(gt.lFrame.contextLView=function HL(a,n){for(;a>0;)n=n[Vs],a--;return n}(a,gt.lFrame.contextLView))[At]}(a)}function xa(a,n){let i=null;const l=function Dw(a){const n=a.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(a);for(let h=0;h<n.length;h++){const p=n[h];if("*"!==p){if(null===l?xw(a,p,!0):mm(l,p))return h}else i=h}return i}function ky(a,n){return a<<17|n<<2}function jc(a){return a>>17&32767}function aS(a){return 2|a}function Ta(a){return(131068&a)>>2}function zf(a,n){return-131069&a|n<<2}function Ny(a){return 1|a}function lM(a,n,i,l,h){const p=a[i+1],y=null===n;let b=l?jc(p):Ta(p),C=!1;for(;0!==b&&(!1===C||y);){const I=a[b+1];BU(a[b],n)&&(C=!0,a[b+1]=l?Ny(I):aS(I)),b=l?jc(I):Ta(I)}C&&(a[i+1]=l?aS(p):Ny(p))}function BU(a,n){return null===a||null==n||(Array.isArray(a)?a[1]:a)===n||!(!Array.isArray(a)||"string"!=typeof n)&&Ep(a,n)>=0}const Er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uM(a){return a.substring(Er.key,Er.keyEnd)}function fO(a,n){const i=Er.textEnd;return i===n?-1:(n=Er.keyEnd=function dO(a,n,i){for(;n<i&&a.charCodeAt(n)>32;)n++;return n}(a,Er.key=n,i),Hf(a,n,i))}function Hf(a,n,i){for(;n<i&&a.charCodeAt(n)<=32;)n++;return n}function fv(a,n,i){return as(a,n,i,!1),fv}function jn(a,n){return as(a,n,null,!0),jn}function Lo(a){!function Ro(a,n,i,l){const h=un(),p=nu(2);h.firstUpdatePass&&vO(h,null,p,l);const y=_e();if(i!==Et&&ki(y,p,i)){const b=h.data[Zi()];if(pM(b,l)&&!pO(h,p)){let C=l?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(i=ip(C,i||"")),Qb(h,b,y,i,l)}else!function XU(a,n,i,l,h,p,y,b){h===Et&&(h=qt);let C=0,M=0,I=0<h.length?h[0]:null,R=0<p.length?p[0]:null;for(;null!==I||null!==R;){const V=C<h.length?h[C+1]:void 0,G=M<p.length?p[M+1]:void 0;let Z,$=null;I===R?(C+=2,M+=2,V!==G&&($=R,Z=G)):null===R||null!==I&&I<R?(C+=2,$=I):(M+=2,$=R,Z=G),null!==$&&dv(a,n,i,l,$,Z,y,b),I=C<h.length?h[C]:null,R=M<p.length?p[M]:null}}(h,b,y,y[St],y[p+1],y[p+1]=function ZU(a,n,i){if(null==i||""===i)return qt;const l=[],h=Kr(i);if(Array.isArray(h))for(let p=0;p<h.length;p++)a(l,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&a(l,p,h[p]);else"string"==typeof h&&n(l,h);return l}(a,n,i),l,p)}}(YU,rl,a,!0)}function rl(a,n){for(let i=function zU(a){return function Vy(a){Er.key=0,Er.keyEnd=0,Er.value=0,Er.valueEnd=0,Er.textEnd=a.length}(a),fO(a,Hf(a,0,Er.textEnd))}(n);i>=0;i=fO(n,i))xo(a,uM(n),!0)}function as(a,n,i,l){const h=_e(),p=un(),y=nu(2);p.firstUpdatePass&&vO(p,a,y,l),n!==Et&&ki(h,y,n)&&dv(p,p.data[Zi()],h,h[St],a,h[y+1]=function gO(a,n){return null==a||""===a||("string"==typeof n?a+=n:"object"==typeof a&&(a=cr(Kr(a)))),a}(n,i),l,y)}function pO(a,n){return n>=a.expandoStartIndex}function vO(a,n,i,l){const h=a.data;if(null===h[i+1]){const p=h[Zi()],y=pO(a,i);pM(p,l)&&null===n&&!y&&(n=!1),n=function jU(a,n,i,l){const h=mD(a);let p=l?n.residualClasses:n.residualStyles;if(null===h)0===(l?n.classBindings:n.styleBindings)&&(i=zy(i=hM(null,a,n,i,l),n.attrs,l),p=null);else{const y=n.directiveStylingLast;if(-1===y||a[y]!==h)if(i=hM(h,a,n,i,l),null===p){let C=function WU(a,n,i){const l=i?n.classBindings:n.styleBindings;if(0!==Ta(l))return a[jc(l)]}(a,n,l);void 0!==C&&Array.isArray(C)&&(C=hM(null,a,n,C[1],l),C=zy(C,n.attrs,l),function $U(a,n,i,l){a[jc(i?n.classBindings:n.styleBindings)]=l}(a,n,l,C))}else p=function qU(a,n,i){let l;const h=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<h;p++)l=zy(l,a[p].hostAttrs,i);return zy(l,n.attrs,i)}(a,n,l)}return void 0!==p&&(l?n.residualClasses=p:n.residualStyles=p),i}(h,p,n,l),function cO(a,n,i,l,h,p){let y=p?n.classBindings:n.styleBindings,b=jc(y),C=Ta(y);a[l]=i;let I,M=!1;if(Array.isArray(i)?(I=i[1],(null===I||Ep(i,I)>0)&&(M=!0)):I=i,h)if(0!==C){const V=jc(a[b+1]);a[l+1]=ky(V,b),0!==V&&(a[V+1]=zf(a[V+1],l)),a[b+1]=function sM(a,n){return 131071&a|n<<17}(a[b+1],l)}else a[l+1]=ky(b,0),0!==b&&(a[b+1]=zf(a[b+1],l)),b=l;else a[l+1]=ky(C,0),0===b?b=l:a[C+1]=zf(a[C+1],l),C=l;M&&(a[l+1]=aS(a[l+1])),lM(a,I,l,!0),lM(a,I,l,!1),function Wc(a,n,i,l,h){const p=h?a.residualClasses:a.residualStyles;null!=p&&"string"==typeof n&&Ep(p,n)>=0&&(i[l+1]=Ny(i[l+1]))}(n,I,a,l,p),y=ky(b,C),p?n.classBindings=y:n.styleBindings=y}(h,p,n,i,y,l)}}function hM(a,n,i,l,h){let p=null;const y=i.directiveEnd;let b=i.directiveStylingLast;for(-1===b?b=i.directiveStart:b++;b<y&&(p=n[b],l=zy(l,p.hostAttrs,h),p!==a);)b++;return null!==a&&(i.directiveStylingLast=b),l}function zy(a,n,i){const l=i?1:2;let h=-1;if(null!==n)for(let p=0;p<n.length;p++){const y=n[p];"number"==typeof y?h=y:h===l&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),xo(a,y,!!i||n[++p]))}return void 0===a?null:a}function YU(a,n,i){const l=String(n);""!==l&&!l.includes(" ")&&xo(a,l,i)}function dv(a,n,i,l,h,p,y,b){if(!(3&n.type))return;const C=a.data,M=C[b+1],I=function uO(a){return 1==(1&a)}(M)?dM(C,n,i,h,Ta(M),y):void 0;Uf(I)||(Uf(p)||function Oy(a){return 2==(2&a)}(M)&&(p=dM(C,null,i,h,b,y)),function ER(a,n,i,l,h){if(n)h?a.addClass(i,l):a.removeClass(i,l);else{let p=-1===l.indexOf("-")?void 0:Qa.DashCase;null==h?a.removeStyle(i,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Qa.Important),a.setStyle(i,l,h,p))}}(l,y,Kh(Zi(),i),h,p))}function dM(a,n,i,l,h,p){const y=null===n;let b;for(;h>0;){const C=a[h],M=Array.isArray(C),I=M?C[1]:C,R=null===I;let V=i[h+1];V===Et&&(V=R?qt:void 0);let G=R?LD(V,l):I===l?V:void 0;if(M&&!Uf(G)&&(G=LD(C,l)),Uf(G)&&(b=G,y))return b;const $=a[h+1];h=y?jc($):Ta($)}if(null!==n){let C=p?n.residualClasses:n.residualStyles;null!=C&&(b=LD(C,l))}return b}function Uf(a){return void 0!==a}function pM(a,n){return 0!=(a.flags&(n?8:16))}function oe(a,n=""){const i=_e(),l=un(),h=a+Jt,p=l.firstCreatePass?If(l,h,1,n,null):l.data[h],y=mO(l,i,p,n,a);i[h]=y,ef()&&Xm(l,i,y,p),Us(p,!1)}let mO=(a,n,i,l,h)=>(js(!0),function Op(a,n){return a.createText(n)}(n[St],l));function xt(a){return or("",a,""),xt}function or(a,n,i){const l=_e(),h=function Tu(a,n,i,l){return ki(a,wp(),i)?n+bt(i)+l:Et}(l,a,n,i);return h!==Et&&function xu(a,n,i){const l=Kh(n,a);!function Nt(a,n,i){a.setValue(n,i)}(a[St],l,i)}(l,Zi(),h),or}function Zc(a,n,i){const l=_e();if(ki(l,wp(),n)){const p=un(),y=Xn();Xo(p,y,l,a,n,Ik(mD(p.data),y,l),i,!0)}return Zc}const $f=void 0;var uj=["en",[["a","p"],["AM","PM"],$f],[["AM","PM"],$f,$f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$f,"{1} 'at' {0}",$f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mM(a){const i=Math.floor(Math.abs(a)),l=a.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===l?1:5}];let Eu={};function di(a){const n=function fj(a){return a.toLowerCase().replace(/_/g,"-")}(a);let i=fS(n);if(i)return i;const l=n.split("-")[0];if(i=fS(l),i)return i;if("en"===l)return uj;throw new fe(701,!1)}function fS(a){return a in Eu||(Eu[a]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[a]),Eu[a]}var Wn=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(Wn||{});const qf="en-US";let _M=qf;function Qy(a,n,i,l,h){if(a=wt(a),Array.isArray(a))for(let p=0;p<a.length;p++)Qy(a[p],n,i,l,h);else{const p=un(),y=_e(),b=Zr();let C=mu(a)?a:wt(a.provide);const M=XR(a),I=1048575&b.providerIndexes,R=b.directiveStart,V=b.providerIndexes>>20;if(mu(a)||!a.multi){const G=new Xa(M,h,he),$=FM(C,n,h?I:I+V,R);-1===$?(tf(qw(b,y),p,C),Pu(p,a,n.length),n.push(C),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),i.push(G),y.push(G)):(i[$]=G,y[$]=G)}else{const G=FM(C,n,I+V,R),$=FM(C,n,I,I+V),ee=$>=0&&i[$];if(h&&!ee||!h&&!(G>=0&&i[G])){tf(qw(b,y),p,C);const ie=function Cj(a,n,i,l,h){const p=new Xa(a,i,he);return p.multi=[],p.index=n,p.componentProviders=0,Jy(p,h,l&&!i),p}(h?VM:Sj,i.length,h,l,M);!h&&ee&&(i[$].providerFactory=ie),Pu(p,a,n.length,0),n.push(C),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),i.push(ie),y.push(ie)}else Pu(p,a,G>-1?G:$,Jy(i[h?$:G],M,!h&&l));!h&&l&&ee&&i[$].componentProviders++}}}function Pu(a,n,i,l){const h=mu(n),p=function wT(a){return!!a.useClass}(n);if(h||p){const C=(p?wt(n.useClass):n).prototype.ngOnDestroy;if(C){const M=a.destroyHooks||(a.destroyHooks=[]);if(!h&&n.multi){const I=M.indexOf(i);-1===I?M.push(i,[l,C]):M[I+1].push(l,C)}else M.push(i,C)}}}function Jy(a,n,i){return i&&a.componentProviders++,a.multi.push(n)-1}function FM(a,n,i,l){for(let h=i;h<l;h++)if(n[h]===a)return h;return-1}function Sj(a,n,i,l){return BM(this.multi,[])}function VM(a,n,i,l){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=au(i,i[O],this.providerFactory.index,l);p=b.slice(0,y),BM(h,p);for(let C=y;C<b.length;C++)p.push(b[C])}else p=[],BM(h,p);return p}function BM(a,n){for(let i=0;i<a.length;i++)n.push((0,a[i])());return n}function Kn(a,n=[]){return i=>{i.providersResolver=(l,h)=>function tN(a,n,i){const l=un();if(l.firstCreatePass){const h=Wa(a);Qy(i,l.data,l.blueprint,h,!0),Qy(n,l.data,l.blueprint,h,!1)}}(l,h?h(a):a,n)}}class Kf{}class nN{}class e0 extends Kf{constructor(n,i,l){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YT(this);const h=ai(n);this._bootstrapComponents=wu(h.bootstrap),this._r3Injector=Ab(n,i,[{provide:Kf,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver},...l],cr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class t0 extends nN{constructor(n){super(),this.moduleType=n}create(n){return new e0(this.moduleType,n,[])}}class GM extends Kf{constructor(n){super(),this.componentFactoryResolver=new YT(this),this.instance=null;const i=new Wp([...n.providers,{provide:Kf,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver}],n.parent||xf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function CS(a,n,i=null){return new GM({providers:a,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let xS=(()=>{class a{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const l=gb(0,i.type),h=l.length>0?CS([l],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pe({token:a,providedIn:"environment",factory:()=>new a(Se(Eo))})}return a})();function Oo(a){a.getStandaloneInjector=n=>n.get(xS).getOrCreateStandaloneInjector(a)}function TS(a,n,i){const l=ui()+a,h=_e();return h[l]===Et?Ji(h,l,i?n.call(i):n()):function tl(a,n){return a[n]}(h,l)}function r0(a,n){const i=a[n];return i===Et?void 0:i}function YM(a,n,i,l,h,p,y){const b=n+i;return function zc(a,n,i,l){const h=ki(a,n,i);return ki(a,n+1,l)||h}(a,b,h,p)?Ji(a,b+2,y?l.call(y,h,p):l(h,p)):r0(a,b+2)}function Aa(a,n){const i=un();let l;const h=a+Jt;i.firstCreatePass?(l=function Yc(a,n){if(n)for(let i=n.length-1;i>=0;i--){const l=n[i];if(a===l.name)return l}}(n,i.pipeRegistry),i.data[h]=l,l.onDestroy&&(i.destroyHooks??=[]).push(h,l.onDestroy)):l=i.data[h];const p=l.factory||(l.factory=gp(l.type)),b=mi(he);try{const C=xD(!1),M=p();return xD(C),function oO(a,n,i,l){i>=a.data.length&&(a.data[i]=null,a.blueprint[i]=null),n[i]=l}(i,_e(),h,M),M}finally{mi(b)}}function JM(a,n,i){const l=a+Jt,h=_e(),p=yp(h,l);return ku(h,l)?function ZM(a,n,i,l,h,p){const y=n+i;return ki(a,y,h)?Ji(a,y+1,p?l.call(p,h):l(h)):r0(a,y+1)}(h,ui(),n,p.transform,i,p):p.transform(i)}function Qf(a,n,i,l){const h=a+Jt,p=_e(),y=yp(p,h);return ku(p,h)?YM(p,ui(),n,y.transform,i,l,y):y.transform(i,l)}function ku(a,n){return a[O].data[n].pure}function o0(){return this._results[Symbol.iterator]()}class a0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new mn)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=a0.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=o0)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const l=this;l.dirty=!1;const h=function ma(a){return a.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function mG(a,n,i){if(a.length!==n.length)return!1;for(let l=0;l<a.length;l++){let h=a[l],p=n[l];if(i&&(h=i(h),p=i(p)),p!==h)return!1}return!0}(l._results,h,i))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Rj(a,n,i,l=!0){const h=n[O];if(function KD(a,n,i,l){const h=kn+l,p=i.length;l>0&&(i[h-1][pe]=n),l<p-kn?(n[pe]=i[h],eR(i,kn+l,n)):(i.push(n),n[pe]=null),n[X]=i;const y=n[Sm];null!==y&&i!==y&&function Zm(a,n){const i=a[bc];n[pr]!==n[X][X][pr]&&(a[dp]=!0),null===i?a[bc]=[n]:i.push(n)}(y,n);const b=n[da];null!==b&&b.insertView(a),n[U]|=128}(h,n,a,i),l){const p=TR(i,a),y=n[St],b=mf(y,a[pa]);null!==b&&function bR(a,n,i,l,h,p){l[L]=h,l[vt]=n,Qm(a,l,i,1,h,p)}(h,a[vt],y,n,b,p)}}let il=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=Oj}return a})();const _v=il,kj=class extends _v{constructor(n,i,l){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,l){const h=function IS(a,n,i,l){const h=n.tView,b=kb(a,h,i,4096&a[U]?4096:16,null,n,null,null,null,l?.injector??null,l?.hydrationInfo??null);b[Sm]=a[n.index];const M=a[da];return null!==M&&(b[da]=M.createEmbeddedView(h)),ov(h,b,i),b}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:l});return new sv(h)}};function Oj(){return PS(Zr(),_e())}function PS(a,n){return 4&a.type?new kj(n,a,Ci(a,n)):null}let ls=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=Bj}return a})();function Bj(){return vN(Zr(),_e())}const zj=ls,us=class extends zj{constructor(n,i,l){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=l}get element(){return Ci(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Zw(this._hostTNode,this._hostLView);if(CD(n)){const i=iu(n,this._hostLView),l=jm(n);return new Yi(i[O].data[l+8],i)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=tA(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-kn}createEmbeddedView(n,i,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const b=n.createEmbeddedViewImpl(i||{},p,null);return this.insertImpl(b,h,false),b}createComponent(n,i,l,h,p){const y=n&&!function Ap(a){return"function"==typeof a}(n);let b;if(y)b=i;else{const Z=i||{};b=Z.index,l=Z.injector,h=Z.projectableNodes,p=Z.environmentInjector||Z.ngModuleRef}const C=y?n:new Pf(Bt(n)),M=l||this.parentInjector;if(!p&&null==C.ngModule){const ee=(y?M:this.parentInjector).get(Eo,null);ee&&(p=ee)}Bt(C.componentType??{});const G=C.create(M,h,null,p);return this.insertImpl(G.hostView,b,false),G}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,l){const h=n._lView;if(function Jh(a){return si(a[X])}(h)){const C=this.indexOf(n);if(-1!==C)this.detach(C);else{const M=h[X],I=new us(M,M[vt],M[X]);I.detach(I.indexOf(n))}}const y=this._adjustIndex(i),b=this._lContainer;return Rj(b,h,y,!l),n.attachToViewContainerRef(),eR(cs(b),y,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=tA(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),l=hi(this._lContainer,i);l&&(Kw(cs(this._lContainer),i),pf(l[O],l))}detach(n){const i=this._adjustIndex(n,-1),l=hi(this._lContainer,i);return l&&null!=Kw(cs(this._lContainer),i)?new sv(l):null}_adjustIndex(n,i=0){return n??this.length+i}};function tA(a){return a[8]}function cs(a){return a[8]||(a[8]=[])}function vN(a,n){let i;const l=n[a.index];return si(l)?i=l:(i=Tk(l,n,null,a),n[a.index]=i,Gb(n,i)),gN(i,n,a,l),new us(i,a,n)}let gN=function LS(a,n,i,l){if(a[pa])return;let h;h=8&i.type?Vn(l):function Hj(a,n){const i=a[St],l=i.createComment(""),h=Pi(n,a);return Ys(i,mf(i,h),l,function xR(a,n){return a.nextSibling(n)}(i,h),!1),l}(n,i),a[pa]=h};class rA{constructor(n){this.queryList=n,this.matches=null}clone(){return new rA(this.queryList)}setDirty(){this.queryList.setDirty()}}class s0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const l=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let p=0;p<l;p++){const y=i.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new s0(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==yN(n,i).matches&&this.queries[i].setDirty()}}class iA{constructor(n,i,l=null){this.predicate=n,this.flags=i,this.read=l}}class RS{constructor(n=[]){this.queries=n}elementStart(n,i){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let l=0;l<this.length;l++){const h=null!==i?i.length:0,p=this.getByIndex(l).embeddedTView(n,h);p&&(p.indexInDeclarationView=l,null!==i?i.push(p):i=[p])}return null!==i?new RS(i):null}template(n,i){for(let l=0;l<this.queries.length;l++)this.queries[l].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class oA{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new oA(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let l=n.parent;for(;null!==l&&8&l.type&&l.index!==i;)l=l.parent;return i===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(n,i,kS(i,p)),this.matchTNodeWithReadOption(n,i,Yw(i,n,p,!1,!1))}else l===il?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Yw(i,n,l,!1,!1))}matchTNodeWithReadOption(n,i,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===dn||h===ls||h===il&&4&i.type)this.addMatch(i.index,-2);else{const p=Yw(i,n,h,!1,!1);null!==p&&this.addMatch(i.index,p)}else this.addMatch(i.index,l)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function kS(a,n){const i=a.localNames;if(null!==i)for(let l=0;l<i.length;l+=2)if(i[l]===n)return i[l+1];return null}function NS(a,n,i,l){return-1===i?function OS(a,n){return 11&a.type?Ci(a,n):4&a.type?PS(a,n):null}(n,a):-2===i?function mN(a,n,i){return i===dn?Ci(n,a):i===il?PS(n,a):i===ls?vN(n,a):void 0}(a,n,l):au(a,a[O],i,n)}function FS(a,n,i,l){const h=n[da].queries[l];if(null===h.matches){const p=a.data,y=i.matches,b=[];for(let C=0;C<y.length;C+=2){const M=y[C];b.push(M<0?null:NS(n,p[M],y[C+1],i.metadata.read))}h.matches=b}return h.matches}function Nu(a,n,i,l){const h=a.queries.getByIndex(i),p=h.matches;if(null!==p){const y=FS(a,n,h,i);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)l.push(y[b/2]);else{const M=p[b+1],I=n[-C];for(let R=kn;R<I.length;R++){const V=I[R];V[Sm]===V[X]&&Nu(V[O],V,M,l)}if(null!==I[bc]){const R=I[bc];for(let V=0;V<R.length;V++){const G=R[V];Nu(G[O],G,M,l)}}}}}return l}function l0(a){const n=_e(),i=un(),l=yD();Uw(l+1);const h=yN(i,l);if(a.dirty&&function OL(a){return 4==(4&a[U])}(n)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const p=h.crossesNgTemplate?Nu(i,n,l,[]):FS(i,n,h,l);a.reset(p,ba),a.notifyOnChanges()}return!0}return!1}function al(a,n,i){const l=un();l.firstCreatePass&&(function zS(a,n,i){null===a.queries&&(a.queries=new RS),a.queries.track(new oA(n,i))}(l,new iA(a,n,i),-1),2==(2&n)&&(l.staticViewQueries=!0)),function BS(a,n,i){const l=new a0(4==(4&i));(function FT(a,n,i,l){const h=Ak(n);h.push(i),a.firstCreatePass&&Ek(a).push(l,h.length-1)})(a,n,l,l.destroy),null===n[da]&&(n[da]=new s0),n[da].queries.push(new rA(l))}(l,_e(),n)}function VS(){return function sl(a,n){return a[da].queries[n].queryList}(_e(),yD())}function yN(a,n){return a.queries.getByIndex(n)}function Xc(a,n){return PS(a,n)}const jS=new ke("Application Initializer");let WS=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,l)=>{this.resolve=i,this.reject=l}),this.appInits=Ie(jS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const p=h();if(Ey(p))i.push(p);else if(aO(p)){const y=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});i.push(y)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{l()}).catch(h=>{this.reject(h)}),0===i.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),mA=(()=>{class a{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();const Fu=new ke("LocaleId",{providedIn:"root",factory:()=>Ie(Fu,Kt.Optional|Kt.SkipSelf)||function r4(){return typeof $localize<"u"&&$localize.locale||qf}()});let th=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rr(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class a4{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let kN=(()=>{class a{compileModuleSync(i){return new t0(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const l=this.compileModuleSync(i),p=wu(ai(i).declarations).reduce((y,b)=>{const C=Bt(b);return C&&y.push(new Pf(C)),y},[]);return new a4(l,p)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const HN=new ke(""),qS=new ke("");let Pa,Jo=(()=>{class a{constructor(i,l,h){this._ngZone=i,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pa||(function _r(a){Pa=a}(h),h.addToWindow(l)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(i)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),i(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:i,timeoutId:p,updateCb:h})}whenStable(i,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,l,h){return[]}static#e=this.\u0275fac=function(l){return new(l||a)(Se(pn),Se(Cn),Se(qS))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})(),Cn=(()=>{class a{constructor(){this._applications=new Map}registerApplication(i,l){this._applications.set(i,l)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,l=!0){return Pa?.findTestabilityInTree(this,i,l)??null}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})(),Di=null;const _A=new ke("AllowMultipleToken"),Cv=new ke("PlatformDestroyListeners"),Ti=new ke("appBootstrapListener");class ZS{constructor(n,i){this.name=n,this.token=i}}function CA(a,n,i=[]){const l=`Platform: ${n}`,h=new ke(l);return(p=[])=>{let y=YS();if(!y||y.injector.get(_A,!1)){const b=[...i,...p,{provide:h,useValue:!0}];a?a(b):function bA(a){if(Di&&!Di.get(_A,!1))throw new fe(400,!1);(function wA(){!function Ow(a){nD=a}(()=>{throw new fe(600,!1)})})(),Di=a;const n=a.get(Vi);(function SA(a){a.get(iy,null)?.forEach(i=>i())})(a)}(function WN(a=[],n){return mr.create({name:n,providers:[{provide:Sf,useValue:"platform"},{provide:Cv,useValue:new Set([()=>Di=null])},...a]})}(b,l))}return function jN(a){const n=YS();if(!n)throw new fe(401,!1);return n}()}}function YS(){return Di?.get(Vi)??null}let Vi=(()=>{class a{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,l){const h=function C4(a="zone.js",n){return"noop"===a?new ck:"zone.js"===a?new pn(n):a}(l?.ngZone,function XS(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return h.run(()=>{const p=function HM(a,n,i){return new e0(a,n,i)}(i.moduleType,this.injector,function DA(a){return[{provide:pn,useFactory:a},{provide:ny,multi:!0,useFactory:()=>{const n=Ie(x4,{optional:!0});return()=>n.initialize()}},{provide:xA,useFactory:$N},{provide:Pb,useFactory:hk}]}(()=>h)),y=p.injector.get(Sa,null);return h.runOutsideAngular(()=>{const b=h.onError.subscribe({next:C=>{y.handleError(C)}});p.onDestroy(()=>{KS(this._modules,p),b.unsubscribe()})}),function v0(a,n,i){try{const l=i();return Ey(l)?l.catch(h=>{throw n.runOutsideAngular(()=>a.handleError(h)),h}):l}catch(l){throw n.runOutsideAngular(()=>a.handleError(l)),l}}(y,h,()=>{const b=p.injector.get(WS);return b.runInitializers(),b.donePromise.then(()=>(function wM(a){mo(a,"Expected localeId to be defined"),"string"==typeof a&&(_M=a.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Fu,qf)||qf),this._moduleDoBootstrap(p),p))})})}bootstrapModule(i,l=[]){const h=g0({},l);return function GN(a,n,i){const l=new t0(i);return Promise.resolve(l)}(0,0,i).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(i){const l=i.injector.get(ll);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new fe(-403,!1);i.instance.ngDoBootstrap(l)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const i=this._injector.get(Cv,null);i&&(i.forEach(l=>l()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||a)(Se(mr))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();function g0(a,n){return Array.isArray(n)?n.reduce(g0,a):{...a,...n}}let ll=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(xA),this.zoneIsStable=Ie(Pb),this.componentTypes=[],this.components=[],this.isStable=Ie(th).hasPendingTasks.pipe(Gi(i=>i?Le(!1):this.zoneIsStable),Qg(),Gh()),this._injector=Ie(Eo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,l){const h=i instanceof Af;if(!this._injector.get(WS).done)throw!h&&function ji(a){const n=Bt(a)||Zt(a)||Vr(a);return null!==n&&n.standalone}(i),new fe(405,!1);let y;y=h?i:this._injector.get(Kp).resolveComponentFactory(i),this.componentTypes.push(y.componentType);const b=function S4(a){return a.isBoundToModule}(y)?void 0:this._injector.get(Kf),M=y.create(mr.NULL,[],l||y.selector,b),I=M.location.nativeElement,R=M.injector.get(HN,null);return R?.registerApplication(I),M.onDestroy(()=>{this.detachView(M.hostView),KS(this.components,M),R?.unregisterApplication(I)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const l=i;this._views.push(l),l.attachToAppRef(this)}detachView(i){const l=i;KS(this._views,l),l.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const l=this._injector.get(Ti,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>KS(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new fe(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function KS(a,n){const i=a.indexOf(n);i>-1&&a.splice(i,1)}const xA=new ke("",{providedIn:"root",factory:()=>Ie(Sa).handleError.bind(void 0)});function $N(){const a=Ie(pn),n=Ie(Sa);return i=>a.runOutsideAngular(()=>n.handleError(i))}let x4=(()=>{class a{constructor(){this.zone=Ie(pn),this.applicationRef=Ie(ll)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();let JS=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=D4}return a})();function D4(a){return function MA(a,n,i){if(Tr(a)&&!i){const l=bo(a.index,n);return new sv(l,l)}return 47&a.type?new sv(n[pr],n):null}(Zr(),_e(),16==(16&a))}class tC{constructor(){}supports(n){return $b(n)}create(n){return new PA(n)}}const E4=(a,n)=>n;class PA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||E4}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,l=this._removalsHead,h=0,p=null;for(;i||l;){const y=!l||i&&i.currentIndex<nF(l,h,p)?i:l,b=nF(y,h,p),C=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(i=i._next,null==y.previousIndex)h++;else{p||(p=[]);const M=b-h,I=C-h;if(M!=I){for(let V=0;V<M;V++){const G=V<p.length?p[V]:p[V]=0,$=G+V;I<=$&&$<M&&(p[V]=G+1)}p[y.previousIndex]=I-M}}b!==C&&n(y,b,C)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!$b(n))throw new fe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,p,y,i=this._itHead,l=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)p=n[b],y=this._trackByFn(b,p),null!==i&&Object.is(i.trackById,y)?(l&&(i=this._verifyReinsertion(i,p,y,b)),Object.is(i.item,p)||this._addIdentityChange(i,p)):(i=this._mismatch(i,p,y,b),l=!0),i=i._next}else h=0,function Mn(a,n){if(Array.isArray(a))for(let i=0;i<a.length;i++)n(a[i]);else{const i=a[Symbol.iterator]();let l;for(;!(l=i.next()).done;)n(l.value)}}(n,b=>{y=this._trackByFn(h,b),null!==i&&Object.is(i.trackById,y)?(l&&(i=this._verifyReinsertion(i,b,y,h)),Object.is(i.item,b)||this._addIdentityChange(i,b)):(i=this._mismatch(i,b,y,h),l=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,l,h){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,p,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,p,h)):n=this._addAfter(new eF(i,l),p,h),n}_verifyReinsertion(n,i,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?n=this._reinsertAfter(p,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,p=n._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(n,i,l),this._addToMoves(n,l),n}_moveAfter(n,i,l){return this._unlink(n),this._insertAfter(n,i,l),this._addToMoves(n,l),n}_addAfter(n,i,l){return this._insertAfter(n,i,l),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,l){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new rh),this._linkedRecords.put(n),n.currentIndex=l,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,l=n._next;return null===i?this._itHead=l:i._next=l,null===l?this._itTail=i:l._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rh),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class eF{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===i||i<=l.currentIndex)&&Object.is(l.trackById,n))return l;return null}remove(n){const i=n._prevDup,l=n._nextDup;return null===i?this._head=l:i._nextDup=l,null===l?this._tail=i:l._prevDup=i,null===this._head}}class rh{constructor(){this.map=new Map}put(n){const i=n.trackById;let l=this.map.get(i);l||(l=new tF,this.map.set(i,l)),l.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nF(a,n,i){const l=a.previousIndex;if(null===l)return l;let h=0;return i&&l<i.length&&(h=i[l]),l+n+h}function oF(){return new y0([new tC])}let y0=(()=>{class a{static#e=this.\u0275prov=Pe({token:a,providedIn:"root",factory:oF});constructor(i){this.factories=i}static create(i,l){if(null!=l){const h=l.factories.slice();i=i.concat(h)}return new a(i)}static extend(i){return{provide:a,useFactory:l=>a.create(i,l||oF()),deps:[[a,new $m,new sf]]}}find(i){const l=this.factories.find(h=>h.supports(i));if(null!=l)return l;throw new fe(901,!1)}}return a})();const kA=CA(null,"core",[]);let sF=(()=>{class a{constructor(i){}static#e=this.\u0275fac=function(l){return new(l||a)(Se(ll))};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({})}return a})();function rd(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}let zA=null;function ih(){return zA}class F4{}const wr=new ke("DocumentToken");let HA=(()=>{class a{historyGo(i){throw new Error("Not implemented")}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(){return Ie(B4)},providedIn:"platform"})}return a})();const V4=new ke("Location Initialized");let B4=(()=>{class a extends HA{constructor(){super(),this._doc=Ie(wr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ih().getBaseHref(this._doc)}onPopState(i){const l=ih().getGlobalEventTarget(this._doc,"window");return l.addEventListener("popstate",i,!1),()=>l.removeEventListener("popstate",i)}onHashChange(i){const l=ih().getGlobalEventTarget(this._doc,"window");return l.addEventListener("hashchange",i,!1),()=>l.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,l,h){this._history.pushState(i,l,h)}replaceState(i,l,h){this._history.replaceState(i,l,h)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(){return new a},providedIn:"platform"})}return a})();function oh(a,n){if(0==a.length)return n;if(0==n.length)return a;let i=0;return a.endsWith("/")&&i++,n.startsWith("/")&&i++,2==i?a+n.substring(1):1==i?a+n:a+"/"+n}function GA(a){const n=a.match(/#|\?|$/),i=n&&n.index||a.length;return a.slice(0,i-("/"===a[i-1]?1:0))+a.slice(i)}function Hu(a){return a&&"?"!==a[0]?"?"+a:a}let id=(()=>{class a{historyGo(i){throw new Error("Not implemented")}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(){return Ie(iC)},providedIn:"root"})}return a})();const Av=new ke("appBaseHref");let iC=(()=>{class a extends id{constructor(i,l){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=l??this._platformLocation.getBaseHrefFromDOM()??Ie(wr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return oh(this._baseHref,i)}path(i=!1){const l=this._platformLocation.pathname+Hu(this._platformLocation.search),h=this._platformLocation.hash;return h&&i?`${l}${h}`:l}pushState(i,l,h,p){const y=this.prepareExternalUrl(h+Hu(p));this._platformLocation.pushState(i,l,y)}replaceState(i,l,h,p){const y=this.prepareExternalUrl(h+Hu(p));this._platformLocation.replaceState(i,l,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(HA),Se(Av,8))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),bF=(()=>{class a extends id{constructor(i,l){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=l&&(this._baseHref=l)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let l=this._platformLocation.hash;return null==l&&(l="#"),l.length>0?l.substring(1):l}prepareExternalUrl(i){const l=oh(this._baseHref,i);return l.length>0?"#"+l:l}pushState(i,l,h,p){let y=this.prepareExternalUrl(h+Hu(p));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(i,l,y)}replaceState(i,l,h,p){let y=this.prepareExternalUrl(h+Hu(p));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(i,l,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(HA),Se(Av,8))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})(),w0=(()=>{class a{constructor(i){this._subject=new mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const l=this._locationStrategy.getBaseHref();this._basePath=function H4(a){if(new RegExp("^(https?:)?//").test(a)){const[,i]=a.split(/\/\/[^\/]+/);return i}return a}(GA(UA(l))),this._locationStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,l=""){return this.path()==this.normalize(i+Hu(l))}normalize(i){return a.stripTrailingSlash(function b0(a,n){if(!a||!n.startsWith(a))return n;const i=n.substring(a.length);return""===i||["/",";","?","#"].includes(i[0])?i:n}(this._basePath,UA(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,l="",h=null){this._locationStrategy.pushState(h,"",i,l),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Hu(l)),h)}replaceState(i,l="",h=null){this._locationStrategy.replaceState(h,"",i,l),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Hu(l)),h)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(l=>{this._notifyUrlChangeListeners(l.url,l.state)})),()=>{const l=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(l,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",l){this._urlChangeListeners.forEach(h=>h(i,l))}subscribe(i,l,h){return this._subject.subscribe({next:i,error:l,complete:h})}static#e=this.normalizeQueryParams=Hu;static#t=this.joinWithSlash=oh;static#n=this.stripTrailingSlash=GA;static#r=this.\u0275fac=function(l){return new(l||a)(Se(id))};static#i=this.\u0275prov=Pe({token:a,factory:function(){return function z4(){return new w0(Se(id))}()},providedIn:"root"})}return a})();function UA(a){return a.replace(/\/index.html$/,"")}var br=function(a){return a[a.Format=0]="Format",a[a.Standalone=1]="Standalone",a}(br||{}),cn=function(a){return a[a.Narrow=0]="Narrow",a[a.Abbreviated=1]="Abbreviated",a[a.Wide=2]="Wide",a[a.Short=3]="Short",a}(cn||{}),ei=function(a){return a[a.Short=0]="Short",a[a.Medium=1]="Medium",a[a.Long=2]="Long",a[a.Full=3]="Full",a}(ei||{}),sr=function(a){return a[a.Decimal=0]="Decimal",a[a.Group=1]="Group",a[a.List=2]="List",a[a.PercentSign=3]="PercentSign",a[a.PlusSign=4]="PlusSign",a[a.MinusSign=5]="MinusSign",a[a.Exponential=6]="Exponential",a[a.SuperscriptingExponent=7]="SuperscriptingExponent",a[a.PerMille=8]="PerMille",a[a.Infinity=9]="Infinity",a[a.NaN=10]="NaN",a[a.TimeSeparator=11]="TimeSeparator",a[a.CurrencyDecimal=12]="CurrencyDecimal",a[a.CurrencyGroup=13]="CurrencyGroup",a}(sr||{});function S0(a,n){return ta(di(a)[Wn.DateFormat],n)}function C0(a,n){return ta(di(a)[Wn.TimeFormat],n)}function x0(a,n){return ta(di(a)[Wn.DateTimeFormat],n)}function ea(a,n){const i=di(a),l=i[Wn.NumberSymbols][n];if(typeof l>"u"){if(n===sr.CurrencyDecimal)return i[Wn.NumberSymbols][sr.Decimal];if(n===sr.CurrencyGroup)return i[Wn.NumberSymbols][sr.Group]}return l}function TF(a){if(!a[Wn.ExtraData])throw new Error(`Missing extra locale data for the locale "${a[Wn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ta(a,n){for(let i=n;i>-1;i--)if(typeof a[i]<"u")return a[i];throw new Error("Locale data API: locale data undefined")}function D0(a){const[n,i]=a.split(":");return{hours:+n,minutes:+i}}const T0=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,M0={},X4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ul=function(a){return a[a.Short=0]="Short",a[a.ShortGMT=1]="ShortGMT",a[a.Long=2]="Long",a[a.Extended=3]="Extended",a}(ul||{}),xn=function(a){return a[a.FullYear=0]="FullYear",a[a.Month=1]="Month",a[a.Date=2]="Date",a[a.Hours=3]="Hours",a[a.Minutes=4]="Minutes",a[a.Seconds=5]="Seconds",a[a.FractionalSeconds=6]="FractionalSeconds",a[a.Day=7]="Day",a}(xn||{}),yn=function(a){return a[a.DayPeriods=0]="DayPeriods",a[a.Days=1]="Days",a[a.Months=2]="Months",a[a.Eras=3]="Eras",a}(yn||{});function aC(a,n,i,l){let h=function IF(a){if(PF(a))return a;if("number"==typeof a&&!isNaN(a))return new Date(a);if("string"==typeof a){if(a=a.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(a)){const[h,p=1,y=1]=a.split("-").map(b=>+b);return sC(h,p-1,y)}const i=parseFloat(a);if(!isNaN(a-i))return new Date(i);let l;if(l=a.match(T0))return function fC(a){const n=new Date(0);let i=0,l=0;const h=a[8]?n.setUTCFullYear:n.setFullYear,p=a[8]?n.setUTCHours:n.setHours;a[9]&&(i=Number(a[9]+a[10]),l=Number(a[9]+a[11])),h.call(n,Number(a[1]),Number(a[2])-1,Number(a[3]));const y=Number(a[4]||0)-i,b=Number(a[5]||0)-l,C=Number(a[6]||0),M=Math.floor(1e3*parseFloat("0."+(a[7]||0)));return p.call(n,y,b,C,M),n}(l)}const n=new Date(a);if(!PF(n))throw new Error(`Unable to convert "${a}" into a date`);return n}(a);n=Gu(i,n)||n;let b,y=[];for(;n;){if(b=X4.exec(n),!b){y.push(n);break}{y=y.concat(b.slice(1));const I=y.pop();if(!I)break;n=I}}let C=h.getTimezoneOffset();l&&(C=YA(l,C),h=function eW(a,n,i){const l=i?-1:1,h=a.getTimezoneOffset();return function J4(a,n){return(a=new Date(a.getTime())).setMinutes(a.getMinutes()+n),a}(a,l*(YA(n,h)-h))}(h,l,!0));let M="";return y.forEach(I=>{const R=function EF(a){if(ZA[a])return ZA[a];let n;switch(a){case"G":case"GG":case"GGG":n=An(yn.Eras,cn.Abbreviated);break;case"GGGG":n=An(yn.Eras,cn.Wide);break;case"GGGGG":n=An(yn.Eras,cn.Narrow);break;case"y":n=Hr(xn.FullYear,1,0,!1,!0);break;case"yy":n=Hr(xn.FullYear,2,0,!0,!0);break;case"yyy":n=Hr(xn.FullYear,3,0,!1,!0);break;case"yyyy":n=Hr(xn.FullYear,4,0,!1,!0);break;case"Y":n=A0(1);break;case"YY":n=A0(2,!0);break;case"YYY":n=A0(3);break;case"YYYY":n=A0(4);break;case"M":case"L":n=Hr(xn.Month,1,1);break;case"MM":case"LL":n=Hr(xn.Month,2,1);break;case"MMM":n=An(yn.Months,cn.Abbreviated);break;case"MMMM":n=An(yn.Months,cn.Wide);break;case"MMMMM":n=An(yn.Months,cn.Narrow);break;case"LLL":n=An(yn.Months,cn.Abbreviated,br.Standalone);break;case"LLLL":n=An(yn.Months,cn.Wide,br.Standalone);break;case"LLLLL":n=An(yn.Months,cn.Narrow,br.Standalone);break;case"w":n=hC(1);break;case"ww":n=hC(2);break;case"W":n=hC(1,!0);break;case"d":n=Hr(xn.Date,1);break;case"dd":n=Hr(xn.Date,2);break;case"c":case"cc":n=Hr(xn.Day,1);break;case"ccc":n=An(yn.Days,cn.Abbreviated,br.Standalone);break;case"cccc":n=An(yn.Days,cn.Wide,br.Standalone);break;case"ccccc":n=An(yn.Days,cn.Narrow,br.Standalone);break;case"cccccc":n=An(yn.Days,cn.Short,br.Standalone);break;case"E":case"EE":case"EEE":n=An(yn.Days,cn.Abbreviated);break;case"EEEE":n=An(yn.Days,cn.Wide);break;case"EEEEE":n=An(yn.Days,cn.Narrow);break;case"EEEEEE":n=An(yn.Days,cn.Short);break;case"a":case"aa":case"aaa":n=An(yn.DayPeriods,cn.Abbreviated);break;case"aaaa":n=An(yn.DayPeriods,cn.Wide);break;case"aaaaa":n=An(yn.DayPeriods,cn.Narrow);break;case"b":case"bb":case"bbb":n=An(yn.DayPeriods,cn.Abbreviated,br.Standalone,!0);break;case"bbbb":n=An(yn.DayPeriods,cn.Wide,br.Standalone,!0);break;case"bbbbb":n=An(yn.DayPeriods,cn.Narrow,br.Standalone,!0);break;case"B":case"BB":case"BBB":n=An(yn.DayPeriods,cn.Abbreviated,br.Format,!0);break;case"BBBB":n=An(yn.DayPeriods,cn.Wide,br.Format,!0);break;case"BBBBB":n=An(yn.DayPeriods,cn.Narrow,br.Format,!0);break;case"h":n=Hr(xn.Hours,1,-12);break;case"hh":n=Hr(xn.Hours,2,-12);break;case"H":n=Hr(xn.Hours,1);break;case"HH":n=Hr(xn.Hours,2);break;case"m":n=Hr(xn.Minutes,1);break;case"mm":n=Hr(xn.Minutes,2);break;case"s":n=Hr(xn.Seconds,1);break;case"ss":n=Hr(xn.Seconds,2);break;case"S":n=Hr(xn.FractionalSeconds,1);break;case"SS":n=Hr(xn.FractionalSeconds,2);break;case"SSS":n=Hr(xn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=cl(ul.Short);break;case"ZZZZZ":n=cl(ul.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=cl(ul.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=cl(ul.Long);break;default:return null}return ZA[a]=n,n}(I);M+=R?R(h,i,C):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function sC(a,n,i){const l=new Date(0);return l.setFullYear(a,n,i),l.setHours(0,0,0),l}function Gu(a,n){const i=function G4(a){return di(a)[Wn.LocaleId]}(a);if(M0[i]=M0[i]||{},M0[i][n])return M0[i][n];let l="";switch(n){case"shortDate":l=S0(a,ei.Short);break;case"mediumDate":l=S0(a,ei.Medium);break;case"longDate":l=S0(a,ei.Long);break;case"fullDate":l=S0(a,ei.Full);break;case"shortTime":l=C0(a,ei.Short);break;case"mediumTime":l=C0(a,ei.Medium);break;case"longTime":l=C0(a,ei.Long);break;case"fullTime":l=C0(a,ei.Full);break;case"short":const h=Gu(a,"shortTime"),p=Gu(a,"shortDate");l=lC(x0(a,ei.Short),[h,p]);break;case"medium":const y=Gu(a,"mediumTime"),b=Gu(a,"mediumDate");l=lC(x0(a,ei.Medium),[y,b]);break;case"long":const C=Gu(a,"longTime"),M=Gu(a,"longDate");l=lC(x0(a,ei.Long),[C,M]);break;case"full":const I=Gu(a,"fullTime"),R=Gu(a,"fullDate");l=lC(x0(a,ei.Full),[I,R])}return l&&(M0[i][n]=l),l}function lC(a,n){return n&&(a=a.replace(/\{([^}]+)}/g,function(i,l){return null!=n&&l in n?n[l]:i})),a}function hs(a,n,i="-",l,h){let p="";(a<0||h&&a<=0)&&(h?a=1-a:(a=-a,p=i));let y=String(a);for(;y.length<n;)y="0"+y;return l&&(y=y.slice(y.length-n)),p+y}function Hr(a,n,i=0,l=!1,h=!1){return function(p,y){let b=function K4(a,n){switch(a){case xn.FullYear:return n.getFullYear();case xn.Month:return n.getMonth();case xn.Date:return n.getDate();case xn.Hours:return n.getHours();case xn.Minutes:return n.getMinutes();case xn.Seconds:return n.getSeconds();case xn.FractionalSeconds:return n.getMilliseconds();case xn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${a}".`)}}(a,p);if((i>0||b>-i)&&(b+=i),a===xn.Hours)0===b&&-12===i&&(b=12);else if(a===xn.FractionalSeconds)return function uC(a,n){return hs(a,3).substring(0,n)}(b,n);const C=ea(y,sr.MinusSign);return hs(b,n,C,l,h)}}function An(a,n,i=br.Format,l=!1){return function(h,p){return function cC(a,n,i,l,h,p){switch(i){case yn.Months:return function xF(a,n,i){const l=di(a),p=ta([l[Wn.MonthsFormat],l[Wn.MonthsStandalone]],n);return ta(p,i)}(n,h,l)[a.getMonth()];case yn.Days:return function CF(a,n,i){const l=di(a),p=ta([l[Wn.DaysFormat],l[Wn.DaysStandalone]],n);return ta(p,i)}(n,h,l)[a.getDay()];case yn.DayPeriods:const y=a.getHours(),b=a.getMinutes();if(p){const M=function $4(a){const n=di(a);return TF(n),(n[Wn.ExtraData][2]||[]).map(l=>"string"==typeof l?D0(l):[D0(l[0]),D0(l[1])])}(n),I=function MF(a,n,i){const l=di(a);TF(l);const p=ta([l[Wn.ExtraData][0],l[Wn.ExtraData][1]],n)||[];return ta(p,i)||[]}(n,h,l),R=M.findIndex(V=>{if(Array.isArray(V)){const[G,$]=V,Z=y>=G.hours&&b>=G.minutes,ee=y<$.hours||y===$.hours&&b<$.minutes;if(G.hours<$.hours){if(Z&&ee)return!0}else if(Z||ee)return!0}else if(V.hours===y&&V.minutes===b)return!0;return!1});if(-1!==R)return I[R]}return function U4(a,n,i){const l=di(a),p=ta([l[Wn.DayPeriodsFormat],l[Wn.DayPeriodsStandalone]],n);return ta(p,i)}(n,h,l)[y<12?0:1];case yn.Eras:return function DF(a,n){return ta(di(a)[Wn.Eras],n)}(n,l)[a.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(h,p,a,n,i,l)}}function cl(a){return function(n,i,l){const h=-1*l,p=ea(i,sr.MinusSign),y=h>0?Math.floor(h/60):Math.ceil(h/60);switch(a){case ul.Short:return(h>=0?"+":"")+hs(y,2,p)+hs(Math.abs(h%60),2,p);case ul.ShortGMT:return"GMT"+(h>=0?"+":"")+hs(y,1,p);case ul.Long:return"GMT"+(h>=0?"+":"")+hs(y,2,p)+":"+hs(Math.abs(h%60),2,p);case ul.Extended:return 0===l?"Z":(h>=0?"+":"")+hs(y,2,p)+":"+hs(Math.abs(h%60),2,p);default:throw new Error(`Unknown zone width "${a}"`)}}}const qA=0,Pv=4;function AF(a){return sC(a.getFullYear(),a.getMonth(),a.getDate()+(Pv-a.getDay()))}function hC(a,n=!1){return function(i,l){let h;if(n){const p=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,y=i.getDate();h=1+Math.floor((y+p)/7)}else{const p=AF(i),y=function Q4(a){const n=sC(a,qA,1).getDay();return sC(a,0,1+(n<=Pv?Pv:Pv+7)-n)}(p.getFullYear()),b=p.getTime()-y.getTime();h=1+Math.round(b/6048e5)}return hs(h,a,ea(l,sr.MinusSign))}}function A0(a,n=!1){return function(i,l){return hs(AF(i).getFullYear(),a,ea(l,sr.MinusSign),n)}}const ZA={};function YA(a,n){a=a.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(i)?n:i}function PF(a){return a instanceof Date&&!isNaN(a.valueOf())}function mC(a,n){n=encodeURIComponent(n);for(const i of a.split(";")){const l=i.indexOf("="),[h,p]=-1==l?[i,""]:[i.slice(0,l),i.slice(l+1)];if(h.trim()===n)return decodeURIComponent(p)}return null}class lW{constructor(n,i,l,h){this.$implicit=n,this.ngForOf=i,this.index=l,this.count=h}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ah=(()=>{class a{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,l,h){this._viewContainer=i,this._template=l,this._differs=h,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const l=this._viewContainer;i.forEachOperation((h,p,y)=>{if(null==h.previousIndex)l.createEmbeddedView(this._template,new lW(h.item,this._ngForOf,-1,-1),null===y?void 0:y);else if(null==y)l.remove(null===p?void 0:p);else if(null!==p){const b=l.get(p);l.move(b,y),zF(b,h)}});for(let h=0,p=l.length;h<p;h++){const b=l.get(h).context;b.index=h,b.count=p,b.ngForOf=this._ngForOf}i.forEachIdentityChange(h=>{zF(l.get(h.currentIndex),h)})}static ngTemplateContextGuard(i,l){return!0}static#e=this.\u0275fac=function(l){return new(l||a)(he(ls),he(il),he(y0))};static#t=this.\u0275dir=ht({type:a,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return a})();function zF(a,n){a.context.$implicit=n.item}let sh=(()=>{class a{constructor(i,l){this._viewContainer=i,this._context=new uW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=l}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){HF("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){HF("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,l){return!0}static#e=this.\u0275fac=function(l){return new(l||a)(he(ls),he(il))};static#t=this.\u0275dir=ht({type:a,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return a})();class uW{constructor(){this.$implicit=null,this.ngIf=null}}function HF(a,n){if(n&&!n.createEmbeddedView)throw new Error(`${a} must be a TemplateRef, but received '${cr(n)}'.`)}function fs(a,n){return new fe(2100,!1)}class rE{createSubscription(n,i){return Nw(()=>n.subscribe({next:i,error:l=>{throw l}}))}dispose(n){Nw(()=>n.unsubscribe())}}class yX{createSubscription(n,i){return n.then(i,l=>{throw l})}dispose(n){}}const jF=new yX,hW=new rE;let yC=(()=>{class a{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,l=>this._updateLatestValue(i,l))}_selectStrategy(i){if(Ey(i))return jF;if(aO(i))return hW;throw fs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,l){i===this._obj&&(this._latestValue=l,this._ref.markForCheck())}static#e=this.\u0275fac=function(l){return new(l||a)(he(JS,16))};static#t=this.\u0275pipe=Nn({name:"async",type:a,pure:!1,standalone:!0})}return a})();const $F=new ke("DATE_PIPE_DEFAULT_TIMEZONE"),vW=new ke("DATE_PIPE_DEFAULT_OPTIONS");let iE=(()=>{class a{constructor(i,l,h){this.locale=i,this.defaultTimezone=l,this.defaultOptions=h}transform(i,l,h,p){if(null==i||""===i||i!=i)return null;try{return aC(i,l??this.defaultOptions?.dateFormat??"mediumDate",p||this.locale,h??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(y){throw fs()}}static#e=this.\u0275fac=function(l){return new(l||a)(he(Fu,16),he($F,24),he(vW,24))};static#t=this.\u0275pipe=Nn({name:"date",type:a,pure:!0,standalone:!0})}return a})(),bC=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({})}return a})();const KF="browser";function lE(a){return a===KF}function QF(a){return"server"===a}let JF=(()=>{class a{static#e=this.\u0275prov=Pe({token:a,providedIn:"root",factory:()=>new eV(Se(wr),window)})}return a})();class eV{constructor(n,i){this.document=n,this.window=i,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const i=function CW(a,n){const i=a.getElementById(n)||a.getElementsByName(n)[0];if(i)return i;if("function"==typeof a.createTreeWalker&&a.body&&"function"==typeof a.body.attachShadow){const l=a.createTreeWalker(a.body,NodeFilter.SHOW_ELEMENT);let h=l.currentNode;for(;h;){const p=h.shadowRoot;if(p){const y=p.getElementById(n)||p.querySelector(`[name="${n}"]`);if(y)return y}h=l.nextNode()}}return null}(this.document,n);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const i=n.getBoundingClientRect(),l=i.left+this.window.pageXOffset,h=i.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(l-p[0],h-p[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class tV{}class e$ extends F4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yE extends e${static makeCurrent(){!function wF(a){zA||(zA=a)}(new yE)}onAndCancel(n,i,l){return n.addEventListener(i,l),()=>{n.removeEventListener(i,l)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=function t$(){return kv=kv||document.querySelector("base"),kv?kv.getAttribute("href"):null}();return null==i?null:function MC(a){TC=TC||document.createElement("a"),TC.setAttribute("href",a);const n=TC.pathname;return"/"===n.charAt(0)?n:`/${n}`}(i)}resetBaseElement(){kv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return mC(document.cookie,n)}}let TC,kv=null,_E=(()=>{class a{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();const wE=new ke("EventManagerPlugins");let bE=(()=>{class a{constructor(i,l){this._zone=l,this._eventNameToPlugin=new Map,i.forEach(h=>{h.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,l,h){return this._findPluginFor(l).addEventListener(i,l,h)}getZone(){return this._zone}_findPluginFor(i){let l=this._eventNameToPlugin.get(i);if(l)return l;if(l=this._plugins.find(p=>p.supports(i)),!l)throw new fe(5101,!1);return this._eventNameToPlugin.set(i,l),l}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wE),Se(pn))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();class SE{constructor(n){this._doc=n}}const CE="ng-app-id";let xE=(()=>{class a{constructor(i,l,h,p={}){this.doc=i,this.appId=l,this.nonce=h,this.platformId=p,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=QF(p),this.resetHostNodes()}addStyles(i){for(const l of i)1===this.changeUsageCount(l,1)&&this.onStyleAdded(l)}removeStyles(i){for(const l of i)this.changeUsageCount(l,-1)<=0&&this.onStyleRemoved(l)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(l=>l.remove()),i.clear());for(const l of this.getAllStyles())this.onStyleRemoved(l);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const l of this.getAllStyles())this.addStyleToHost(i,l)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const l of this.hostNodes)this.addStyleToHost(l,i)}onStyleRemoved(i){const l=this.styleRef;l.get(i)?.elements?.forEach(h=>h.remove()),l.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${CE}="${this.appId}"]`);if(i?.length){const l=new Map;return i.forEach(h=>{null!=h.textContent&&l.set(h.textContent,h)}),l}return null}changeUsageCount(i,l){const h=this.styleRef;if(h.has(i)){const p=h.get(i);return p.usage+=l,p.usage}return h.set(i,{usage:l,elements:[]}),l}getStyleElement(i,l){const h=this.styleNodesInDOM,p=h?.get(l);if(p?.parentNode===i)return h.delete(l),p.removeAttribute(CE),p;{const y=this.doc.createElement("style");return this.nonce&&y.setAttribute("nonce",this.nonce),y.textContent=l,this.platformIsServer&&y.setAttribute(CE,this.appId),y}}addStyleToHost(i,l){const h=this.getStyleElement(i,l);i.appendChild(h);const p=this.styleRef,y=p.get(l)?.elements;y?y.push(h):p.set(l,{elements:[h],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wr),Se(Zp),Se(ay,8),Se(Zo))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();const DE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},TE=/%COMP%/g,pV=new ke("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fd(a,n){return n.map(i=>i.replace(TE,a))}let AE=(()=>{class a{constructor(i,l,h,p,y,b,C,M=null){this.eventManager=i,this.sharedStylesHost=l,this.appId=h,this.removeStylesOnCompDestroy=p,this.doc=y,this.platformId=b,this.ngZone=C,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=QF(b),this.defaultRenderer=new EE(i,y,C,this.platformIsServer)}createRenderer(i,l){if(!i||!l)return this.defaultRenderer;this.platformIsServer&&l.encapsulation===Fr.ShadowDom&&(l={...l,encapsulation:Fr.Emulated});const h=this.getOrCreateRenderer(i,l);return h instanceof gV?h.applyToHost(i):h instanceof IE&&h.applyStyles(),h}getOrCreateRenderer(i,l){const h=this.rendererByCompId;let p=h.get(l.id);if(!p){const y=this.doc,b=this.ngZone,C=this.eventManager,M=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(l.encapsulation){case Fr.Emulated:p=new gV(C,M,l,this.appId,I,y,b,R);break;case Fr.ShadowDom:return new a$(C,M,i,l,y,b,this.nonce,R);default:p=new IE(C,M,l,I,y,b,R)}h.set(l.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(l){return new(l||a)(Se(bE),Se(xE),Se(Zp),Se(pV),Se(wr),Se(Zo),Se(pn),Se(ay))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();class EE{constructor(n,i,l,h){this.eventManager=n,this.doc=i,this.ngZone=l,this.platformIsServer=h,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,i){return i?this.doc.createElementNS(DE[i]||i,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,i){(vV(n)?n.content:n).appendChild(i)}insertBefore(n,i,l){n&&(vV(n)?n.content:n).insertBefore(i,l)}removeChild(n,i){n&&n.removeChild(i)}selectRootElement(n,i){let l="string"==typeof n?this.doc.querySelector(n):n;if(!l)throw new fe(-5104,!1);return i||(l.textContent=""),l}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,l,h){if(h){i=h+":"+i;const p=DE[h];p?n.setAttributeNS(p,i,l):n.setAttribute(i,l)}else n.setAttribute(i,l)}removeAttribute(n,i,l){if(l){const h=DE[l];h?n.removeAttributeNS(h,i):n.removeAttribute(`${l}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,l,h){h&(Qa.DashCase|Qa.Important)?n.style.setProperty(i,l,h&Qa.Important?"important":""):n.style[i]=l}removeStyle(n,i,l){l&Qa.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,l){n[i]=l}setValue(n,i){n.nodeValue=i}listen(n,i,l){if("string"==typeof n&&!(n=ih().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${i}`);return this.eventManager.addEventListener(n,i,this.decoratePreventDefault(l))}decoratePreventDefault(n){return i=>{if("__ngUnwrap__"===i)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(i)):n(i))&&i.preventDefault()}}}function vV(a){return"TEMPLATE"===a.tagName&&void 0!==a.content}class a$ extends EE{constructor(n,i,l,h,p,y,b,C){super(n,p,y,C),this.sharedStylesHost=i,this.hostEl=l,this.shadowRoot=l.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=fd(h.id,h.styles);for(const I of M){const R=document.createElement("style");b&&R.setAttribute("nonce",b),R.textContent=I,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,l){return super.insertBefore(this.nodeOrShadowRoot(n),i,l)}removeChild(n,i){return super.removeChild(this.nodeOrShadowRoot(n),i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class IE extends EE{constructor(n,i,l,h,p,y,b,C){super(n,p,y,b),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=h,this.styles=C?fd(C,l.styles):l.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gV extends IE{constructor(n,i,l,h,p,y,b,C){const M=h+"-"+l.id;super(n,i,l,p,y,b,C,M),this.contentAttr=function cd(a){return"_ngcontent-%COMP%".replace(TE,a)}(M),this.hostAttr=function hd(a){return"_nghost-%COMP%".replace(TE,a)}(M)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,i){const l=super.createElement(n,i);return super.setAttribute(l,this.contentAttr,""),l}}let s$=(()=>{class a extends SE{constructor(i){super(i)}supports(i){return!0}addEventListener(i,l,h){return i.addEventListener(l,h,!1),()=>this.removeEventListener(i,l,h)}removeEventListener(i,l,h){return i.removeEventListener(l,h)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wr))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();const Ov=["alt","control","meta","shift"],Uu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PE={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let l$=(()=>{class a extends SE{constructor(i){super(i)}supports(i){return null!=a.parseEventName(i)}addEventListener(i,l,h){const p=a.parseEventName(l),y=a.eventCallback(p.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ih().onAndCancel(i,p.domEventName,y))}static parseEventName(i){const l=i.toLowerCase().split("."),h=l.shift();if(0===l.length||"keydown"!==h&&"keyup"!==h)return null;const p=a._normalizeKey(l.pop());let y="",b=l.indexOf("code");if(b>-1&&(l.splice(b,1),y="code."),Ov.forEach(M=>{const I=l.indexOf(M);I>-1&&(l.splice(I,1),y+=M+".")}),y+=p,0!=l.length||0===p.length)return null;const C={};return C.domEventName=h,C.fullKey=y,C}static matchEventFullKeyCode(i,l){let h=Uu[i.key]||i.key,p="";return l.indexOf("code.")>-1&&(h=i.code,p="code."),!(null==h||!h)&&(h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),Ov.forEach(y=>{y!==h&&(0,PE[y])(i)&&(p+=y+".")}),p+=h,p===l)}static eventCallback(i,l,h){return p=>{a.matchEventFullKeyCode(p,i)&&h.runGuarded(()=>l(p))}}static _normalizeKey(i){return"esc"===i?"escape":i}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wr))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();const kE=[{provide:Zo,useValue:KF},{provide:iy,useValue:function mV(){yE.makeCurrent()},multi:!0},{provide:wr,useFactory:function yV(){return function aT(a){oT=a}(document),document},deps:[]}],_V=CA(kA,"browser",kE),wV=new ke(""),OE=[{provide:qS,useClass:class n${addToWindow(n){wn.getAngularTestability=(l,h=!0)=>{const p=n.findTestabilityInTree(l,h);if(null==p)throw new fe(5103,!1);return p},wn.getAllAngularTestabilities=()=>n.getAllTestabilities(),wn.getAllAngularRootElements=()=>n.getAllRootElements(),wn.frameworkStabilizers||(wn.frameworkStabilizers=[]),wn.frameworkStabilizers.push(l=>{const h=wn.getAllAngularTestabilities();let p=h.length,y=!1;const b=function(C){y=y||C,p--,0==p&&l(y)};h.forEach(C=>{C.whenStable(b)})})}findTestabilityInTree(n,i,l){return null==i?null:n.getTestability(i)??(l?ih().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null)}},deps:[]},{provide:HN,useClass:Jo,deps:[pn,Cn,qS]},{provide:Jo,useClass:Jo,deps:[pn,Cn,qS]}],NE=[{provide:Sf,useValue:"root"},{provide:Sa,useFactory:function u$(){return new Sa},deps:[]},{provide:wE,useClass:s$,multi:!0,deps:[wr,pn,Zo]},{provide:wE,useClass:l$,multi:!0,deps:[wr]},AE,xE,bE,{provide:Ri,useExisting:AE},{provide:tV,useClass:_E,deps:[]},[]];let FE=(()=>{class a{constructor(i){}static withServerTransition(i){return{ngModule:a,providers:[{provide:Zp,useValue:i.appId}]}}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wV,12))};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({providers:[...NE,...OE],imports:[bC,sF]})}return a})(),bV=(()=>{class a{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wr))};static#t=this.\u0275prov=Pe({token:a,factory:function(l){let h=null;return h=l?new l:function h$(){return new bV(Se(wr))}(),h},providedIn:"root"})}return a})();typeof window<"u"&&window;let DV=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(l){let h=null;return h=l?new(l||a):Se(VE),h},providedIn:"root"})}return a})(),VE=(()=>{class a extends DV{constructor(i){super(),this._doc=i}sanitize(i,l){if(null==l)return null;switch(i){case Xi.NONE:return l;case Xi.HTML:return Ao(l,"HTML")?Kr(l):pT(this._doc,String(l)).toString();case Xi.STYLE:return Ao(l,"Style")?Kr(l):l;case Xi.SCRIPT:if(Ao(l,"Script"))return Kr(l);throw new fe(5200,!1);case Xi.URL:return Ao(l,"URL")?Kr(l):es(String(l));case Xi.RESOURCE_URL:if(Ao(l,"ResourceURL"))return Kr(l);throw new fe(5201,!1);default:throw new fe(5202,!1)}}bypassSecurityTrustHtml(i){return function kG(a){return new Jn(a)}(i)}bypassSecurityTrustStyle(i){return function cT(a){return new uT(a)}(i)}bypassSecurityTrustScript(i){return function OR(a){return new kR(a)}(i)}bypassSecurityTrustUrl(i){return function OG(a){return new LG(a)}(i)}bypassSecurityTrustResourceUrl(i){return function NR(a){return new Si(a)}(i)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wr))};static#t=this.\u0275prov=Pe({token:a,factory:function(l){let h=null;return h=l?new l:function y$(a){return new VE(a.get(wr))}(Se(mr)),h},providedIn:"root"})}return a})();const{isArray:w$}=Array,{getPrototypeOf:TV,prototype:L0,keys:b$}=Object;function MV(a){if(1===a.length){const n=a[0];if(w$(n))return{args:n,keys:null};if(function S$(a){return a&&"object"==typeof a&&TV(a)===L0}(n)){const i=b$(n);return{args:i.map(l=>n[l]),keys:i}}}return{args:a,keys:null}}const{isArray:BE}=Array;function HE(a){return jt(n=>function zE(a,n){return BE(n)?a(...n):a(n)}(a,n))}function AV(a,n){return a.reduce((i,l,h)=>(i[l]=n[h],i),{})}function GE(...a){const n=np(a),{args:i,keys:l}=MV(a),h=new qn(p=>{const{length:y}=i;if(!y)return void p.complete();const b=new Array(y);let C=y,M=y;for(let I=0;I<y;I++){let R=!1;kr(i[I]).subscribe(Ln(p,V=>{R||(R=!0,M--),b[I]=V},()=>C--,void 0,()=>{(!C||!R)&&(M||p.next(l?AV(l,b):b),p.complete())}))}});return n?h.pipe(HE(n)):h}let EV=(()=>{class a{constructor(i,l){this._renderer=i,this._elementRef=l,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(i,l){this._renderer.setProperty(this._elementRef.nativeElement,i,l)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static#e=this.\u0275fac=function(l){return new(l||a)(he(Qr),he(dn))};static#t=this.\u0275dir=ht({type:a})}return a})(),dd=(()=>{class a extends EV{static#e=this.\u0275fac=function(){let i;return function(h){return(i||(i=Yr(a)))(h||a)}}();static#t=this.\u0275dir=ht({type:a,features:[Tn]})}return a})();const hl=new ke("NgValueAccessor"),C$={provide:hl,useExisting:Rn(()=>hh),multi:!0},LV=new ke("CompositionEventMode");let hh=(()=>{class a extends EV{constructor(i,l,h){super(i,l),this._compositionMode=h,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function PV(){const a=ih()?ih().getUserAgent():"";return/android (\d+)/.test(a.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static#e=this.\u0275fac=function(l){return new(l||a)(he(Qr),he(dn),he(LV,8))};static#t=this.\u0275dir=ht({type:a,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(l,h){1&l&&He("input",function(y){return h._handleInput(y.target.value)})("blur",function(){return h.onTouched()})("compositionstart",function(){return h._compositionStart()})("compositionend",function(y){return h._compositionEnd(y.target.value)})},features:[Kn([C$]),Tn]})}return a})();function fl(a){return null==a||("string"==typeof a||Array.isArray(a))&&0===a.length}function RV(a){return null!=a&&"number"==typeof a.length}const Hn=new ke("NgValidators"),fh=new ke("NgAsyncValidators"),x$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ra{static min(n){return function kV(a){return n=>{if(fl(n.value)||fl(a))return null;const i=parseFloat(n.value);return!isNaN(i)&&i<a?{min:{min:a,actual:n.value}}:null}}(n)}static max(n){return function OV(a){return n=>{if(fl(n.value)||fl(a))return null;const i=parseFloat(n.value);return!isNaN(i)&&i>a?{max:{max:a,actual:n.value}}:null}}(n)}static required(n){return function NV(a){return fl(a.value)?{required:!0}:null}(n)}static requiredTrue(n){return function FV(a){return!0===a.value?null:{required:!0}}(n)}static email(n){return function jE(a){return fl(a.value)||x$.test(a.value)?null:{email:!0}}(n)}static minLength(n){return function IC(a){return n=>fl(n.value)||!RV(n.value)?null:n.value.length<a?{minlength:{requiredLength:a,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function WE(a){return n=>RV(n.value)&&n.value.length>a?{maxlength:{requiredLength:a,actualLength:n.value.length}}:null}(n)}static pattern(n){return function VV(a){if(!a)return PC;let n,i;return"string"==typeof a?(i="","^"!==a.charAt(0)&&(i+="^"),i+=a,"$"!==a.charAt(a.length-1)&&(i+="$"),n=new RegExp(i)):(i=a.toString(),n=a),l=>{if(fl(l.value))return null;const h=l.value;return n.test(h)?null:{pattern:{requiredPattern:i,actualValue:h}}}}(n)}static nullValidator(n){return null}static compose(n){return zV(n)}static composeAsync(n){return HV(n)}}function PC(a){return null}function BV(a){return null!=a}function LC(a){return Ey(a)?Mt(a):a}function Fv(a){let n={};return a.forEach(i=>{n=null!=i?{...n,...i}:n}),0===Object.keys(n).length?null:n}function $E(a,n){return n.map(i=>i(a))}function R0(a){return a.map(n=>function qE(a){return!a.validate}(n)?n:i=>n.validate(i))}function zV(a){if(!a)return null;const n=a.filter(BV);return 0==n.length?null:function(i){return Fv($E(i,n))}}function ZE(a){return null!=a?zV(R0(a)):null}function HV(a){if(!a)return null;const n=a.filter(BV);return 0==n.length?null:function(i){return GE($E(i,n).map(LC)).pipe(jt(Fv))}}function pd(a){return null!=a?HV(R0(a)):null}function GV(a,n){return null===a?[n]:Array.isArray(a)?[...a,n]:[a,n]}function UV(a){return a._rawValidators}function jV(a){return a._rawAsyncValidators}function YE(a){return a?Array.isArray(a)?a:[a]:[]}function RC(a,n){return Array.isArray(a)?a.includes(n):a===n}function XE(a,n){const i=YE(n);return YE(a).forEach(h=>{RC(i,h)||i.push(h)}),i}function WV(a,n){return YE(n).filter(i=>!RC(a,i))}class KE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ZE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=pd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}class so extends KE{get formDirective(){return null}get path(){return null}}class ju extends KE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $V{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vv=(()=>{class a extends $V{constructor(i){super(i)}static#e=this.\u0275fac=function(l){return new(l||a)(he(ju,2))};static#t=this.\u0275dir=ht({type:a,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(l,h){2&l&&jn("ng-untouched",h.isUntouched)("ng-touched",h.isTouched)("ng-pristine",h.isPristine)("ng-dirty",h.isDirty)("ng-valid",h.isValid)("ng-invalid",h.isInvalid)("ng-pending",h.isPending)},features:[Tn]})}return a})(),vd=(()=>{class a extends $V{constructor(i){super(i)}static#e=this.\u0275fac=function(l){return new(l||a)(he(so,10))};static#t=this.\u0275dir=ht({type:a,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(l,h){2&l&&jn("ng-untouched",h.isUntouched)("ng-touched",h.isTouched)("ng-pristine",h.isPristine)("ng-dirty",h.isDirty)("ng-valid",h.isValid)("ng-invalid",h.isInvalid)("ng-pending",h.isPending)("ng-submitted",h.isSubmitted)},features:[Tn]})}return a})();const k0="VALID",dh="INVALID",zv="PENDING",O0="DISABLED";function tI(a){return(Hv(a)?a.validators:a)||null}function nI(a,n){return(Hv(n)?n.asyncValidators:a)||null}function Hv(a){return null!=a&&!Array.isArray(a)&&"object"==typeof a}function YV(a,n,i){const l=a.controls;if(!(n?Object.keys(l):l).length)throw new fe(1e3,"");if(!l[i])throw new fe(1001,"")}function XV(a,n,i){a._forEachChild((l,h)=>{if(void 0===i[h])throw new fe(1002,"")})}class Gv{constructor(n,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===k0}get invalid(){return this.status===dh}get pending(){return this.status==zv}get disabled(){return this.status===O0}get enabled(){return this.status!==O0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(XE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(XE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(WV(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(WV(n,this._rawAsyncValidators))}hasValidator(n){return RC(this._rawValidators,n)}hasAsyncValidator(n){return RC(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=zv,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=O0,this.errors=null,this._forEachChild(l=>{l.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:i}),this._onDisabledChange.forEach(l=>l(!0))}enable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=k0,this._forEachChild(l=>{l.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:i}),this._onDisabledChange.forEach(l=>l(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k0||this.status===zv)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?O0:k0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=zv,this._hasOwnPendingAsyncValidator=!0;const i=LC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(l=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(l,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(!1!==i.emitEvent)}get(n){let i=n;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((l,h)=>l&&l._find(h),this)}getError(n,i){const l=i?this.get(i):this;return l&&l.errors?l.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new mn,this.statusChanges=new mn}_calculateStatus(){return this._allControlsDisabled()?O0:this.errors?dh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zv)?zv:this._anyControlsHaveStatus(dh)?dh:k0}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Hv(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function N0(a){return Array.isArray(a)?ZE(a):a||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function OC(a){return Array.isArray(a)?pd(a):a||null}(this._rawAsyncValidators)}}class ph extends Gv{constructor(n,i,l){super(tI(i),nI(l,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,i){return this.controls[n]?this.controls[n]:(this.controls[n]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(n,i,l={}){this.registerControl(n,i),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}removeControl(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(n,i,l={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],i&&this.registerControl(n,i),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,i={}){XV(this,0,n),Object.keys(n).forEach(l=>{YV(this,!0,l),this.controls[l].setValue(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(Object.keys(n).forEach(l=>{const h=this.controls[l];h&&h.patchValue(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n={},i={}){this._forEachChild((l,h)=>{l.reset(n[h],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(n,i,l)=>(n[l]=i.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(i,l)=>!!l._syncPendingControls()||i);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(i=>{const l=this.controls[i];l&&n(l,i)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[i,l]of Object.entries(this.controls))if(this.contains(i)&&n(l))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,l,h)=>((l.enabled||this.disabled)&&(i[h]=l.value),i))}_reduceChildren(n,i){let l=n;return this._forEachChild((h,p)=>{l=i(l,h,p)}),l}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class Uv extends ph{}const Wu=new ke("CallSetDisabledState",{providedIn:"root",factory:()=>gd}),gd="always";function V0(a,n,i=gd){FC(a,n),n.valueAccessor.writeValue(a.value),(a.disabled||"always"===i)&&n.valueAccessor.setDisabledState?.(a.disabled),function KV(a,n){n.valueAccessor.registerOnChange(i=>{a._pendingValue=i,a._pendingChange=!0,a._pendingDirty=!0,"change"===a.updateOn&&rI(a,n)})}(a,n),function N$(a,n){const i=(l,h)=>{n.valueAccessor.writeValue(l),h&&n.viewToModelUpdate(l)};a.registerOnChange(i),n._registerOnDestroy(()=>{a._unregisterOnChange(i)})}(a,n),function O$(a,n){n.valueAccessor.registerOnTouched(()=>{a._pendingTouched=!0,"blur"===a.updateOn&&a._pendingChange&&rI(a,n),"submit"!==a.updateOn&&a.markAsTouched()})}(a,n),function k$(a,n){if(n.valueAccessor.setDisabledState){const i=l=>{n.valueAccessor.setDisabledState(l)};a.registerOnDisabledChange(i),n._registerOnDestroy(()=>{a._unregisterOnDisabledChange(i)})}}(a,n)}function md(a,n,i=!0){const l=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(l),n.valueAccessor.registerOnTouched(l)),VC(a,n),a&&(n._invokeOnDestroyCallbacks(),a._registerOnCollectionChange(()=>{}))}function Gr(a,n){a.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function FC(a,n){const i=UV(a);null!==n.validator?a.setValidators(GV(i,n.validator)):"function"==typeof i&&a.setValidators([i]);const l=jV(a);null!==n.asyncValidator?a.setAsyncValidators(GV(l,n.asyncValidator)):"function"==typeof l&&a.setAsyncValidators([l]);const h=()=>a.updateValueAndValidity();Gr(n._rawValidators,h),Gr(n._rawAsyncValidators,h)}function VC(a,n){let i=!1;if(null!==a){if(null!==n.validator){const h=UV(a);if(Array.isArray(h)&&h.length>0){const p=h.filter(y=>y!==n.validator);p.length!==h.length&&(i=!0,a.setValidators(p))}}if(null!==n.asyncValidator){const h=jV(a);if(Array.isArray(h)&&h.length>0){const p=h.filter(y=>y!==n.asyncValidator);p.length!==h.length&&(i=!0,a.setAsyncValidators(p))}}}const l=()=>{};return Gr(n._rawValidators,l),Gr(n._rawAsyncValidators,l),i}function rI(a,n){a._pendingDirty&&a.markAsDirty(),a.setValue(a._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(a._pendingValue),a._pendingChange=!1}function nB(a,n){const i=a.indexOf(n);i>-1&&a.splice(i,1)}function rB(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}const H0=class extends Gv{constructor(n=null,i,l){super(tI(i),nI(l,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hv(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=rB(n)?n.value:n)}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(l=>l(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=this.defaultValue,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){nB(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){nB(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){rB(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let Wv=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275dir=ht({type:a,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return a})(),HC=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({})}return a})();const W0=new ke("NgModelWithFormControlWarning"),$0={provide:so,useExisting:Rn(()=>vh)};let vh=(()=>{class a extends so{constructor(i,l,h){super(),this.callSetDisabledState=h,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new mn,this._setValidators(i),this._setAsyncValidators(l)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(VC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const l=this.form.get(i.path);return V0(l,i,this.callSetDisabledState),l.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),l}getControl(i){return this.form.get(i.path)}removeControl(i){md(i.control||null,i,!1),function z$(a,n){const i=a.indexOf(n);i>-1&&a.splice(i,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,l){this.form.get(i.path).setValue(l)}onSubmit(i){return this.submitted=!0,function eB(a,n){a._syncPendingControls(),n.forEach(i=>{const l=i.control;"submit"===l.updateOn&&l._pendingChange&&(i.viewToModelUpdate(l._pendingValue),l._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const l=i.control,h=this.form.get(i.path);l!==h&&(md(l||null,i),(a=>a instanceof H0)(h)&&(V0(h,i,this.callSetDisabledState),i.control=h))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const l=this.form.get(i.path);(function BC(a,n){FC(a,n)})(l,i),l.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const l=this.form.get(i.path);l&&function F$(a,n){return VC(a,n)}(l,i)&&l.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FC(this.form,this),this._oldForm&&VC(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(l){return new(l||a)(he(Hn,10),he(fh,10),he(Wu,8))};static#t=this.\u0275dir=ht({type:a,selectors:[["","formGroup",""]],hostBindings:function(l,h){1&l&&He("submit",function(y){return h.onSubmit(y)})("reset",function(){return h.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kn([$0]),Tn,Go]})}return a})();const qv={provide:ju,useExisting:Rn(()=>Zv)};let Zv=(()=>{class a extends ju{set isDisabled(i){}static#e=this._ngModelWarningSentOnce=!1;constructor(i,l,h,p,y){super(),this._ngModelWarningConfig=y,this._added=!1,this.name=null,this.update=new mn,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(l),this._setAsyncValidators(h),this.valueAccessor=function oI(a,n){if(!n)return null;let i,l,h;return Array.isArray(n),n.forEach(p=>{p.constructor===hh?i=p:function JV(a){return Object.getPrototypeOf(a.constructor)===dd}(p)?l=p:h=p}),h||l||i||null}(0,p)}ngOnChanges(i){this._added||this._setUpControl(),function B0(a,n){if(!a.hasOwnProperty("model"))return!1;const i=a.model;return!!i.isFirstChange()||!Object.is(n,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function F0(a,n){return[...n.path,a]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(l){return new(l||a)(he(so,13),he(Hn,10),he(fh,10),he(hl,10),he(W0,8))};static#n=this.\u0275dir=ht({type:a,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Kn([qv]),Tn,Go]})}return a})(),cB=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({imports:[HC]})}return a})();class hB extends Gv{constructor(n,i,l){super(tI(i),nI(l,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,i={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(n,i,l={}){this.controls.splice(n,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:l.emitEvent})}removeAt(n,i={}){let l=this._adjustIndex(n);l<0&&(l=0),this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),this.controls.splice(l,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(n,i,l={}){let h=this._adjustIndex(n);h<0&&(h=0),this.controls[h]&&this.controls[h]._registerOnCollectionChange(()=>{}),this.controls.splice(h,1),i&&(this.controls.splice(h,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,i={}){XV(this,0,n),n.forEach((l,h)=>{YV(this,!1,h),this.at(h).setValue(l,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(n.forEach((l,h)=>{this.at(h)&&this.at(h).patchValue(l,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n=[],i={}){this._forEachChild((l,h)=>{l.reset(n[h],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((i,l)=>!!l._syncPendingControls()||i,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((i,l)=>{n(i,l)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(i=>i.enabled&&n(i))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function mh(a){return!!a&&(void 0!==a.asyncValidators||void 0!==a.validators||void 0!==a.updateOn)}let Y0=(()=>{class a{constructor(){this.useNonNullable=!1}get nonNullable(){const i=new a;return i.useNonNullable=!0,i}group(i,l=null){const h=this._reduceControls(i);let p={};return mh(l)?p=l:null!==l&&(p.validators=l.validator,p.asyncValidators=l.asyncValidator),new ph(h,p)}record(i,l=null){const h=this._reduceControls(i);return new Uv(h,l)}control(i,l,h){let p={};return this.useNonNullable?(mh(l)?p=l:(p.validators=l,p.asyncValidators=h),new H0(i,{...p,nonNullable:!0})):new H0(i,l,h)}array(i,l,h){const p=i.map(y=>this._createControl(y));return new hB(p,l,h)}_reduceControls(i){const l={};return Object.keys(i).forEach(h=>{l[h]=this._createControl(i[h])}),l}_createControl(i){return i instanceof H0||i instanceof Gv?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),l6=(()=>{class a{static withConfig(i){return{ngModule:a,providers:[{provide:Wu,useValue:i.callSetDisabledState??gd}]}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({imports:[cB]})}return a})(),u6=(()=>{class a{static withConfig(i){return{ngModule:a,providers:[{provide:W0,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Wu,useValue:i.callSetDisabledState??gd}]}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({imports:[cB]})}return a})();function CI(...a){const n=za(a),i=np(a),{args:l,keys:h}=MV(a);if(0===l.length)return Mt([],n);const p=new qn(function h6(a,n,i=fo){return l=>{fB(n,()=>{const{length:h}=a,p=new Array(h);let y=h,b=h;for(let C=0;C<h;C++)fB(n,()=>{const M=Mt(a[C],n);let I=!1;M.subscribe(Ln(l,R=>{p[C]=R,I||(I=!0,b--),b||l.next(i(p.slice()))},()=>{--y||l.complete()}))},l)},l)}}(l,n,h?y=>AV(h,y):fo));return i?p.pipe(HE(i)):p}function fB(a,n,i){a?la(i,a,n):n()}const YC=ic(a=>function(){a(this),this.name="EmptyError",this.message="no elements in sequence"});function Yv(...a){return function f6(){return Qe(1)}()(Mt(a,za(a)))}function Xv(a){return new qn(n=>{kr(a()).subscribe(n)})}function wd(a,n){const i=Tt(a)?a:()=>a,l=h=>h.error(i());return new qn(n?h=>n.schedule(l,0,h):l)}function xI(){return hn((a,n)=>{let i=null;a._refCount++;const l=Ln(n,void 0,void 0,void 0,()=>{if(!a||a._refCount<=0||0<--a._refCount)return void(i=null);const h=a._connection,p=i;i=null,h&&(!p||h===p)&&h.unsubscribe(),n.unsubscribe()});a.subscribe(l),l.closed||(i=a.connect())})}class dB extends qn{constructor(n,i){super(),this.source=n,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,ow(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Wr;const i=this.getSubject();n.add(this.source.subscribe(Ln(i,void 0,()=>{this._teardown(),i.complete()},l=>{this._teardown(),i.error(l)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Wr.EMPTY)}return n}refCount(){return xI()(this)}}function yh(a){return a<=0?()=>Gn:hn((n,i)=>{let l=0;n.subscribe(Ln(i,h=>{++l<=a&&(i.next(h),a<=l&&i.complete())}))})}function vs(a,n){return hn((i,l)=>{let h=0;i.subscribe(Ln(l,p=>a.call(n,p,h++)&&l.next(p)))})}function XC(a){return hn((n,i)=>{let l=!1;n.subscribe(Ln(i,h=>{l=!0,i.next(h)},()=>{l||i.next(a),i.complete()}))})}function pB(a=p6){return hn((n,i)=>{let l=!1;n.subscribe(Ln(i,h=>{l=!0,i.next(h)},()=>l?i.complete():i.error(a())))})}function p6(){return new YC}function bd(a,n){const i=arguments.length>=2;return l=>l.pipe(a?vs((h,p)=>a(h,p,l)):fo,yh(1),i?XC(n):pB(()=>new YC))}function dl(a,n){return Tt(n)?$t(a,n,1):$t(a,1)}function Ir(a,n,i){const l=Tt(a)||n||i?{next:a,error:n,complete:i}:a;return l?hn((h,p)=>{var y;null===(y=l.subscribe)||void 0===y||y.call(l);let b=!0;h.subscribe(Ln(p,C=>{var M;null===(M=l.next)||void 0===M||M.call(l,C),p.next(C)},()=>{var C;b=!1,null===(C=l.complete)||void 0===C||C.call(l),p.complete()},C=>{var M;b=!1,null===(M=l.error)||void 0===M||M.call(l,C),p.error(C)},()=>{var C,M;b&&(null===(C=l.unsubscribe)||void 0===C||C.call(l)),null===(M=l.finalize)||void 0===M||M.call(l)}))}):fo}function pl(a){return hn((n,i)=>{let p,l=null,h=!1;l=n.subscribe(Ln(i,void 0,void 0,y=>{p=kr(a(y,pl(a)(n))),l?(l.unsubscribe(),l=null,p.subscribe(i)):h=!0})),h&&(l.unsubscribe(),l=null,p.subscribe(i))})}function vB(a,n){return hn(function v6(a,n,i,l,h){return(p,y)=>{let b=i,C=n,M=0;p.subscribe(Ln(y,I=>{const R=M++;C=b?a(C,I,R):(b=!0,I),l&&y.next(C)},h&&(()=>{b&&y.next(C),y.complete()})))}}(a,n,arguments.length>=2,!0))}function DI(a){return a<=0?()=>Gn:hn((n,i)=>{let l=[];n.subscribe(Ln(i,h=>{l.push(h),a<l.length&&l.shift()},()=>{for(const h of l)i.next(h);i.complete()},void 0,()=>{l=null}))})}function Kv(a){return hn((n,i)=>{try{n.subscribe(i)}finally{i.add(a)}})}function TI(a){return hn((n,i)=>{kr(a).subscribe(Ln(i,()=>i.complete(),ve)),!i.closed&&n.subscribe(i)})}const Ft="primary",Sd=Symbol("RouteTitle");class y6{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i[0]:i}return null}getAll(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Qv(a){return new y6(a)}function _6(a,n,i){const l=i.path.split("/");if(l.length>a.length||"full"===i.pathMatch&&(n.hasChildren()||l.length<a.length))return null;const h={};for(let p=0;p<l.length;p++){const y=l[p],b=a[p];if(y.startsWith(":"))h[y.substring(1)]=b;else if(y!==b.path)return null}return{consumed:a.slice(0,l.length),posParams:h}}function vl(a,n){const i=a?Object.keys(a):void 0,l=n?Object.keys(n):void 0;if(!i||!l||i.length!=l.length)return!1;let h;for(let p=0;p<i.length;p++)if(h=i[p],!gB(a[h],n[h]))return!1;return!0}function gB(a,n){if(Array.isArray(a)&&Array.isArray(n)){if(a.length!==n.length)return!1;const i=[...a].sort(),l=[...n].sort();return i.every((h,p)=>l[p]===h)}return a===n}function mB(a){return a.length>0?a[a.length-1]:null}function _h(a){return function c6(a){return!!a&&(a instanceof qn||Tt(a.lift)&&Tt(a.subscribe))}(a)?a:Ey(a)?Mt(Promise.resolve(a)):Le(a)}const b6={exact:function wB(a,n,i){if(!na(a.segments,n.segments)||!QC(a.segments,n.segments,i)||a.numberOfChildren!==n.numberOfChildren)return!1;for(const l in n.children)if(!a.children[l]||!wB(a.children[l],n.children[l],i))return!1;return!0},subset:bB},yB={exact:function S6(a,n){return vl(a,n)},subset:function C6(a,n){return Object.keys(n).length<=Object.keys(a).length&&Object.keys(n).every(i=>gB(a[i],n[i]))},ignored:()=>!0};function _B(a,n,i){return b6[i.paths](a.root,n.root,i.matrixParams)&&yB[i.queryParams](a.queryParams,n.queryParams)&&!("exact"===i.fragment&&a.fragment!==n.fragment)}function bB(a,n,i){return KC(a,n,n.segments,i)}function KC(a,n,i,l){if(a.segments.length>i.length){const h=a.segments.slice(0,i.length);return!(!na(h,i)||n.hasChildren()||!QC(h,i,l))}if(a.segments.length===i.length){if(!na(a.segments,i)||!QC(a.segments,i,l))return!1;for(const h in n.children)if(!a.children[h]||!bB(a.children[h],n.children[h],l))return!1;return!0}{const h=i.slice(0,a.segments.length),p=i.slice(a.segments.length);return!!(na(a.segments,h)&&QC(a.segments,h,l)&&a.children[Ft])&&KC(a.children[Ft],n,p,l)}}function QC(a,n,i){return n.every((l,h)=>yB[i](a[h].parameters,l.parameters))}class Jv{constructor(n=new En([],{}),i={},l=null){this.root=n,this.queryParams=i,this.fragment=l}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qv(this.queryParams)),this._queryParamMap}toString(){return SB.serialize(this)}}class En{constructor(n,i){this.segments=n,this.children=i,this.parent=null,Object.values(i).forEach(l=>l.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Q0(this)}}class X0{constructor(n,i){this.path=n,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Qv(this.parameters)),this._parameterMap}toString(){return DB(this)}}function na(a,n){return a.length===n.length&&a.every((i,l)=>i.path===n[l].path)}let gl=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(){return new K0},providedIn:"root"})}return a})();class K0{parse(n){const i=new I6(n);return new Jv(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(n){const i=`/${eg(n.root,!0)}`,l=function M6(a){const n=Object.keys(a).map(i=>{const l=a[i];return Array.isArray(l)?l.map(h=>`${J0(i)}=${J0(h)}`).join("&"):`${J0(i)}=${J0(l)}`}).filter(i=>!!i);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${i}${l}${"string"==typeof n.fragment?`#${function D6(a){return encodeURI(a)}(n.fragment)}`:""}`}}const SB=new K0;function Q0(a){return a.segments.map(n=>DB(n)).join("/")}function eg(a,n){if(!a.hasChildren())return Q0(a);if(n){const i=a.children[Ft]?eg(a.children[Ft],!1):"",l=[];return Object.entries(a.children).forEach(([h,p])=>{h!==Ft&&l.push(`${h}:${eg(p,!1)}`)}),l.length>0?`${i}(${l.join("//")})`:i}{const i=function MI(a,n){let i=[];return Object.entries(a.children).forEach(([l,h])=>{l===Ft&&(i=i.concat(n(h,l)))}),Object.entries(a.children).forEach(([l,h])=>{l!==Ft&&(i=i.concat(n(h,l)))}),i}(a,(l,h)=>h===Ft?[eg(a.children[Ft],!1)]:[`${h}:${eg(l,!1)}`]);return 1===Object.keys(a.children).length&&null!=a.children[Ft]?`${Q0(a)}/${i[0]}`:`${Q0(a)}/(${i.join("//")})`}}function CB(a){return encodeURIComponent(a).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J0(a){return CB(a).replace(/%3B/gi,";")}function AI(a){return CB(a).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cd(a){return decodeURIComponent(a)}function xB(a){return Cd(a.replace(/\+/g,"%20"))}function DB(a){return`${AI(a.path)}${function T6(a){return Object.keys(a).map(n=>`;${AI(n)}=${AI(a[n])}`).join("")}(a.parameters)}`}const A6=/^[^\/()?;#]+/;function EI(a){const n=a.match(A6);return n?n[0]:""}const TB=/^[^\/()?;=#]+/,xd=/^[^=?&#]+/,tg=/^[^&#]+/;class I6{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let l={};return this.peekStartsWith("(")&&(l=this.parseParens(!1)),(n.length>0||Object.keys(i).length>0)&&(l[Ft]=new En(n,i)),l}parseSegment(){const n=EI(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(n),new X0(Cd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const i=function MB(a){const n=a.match(TB);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let l="";if(this.consumeOptional("=")){const h=EI(this.remaining);h&&(l=h,this.capture(l))}n[Cd(i)]=Cd(l)}parseQueryParam(n){const i=function e_(a){const n=a.match(xd);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let l="";if(this.consumeOptional("=")){const y=function E6(a){const n=a.match(tg);return n?n[0]:""}(this.remaining);y&&(l=y,this.capture(l))}const h=xB(i),p=xB(l);if(n.hasOwnProperty(h)){let y=n[h];Array.isArray(y)||(y=[y],n[h]=y),y.push(p)}else n[h]=p}parseParens(n){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const l=EI(this.remaining),h=this.remaining[l.length];if("/"!==h&&")"!==h&&";"!==h)throw new fe(4010,!1);let p;l.indexOf(":")>-1?(p=l.slice(0,l.indexOf(":")),this.capture(p),this.capture(":")):n&&(p=Ft);const y=this.parseChildren();i[p]=1===Object.keys(y).length?y[Ft]:new En([],y),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new fe(4011,!1)}}function AB(a){return a.segments.length>0?new En([],{[Ft]:a}):a}function EB(a){const n={};for(const l of Object.keys(a.children)){const p=EB(a.children[l]);if(l===Ft&&0===p.segments.length&&p.hasChildren())for(const[y,b]of Object.entries(p.children))n[y]=b;else(p.segments.length>0||p.hasChildren())&&(n[l]=p)}return function IB(a){if(1===a.numberOfChildren&&a.children[Ft]){const n=a.children[Ft];return new En(a.segments.concat(n.segments),n.children)}return a}(new En(a.segments,n))}function Dd(a){return a instanceof Jv}function II(a){let n;const h=AB(function i(p){const y={};for(const C of p.children){const M=i(C);y[C.outlet]=M}const b=new En(p.url,y);return p===a&&(n=b),b}(a.root));return n??h}function PB(a,n,i,l){let h=a;for(;h.parent;)h=h.parent;if(0===n.length)return e1(h,h,h,i,l);const p=function RI(a){if("string"==typeof a[0]&&1===a.length&&"/"===a[0])return new LI(!0,0,a);let n=0,i=!1;const l=a.reduce((h,p,y)=>{if("object"==typeof p&&null!=p){if(p.outlets){const b={};return Object.entries(p.outlets).forEach(([C,M])=>{b[C]="string"==typeof M?M.split("/"):M}),[...h,{outlets:b}]}if(p.segmentPath)return[...h,p.segmentPath]}return"string"!=typeof p?[...h,p]:0===y?(p.split("/").forEach((b,C)=>{0==C&&"."===b||(0==C&&""===b?i=!0:".."===b?n++:""!=b&&h.push(b))}),h):[...h,p]},[]);return new LI(i,n,l)}(n);if(p.toRoot())return e1(h,h,new En([],{}),i,l);const y=function kI(a,n,i){if(a.isAbsolute)return new rg(n,!0,0);if(!i)return new rg(n,!1,NaN);if(null===i.parent)return new rg(i,!0,0);const l=JC(a.commands[0])?0:1;return function LB(a,n,i){let l=a,h=n,p=i;for(;p>h;){if(p-=h,l=l.parent,!l)throw new fe(4005,!1);h=l.segments.length}return new rg(l,!1,h-p)}(i,i.segments.length-1+l,a.numberOfDoubleDots)}(p,h,a),b=y.processChildren?t_(y.segmentGroup,y.index,p.commands):wh(y.segmentGroup,y.index,p.commands);return e1(h,y.segmentGroup,b,i,l)}function JC(a){return"object"==typeof a&&null!=a&&!a.outlets&&!a.segmentPath}function ng(a){return"object"==typeof a&&null!=a&&a.outlets}function e1(a,n,i,l,h){let y,p={};l&&Object.entries(l).forEach(([C,M])=>{p[C]=Array.isArray(M)?M.map(I=>`${I}`):`${M}`}),y=a===n?i:PI(a,n,i);const b=AB(EB(y));return new Jv(b,p,h)}function PI(a,n,i){const l={};return Object.entries(a.children).forEach(([h,p])=>{l[h]=p===n?i:PI(p,n,i)}),new En(a.segments,l)}class LI{constructor(n,i,l){if(this.isAbsolute=n,this.numberOfDoubleDots=i,this.commands=l,n&&l.length>0&&JC(l[0]))throw new fe(4003,!1);const h=l.find(ng);if(h&&h!==mB(l))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rg{constructor(n,i,l){this.segmentGroup=n,this.processChildren=i,this.index=l}}function wh(a,n,i){if(a||(a=new En([],{})),0===a.segments.length&&a.hasChildren())return t_(a,n,i);const l=function RB(a,n,i){let l=0,h=n;const p={match:!1,pathIndex:0,commandIndex:0};for(;h<a.segments.length;){if(l>=i.length)return p;const y=a.segments[h],b=i[l];if(ng(b))break;const C=`${b}`,M=l<i.length-1?i[l+1]:null;if(h>0&&void 0===C)break;if(C&&M&&"object"==typeof M&&void 0===M.outlets){if(!ml(C,M,y))return p;l+=2}else{if(!ml(C,{},y))return p;l++}h++}return{match:!0,pathIndex:h,commandIndex:l}}(a,n,i),h=i.slice(l.commandIndex);if(l.match&&l.pathIndex<a.segments.length){const p=new En(a.segments.slice(0,l.pathIndex),{});return p.children[Ft]=new En(a.segments.slice(l.pathIndex),a.children),t_(p,0,h)}return l.match&&0===h.length?new En(a.segments,{}):l.match&&!a.hasChildren()?t1(a,n,i):l.match?t_(a,0,h):t1(a,n,i)}function t_(a,n,i){if(0===i.length)return new En(a.segments,{});{const l=function OI(a){return ng(a[0])?a[0].outlets:{[Ft]:a}}(i),h={};if(Object.keys(l).some(p=>p!==Ft)&&a.children[Ft]&&1===a.numberOfChildren&&0===a.children[Ft].segments.length){const p=t_(a.children[Ft],n,i);return new En(a.segments,p.children)}return Object.entries(l).forEach(([p,y])=>{"string"==typeof y&&(y=[y]),null!==y&&(h[p]=wh(a.children[p],n,y))}),Object.entries(a.children).forEach(([p,y])=>{void 0===l[p]&&(h[p]=y)}),new En(a.segments,h)}}function t1(a,n,i){const l=a.segments.slice(0,n);let h=0;for(;h<i.length;){const p=i[h];if(ng(p)){const C=kB(p.outlets);return new En(l,C)}if(0===h&&JC(i[0])){l.push(new X0(a.segments[n].path,n1(i[0]))),h++;continue}const y=ng(p)?p.outlets[Ft]:`${p}`,b=h<i.length-1?i[h+1]:null;y&&b&&JC(b)?(l.push(new X0(y,n1(b))),h+=2):(l.push(new X0(y,{})),h++)}return new En(l,{})}function kB(a){const n={};return Object.entries(a).forEach(([i,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(n[i]=t1(new En([],{}),0,l))}),n}function n1(a){const n={};return Object.entries(a).forEach(([i,l])=>n[i]=`${l}`),n}function ml(a,n,i){return a==i.path&&vl(n,i.parameters)}const Td="imperative";class gs{constructor(n,i){this.id=n,this.url=i}}class r1 extends gs{constructor(n,i,l="imperative",h=null){super(n,i),this.type=0,this.navigationTrigger=l,this.restoredState=h}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yl extends gs{constructor(n,i,l){super(n,i),this.urlAfterRedirects=l,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class n_ extends gs{constructor(n,i,l,h){super(n,i),this.reason=l,this.code=h,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Md extends gs{constructor(n,i,l,h){super(n,i),this.reason=l,this.code=h,this.type=16}}class o1 extends gs{constructor(n,i,l,h){super(n,i),this.error=l,this.target=h,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NI extends gs{constructor(n,i,l,h){super(n,i),this.urlAfterRedirects=l,this.state=h,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FI extends gs{constructor(n,i,l,h){super(n,i),this.urlAfterRedirects=l,this.state=h,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L6 extends gs{constructor(n,i,l,h,p){super(n,i),this.urlAfterRedirects=l,this.state=h,this.shouldActivate=p,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class R6 extends gs{constructor(n,i,l,h){super(n,i),this.urlAfterRedirects=l,this.state=h,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VI extends gs{constructor(n,i,l,h){super(n,i),this.urlAfterRedirects=l,this.state=h,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BI{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OB{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NB{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k6{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FB{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O6{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r_{constructor(n,i,l){this.routerEvent=n,this.position=i,this.anchor=l,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class a1{}class i_{constructor(n){this.url=n}}class VB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ig,this.attachRef=null}}let ig=(()=>{class a{constructor(){this.contexts=new Map}onChildOutletCreated(i,l){const h=this.getOrCreateContext(i);h.outlet=l,this.contexts.set(i,h)}onChildOutletDestroyed(i){const l=this.getContext(i);l&&(l.outlet=null,l.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let l=this.getContext(i);return l||(l=new VB,this.contexts.set(i,l)),l}getContext(i){return this.contexts.get(i)||null}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class s1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const i=this.pathFromRoot(n);return i.length>1?i[i.length-2]:null}children(n){const i=zI(n,this._root);return i?i.children.map(l=>l.value):[]}firstChild(n){const i=zI(n,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(n){const i=HI(n,this._root);return i.length<2?[]:i[i.length-2].children.map(h=>h.value).filter(h=>h!==n)}pathFromRoot(n){return HI(n,this._root).map(i=>i.value)}}function zI(a,n){if(a===n.value)return n;for(const i of n.children){const l=zI(a,i);if(l)return l}return null}function HI(a,n){if(a===n.value)return[n];for(const i of n.children){const l=HI(a,i);if(l.length)return l.unshift(n),l}return[]}class $u{constructor(n,i){this.value=n,this.children=i}toString(){return`TreeNode(${this.value})`}}function og(a){const n={};return a&&a.children.forEach(i=>n[i.value.outlet]=i),n}class BB extends s1{constructor(n,i){super(n),this.snapshot=i,GI(this,n)}toString(){return this.snapshot.toString()}}function zB(a,n){const i=function F6(a,n){const y=new l1([],{},{},"",{},Ft,n,null,{});return new UB("",new $u(y,[]))}(0,n),l=new rr([new X0("",{})]),h=new rr({}),p=new rr({}),y=new rr({}),b=new rr(""),C=new ag(l,h,y,b,p,Ft,n,i.root);return C.snapshot=i.root,new BB(new $u(C,[]),i)}class ag{constructor(n,i,l,h,p,y,b,C){this.urlSubject=n,this.paramsSubject=i,this.queryParamsSubject=l,this.fragmentSubject=h,this.dataSubject=p,this.outlet=y,this.component=b,this._futureSnapshot=C,this.title=this.dataSubject?.pipe(jt(M=>M[Sd]))??Le(void 0),this.url=n,this.params=i,this.queryParams=l,this.fragment=h,this.data=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(jt(n=>Qv(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(jt(n=>Qv(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HB(a,n="emptyOnly"){const i=a.pathFromRoot;let l=0;if("always"!==n)for(l=i.length-1;l>=1;){const h=i[l],p=i[l-1];if(h.routeConfig&&""===h.routeConfig.path)l--;else{if(p.component)break;l--}}return function GB(a){return a.reduce((n,i)=>({params:{...n.params,...i.params},data:{...n.data,...i.data},resolve:{...i.data,...n.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(l))}class l1{get title(){return this.data?.[Sd]}constructor(n,i,l,h,p,y,b,C,M){this.url=n,this.params=i,this.queryParams=l,this.fragment=h,this.data=p,this.outlet=y,this.component=b,this.routeConfig=C,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(l=>l.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UB extends s1{constructor(n,i){super(i),this.url=n,GI(this,i)}toString(){return jB(this._root)}}function GI(a,n){n.value._routerState=a,n.children.forEach(i=>GI(a,i))}function jB(a){const n=a.children.length>0?` { ${a.children.map(jB).join(", ")} } `:"";return`${a.value}${n}`}function u1(a){if(a.snapshot){const n=a.snapshot,i=a._futureSnapshot;a.snapshot=i,vl(n.queryParams,i.queryParams)||a.queryParamsSubject.next(i.queryParams),n.fragment!==i.fragment&&a.fragmentSubject.next(i.fragment),vl(n.params,i.params)||a.paramsSubject.next(i.params),function w6(a,n){if(a.length!==n.length)return!1;for(let i=0;i<a.length;++i)if(!vl(a[i],n[i]))return!1;return!0}(n.url,i.url)||a.urlSubject.next(i.url),vl(n.data,i.data)||a.dataSubject.next(i.data)}else a.snapshot=a._futureSnapshot,a.dataSubject.next(a._futureSnapshot.data)}function UI(a,n){const i=vl(a.params,n.params)&&function x6(a,n){return na(a,n)&&a.every((i,l)=>vl(i.parameters,n[l].parameters))}(a.url,n.url);return i&&!(!a.parent!=!n.parent)&&(!a.parent||UI(a.parent,n.parent))}let jI=(()=>{class a{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new mn,this.deactivateEvents=new mn,this.attachEvents=new mn,this.detachEvents=new mn,this.parentContexts=Ie(ig),this.location=Ie(ls),this.changeDetector=Ie(JS),this.environmentInjector=Ie(Eo),this.inputBinder=Ie(c1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:l,previousValue:h}=i.name;if(l)return;this.isTrackedInParentContexts(h)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(h)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,l){this.activated=i,this._activatedRoute=l,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,l){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=i;const h=this.location,y=i.snapshot.component,b=this.parentContexts.getOrCreateContext(this.name).children,C=new V6(i,b,h.injector);this.activated=h.createComponent(y,{index:h.length,injector:C,environmentInjector:l??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275dir=ht({type:a,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Go]})}return a})();class V6{constructor(n,i,l){this.route=n,this.childContexts=i,this.parent=l}get(n,i){return n===ag?this.route:n===ig?this.childContexts:this.parent.get(n,i)}}const c1=new ke("");let WB=(()=>{class a{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:l}=i,h=CI([l.queryParams,l.params,l.data]).pipe(Gi(([p,y,b],C)=>(b={...p,...y,...b},0===C?Le(b):Promise.resolve(b)))).subscribe(p=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==l||null===l.component)return void this.unsubscribeFromRouteData(i);const y=function Mv(a){const n=Bt(a);if(!n)return null;const i=new Pf(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(l.component);if(y)for(const{templateName:b}of y.inputs)i.activatedComponentRef.setInput(b,p[b]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,h)}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();function o_(a,n,i){if(i&&a.shouldReuseRoute(n.value,i.value.snapshot)){const l=i.value;l._futureSnapshot=n.value;const h=function z6(a,n,i){return n.children.map(l=>{for(const h of i.children)if(a.shouldReuseRoute(l.value,h.value.snapshot))return o_(a,l,h);return o_(a,l)})}(a,n,i);return new $u(l,h)}{if(a.shouldAttach(n.value)){const p=a.retrieve(n.value);if(null!==p){const y=p.route;return y.value._futureSnapshot=n.value,y.children=n.children.map(b=>o_(a,b)),y}}const l=function H6(a){return new ag(new rr(a.url),new rr(a.params),new rr(a.queryParams),new rr(a.fragment),new rr(a.data),a.outlet,a.component,a)}(n.value),h=n.children.map(p=>o_(a,p));return new $u(l,h)}}const h1="ngNavigationCancelingError";function $B(a,n){const{redirectTo:i,navigationBehaviorOptions:l}=Dd(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,h=qB(!1,0,n);return h.url=i,h.navigationBehaviorOptions=l,h}function qB(a,n,i){const l=new Error("NavigationCancelingError: "+(a||""));return l[h1]=!0,l.cancellationCode=n,i&&(l.url=i),l}function ZB(a){return a&&a[h1]}let YB=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275cmp=qr({type:a,selectors:[["ng-component"]],standalone:!0,features:[Oo],decls:1,vars:0,template:function(l,h){1&l&&Ct(0,"router-outlet")},dependencies:[jI],encapsulation:2})}return a})();function _l(a){const n=a.children&&a.children.map(_l),i=n?{...a,children:n}:{...a};return!i.component&&!i.loadComponent&&(n||i.loadChildren)&&i.outlet&&i.outlet!==Ft&&(i.component=YB),i}function ms(a){return a.outlet||Ft}function a_(a){if(!a)return null;if(a.routeConfig?._injector)return a.routeConfig._injector;for(let n=a.parent;n;n=n.parent){const i=n.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class QB{constructor(n,i,l,h,p){this.routeReuseStrategy=n,this.futureState=i,this.currState=l,this.forwardEvent=h,this.inputBindingEnabled=p}activate(n){const i=this.futureState._root,l=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,l,n),u1(this.futureState.root),this.activateChildRoutes(i,l,n)}deactivateChildRoutes(n,i,l){const h=og(i);n.children.forEach(p=>{const y=p.value.outlet;this.deactivateRoutes(p,h[y],l),delete h[y]}),Object.values(h).forEach(p=>{this.deactivateRouteAndItsChildren(p,l)})}deactivateRoutes(n,i,l){const h=n.value,p=i?i.value:null;if(h===p)if(h.component){const y=l.getContext(h.outlet);y&&this.deactivateChildRoutes(n,i,y.children)}else this.deactivateChildRoutes(n,i,l);else p&&this.deactivateRouteAndItsChildren(i,l)}deactivateRouteAndItsChildren(n,i){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,i):this.deactivateRouteAndOutlet(n,i)}detachAndStoreRouteSubtree(n,i){const l=i.getContext(n.value.outlet),h=l&&n.value.component?l.children:i,p=og(n);for(const y of Object.keys(p))this.deactivateRouteAndItsChildren(p[y],h);if(l&&l.outlet){const y=l.outlet.detach(),b=l.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:y,route:n,contexts:b})}}deactivateRouteAndOutlet(n,i){const l=i.getContext(n.value.outlet),h=l&&n.value.component?l.children:i,p=og(n);for(const y of Object.keys(p))this.deactivateRouteAndItsChildren(p[y],h);l&&(l.outlet&&(l.outlet.deactivate(),l.children.onOutletDeactivated()),l.attachRef=null,l.route=null)}activateChildRoutes(n,i,l){const h=og(i);n.children.forEach(p=>{this.activateRoutes(p,h[p.value.outlet],l),this.forwardEvent(new O6(p.value.snapshot))}),n.children.length&&this.forwardEvent(new k6(n.value.snapshot))}activateRoutes(n,i,l){const h=n.value,p=i?i.value:null;if(u1(h),h===p)if(h.component){const y=l.getOrCreateContext(h.outlet);this.activateChildRoutes(n,i,y.children)}else this.activateChildRoutes(n,i,l);else if(h.component){const y=l.getOrCreateContext(h.outlet);if(this.routeReuseStrategy.shouldAttach(h.snapshot)){const b=this.routeReuseStrategy.retrieve(h.snapshot);this.routeReuseStrategy.store(h.snapshot,null),y.children.onOutletReAttached(b.contexts),y.attachRef=b.componentRef,y.route=b.route.value,y.outlet&&y.outlet.attach(b.componentRef,b.route.value),u1(b.route.value),this.activateChildRoutes(n,null,y.children)}else{const b=a_(h.snapshot);y.attachRef=null,y.route=h,y.injector=b,y.outlet&&y.outlet.activateWith(h,y.injector),this.activateChildRoutes(n,null,y.children)}}else this.activateChildRoutes(n,null,l)}}class JB{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class d1{constructor(n,i){this.component=n,this.route=i}}function $6(a,n,i){const l=a._root;return sg(l,n?n._root:null,i,[l.value])}function Ad(a,n){const i=Symbol(),l=n.get(a,i);return l===i?"function"!=typeof a||function Or(a){return null!==Ns(a)}(a)?n.get(a):a:l}function sg(a,n,i,l,h={canDeactivateChecks:[],canActivateChecks:[]}){const p=og(n);return a.children.forEach(y=>{(function Z6(a,n,i,l,h={canDeactivateChecks:[],canActivateChecks:[]}){const p=a.value,y=n?n.value:null,b=i?i.getContext(a.value.outlet):null;if(y&&p.routeConfig===y.routeConfig){const C=function Y6(a,n,i){if("function"==typeof i)return i(a,n);switch(i){case"pathParamsChange":return!na(a.url,n.url);case"pathParamsOrQueryParamsChange":return!na(a.url,n.url)||!vl(a.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!UI(a,n)||!vl(a.queryParams,n.queryParams);default:return!UI(a,n)}}(y,p,p.routeConfig.runGuardsAndResolvers);C?h.canActivateChecks.push(new JB(l)):(p.data=y.data,p._resolvedData=y._resolvedData),sg(a,n,p.component?b?b.children:null:i,l,h),C&&b&&b.outlet&&b.outlet.isActivated&&h.canDeactivateChecks.push(new d1(b.outlet.component,y))}else y&&qu(n,b,h),h.canActivateChecks.push(new JB(l)),sg(a,null,p.component?b?b.children:null:i,l,h)})(y,p[y.value.outlet],i,l.concat([y.value]),h),delete p[y.value.outlet]}),Object.entries(p).forEach(([y,b])=>qu(b,i.getContext(y),h)),h}function qu(a,n,i){const l=og(a),h=a.value;Object.entries(l).forEach(([p,y])=>{qu(y,h.component?n?n.children.getContext(p):null:n,i)}),i.canDeactivateChecks.push(new d1(h.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,h))}function s_(a){return"function"==typeof a}function ez(a){return a instanceof YC||"EmptyError"===a?.name}const p1=Symbol("INITIAL_VALUE");function Sh(){return Gi(a=>CI(a.map(n=>n.pipe(yh(1),function d6(...a){const n=za(a);return hn((i,l)=>{(n?Yv(a,i,n):Yv(a,i)).subscribe(l)})}(p1)))).pipe(jt(n=>{for(const i of n)if(!0!==i){if(i===p1)return p1;if(!1===i||i instanceof Jv)return i}return!0}),vs(n=>n!==p1),yh(1)))}function iz(a){return function pL(...a){return rw(a)}(Ir(n=>{if(Dd(n))throw $B(0,n)}),jt(n=>!0===n))}class v1{constructor(n){this.segmentGroup=n||null}}class oz{constructor(n){this.urlTree=n}}function lg(a){return wd(new v1(a))}function az(a){return wd(new oz(a))}class u8{constructor(n,i){this.urlSerializer=n,this.urlTree=i}noMatchError(n){return new fe(4002,!1)}lineralizeSegments(n,i){let l=[],h=i.root;for(;;){if(l=l.concat(h.segments),0===h.numberOfChildren)return Le(l);if(h.numberOfChildren>1||!h.children[Ft])return wd(new fe(4e3,!1));h=h.children[Ft]}}applyRedirectCommands(n,i,l){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),n,l)}applyRedirectCreateUrlTree(n,i,l,h){const p=this.createSegmentGroup(n,i.root,l,h);return new Jv(p,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(n,i){const l={};return Object.entries(n).forEach(([h,p])=>{if("string"==typeof p&&p.startsWith(":")){const b=p.substring(1);l[h]=i[b]}else l[h]=p}),l}createSegmentGroup(n,i,l,h){const p=this.createSegments(n,i.segments,l,h);let y={};return Object.entries(i.children).forEach(([b,C])=>{y[b]=this.createSegmentGroup(n,C,l,h)}),new En(p,y)}createSegments(n,i,l,h){return i.map(p=>p.path.startsWith(":")?this.findPosParam(n,p,h):this.findOrReturn(p,l))}findPosParam(n,i,l){const h=l[i.path.substring(1)];if(!h)throw new fe(4001,!1);return h}findOrReturn(n,i){let l=0;for(const h of i){if(h.path===n.path)return i.splice(l),h;l++}return n}}const ZI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sz(a,n,i,l,h){const p=YI(a,n,i);return p.matched?(l=function U6(a,n){return a.providers&&!a._injector&&(a._injector=CS(a.providers,n,`Route: ${a.path}`)),a._injector??n}(n,l),function a8(a,n,i,l){const h=n.canMatch;return h&&0!==h.length?Le(h.map(y=>{const b=Ad(y,a);return _h(function t8(a){return a&&s_(a.canMatch)}(b)?b.canMatch(n,i):a.runInContext(()=>b(n,i)))})).pipe(Sh(),iz()):Le(!0)}(l,n,i).pipe(jt(y=>!0===y?p:{...ZI}))):Le(p)}function YI(a,n,i){if(""===n.path)return"full"===n.pathMatch&&(a.hasChildren()||i.length>0)?{...ZI}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const h=(n.matcher||_6)(i,a,n);if(!h)return{...ZI};const p={};Object.entries(h.posParams??{}).forEach(([b,C])=>{p[b]=C.path});const y=h.consumed.length>0?{...p,...h.consumed[h.consumed.length-1].parameters}:p;return{matched:!0,consumedSegments:h.consumed,remainingSegments:i.slice(h.consumed.length),parameters:y,positionalParamSegments:h.posParams??{}}}function lz(a,n,i,l){return i.length>0&&function h8(a,n,i){return i.some(l=>g1(a,n,l)&&ms(l)!==Ft)}(a,i,l)?{segmentGroup:new En(n,uz(l,new En(i,a.children))),slicedSegments:[]}:0===i.length&&function f8(a,n,i){return i.some(l=>g1(a,n,l))}(a,i,l)?{segmentGroup:new En(a.segments,c8(a,0,i,l,a.children)),slicedSegments:i}:{segmentGroup:new En(a.segments,a.children),slicedSegments:i}}function c8(a,n,i,l,h){const p={};for(const y of l)if(g1(a,i,y)&&!h[ms(y)]){const b=new En([],{});p[ms(y)]=b}return{...h,...p}}function uz(a,n){const i={};i[Ft]=n;for(const l of a)if(""===l.path&&ms(l)!==Ft){const h=new En([],{});i[ms(l)]=h}return i}function g1(a,n,i){return(!(a.hasChildren()||n.length>0)||"full"!==i.pathMatch)&&""===i.path}class g8{constructor(n,i,l,h,p,y,b){this.injector=n,this.configLoader=i,this.rootComponentType=l,this.config=h,this.urlTree=p,this.paramsInheritanceStrategy=y,this.urlSerializer=b,this.allowRedirects=!0,this.applyRedirects=new u8(this.urlSerializer,this.urlTree)}noMatchError(n){return new fe(4002,!1)}recognize(){const n=lz(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Ft).pipe(pl(i=>{if(i instanceof oz)return this.allowRedirects=!1,this.urlTree=i.urlTree,this.match(i.urlTree);throw i instanceof v1?this.noMatchError(i):i}),jt(i=>{const l=new l1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),h=new $u(l,i),p=new UB("",h),y=function P6(a,n,i=null,l=null){return PB(II(a),n,i,l)}(l,[],this.urlTree.queryParams,this.urlTree.fragment);return y.queryParams=this.urlTree.queryParams,p.url=this.urlSerializer.serialize(y),this.inheritParamsAndData(p._root),{state:p,tree:y}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Ft).pipe(pl(l=>{throw l instanceof v1?this.noMatchError(l):l}))}inheritParamsAndData(n){const i=n.value,l=HB(i,this.paramsInheritanceStrategy);i.params=Object.freeze(l.params),i.data=Object.freeze(l.data),n.children.forEach(h=>this.inheritParamsAndData(h))}processSegmentGroup(n,i,l,h){return 0===l.segments.length&&l.hasChildren()?this.processChildren(n,i,l):this.processSegment(n,i,l,l.segments,h,!0)}processChildren(n,i,l){const h=[];for(const p of Object.keys(l.children))"primary"===p?h.unshift(p):h.push(p);return Mt(h).pipe(dl(p=>{const y=l.children[p],b=function W6(a,n){const i=a.filter(l=>ms(l)===n);return i.push(...a.filter(l=>ms(l)!==n)),i}(i,p);return this.processSegmentGroup(n,b,y,p)}),vB((p,y)=>(p.push(...y),p)),XC(null),function g6(a,n){const i=arguments.length>=2;return l=>l.pipe(a?vs((h,p)=>a(h,p,l)):fo,DI(1),i?XC(n):pB(()=>new YC))}(),$t(p=>{if(null===p)return lg(l);const y=hz(p);return function m8(a){a.sort((n,i)=>n.value.outlet===Ft?-1:i.value.outlet===Ft?1:n.value.outlet.localeCompare(i.value.outlet))}(y),Le(y)}))}processSegment(n,i,l,h,p,y){return Mt(i).pipe(dl(b=>this.processSegmentAgainstRoute(b._injector??n,i,b,l,h,p,y).pipe(pl(C=>{if(C instanceof v1)return Le(null);throw C}))),bd(b=>!!b),pl(b=>{if(ez(b))return function p8(a,n,i){return 0===n.length&&!a.children[i]}(l,h,p)?Le([]):lg(l);throw b}))}processSegmentAgainstRoute(n,i,l,h,p,y,b){return function d8(a,n,i,l){return!!(ms(a)===l||l!==Ft&&g1(n,i,a))&&("**"===a.path||YI(n,a,i).matched)}(l,h,p,y)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,h,l,p,y,b):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,h,i,l,p,y):lg(h):lg(h)}expandSegmentAgainstRouteUsingRedirect(n,i,l,h,p,y){return"**"===h.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,l,h,y):this.expandRegularSegmentAgainstRouteUsingRedirect(n,i,l,h,p,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,l,h){const p=this.applyRedirects.applyRedirectCommands([],l.redirectTo,{});return l.redirectTo.startsWith("/")?az(p):this.applyRedirects.lineralizeSegments(l,p).pipe($t(y=>{const b=new En(y,{});return this.processSegment(n,i,b,y,h,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,i,l,h,p,y){const{matched:b,consumedSegments:C,remainingSegments:M,positionalParamSegments:I}=YI(i,h,p);if(!b)return lg(i);const R=this.applyRedirects.applyRedirectCommands(C,h.redirectTo,I);return h.redirectTo.startsWith("/")?az(R):this.applyRedirects.lineralizeSegments(h,R).pipe($t(V=>this.processSegment(n,l,i,V.concat(M),y,!1)))}matchSegmentAgainstRoute(n,i,l,h,p,y){let b;if("**"===l.path){const C=h.length>0?mB(h).parameters:{};b=Le({snapshot:new l1(h,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fz(l),ms(l),l.component??l._loadedComponent??null,l,dz(l)),consumedSegments:[],remainingSegments:[]}),i.children={}}else b=sz(i,l,h,n).pipe(jt(({matched:C,consumedSegments:M,remainingSegments:I,parameters:R})=>C?{snapshot:new l1(M,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fz(l),ms(l),l.component??l._loadedComponent??null,l,dz(l)),consumedSegments:M,remainingSegments:I}:null));return b.pipe(Gi(C=>null===C?lg(i):this.getChildConfig(n=l._injector??n,l,h).pipe(Gi(({routes:M})=>{const I=l._loadedInjector??n,{snapshot:R,consumedSegments:V,remainingSegments:G}=C,{segmentGroup:$,slicedSegments:Z}=lz(i,V,G,M);if(0===Z.length&&$.hasChildren())return this.processChildren(I,M,$).pipe(jt(ie=>null===ie?null:[new $u(R,ie)]));if(0===M.length&&0===Z.length)return Le([new $u(R,[])]);const ee=ms(l)===p;return this.processSegment(I,M,$,Z,ee?Ft:p,!0).pipe(jt(ie=>[new $u(R,ie)]))}))))}getChildConfig(n,i,l){return i.children?Le({routes:i.children,injector:n}):i.loadChildren?void 0!==i._loadedRoutes?Le({routes:i._loadedRoutes,injector:i._loadedInjector}):function rz(a,n,i,l){const h=n.canLoad;return void 0===h||0===h.length?Le(!0):Le(h.map(y=>{const b=Ad(y,a);return _h(function K6(a){return a&&s_(a.canLoad)}(b)?b.canLoad(n,i):a.runInContext(()=>b(n,i)))})).pipe(Sh(),iz())}(n,i,l).pipe($t(h=>h?this.configLoader.loadChildren(n,i).pipe(Ir(p=>{i._loadedRoutes=p.routes,i._loadedInjector=p.injector})):function l8(a){return wd(qB(!1,3))}())):Le({routes:[],injector:n})}}function cz(a){const n=a.value.routeConfig;return n&&""===n.path}function hz(a){const n=[],i=new Set;for(const l of a){if(!cz(l)){n.push(l);continue}const h=n.find(p=>l.value.routeConfig===p.value.routeConfig);void 0!==h?(h.children.push(...l.children),i.add(h)):n.push(l)}for(const l of i){const h=hz(l.children);n.push(new $u(l.value,h))}return n.filter(l=>!i.has(l))}function fz(a){return a.data||{}}function dz(a){return a.resolve||{}}function vz(a){return"string"==typeof a.title||null===a.title}function XI(a){return Gi(n=>{const i=a(n);return i?Mt(i).pipe(jt(()=>n)):Le(n)})}const ug=new ke("ROUTES");let KI=(()=>{class a{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ie(kN)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Le(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const l=_h(i.loadComponent()).pipe(jt(mz),Ir(p=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=p}),Kv(()=>{this.componentLoaders.delete(i)})),h=new dB(l,()=>new Pn).pipe(xI());return this.componentLoaders.set(i,h),h}loadChildren(i,l){if(this.childrenLoaders.get(l))return this.childrenLoaders.get(l);if(l._loadedRoutes)return Le({routes:l._loadedRoutes,injector:l._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(l);const p=function gz(a,n,i,l){return _h(a.loadChildren()).pipe(jt(mz),$t(h=>h instanceof nN||Array.isArray(h)?Le(h):Mt(n.compileModuleAsync(h))),jt(h=>{l&&l(a);let p,y,b=!1;return Array.isArray(h)?(y=h,!0):(p=h.create(i).injector,y=p.get(ug,[],{optional:!0,self:!0}).flat()),{routes:y.map(_l),injector:p}}))}(l,this.compiler,i,this.onLoadEndListener).pipe(Kv(()=>{this.childrenLoaders.delete(l)})),y=new dB(p,()=>new Pn).pipe(xI());return this.childrenLoaders.set(l,y),y}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function mz(a){return function x8(a){return a&&"object"==typeof a&&"default"in a}(a)?a.default:a}let Ed=(()=>{class a{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pn,this.transitionAbortSubject=new Pn,this.configLoader=Ie(KI),this.environmentInjector=Ie(Eo),this.urlSerializer=Ie(gl),this.rootContexts=Ie(ig),this.inputBindingEnabled=null!==Ie(c1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=h=>this.events.next(new OB(h)),this.configLoader.onLoadStartListener=h=>this.events.next(new BI(h))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const l=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:l})}setupNavigations(i,l,h){return this.transitions=new rr({id:0,currentUrlTree:l,currentRawUrl:l,currentBrowserUrl:l,extractedUrl:i.urlHandlingStrategy.extract(l),urlAfterRedirects:i.urlHandlingStrategy.extract(l),rawUrl:l,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Td,restoredState:null,currentSnapshot:h.snapshot,targetSnapshot:null,currentRouterState:h,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vs(p=>0!==p.id),jt(p=>({...p,extractedUrl:i.urlHandlingStrategy.extract(p.rawUrl)})),Gi(p=>{this.currentTransition=p;let y=!1,b=!1;return Le(p).pipe(Ir(C=>{this.currentNavigation={id:C.id,initialUrl:C.rawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gi(C=>{const M=C.currentBrowserUrl.toString(),I=!i.navigated||C.extractedUrl.toString()!==M||M!==C.currentUrlTree.toString();if(!I&&"reload"!==(C.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const V="";return this.events.next(new Md(C.id,this.urlSerializer.serialize(C.rawUrl),V,0)),C.resolve(null),Gn}if(i.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return Le(C).pipe(Gi(V=>{const G=this.transitions?.getValue();return this.events.next(new r1(V.id,this.urlSerializer.serialize(V.extractedUrl),V.source,V.restoredState)),G!==this.transitions?.getValue()?Gn:Promise.resolve(V)}),function _8(a,n,i,l,h,p){return $t(y=>function v8(a,n,i,l,h,p,y="emptyOnly"){return new g8(a,n,i,l,h,y,p).recognize()}(a,n,i,l,y.extractedUrl,h,p).pipe(jt(({state:b,tree:C})=>({...y,targetSnapshot:b,urlAfterRedirects:C}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),Ir(V=>{p.targetSnapshot=V.targetSnapshot,p.urlAfterRedirects=V.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects};const G=new NI(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(G)}));if(I&&i.urlHandlingStrategy.shouldProcessUrl(C.currentRawUrl)){const{id:V,extractedUrl:G,source:$,restoredState:Z,extras:ee}=C,ie=new r1(V,this.urlSerializer.serialize(G),$,Z);this.events.next(ie);const ne=zB(0,this.rootComponentType).snapshot;return this.currentTransition=p={...C,targetSnapshot:ne,urlAfterRedirects:G,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}},Le(p)}{const V="";return this.events.next(new Md(C.id,this.urlSerializer.serialize(C.extractedUrl),V,1)),C.resolve(null),Gn}}),Ir(C=>{const M=new FI(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}),jt(C=>(this.currentTransition=p={...C,guards:$6(C.targetSnapshot,C.currentSnapshot,this.rootContexts)},p)),function tz(a,n){return $t(i=>{const{targetSnapshot:l,currentSnapshot:h,guards:{canActivateChecks:p,canDeactivateChecks:y}}=i;return 0===y.length&&0===p.length?Le({...i,guardsResult:!0}):function WI(a,n,i,l){return Mt(a).pipe($t(h=>function o8(a,n,i,l,h){const p=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return p&&0!==p.length?Le(p.map(b=>{const C=a_(n)??h,M=Ad(b,C);return _h(function e8(a){return a&&s_(a.canDeactivate)}(M)?M.canDeactivate(a,n,i,l):C.runInContext(()=>M(a,n,i,l))).pipe(bd())})).pipe(Sh()):Le(!0)}(h.component,h.route,i,n,l)),bd(h=>!0!==h,!0))}(y,l,h,a).pipe($t(b=>b&&function X6(a){return"boolean"==typeof a}(b)?function r8(a,n,i,l){return Mt(n).pipe(dl(h=>Yv(function $I(a,n){return null!==a&&n&&n(new NB(a)),Le(!0)}(h.route.parent,l),function i8(a,n){return null!==a&&n&&n(new FB(a)),Le(!0)}(h.route,l),function qI(a,n,i){const l=n[n.length-1],p=n.slice(0,n.length-1).reverse().map(y=>function q6(a){const n=a.routeConfig?a.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:a,guards:n}:null}(y)).filter(y=>null!==y).map(y=>Xv(()=>Le(y.guards.map(C=>{const M=a_(y.node)??i,I=Ad(C,M);return _h(function J6(a){return a&&s_(a.canActivateChild)}(I)?I.canActivateChild(l,a):M.runInContext(()=>I(l,a))).pipe(bd())})).pipe(Sh())));return Le(p).pipe(Sh())}(a,h.path,i),function nz(a,n,i){const l=n.routeConfig?n.routeConfig.canActivate:null;if(!l||0===l.length)return Le(!0);const h=l.map(p=>Xv(()=>{const y=a_(n)??i,b=Ad(p,y);return _h(function Q6(a){return a&&s_(a.canActivate)}(b)?b.canActivate(n,a):y.runInContext(()=>b(n,a))).pipe(bd())}));return Le(h).pipe(Sh())}(a,h.route,i))),bd(h=>!0!==h,!0))}(l,p,a,n):Le(b)),jt(b=>({...i,guardsResult:b})))})}(this.environmentInjector,C=>this.events.next(C)),Ir(C=>{if(p.guardsResult=C.guardsResult,Dd(C.guardsResult))throw $B(0,C.guardsResult);const M=new L6(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.events.next(M)}),vs(C=>!!C.guardsResult||(this.cancelNavigationTransition(C,"",3),!1)),XI(C=>{if(C.guards.canActivateChecks.length)return Le(C).pipe(Ir(M=>{const I=new R6(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(I)}),Gi(M=>{let I=!1;return Le(M).pipe(function w8(a,n){return $t(i=>{const{targetSnapshot:l,guards:{canActivateChecks:h}}=i;if(!h.length)return Le(i);let p=0;return Mt(h).pipe(dl(y=>function b8(a,n,i,l){const h=a.routeConfig,p=a._resolve;return void 0!==h?.title&&!vz(h)&&(p[Sd]=h.title),function S8(a,n,i,l){const h=function C8(a){return[...Object.keys(a),...Object.getOwnPropertySymbols(a)]}(a);if(0===h.length)return Le({});const p={};return Mt(h).pipe($t(y=>function pz(a,n,i,l){const h=a_(n)??l,p=Ad(a,h);return _h(p.resolve?p.resolve(n,i):h.runInContext(()=>p(n,i)))}(a[y],n,i,l).pipe(bd(),Ir(b=>{p[y]=b}))),DI(1),function m6(a){return jt(()=>a)}(p),pl(y=>ez(y)?Gn:wd(y)))}(p,a,n,l).pipe(jt(y=>(a._resolvedData=y,a.data=HB(a,i).resolve,h&&vz(h)&&(a.data[Sd]=h.title),null)))}(y.route,l,a,n)),Ir(()=>p++),DI(1),$t(y=>p===h.length?Le(i):Gn))})}(i.paramsInheritanceStrategy,this.environmentInjector),Ir({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(M,"",2)}}))}),Ir(M=>{const I=new VI(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(I)}))}),XI(C=>{const M=I=>{const R=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(I.routeConfig).pipe(Ir(V=>{I.component=V}),jt(()=>{})));for(const V of I.children)R.push(...M(V));return R};return CI(M(C.targetSnapshot.root)).pipe(XC(),yh(1))}),XI(()=>this.afterPreactivation()),jt(C=>{const M=function B6(a,n,i){const l=o_(a,n._root,i?i._root:void 0);return new BB(l,n)}(i.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return this.currentTransition=p={...C,targetRouterState:M},p}),Ir(()=>{this.events.next(new a1)}),((a,n,i,l)=>jt(h=>(new QB(n,h.targetRouterState,h.currentRouterState,i,l).activate(a),h)))(this.rootContexts,i.routeReuseStrategy,C=>this.events.next(C),this.inputBindingEnabled),yh(1),Ir({next:C=>{y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yl(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects))),i.titleStrategy?.updateTitle(C.targetRouterState.snapshot),C.resolve(!0)},complete:()=>{y=!0}}),TI(this.transitionAbortSubject.pipe(Ir(C=>{throw C}))),Kv(()=>{y||b||this.cancelNavigationTransition(p,"",1),this.currentNavigation?.id===p.id&&(this.currentNavigation=null)}),pl(C=>{if(b=!0,ZB(C))this.events.next(new n_(p.id,this.urlSerializer.serialize(p.extractedUrl),C.message,C.cancellationCode)),function G6(a){return ZB(a)&&Dd(a.url)}(C)?this.events.next(new i_(C.url)):p.resolve(!1);else{this.events.next(new o1(p.id,this.urlSerializer.serialize(p.extractedUrl),C,p.targetSnapshot??void 0));try{p.resolve(i.errorHandler(C))}catch(M){p.reject(M)}}return Gn}))}))}cancelNavigationTransition(i,l,h){const p=new n_(i.id,this.urlSerializer.serialize(i.extractedUrl),l,h);this.events.next(p),i.resolve(!1)}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function yz(a){return a!==Td}let _z=(()=>{class a{buildTitle(i){let l,h=i.root;for(;void 0!==h;)l=this.getResolvedTitleForRoute(h)??l,h=h.children.find(p=>p.outlet===Ft);return l}getResolvedTitleForRoute(i){return i.data[Sd]}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(){return Ie(D8)},providedIn:"root"})}return a})(),D8=(()=>{class a extends _z{constructor(i){super(),this.title=i}updateTitle(i){const l=this.buildTitle(i);void 0!==l&&this.title.setTitle(l)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(bV))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),T8=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(){return Ie(A8)},providedIn:"root"})}return a})();class M8{shouldDetach(n){return!1}store(n,i){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,i){return n.routeConfig===i.routeConfig}}let A8=(()=>{class a extends M8{static#e=this.\u0275fac=function(){let i;return function(h){return(i||(i=Yr(a)))(h||a)}}();static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const m1=new ke("",{providedIn:"root",factory:()=>({})});let E8=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:function(){return Ie(wz)},providedIn:"root"})}return a})(),wz=(()=>{class a{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,l){return i}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var l_=function(a){return a[a.COMPLETE=0]="COMPLETE",a[a.FAILED=1]="FAILED",a[a.REDIRECTING=2]="REDIRECTING",a}(l_||{});function bz(a,n){a.events.pipe(vs(i=>i instanceof yl||i instanceof n_||i instanceof o1||i instanceof Md),jt(i=>i instanceof yl||i instanceof Md?l_.COMPLETE:i instanceof n_&&(0===i.code||1===i.code)?l_.REDIRECTING:l_.FAILED),vs(i=>i!==l_.REDIRECTING),yh(1)).subscribe(()=>{n()})}function I8(a){throw a}function P8(a,n,i){return n.parse("/")}const L8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ur=(()=>{class a{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ie(mA),this.isNgZoneEnabled=!1,this._events=new Pn,this.options=Ie(m1,{optional:!0})||{},this.pendingTasks=Ie(th),this.errorHandler=this.options.errorHandler||I8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||P8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ie(E8),this.routeReuseStrategy=Ie(T8),this.titleStrategy=Ie(_z),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ie(ug,{optional:!0})?.flat()??[],this.navigationTransitions=Ie(Ed),this.urlSerializer=Ie(gl),this.location=Ie(w0),this.componentInputBindingEnabled=!!Ie(c1,{optional:!0}),this.eventsSubscription=new Wr,this.isNgZoneEnabled=Ie(pn)instanceof pn&&pn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Jv,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(l=>{try{const{currentTransition:h}=this.navigationTransitions;if(null===h)return void(Sz(l)&&this._events.next(l));if(l instanceof r1)yz(h.source)&&(this.browserUrlTree=h.extractedUrl);else if(l instanceof Md)this.rawUrlTree=h.rawUrl;else if(l instanceof NI){if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(p,h)}this.browserUrlTree=h.urlAfterRedirects}}else if(l instanceof a1)this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects);else if(l instanceof n_)0!==l.code&&1!==l.code&&(this.navigated=!0),(3===l.code||2===l.code)&&this.restoreHistory(h);else if(l instanceof i_){const p=this.urlHandlingStrategy.merge(l.url,h.currentRawUrl),y={skipLocationChange:h.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yz(h.source)};this.scheduleNavigation(p,Td,null,y,{resolve:h.resolve,reject:h.reject,promise:h.promise})}l instanceof o1&&this.restoreHistory(h,!0),l instanceof yl&&(this.navigated=!0),Sz(l)&&this._events.next(l)}catch(h){this.navigationTransitions.transitionAbortSubject.next(h)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Td,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const l="popstate"===i.type?"popstate":"hashchange";"popstate"===l&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,l,i.state)},0)}))}navigateToSyncWithBrowser(i,l,h){const p={replaceUrl:!0},y=h?.navigationId?h:null;if(h){const C={...h};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(p.state=C)}const b=this.parseUrl(i);this.scheduleNavigation(b,l,y,p)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(_l),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,l={}){const{relativeTo:h,queryParams:p,fragment:y,queryParamsHandling:b,preserveFragment:C}=l,M=C?this.currentUrlTree.fragment:y;let R,I=null;switch(b){case"merge":I={...this.currentUrlTree.queryParams,...p};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=p||null}null!==I&&(I=this.removeEmptyProps(I));try{R=II(h?h.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),R=this.currentUrlTree.root}return PB(R,i,I,M??null)}navigateByUrl(i,l={skipLocationChange:!1}){const h=Dd(i)?i:this.parseUrl(i),p=this.urlHandlingStrategy.merge(h,this.rawUrlTree);return this.scheduleNavigation(p,Td,null,l)}navigate(i,l={skipLocationChange:!1}){return function QI(a){for(let n=0;n<a.length;n++)if(null==a[n])throw new fe(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,l),l)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let l;try{l=this.urlSerializer.parse(i)}catch(h){l=this.malformedUriErrorHandler(h,this.urlSerializer,i)}return l}isActive(i,l){let h;if(h=!0===l?{...L8}:!1===l?{...R8}:l,Dd(i))return _B(this.currentUrlTree,i,h);const p=this.parseUrl(i);return _B(this.currentUrlTree,p,h)}removeEmptyProps(i){return Object.keys(i).reduce((l,h)=>{const p=i[h];return null!=p&&(l[h]=p),l},{})}scheduleNavigation(i,l,h,p,y){if(this.disposed)return Promise.resolve(!1);let b,C,M;y?(b=y.resolve,C=y.reject,M=y.promise):M=new Promise((R,V)=>{b=R,C=V});const I=this.pendingTasks.add();return bz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:l,restoredState:h,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:p,resolve:b,reject:C,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(R=>Promise.reject(R))}setBrowserUrl(i,l){const h=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(h)||l.extras.replaceUrl){const y={...l.extras.state,...this.generateNgRouterState(l.id,this.browserPageId)};this.location.replaceState(h,"",y)}else{const p={...l.extras.state,...this.generateNgRouterState(l.id,this.browserPageId+1)};this.location.go(h,"",p)}}restoreHistory(i,l=!1){if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-this.browserPageId;0!==p?this.location.historyGo(p):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===p&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(l&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,l){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:l}:{navigationId:i}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Sz(a){return!(a instanceof a1||a instanceof i_)}let u_=(()=>{class a{constructor(i,l,h,p,y,b){this.router=i,this.route=l,this.tabIndexAttribute=h,this.renderer=p,this.el=y,this.locationStrategy=b,this.href=null,this.commands=null,this.onChanges=new Pn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const C=y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===C||"area"===C,this.isAnchorElement?this.subscription=i.events.subscribe(M=>{M instanceof yl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,l,h,p,y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==i||l||h||p||y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const i=null===this.href?null:function WR(a,n,i){return function HG(a,n){return"src"===n&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===n&&("base"===a||"link"===a)?gT:vT}(n,i)(a)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,l){const h=this.renderer,p=this.el.nativeElement;null!==l?h.setAttribute(p,i,l):h.removeAttribute(p,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(l){return new(l||a)(he(Ur),he(ag),function Xw(a){return function DD(a,n){if("class"===n)return a.classes;if("style"===n)return a.styles;const i=a.attrs;if(i){const l=i.length;let h=0;for(;h<l;){const p=i[h];if(_c(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof i[h];)h++;else{if(p===n)return i[h+1];h+=2}}}return null}(Zr(),a)}("tabindex"),he(Qr),he(dn),he(id))};static#t=this.\u0275dir=ht({type:a,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(l,h){1&l&&He("click",function(y){return h.onClick(y.button,y.ctrlKey,y.shiftKey,y.altKey,y.metaKey)}),2&l&&xi("target",h.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",rd],skipLocationChange:["skipLocationChange","skipLocationChange",rd],replaceUrl:["replaceUrl","replaceUrl",rd],routerLink:"routerLink"},standalone:!0,features:[jk,Go]})}return a})();class Cz{}let xz=(()=>{class a{constructor(i,l,h,p,y){this.router=i,this.injector=h,this.preloadingStrategy=p,this.loader=y}setUpPreloading(){this.subscription=this.router.events.pipe(vs(i=>i instanceof yl),dl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,l){const h=[];for(const p of l){p.providers&&!p._injector&&(p._injector=CS(p.providers,i,`Route: ${p.path}`));const y=p._injector??i,b=p._loadedInjector??y;(p.loadChildren&&!p._loadedRoutes&&void 0===p.canLoad||p.loadComponent&&!p._loadedComponent)&&h.push(this.preloadConfig(y,p)),(p.children||p._loadedRoutes)&&h.push(this.processRoutes(b,p.children??p._loadedRoutes))}return Mt(h).pipe(Qe())}preloadConfig(i,l){return this.preloadingStrategy.preload(l,()=>{let h;h=l.loadChildren&&void 0===l.canLoad?this.loader.loadChildren(i,l):Le(null);const p=h.pipe($t(y=>null===y?Le(void 0):(l._loadedRoutes=y.routes,l._loadedInjector=y.injector,this.processRoutes(y.injector??i,y.routes))));return l.loadComponent&&!l._loadedComponent?Mt([p,this.loader.loadComponent(l)]).pipe(Qe()):p})}static#e=this.\u0275fac=function(l){return new(l||a)(Se(Ur),Se(kN),Se(Eo),Se(Cz),Se(KI))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const y1=new ke("");let eP=(()=>{class a{constructor(i,l,h,p,y={}){this.urlSerializer=i,this.transitions=l,this.viewportScroller=h,this.zone=p,this.options=y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},y.scrollPositionRestoration=y.scrollPositionRestoration||"disabled",y.anchorScrolling=y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof r1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof yl?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Md&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof r_&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,l){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new r_(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,l))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){!function kT(){throw new Error("invalid")}()};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();function wl(a,n){return{\u0275kind:a,\u0275providers:n}}function nP(){const a=Ie(mr);return n=>{const i=a.get(ll);if(n!==i.components[0])return;const l=a.get(Ur),h=a.get(rP);1===a.get(c_)&&l.initialNavigation(),a.get(Tz,null,Kt.Optional)?.setUpPreloading(),a.get(y1,null,Kt.Optional)?.init(),l.resetRootComponentType(i.componentTypes[0]),h.closed||(h.next(),h.complete(),h.unsubscribe())}}const rP=new ke("",{factory:()=>new Pn}),c_=new ke("",{providedIn:"root",factory:()=>1}),Tz=new ke("");function B8(a){return wl(0,[{provide:Tz,useExisting:xz},{provide:Cz,useExisting:a}])}const _1=new ke("ROUTER_FORROOT_GUARD"),H8=[w0,{provide:gl,useClass:K0},Ur,ig,{provide:ag,useFactory:function tP(a){return a.routerState.root},deps:[Ur]},KI,[]];function G8(){return new ZS("Router",Ur)}let Mz=(()=>{class a{constructor(i){}static forRoot(i,l){return{ngModule:a,providers:[H8,[],{provide:ug,multi:!0,useValue:i},{provide:_1,useFactory:W8,deps:[[Ur,new sf,new $m]]},{provide:m1,useValue:l||{}},l?.useHash?{provide:id,useClass:bF}:{provide:id,useClass:iC},{provide:y1,useFactory:()=>{const a=Ie(JF),n=Ie(pn),i=Ie(m1),l=Ie(Ed),h=Ie(gl);return i.scrollOffset&&a.setOffset(i.scrollOffset),new eP(h,l,a,n,i)}},l?.preloadingStrategy?B8(l.preloadingStrategy).\u0275providers:[],{provide:ZS,multi:!0,useFactory:G8},l?.initialNavigation?$8(l):[],l?.bindToComponentInputs?wl(8,[WB,{provide:c1,useExisting:WB}]).\u0275providers:[],[{provide:Ez,useFactory:nP},{provide:Ti,multi:!0,useExisting:Ez}]]}}static forChild(i){return{ngModule:a,providers:[{provide:ug,multi:!0,useValue:i}]}}static#e=this.\u0275fac=function(l){return new(l||a)(Se(_1,8))};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({})}return a})();function W8(a){return"guarded"}function $8(a){return["disabled"===a.initialNavigation?wl(3,[{provide:jS,multi:!0,useFactory:()=>{const n=Ie(Ur);return()=>{n.setUpLocationChangeListener()}}},{provide:c_,useValue:2}]).\u0275providers:[],"enabledBlocking"===a.initialNavigation?wl(2,[{provide:c_,useValue:0},{provide:jS,multi:!0,deps:[mr],useFactory:n=>{const i=n.get(V4,Promise.resolve());return()=>i.then(()=>new Promise(l=>{const h=n.get(Ur),p=n.get(rP);bz(h,()=>{l(!0)}),n.get(Ed).afterPreactivation=()=>(l(!0),p.closed?Le(void 0):p),h.initialNavigation()}))}}]).\u0275providers:[]]}const Ez=new ke("");var Z8=Gt(519),Id=Gt.n(Z8);function Qn(a){var n=a.width,i=a.height;if(n<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:n,height:i}}function Ch(a,n){return a.width===n.width&&a.height===n.height}var Y8=function(){function a(n){var i=this;this._resolutionListener=function(){return i._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=n,this._installResolutionListener()}return a.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(a.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),a.prototype.subscribe=function(n){var i=this,l={next:n};return this._observers.push(l),{unsubscribe:function(){i._observers=i._observers.filter(function(h){return h!==l})}}},a.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(this._window.devicePixelRatio,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},a.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},a.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},a.prototype._onResolutionChanged=function(){var n=this;this._observers.forEach(function(i){return i.next(n._window.devicePixelRatio)}),this._reinstallResolutionListener()},a}(),X8=function(){function a(n,i,l){var h;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=n,this._canvasElementClientSize=Qn({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=i??function(p){return p},this._allowResizeObserver=null===(h=l?.allowResizeObserver)||void 0===h||h,this._chooseAndInitObserver()}return a.prototype.dispose=function(){var n,i;if(null===this._canvasElement)throw new Error("Object is disposed");null===(n=this._canvasElementResizeObserver)||void 0===n||n.disconnect(),this._canvasElementResizeObserver=null,null===(i=this._devicePixelRatioObservable)||void 0===i||i.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(a.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bitmapSize",{get:function(){return Qn({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),a.prototype.resizeCanvasElement=function(n){this._canvasElementClientSize=Qn(n),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},a.prototype.subscribeBitmapSizeChanged=function(n){this._bitmapSizeChangedListeners.push(n)},a.prototype.unsubscribeBitmapSizeChanged=function(n){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(i){return i!==n})},Object.defineProperty(a.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),a.prototype.subscribeSuggestedBitmapSizeChanged=function(n){this._suggestedBitmapSizeChangedListeners.push(n)},a.prototype.unsubscribeSuggestedBitmapSizeChanged=function(n){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(i){return i!==n})},a.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var n=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(n),this._emitSuggestedBitmapSizeChanged(n,this._suggestedBitmapSize)}},a.prototype._resizeBitmap=function(n){var i=this.bitmapSize;Ch(i,n)||(this.canvasElement.width=n.width,this.canvasElement.height=n.height,this._emitBitmapSizeChanged(i,n))},a.prototype._emitBitmapSizeChanged=function(n,i){var l=this;this._bitmapSizeChangedListeners.forEach(function(h){return h.call(l,n,i)})},a.prototype._suggestNewBitmapSize=function(n){var i=this._suggestedBitmapSize,l=Qn(this._transformBitmapSize(n,this._canvasElementClientSize)),h=Ch(this.bitmapSize,l)?null:l;null===i&&null===h||null!==i&&null!==h&&Ch(i,h)||(this._suggestedBitmapSize=h,this._emitSuggestedBitmapSizeChanged(i,h))},a.prototype._emitSuggestedBitmapSizeChanged=function(n,i){var l=this;this._suggestedBitmapSizeChangedListeners.forEach(function(h){return h.call(l,n,i)})},a.prototype._chooseAndInitObserver=function(){var n=this;this._allowResizeObserver?function kz(){return new Promise(function(a){var n=new ResizeObserver(function(i){a(i.every(function(l){return"devicePixelContentBoxSize"in l})),n.disconnect()});n.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}().then(function(i){return i?n._initResizeObserver():n._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},a.prototype._initDevicePixelRatioObservable=function(){var n=this;if(null!==this._canvasElement){var i=Rz(this._canvasElement);if(null===i)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function Lz(a){return new Y8(a)}(i),this._devicePixelRatioObservable.subscribe(function(){return n._invalidateBitmapSize()}),this._invalidateBitmapSize()}},a.prototype._invalidateBitmapSize=function(){var n,i;if(null!==this._canvasElement){var l=Rz(this._canvasElement);if(null!==l){var h=null!==(i=null===(n=this._devicePixelRatioObservable)||void 0===n?void 0:n.value)&&void 0!==i?i:l.devicePixelRatio,p=this._canvasElement.getClientRects(),y=void 0!==p[0]?function Q8(a,n){return Qn({width:Math.round(a.left*n+a.width*n)-Math.round(a.left*n),height:Math.round(a.top*n+a.height*n)-Math.round(a.top*n)})}(p[0],h):Qn({width:this._canvasElementClientSize.width*h,height:this._canvasElementClientSize.height*h});this._suggestNewBitmapSize(y)}}},a.prototype._initResizeObserver=function(){var n=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(i){var l=i.find(function(y){return y.target===n._canvasElement});if(l&&l.devicePixelContentBoxSize&&l.devicePixelContentBoxSize[0]){var h=l.devicePixelContentBoxSize[0],p=Qn({width:h.inlineSize,height:h.blockSize});n._suggestNewBitmapSize(p)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},a}();function Rz(a){return a.ownerDocument.defaultView}var bl=function(){function a(n,i,l){if(0===i.width||0===i.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=i,0===l.width||0===l.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=l,this._context=n}return a.prototype.useMediaCoordinateSpace=function(n){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),n({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},a.prototype.useBitmapCoordinateSpace=function(n){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),n({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(a.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),a}();function Pd(a,n){var i=a.canvasElementClientSize;if(0===i.width||0===i.height)return null;var l=a.bitmapSize;if(0===l.width||0===l.height)return null;var h=a.canvasElement.getContext("2d",n);return null===h?null:new bl(h,i,l)}const J8={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},e9={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},t9={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},n9={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},r9={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},i9={color:"#26a69a",base:0},Oz={color:"#2196f3"},Nz={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Fz,iP,a;function xh(a,n){a.setLineDash({0:[],1:[a.lineWidth,a.lineWidth],2:[2*a.lineWidth,2*a.lineWidth],3:[6*a.lineWidth,6*a.lineWidth],4:[a.lineWidth,4*a.lineWidth]}[n])}function oP(a,n,i,l){a.beginPath();const h=a.lineWidth%2?.5:0;a.moveTo(i,n+h),a.lineTo(l,n+h),a.stroke()}function Zu(a,n){if(!a)throw new Error("Assertion failed"+(n?": "+n:""))}function Bi(a){if(void 0===a)throw new Error("Value is undefined");return a}function Te(a){if(null===a)throw new Error("Value is null");return a}function h_(a){return Te(Bi(a))}(a=Fz||(Fz={}))[a.Simple=0]="Simple",a[a.WithSteps=1]="WithSteps",a[a.Curved=2]="Curved",function(a){a[a.Solid=0]="Solid",a[a.Dotted=1]="Dotted",a[a.Dashed=2]="Dashed",a[a.LargeDashed=3]="LargeDashed",a[a.SparseDotted=4]="SparseDotted"}(iP||(iP={}));const aP={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function ra(a){return a<0?0:a>255?255:Math.round(a)||0}function o9(a){return a<=0||a>0?a<0?0:a>1?1:Math.round(1e4*a)/1e4:0}const MK=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,w1=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,hg=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,sP=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function Ld(a){(a=a.toLowerCase())in aP&&(a=aP[a]);{const n=sP.exec(a)||hg.exec(a);if(n)return[ra(parseInt(n[1],10)),ra(parseInt(n[2],10)),ra(parseInt(n[3],10)),o9(n.length<5?1:parseFloat(n[4]))]}{const n=w1.exec(a);if(n)return[ra(parseInt(n[1],16)),ra(parseInt(n[2],16)),ra(parseInt(n[3],16)),1]}{const n=MK.exec(a);if(n)return[ra(17*parseInt(n[1],16)),ra(17*parseInt(n[2],16)),ra(17*parseInt(n[3],16)),1]}throw new Error(`Cannot parse color: ${a}`)}function f_(a){const n=Ld(a);return{t:`rgb(${n[0]}, ${n[1]}, ${n[2]})`,i:(i=n,.199*i[0]+.687*i[1]+.114*i[2]>160?"black":"white")};var i}class tr{constructor(){this.h=[]}l(n,i,l){this.h.push({o:n,_:i,u:!0===l})}v(n){const i=this.h.findIndex(l=>n===l.o);i>-1&&this.h.splice(i,1)}p(n){this.h=this.h.filter(i=>i._!==n)}m(n,i,l){const h=[...this.h];this.h=this.h.filter(p=>!p.u),h.forEach(p=>p.o(n,i,l))}M(){return this.h.length>0}S(){this.h=[]}}function Mi(a,...n){for(const i of n)for(const l in i)void 0!==i[l]&&("object"!=typeof i[l]||void 0===a[l]||Array.isArray(i[l])?a[l]=i[l]:Mi(a[l],i[l]));return a}function Sl(a){return"number"==typeof a&&isFinite(a)}function d_(a){return"number"==typeof a&&a%1==0}function p_(a){return"string"==typeof a}function ia(a){return"boolean"==typeof a}function Yu(a){const n=a;if(!n||"object"!=typeof n)return n;let i,l,h;for(l in i=Array.isArray(n)?[]:{},n)n.hasOwnProperty(l)&&(h=n[l],i[l]=h&&"object"==typeof h?Yu(h):h);return i}function AK(a){return null!==a}function v_(a){return null===a?void 0:a}const b1="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Rd(a,n,i){return void 0===n&&(n=b1),`${i=void 0!==i?`${i} `:""}${a}px ${n}`}class a9{constructor(n){this.k={C:1,T:5,P:NaN,R:"",D:"",O:"",A:"",V:0,B:0,I:0,L:0,N:0},this.F=n}W(){const n=this.k,i=this.j(),l=this.H();return n.P===i&&n.D===l||(n.P=i,n.D=l,n.R=Rd(i,l),n.L=2.5/12*i,n.V=n.L,n.B=i/12*n.T,n.I=i/12*n.T,n.N=0),n.O=this.$(),n.A=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class lP{constructor(){this.Y=[]}X(n){this.Y=n}K(n,i,l){this.Y.forEach(h=>{h.K(n,i,l)})}}class uP{K(n,i,l){n.useMediaCoordinateSpace(h=>this.Z(h,i,l))}G(n,i,l){n.useMediaCoordinateSpace(h=>this.J(h,i,l))}J(n,i,l){}}class s9 extends uP{constructor(){super(...arguments),this.tt=null}it(n){this.tt=n}Z({context:n}){if(null===this.tt||null===this.tt.nt)return;const i=this.tt.nt,l=this.tt,h=p=>{n.beginPath();for(let y=i.to-1;y>=i.from;--y){const b=l.st[y];n.moveTo(b.et,b.rt),n.arc(b.et,b.rt,p,0,2*Math.PI)}n.fill()};l.ht>0&&(n.fillStyle=l.lt,h(l.ot+l.ht)),n.fillStyle=l._t,h(l.ot)}}function EK(){return{st:[{et:0,rt:0,ut:0,ct:0}],_t:"",lt:"",ot:0,ht:0,nt:null}}const Vz={from:0,to:1};class l9{constructor(n,i){this.dt=new lP,this.ft=[],this.vt=[],this.bt=!0,this.F=n,this.wt=i,this.dt.X(this.ft)}gt(n){const i=this.F.Mt();i.length!==this.ft.length&&(this.vt=i.map(EK),this.ft=this.vt.map(l=>{const h=new s9;return h.it(l),h}),this.dt.X(this.ft)),this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.dt}St(){const n=2===this.wt.W().mode,i=this.F.Mt(),l=this.wt.kt(),h=this.F.yt();i.forEach((p,y)=>{var b;const C=this.vt[y],M=p.Ct(l);if(n||null===M||!p.Tt())return void(C.nt=null);const I=Te(p.Pt());C._t=M.Rt,C.ot=M.ot,C.ht=M.Dt,C.st[0].ct=M.ct,C.st[0].rt=p.At().Ot(M.ct,I.Vt),C.lt=null!==(b=M.Bt)&&void 0!==b?b:this.F.It(C.st[0].rt/p.At().zt()),C.st[0].ut=l,C.st[0].et=h.Et(l),C.nt=Vz})}}class Cl{K(n,i,l){n.useBitmapCoordinateSpace(h=>this.Z(h,i,l))}}class S1 extends Cl{constructor(n){super(),this.Lt=n}Z({context:n,bitmapSize:i,horizontalPixelRatio:l,verticalPixelRatio:h}){if(null===this.Lt)return;const p=this.Lt.Nt.Tt,y=this.Lt.Ft.Tt;if(!p&&!y)return;const b=Math.round(this.Lt.et*l),C=Math.round(this.Lt.rt*h);n.lineCap="butt",p&&b>=0&&(n.lineWidth=Math.floor(this.Lt.Nt.ht*l),n.strokeStyle=this.Lt.Nt.O,n.fillStyle=this.Lt.Nt.O,xh(n,this.Lt.Nt.Wt),function(M,I,R,V){M.beginPath();const G=M.lineWidth%2?.5:0;M.moveTo(I+G,0),M.lineTo(I+G,V),M.stroke()}(n,b,0,i.height)),y&&C>=0&&(n.lineWidth=Math.floor(this.Lt.Ft.ht*h),n.strokeStyle=this.Lt.Ft.O,n.fillStyle=this.Lt.Ft.O,xh(n,this.Lt.Ft.Wt),oP(n,C,0,i.width))}}class Xu{constructor(n){this.bt=!0,this.jt={Nt:{ht:1,Wt:0,O:"",Tt:!1},Ft:{ht:1,Wt:0,O:"",Tt:!1},et:0,rt:0},this.Ht=new S1(this.jt),this.$t=n}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht}St(){const n=this.$t.Tt(),i=Te(this.$t.Ut()),l=i.qt().W().crosshair,h=this.jt;if(2===l.mode)return h.Ft.Tt=!1,void(h.Nt.Tt=!1);h.Ft.Tt=n&&this.$t.Yt(i),h.Nt.Tt=n&&this.$t.Xt(),h.Ft.ht=l.horzLine.width,h.Ft.Wt=l.horzLine.style,h.Ft.O=l.horzLine.color,h.Nt.ht=l.vertLine.width,h.Nt.Wt=l.vertLine.style,h.Nt.O=l.vertLine.color,h.et=this.$t.Kt(),h.rt=this.$t.Zt()}}function Dh(a,n,i,l,h,p){a.fillRect(n+p,i,l-2*p,p),a.fillRect(n+p,i+h-p,l-2*p,p),a.fillRect(n,i,p,h),a.fillRect(n+l-p,i,p,h)}function fg(a,n,i,l,h,p){a.save(),a.globalCompositeOperation="copy",a.fillStyle=p,a.fillRect(n,i,l,h),a.restore()}function C1(a,n){return a.map(i=>0===i?i:i+n)}function xl(a,n,i,l,h,p){a.beginPath(),a.lineTo(n+l-p[1],i),0!==p[1]&&a.arcTo(n+l,i,n+l,i+p[1],p[1]),a.lineTo(n+l,i+h-p[2]),0!==p[2]&&a.arcTo(n+l,i+h,n+l-p[2],i+h,p[2]),a.lineTo(n+p[3],i+h),0!==p[3]&&a.arcTo(n,i+h,n,i+h-p[3],p[3]),a.lineTo(n,i+p[0]),0!==p[0]&&a.arcTo(n,i,n+p[0],i,p[0])}function x1(a,n,i,l,h,p,y=0,b=[0,0,0,0],C=""){if(a.save(),!y||!C||C===p)return xl(a,n,i,l,h,b),a.fillStyle=p,a.fill(),void a.restore();const M=y/2;"transparent"!==p&&(xl(a,n+y,i+y,l-2*y,h-2*y,C1(b,-y)),a.fillStyle=p,a.fill()),"transparent"!==C&&(xl(a,n+M,i+M,l-y,h-y,C1(b,-M)),a.lineWidth=y,a.strokeStyle=C,a.closePath(),a.stroke()),a.restore()}function D1(a,n,i,l,h,p,y){a.save(),a.globalCompositeOperation="copy";const b=a.createLinearGradient(0,0,0,h);b.addColorStop(0,p),b.addColorStop(1,y),a.fillStyle=b,a.fillRect(n,i,l,h),a.restore()}class Bz{constructor(n,i){this.it(n,i)}it(n,i){this.Lt=n,this.Gt=i}zt(n,i){return this.Lt.Tt?n.P+n.L+n.V:0}K(n,i,l,h){if(!this.Lt.Tt||0===this.Lt.Jt.length)return;const p=this.Lt.O,y=this.Gt.t,b=n.useBitmapCoordinateSpace(C=>{const M=C.context;M.font=i.R;const I=this.Qt(C,i,l,h),R=I.ti,V=(G,$)=>{I.ii?x1(M,R.ni,R.si,R.ei,R.ri,G,R.hi,[R.ot,0,0,R.ot],$):x1(M,R.li,R.si,R.ei,R.ri,G,R.hi,[0,R.ot,R.ot,0],$)};return V(y,"transparent"),this.Lt.ai&&(M.fillStyle=p,M.fillRect(R.li,R.oi,R._i-R.li,R.ui)),V("transparent",y),this.Lt.ci&&(M.fillStyle=i.A,M.fillRect(I.ii?R.di-R.hi:0,R.si,R.hi,R.fi-R.si)),I});n.useMediaCoordinateSpace(({context:C})=>{const M=b.vi;C.font=i.R,C.textAlign=b.ii?"right":"left",C.textBaseline="middle",C.fillStyle=p,C.fillText(this.Lt.Jt,M.pi,(M.si+M.fi)/2+M.mi)})}Qt(n,i,l,h){var p;const{context:y,bitmapSize:b,mediaSize:C,horizontalPixelRatio:M,verticalPixelRatio:I}=n,R=this.Lt.ai||!this.Lt.bi?i.T:0,V=this.Lt.wi?i.C:0,G=i.L+this.Gt.gi,$=i.V+this.Gt.Mi,Z=i.B,ee=i.I,ie=this.Lt.Jt,ne=i.P,ye=l.xi(y,ie),we=Math.ceil(l.Si(y,ie)),je=ne+G+$,Dt=i.C+Z+ee+we+R,It=Math.max(1,Math.floor(I));let Ht=Math.round(je*I);Ht%2!=It%2&&(Ht+=1);const In=V>0?Math.max(1,Math.floor(V*M)):0,vi=Math.round(Dt*M),X_=Math.round(R*M),K_=null!==(p=this.Gt.ki)&&void 0!==p?p:this.Gt.yi,Nh=Math.round(K_*I)-Math.floor(.5*I),Lx=Math.floor(Nh+It/2-Ht/2),fL=Lx+Ht,Ye="right"===h,ut=Ye?C.width-V:V,ct=Ye?b.width-In:In;let ln,jr,Oa;return Ye?(ln=ct-vi,jr=ct-X_,Oa=ut-R-Z-V):(ln=ct+vi,jr=ct+X_,Oa=ut+R+Z),{ii:Ye,ti:{si:Lx,oi:Nh,fi:fL,ei:vi,ri:Ht,ot:2*M,hi:In,ni:ln,li:ct,_i:jr,ui:It,di:b.width},vi:{si:Lx/I,fi:fL/I,pi:Oa,mi:ye}}}}class T1{constructor(n){this.Ci={yi:0,t:"#000",Mi:0,gi:0},this.Ti={Jt:"",Tt:!1,ai:!0,bi:!1,Bt:"",O:"#FFF",ci:!1,wi:!1},this.Pi={Jt:"",Tt:!1,ai:!1,bi:!0,Bt:"",O:"#FFF",ci:!0,wi:!0},this.bt=!0,this.Ri=new(n||Bz)(this.Ti,this.Ci),this.Di=new(n||Bz)(this.Pi,this.Ci)}Jt(){return this.Oi(),this.Ti.Jt}yi(){return this.Oi(),this.Ci.yi}gt(){this.bt=!0}zt(n,i=!1){return Math.max(this.Ri.zt(n,i),this.Di.zt(n,i))}Ai(){return this.Ci.ki||0}Vi(n){this.Ci.ki=n}Bi(){return this.Oi(),this.Ti.Tt||this.Pi.Tt}Ii(){return this.Oi(),this.Ti.Tt}xt(n){return this.Oi(),this.Ti.ai=this.Ti.ai&&n.W().ticksVisible,this.Pi.ai=this.Pi.ai&&n.W().ticksVisible,this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Ri}zi(){return this.Oi(),this.Ri.it(this.Ti,this.Ci),this.Di.it(this.Pi,this.Ci),this.Di}Oi(){this.bt&&(this.Ti.ai=!0,this.Pi.ai=!1,this.Ei(this.Ti,this.Pi,this.Ci))}}class ka extends T1{constructor(n,i,l){super(),this.$t=n,this.Li=i,this.Ni=l}Ei(n,i,l){if(n.Tt=!1,2===this.$t.W().mode)return;const h=this.$t.W().horzLine;if(!h.labelVisible)return;const p=this.Li.Pt();if(!this.$t.Tt()||this.Li.Fi()||null===p)return;const y=f_(h.labelBackgroundColor);l.t=y.t,n.O=y.i;const b=2/12*this.Li.P();l.gi=b,l.Mi=b;const C=this.Ni(this.Li);l.yi=C.yi,n.Jt=this.Li.Wi(C.ct,p),n.Tt=!0}}const u9=/[1-9]/g;class M1{constructor(){this.Lt=null}it(n){this.Lt=n}K(n,i){if(null===this.Lt||!1===this.Lt.Tt||0===this.Lt.Jt.length)return;const l=n.useMediaCoordinateSpace(({context:V})=>(V.font=i.R,Math.round(i.ji.Si(V,Te(this.Lt).Jt,u9))));if(l<=0)return;const h=i.Hi,p=l+2*h,y=p/2,b=this.Lt.$i;let C=this.Lt.yi,M=Math.floor(C-y)+.5;M<0?(C+=Math.abs(0-M),M=Math.floor(C-y)+.5):M+p>b&&(C-=Math.abs(b-(M+p)),M=Math.floor(C-y)+.5);const I=M+p,R=Math.ceil(0+i.C+i.T+i.L+i.P+i.V);n.useBitmapCoordinateSpace(({context:V,horizontalPixelRatio:G,verticalPixelRatio:$})=>{const Z=Te(this.Lt);V.fillStyle=Z.t;const ee=Math.round(M*G),ie=Math.round(0*$),ne=Math.round(I*G),ye=Math.round(R*$),we=Math.round(2*G);if(V.beginPath(),V.moveTo(ee,ie),V.lineTo(ee,ye-we),V.arcTo(ee,ye,ee+we,ye,we),V.lineTo(ne-we,ye),V.arcTo(ne,ye,ne,ye-we,we),V.lineTo(ne,ie),V.fill(),Z.ai){const je=Math.round(Z.yi*G),Dt=ie,It=Math.round((Dt+i.T)*$);V.fillStyle=Z.O;const Ht=Math.max(1,Math.floor(G)),In=Math.floor(.5*G);V.fillRect(je-In,Dt,Ht,It-Dt)}}),n.useMediaCoordinateSpace(({context:V})=>{const G=Te(this.Lt),$=0+i.C+i.T+i.L+i.P/2;V.font=i.R,V.textAlign="left",V.textBaseline="middle",V.fillStyle=G.O;const Z=i.ji.xi(V,"Apr0");V.translate(M+h,$+Z),V.fillText(G.Jt,0,0)})}}class cP{constructor(n,i,l){this.bt=!0,this.Ht=new M1,this.jt={Tt:!1,t:"#4c525e",O:"white",Jt:"",$i:0,yi:NaN,ai:!0},this.wt=n,this.Ui=i,this.Ni=l}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht.it(this.jt),this.Ht}St(){const n=this.jt;if(n.Tt=!1,2===this.wt.W().mode)return;const i=this.wt.W().vertLine;if(!i.labelVisible)return;const l=this.Ui.yt();if(l.Fi())return;n.$i=l.$i();const h=this.Ni();if(null===h)return;n.yi=h.yi;const p=l.qi(this.wt.kt());n.Jt=l.Yi(Te(p)),n.Tt=!0;const y=f_(i.labelBackgroundColor);n.t=y.t,n.O=y.i,n.ai=l.W().ticksVisible}}class hP{constructor(){this.Xi=null,this.Ki=0}Zi(){return this.Ki}Gi(n){this.Ki=n}At(){return this.Xi}Ji(n){this.Xi=n}Qi(n){return[]}tn(){return[]}Tt(){return!0}}var A1;!function(a){a[a.Normal=0]="Normal",a[a.Magnet=1]="Magnet",a[a.Hidden=2]="Hidden"}(A1||(A1={}));class c9 extends hP{constructor(n,i){super(),this.nn=null,this.sn=NaN,this.en=0,this.rn=!0,this.hn=new Map,this.ln=!1,this.an=NaN,this.on=NaN,this._n=NaN,this.un=NaN,this.Ui=n,this.cn=i,this.dn=new l9(n,this),this.fn=((h,p)=>y=>{const b=p(),C=h();if(y===Te(this.nn).vn())return{ct:C,yi:b};{const M=Te(y.Pt());return{ct:y.pn(b,M),yi:b}}})(()=>this.sn,()=>this.on);const l=((h,p)=>()=>{const y=this.Ui.yt().mn(h()),b=p();return y&&Number.isFinite(b)?{ut:y,yi:b}:null})(()=>this.en,()=>this.Kt());this.bn=new cP(this,n,l),this.wn=new Xu(this)}W(){return this.cn}gn(n,i){this._n=n,this.un=i}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(n,i,l){this.ln||(this.ln=!0),this.rn=!0,this.yn(n,i,l)}kt(){return this.en}Kt(){return this.an}Zt(){return this.on}Tt(){return this.rn}Cn(){this.rn=!1,this.Tn(),this.sn=NaN,this.an=NaN,this.on=NaN,this.nn=null,this.Mn()}Pn(n){return null!==this.nn?[this.wn,this.dn]:[]}Yt(n){return n===this.nn&&this.cn.horzLine.visible}Xt(){return this.cn.vertLine.visible}Rn(n,i){this.rn&&this.nn===n||this.hn.clear();const l=[];return this.nn===n&&l.push(this.Dn(this.hn,i,this.fn)),l}tn(){return this.rn?[this.bn]:[]}Ut(){return this.nn}On(){this.wn.gt(),this.hn.forEach(n=>n.gt()),this.bn.gt(),this.dn.gt()}An(n){return n&&!n.vn().Fi()?n.vn():null}yn(n,i,l){this.Vn(n,i,l)&&this.On()}Vn(n,i,l){const h=this.an,p=this.on,y=this.sn,b=this.en,C=this.nn,M=this.An(l);this.en=n,this.an=isNaN(n)?NaN:this.Ui.yt().Et(n),this.nn=l;const I=null!==M?M.Pt():null;return null!==M&&null!==I?(this.sn=i,this.on=M.Ot(i,I)):(this.sn=NaN,this.on=NaN),h!==this.an||p!==this.on||b!==this.en||y!==this.sn||C!==this.nn}Tn(){const n=this.Ui.Mt().map(l=>l.In().Bn()).filter(AK),i=0===n.length?null:Math.max(...n);this.en=null!==i?i:NaN}Dn(n,i,l){let h=n.get(i);return void 0===h&&(h=new ka(this,i,l),n.set(i,h)),h}}function dg(a){return"left"===a||"right"===a}class ti{constructor(n){this.zn=new Map,this.En=[],this.Ln=n}Nn(n,i){const l=(p=i,void 0===(h=this.zn.get(n))?p:{Fn:Math.max(h.Fn,p.Fn),Wn:h.Wn||p.Wn});var h,p;this.zn.set(n,l)}jn(){return this.Ln}Hn(n){const i=this.zn.get(n);return void 0===i?{Fn:this.Ln}:{Fn:Math.max(this.Ln,i.Fn),Wn:i.Wn}}$n(){this.Un(),this.En=[{qn:0}]}Yn(n){this.Un(),this.En=[{qn:1,Vt:n}]}Xn(n){this.Kn(),this.En.push({qn:5,Vt:n})}Un(){this.Kn(),this.En.push({qn:6})}Zn(){this.Un(),this.En=[{qn:4}]}Gn(n){this.Un(),this.En.push({qn:2,Vt:n})}Jn(n){this.Un(),this.En.push({qn:3,Vt:n})}Qn(){return this.En}ts(n){for(const i of n.En)this.ns(i);this.Ln=Math.max(this.Ln,n.Ln),n.zn.forEach((i,l)=>{this.Nn(l,i)})}static ss(){return new ti(2)}static es(){return new ti(3)}ns(n){switch(n.qn){case 0:this.$n();break;case 1:this.Yn(n.Vt);break;case 2:this.Gn(n.Vt);break;case 3:this.Jn(n.Vt);break;case 4:this.Zn();break;case 5:this.Xn(n.Vt);break;case 6:this.Kn()}}Kn(){const n=this.En.findIndex(i=>5===i.qn);-1!==n&&this.En.splice(n,1)}}function Ku(a,n){if(!Sl(a))return"n/a";if(!d_(n))throw new TypeError("invalid length");if(n<0||n>16)throw new TypeError("invalid length");return 0===n?a.toString():("0000000000000000"+a.toString()).slice(-n)}class E1{constructor(n,i){if(i||(i=1),Sl(n)&&d_(n)||(n=100),n<0)throw new TypeError("invalid base");this.Li=n,this.rs=i,this.hs()}format(n){const i=n<0?"\u2212":"";return n=Math.abs(n),i+this.ls(n)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let n=this.Li;for(;n>1;)n/=10,this.os++}}ls(n){const i=this.Li/this.rs;let l=Math.floor(n),h="";const p=void 0!==this.os?this.os:NaN;if(i>1){let y=+(Math.round(n*i)-l*i).toFixed(this.os);y>=i&&(y-=i,l+=1),h="."+Ku(+y.toFixed(this.os)*this.rs,p)}else l=Math.round(l*i)/i,p>0&&(h="."+Ku(0,p));return l.toFixed(0)+h}}class dP extends E1{constructor(n=100){super(n)}format(n){return`${super.format(n)}%`}}class h9{constructor(n){this._s=n}format(n){let i="";return n<0&&(i="-",n=-n),n<995?i+this.us(n):n<999995?i+this.us(n/1e3)+"K":n<999999995?(n=1e3*Math.round(n/1e3),i+this.us(n/1e6)+"M"):(n=1e6*Math.round(n/1e6),i+this.us(n/1e9)+"B")}us(n){let i;const l=Math.pow(10,this._s);return i=(n=Math.round(n*l)/l)>=1e-15&&n<1?n.toFixed(this._s).replace(/\.?0+$/,""):String(n),i.replace(/(\.[1-9]*)0+$/,(h,p)=>p)}}function I1(a,n,i,l,h,p,y){if(0===n.length||l.from>=n.length||l.to<=0)return;const{context:b,horizontalPixelRatio:C,verticalPixelRatio:M}=a,I=n[l.from];let R=p(a,I),V=I;if(l.to-l.from<2){const G=h/2;b.beginPath();const $={et:I.et-G,rt:I.rt},Z={et:I.et+G,rt:I.rt};b.moveTo($.et*C,$.rt*M),b.lineTo(Z.et*C,Z.rt*M),y(a,R,$,Z)}else{const G=(Z,ee)=>{y(a,R,V,ee),b.beginPath(),R=Z,V=ee};let $=V;b.beginPath(),b.moveTo(I.et*C,I.rt*M);for(let Z=l.from+1;Z<l.to;++Z){$=n[Z];const ee=p(a,$);switch(i){case 0:b.lineTo($.et*C,$.rt*M);break;case 1:b.lineTo($.et*C,n[Z-1].rt*M),ee!==R&&(G(ee,$),b.lineTo($.et*C,n[Z-1].rt*M)),b.lineTo($.et*C,$.rt*M);break;case 2:{const[ie,ne]=f9(n,Z-1,Z);b.bezierCurveTo(ie.et*C,ie.rt*M,ne.et*C,ne.rt*M,$.et*C,$.rt*M);break}}1!==i&&ee!==R&&(G(ee,$),b.moveTo($.et*C,$.rt*M))}(V!==$||V===$&&1===i)&&y(a,R,V,$)}}const P1=6;function L1(a,n){return{et:a.et-n.et,rt:a.rt-n.rt}}function zz(a,n){return{et:a.et/n,rt:a.rt/n}}function f9(a,n,i){const l=Math.max(0,n-1),h=Math.min(a.length-1,i+1);var p,y;return[(p=a[n],y=zz(L1(a[i],a[l]),P1),{et:p.et+y.et,rt:p.rt+y.rt}),L1(a[i],zz(L1(a[h],a[n]),P1))]}function Hz(a,n,i,l,h){const{context:p,horizontalPixelRatio:y,verticalPixelRatio:b}=n;p.lineTo(h.et*y,a*b),p.lineTo(l.et*y,a*b),p.closePath(),p.fillStyle=i,p.fill()}class g_ extends Cl{constructor(){super(...arguments),this.tt=null}it(n){this.tt=n}Z(n){var i;if(null===this.tt)return;const{st:l,nt:h,cs:p,ht:y,Wt:b,ds:C}=this.tt,M=null!==(i=this.tt.fs)&&void 0!==i?i:this.tt.vs?0:n.mediaSize.height;if(null===h)return;const I=n.context;I.lineCap="butt",I.lineJoin="round",I.lineWidth=y,xh(I,b),I.lineWidth=1,I1(n,l,C,h,p,this.ps.bind(this),Hz.bind(null,M))}}function m_(a,n,i){return Math.min(Math.max(a,n),i)}function R1(a,n,i){return n-a<=i}function Gz(a){const n=Math.ceil(a);return n%2==0?n-1:n}class pP{bs(n,i){const l=this.ws,{gs:h,Ms:p,xs:y,Ss:b,ks:C,fs:M}=i;if(void 0===this.ys||void 0===l||l.gs!==h||l.Ms!==p||l.xs!==y||l.Ss!==b||l.fs!==M||l.ks!==C){const I=n.context.createLinearGradient(0,0,0,C);if(I.addColorStop(0,h),null!=M){const R=m_(M*n.verticalPixelRatio/C,0,1);I.addColorStop(R,p),I.addColorStop(R,y)}I.addColorStop(1,b),this.ys=I,this.ws=i}return this.ys}}class Uz extends g_{constructor(){super(...arguments),this.Cs=new pP}ps(n,i){return this.Cs.bs(n,{gs:i.Ts,Ms:"",xs:"",Ss:i.Ps,ks:n.bitmapSize.height})}}function jz(a,n){const i=a.context;i.strokeStyle=n,i.stroke()}class Wz extends Cl{constructor(){super(...arguments),this.tt=null}it(n){this.tt=n}Z(n){if(null===this.tt)return;const{st:i,nt:l,cs:h,ds:p,ht:y,Wt:b,Rs:C}=this.tt;if(null===l)return;const M=n.context;M.lineCap="butt",M.lineWidth=y*n.verticalPixelRatio,xh(M,b),M.lineJoin="round";const I=this.Ds.bind(this);void 0!==p&&I1(n,i,p,l,h,I,jz),C&&function(R,V,G,$,Z){const{horizontalPixelRatio:ee,verticalPixelRatio:ie,context:ne}=R;let ye=null;const we=Math.max(1,Math.floor(ee))%2/2,je=G*ie+we;for(let Dt=$.to-1;Dt>=$.from;--Dt){const It=V[Dt];if(It){const Ht=Z(R,It);Ht!==ye&&(ne.beginPath(),null!==ye&&ne.fill(),ne.fillStyle=Ht,ye=Ht);const In=Math.round(It.et*ee)+we,vi=It.rt*ie;ne.moveTo(In,vi),ne.arc(In,vi,je,0,2*Math.PI)}}ne.fill()}(n,i,C,l,I)}}class vP extends Wz{Ds(n,i){return i._t}}function $z(a,n,i,l,h=0,p=n.length){let y=p-h;for(;0<y;){const b=y>>1,C=h+b;l(n[C],i)===a?(h=C+1,y-=b+1):y=b}return h}const y_=$z.bind(null,!0),Th=$z.bind(null,!1);function qz(a,n){return a.ut<n}function gP(a,n){return n<a.ut}function Zz(a,n,i){const l=n.Os(),h=n.di(),p=y_(a,l,qz),y=Th(a,h,gP);if(!i)return{from:p,to:y};let b=p,C=y;return p>0&&p<a.length&&a[p].ut>=l&&(b=p-1),y>0&&y<a.length&&a[y-1].ut<=h&&(C=y+1),{from:b,to:C}}class k1{constructor(n,i,l){this.As=!0,this.Vs=!0,this.Bs=!0,this.Is=[],this.zs=null,this.Es=n,this.Ls=i,this.Ns=l}gt(n){this.As=!0,"data"===n&&(this.Vs=!0),"options"===n&&(this.Bs=!0)}xt(){return this.Es.Tt()?(this.Fs(),null===this.zs?null:this.Ws):null}js(){this.Is=this.Is.map(n=>Object.assign(Object.assign({},n),this.Es.$s().Hs(n.ut)))}Us(){this.zs=null}Fs(){this.Vs&&(this.qs(),this.Vs=!1),this.Bs&&(this.js(),this.Bs=!1),this.As&&(this.Ys(),this.As=!1)}Ys(){const n=this.Es.At(),i=this.Ls.yt();if(this.Us(),i.Fi()||n.Fi())return;const l=i.Xs();if(null===l||0===this.Es.In().Ks())return;const h=this.Es.Pt();null!==h&&(this.zs=Zz(this.Is,l,this.Ns),this.Zs(n,i,h.Vt),this.Gs())}}class __ extends k1{constructor(n,i){super(n,i,!0)}Zs(n,i,l){i.Js(this.Is,v_(this.zs)),n.Qs(this.Is,l,v_(this.zs))}te(n,i){return{ut:n,ct:i,et:NaN,rt:NaN}}qs(){const n=this.Es.$s();this.Is=this.Es.In().ie().map(i=>this.ne(i.se,i.Vt[3],n))}}class Yz extends __{constructor(n,i){super(n,i),this.Ws=new lP,this.ee=new Uz,this.re=new vP,this.Ws.X([this.ee,this.re])}ne(n,i,l){return Object.assign(Object.assign({},this.te(n,i)),l.Hs(n))}Gs(){const n=this.Es.W();this.ee.it({ds:n.lineType,st:this.Is,Wt:n.lineStyle,ht:n.lineWidth,fs:null,vs:n.invertFilledArea,nt:this.zs,cs:this.Ls.yt().he()}),this.re.it({ds:n.lineVisible?n.lineType:void 0,st:this.Is,Wt:n.lineStyle,ht:n.lineWidth,nt:this.zs,cs:this.Ls.yt().he(),Rs:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0})}}class mP extends Cl{constructor(){super(...arguments),this.Lt=null,this.le=0,this.ae=0}it(n){this.Lt=n}Z({context:n,horizontalPixelRatio:i,verticalPixelRatio:l}){if(null===this.Lt||0===this.Lt.In.length||null===this.Lt.nt)return;this.le=this.oe(i),this.le>=2&&Math.max(1,Math.floor(i))%2!=this.le%2&&this.le--,this.ae=this.Lt._e?Math.min(this.le,Math.floor(i)):this.le;let h=null;const p=this.ae<=this.le&&this.Lt.he>=Math.floor(1.5*i);for(let y=this.Lt.nt.from;y<this.Lt.nt.to;++y){const b=this.Lt.In[y];h!==b.ue&&(n.fillStyle=b.ue,h=b.ue);const C=Math.floor(.5*this.ae),M=Math.round(b.et*i),I=M-C,R=this.ae,V=I+R-1,G=Math.min(b.ce,b.de),$=Math.max(b.ce,b.de),Z=Math.round(G*l)-C,ee=Math.round($*l)+C,ie=Math.max(ee-Z,this.ae);n.fillRect(I,Z,R,ie);const ne=Math.ceil(1.5*this.le);if(p){if(this.Lt.fe){const Dt=M-ne;let It=Math.max(Z,Math.round(b.ve*l)-C),Ht=It+R-1;Ht>Z+ie-1&&(Ht=Z+ie-1,It=Ht-R+1),n.fillRect(Dt,It,I-Dt,Ht-It+1)}const ye=M+ne;let we=Math.max(Z,Math.round(b.pe*l)-C),je=we+R-1;je>Z+ie-1&&(je=Z+ie-1,we=je-R+1),n.fillRect(V+1,we,ye-V,je-we+1)}}}oe(n){const i=Math.floor(n);return Math.max(i,Math.floor((l=Te(this.Lt).he,Math.floor(.3*l*n))));var l}}class yP extends k1{constructor(n,i){super(n,i,!1)}Zs(n,i,l){i.Js(this.Is,v_(this.zs)),n.me(this.Is,l,v_(this.zs))}be(n,i,l){return{ut:n,we:i.Vt[0],ge:i.Vt[1],Me:i.Vt[2],xe:i.Vt[3],et:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const n=this.Es.$s();this.Is=this.Es.In().ie().map(i=>this.ne(i.se,i,n))}}class _P extends yP{constructor(){super(...arguments),this.Ws=new mP}ne(n,i,l){return Object.assign(Object.assign({},this.be(n,i,l)),l.Hs(n))}Gs(){const n=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),fe:n.openVisible,_e:n.thinBars,nt:this.zs})}}class wP extends g_{constructor(){super(...arguments),this.Cs=new pP}ps(n,i){return this.Cs.bs(n,{gs:i.Se,Ms:i.ke,xs:i.ye,Ss:i.Ce,ks:n.bitmapSize.height,fs:this.tt.fs})}}class Xz extends Wz{constructor(){super(...arguments),this.Te=new pP}Ds(n,i){return this.Te.bs(n,{gs:i.Pe,Ms:i.Pe,xs:i.Re,Ss:i.Re,ks:n.bitmapSize.height,fs:this.tt.fs})}}class d9 extends __{constructor(n,i){super(n,i),this.Ws=new lP,this.De=new wP,this.Oe=new Xz,this.Ws.X([this.De,this.Oe])}ne(n,i,l){return Object.assign(Object.assign({},this.te(n,i)),l.Hs(n))}Gs(){const n=this.Es.Pt();if(null===n)return;const i=this.Es.W(),l=this.Es.At().Ot(i.baseValue.price,n.Vt),h=this.Ls.yt().he();this.De.it({st:this.Is,ht:i.lineWidth,Wt:i.lineStyle,ds:i.lineType,fs:l,vs:!1,nt:this.zs,cs:h}),this.Oe.it({st:this.Is,ht:i.lineWidth,Wt:i.lineStyle,ds:i.lineVisible?i.lineType:void 0,Rs:i.pointMarkersVisible?i.pointMarkersRadius||i.lineWidth/2+2:void 0,fs:l,nt:this.zs,cs:h})}}class Kz extends Cl{constructor(){super(...arguments),this.Lt=null,this.le=0}it(n){this.Lt=n}Z(n){if(null===this.Lt||0===this.Lt.In.length||null===this.Lt.nt)return;const{horizontalPixelRatio:i}=n;this.le=function(p,y){if(p>=2.5&&p<=4)return Math.floor(3*y);const b=1-.2*Math.atan(Math.max(4,p)-4)/(.5*Math.PI),C=Math.floor(p*b*y),M=Math.floor(p*y),I=Math.min(C,M);return Math.max(Math.floor(y),I)}(this.Lt.he,i),this.le>=2&&Math.floor(i)%2!=this.le%2&&this.le--;const l=this.Lt.In;this.Lt.Ae&&this.Ve(n,l,this.Lt.nt),this.Lt.ci&&this.Be(n,l,this.Lt.nt);const h=this.Ie(i);(!this.Lt.ci||this.le>2*h)&&this.ze(n,l,this.Lt.nt)}Ve(n,i,l){if(null===this.Lt)return;const{context:h,horizontalPixelRatio:p,verticalPixelRatio:y}=n;let b="",C=Math.min(Math.floor(p),Math.floor(this.Lt.he*p));C=Math.max(Math.floor(p),Math.min(C,this.le));const M=Math.floor(.5*C);let I=null;for(let R=l.from;R<l.to;R++){const V=i[R];V.Ee!==b&&(h.fillStyle=V.Ee,b=V.Ee);const G=Math.round(Math.min(V.ve,V.pe)*y),$=Math.round(Math.max(V.ve,V.pe)*y),Z=Math.round(V.ce*y),ee=Math.round(V.de*y);let ie=Math.round(p*V.et)-M;const ne=ie+C-1;null!==I&&(ie=Math.max(I+1,ie),ie=Math.min(ie,ne));const ye=ne-ie+1;h.fillRect(ie,Z,ye,G-Z),h.fillRect(ie,$+1,ye,ee-$),I=ne}}Ie(n){let i=Math.floor(1*n);this.le<=2*i&&(i=Math.floor(.5*(this.le-1)));const l=Math.max(Math.floor(n),i);return this.le<=2*l?Math.max(Math.floor(n),Math.floor(1*n)):l}Be(n,i,l){if(null===this.Lt)return;const{context:h,horizontalPixelRatio:p,verticalPixelRatio:y}=n;let b="";const C=this.Ie(p);let M=null;for(let I=l.from;I<l.to;I++){const R=i[I];R.Le!==b&&(h.fillStyle=R.Le,b=R.Le);let V=Math.round(R.et*p)-Math.floor(.5*this.le);const G=V+this.le-1,$=Math.round(Math.min(R.ve,R.pe)*y),Z=Math.round(Math.max(R.ve,R.pe)*y);null!==M&&(V=Math.max(M+1,V),V=Math.min(V,G)),this.Lt.he*p>2*C?Dh(h,V,$,G-V+1,Z-$+1,C):h.fillRect(V,$,G-V+1,Z-$+1),M=G}}ze(n,i,l){if(null===this.Lt)return;const{context:h,horizontalPixelRatio:p,verticalPixelRatio:y}=n;let b="";const C=this.Ie(p);for(let M=l.from;M<l.to;M++){const I=i[M];let R=Math.round(Math.min(I.ve,I.pe)*y),V=Math.round(Math.max(I.ve,I.pe)*y),G=Math.round(I.et*p)-Math.floor(.5*this.le),$=G+this.le-1;if(I.ue!==b){const Z=I.ue;h.fillStyle=Z,b=Z}this.Lt.ci&&(G+=C,R+=C,$-=C,V-=C),R>V||h.fillRect(G,R,$-G+1,V-R+1)}}}class bP extends yP{constructor(){super(...arguments),this.Ws=new Kz}ne(n,i,l){return Object.assign(Object.assign({},this.be(n,i,l)),l.Hs(n))}Gs(){const n=this.Es.W();this.Ws.it({In:this.Is,he:this.Ls.yt().he(),Ae:n.wickVisible,ci:n.borderVisible,nt:this.zs})}}class Qz{constructor(n,i){this.Ne=n,this.Li=i}K(n,i,l){this.Ne.draw(n,this.Li,i,l)}}class w_ extends k1{constructor(n,i,l){super(n,i,!1),this.wn=l,this.Ws=new Qz(this.wn.renderer(),h=>{const p=n.Pt();return null===p?null:n.At().Ot(h,p.Vt)})}Fe(n){return this.wn.priceValueBuilder(n)}We(n){return this.wn.isWhitespace(n)}qs(){const n=this.Es.$s();this.Is=this.Es.In().ie().map(i=>Object.assign(Object.assign({ut:i.se,et:NaN},n.Hs(i.se)),{je:i.He}))}Zs(n,i){i.Js(this.Is,v_(this.zs))}Gs(){this.wn.update({bars:this.Is.map(Jz),barSpacing:this.Ls.yt().he(),visibleRange:this.zs},this.Es.W())}}function Jz(a){return{x:a.et,time:a.ut,originalData:a.je,barColor:a.ue}}class e3 extends Cl{constructor(){super(...arguments),this.Lt=null,this.$e=[]}it(n){this.Lt=n,this.$e=[]}Z({context:n,horizontalPixelRatio:i,verticalPixelRatio:l}){if(null===this.Lt||0===this.Lt.st.length||null===this.Lt.nt)return;this.$e.length||this.Ue(i);const h=Math.max(1,Math.floor(l)),p=Math.round(this.Lt.qe*l)-Math.floor(h/2),y=p+h;for(let b=this.Lt.nt.from;b<this.Lt.nt.to;b++){const C=this.Lt.st[b],M=this.$e[b-this.Lt.nt.from],I=Math.round(C.rt*l);let R,V;n.fillStyle=C.ue,I<=p?(R=I,V=y):(R=p,V=I-Math.floor(h/2)+h),n.fillRect(M.Os,R,M.di-M.Os+1,V-R)}}Ue(n){if(null===this.Lt||0===this.Lt.st.length||null===this.Lt.nt)return void(this.$e=[]);const i=Math.ceil(this.Lt.he*n)<=1?0:Math.max(1,Math.floor(n)),l=Math.round(this.Lt.he*n)-i;this.$e=new Array(this.Lt.nt.to-this.Lt.nt.from);for(let p=this.Lt.nt.from;p<this.Lt.nt.to;p++){const y=this.Lt.st[p],b=Math.round(y.et*n);let C,M;if(l%2){const I=(l-1)/2;C=b-I,M=b+I}else{const I=l/2;C=b-I,M=b+I-1}this.$e[p-this.Lt.nt.from]={Os:C,di:M,Ye:b,Xe:y.et*n,ut:y.ut}}for(let p=this.Lt.nt.from+1;p<this.Lt.nt.to;p++){const y=this.$e[p-this.Lt.nt.from],b=this.$e[p-this.Lt.nt.from-1];y.ut===b.ut+1&&y.Os-b.di!==i+1&&(b.Ye>b.Xe?b.di=y.Os-i-1:y.Os=b.di+i+1)}let h=Math.ceil(this.Lt.he*n);for(let p=this.Lt.nt.from;p<this.Lt.nt.to;p++){const y=this.$e[p-this.Lt.nt.from];y.di<y.Os&&(y.di=y.Os),h=Math.min(y.di-y.Os+1,h)}if(i>0&&h<4)for(let p=this.Lt.nt.from;p<this.Lt.nt.to;p++){const y=this.$e[p-this.Lt.nt.from];y.di-y.Os+1>h&&(y.Ye>y.Xe?y.di-=1:y.Os+=1)}}}class p9 extends __{constructor(){super(...arguments),this.Ws=new e3}ne(n,i,l){return Object.assign(Object.assign({},this.te(n,i)),l.Hs(n))}Gs(){const n={st:this.Is,he:this.Ls.yt().he(),nt:this.zs,qe:this.Es.At().Ot(this.Es.W().base,Te(this.Es.Pt()).Vt)};this.Ws.it(n)}}class t3 extends __{constructor(){super(...arguments),this.Ws=new vP}ne(n,i,l){return Object.assign(Object.assign({},this.te(n,i)),l.Hs(n))}Gs(){const n=this.Es.W(),i={st:this.Is,Wt:n.lineStyle,ds:n.lineVisible?n.lineType:void 0,ht:n.lineWidth,Rs:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,nt:this.zs,cs:this.Ls.yt().he()};this.Ws.it(i)}}const v9=/[2-9]/g;class pg{constructor(n=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=n}ir(){this.Ke=0,this.Qe.clear(),this.Ze=1,this.Ge=1,this.Je={}}Si(n,i,l){return this.nr(n,i,l).width}xi(n,i,l){const h=this.nr(n,i,l);return((h.actualBoundingBoxAscent||0)-(h.actualBoundingBoxDescent||0))/2}nr(n,i,l){const h=l||v9,p=String(i).replace(h,"0");if(this.Qe.has(p))return Bi(this.Qe.get(p)).sr;if(this.Ke===this.tr){const b=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(b),this.Ge++,this.Ke--}n.save(),n.textBaseline="middle";const y=n.measureText(p);return n.restore(),0===y.width&&i.length||(this.Qe.set(p,{sr:y,er:this.Ze}),this.Je[this.Ze]=p,this.Ke++,this.Ze++),y}}class g9{constructor(n){this.rr=null,this.k=null,this.hr="right",this.lr=n}ar(n,i,l){this.rr=n,this.k=i,this.hr=l}K(n){null!==this.k&&null!==this.rr&&this.rr.K(n,this.k,this.lr,this.hr)}}class n3{constructor(n,i,l){this._r=n,this.lr=new pg(50),this.ur=i,this.F=l,this.j=-1,this.Ht=new g9(this.lr)}xt(){const n=this.F.cr(this.ur);if(null===n)return null;const i=n.dr(this.ur)?n.vr():this.ur.At();if(null===i)return null;const l=n.pr(i);if("overlay"===l)return null;const h=this.F.mr();return h.P!==this.j&&(this.j=h.P,this.lr.ir()),this.Ht.ar(this._r.zi(),h,l),this.Ht}}class m9 extends Cl{constructor(){super(...arguments),this.Lt=null}it(n){this.Lt=n}br(n,i){var l;if(null===(l=this.Lt)||void 0===l||!l.Tt)return null;const{rt:h,ht:p,wr:y}=this.Lt;return i>=h-p-7&&i<=h+p+7?{gr:this.Lt,wr:y}:null}Z({context:n,bitmapSize:i,horizontalPixelRatio:l,verticalPixelRatio:h}){if(null===this.Lt||!1===this.Lt.Tt)return;const p=Math.round(this.Lt.rt*h);p<0||p>i.height||(n.lineCap="butt",n.strokeStyle=this.Lt.O,n.lineWidth=Math.floor(this.Lt.ht*l),xh(n,this.Lt.Wt),oP(n,p,0,i.width))}}class ys{constructor(n){this.Mr={rt:0,O:"rgba(0, 0, 0, 0)",ht:1,Wt:0,Tt:!1},this.Sr=new m9,this.bt=!0,this.Es=n,this.Ls=n.qt(),this.Sr.it(this.Mr)}gt(){this.bt=!0}xt(){return this.Es.Tt()?(this.bt&&(this.kr(),this.bt=!1),this.Sr):null}}class y9 extends ys{constructor(n){super(n)}kr(){this.Mr.Tt=!1;const n=this.Es.At(),i=n.yr().yr;if(2!==i&&3!==i)return;const l=this.Es.W();if(!l.baseLineVisible||!this.Es.Tt())return;const h=this.Es.Pt();null!==h&&(this.Mr.Tt=!0,this.Mr.rt=n.Ot(h.Vt,h.Vt),this.Mr.O=l.baseLineColor,this.Mr.ht=l.baseLineWidth,this.Mr.Wt=l.baseLineStyle)}}class r3 extends Cl{constructor(){super(...arguments),this.Lt=null}it(n){this.Lt=n}He(){return this.Lt}Z({context:n,horizontalPixelRatio:i,verticalPixelRatio:l}){const h=this.Lt;if(null===h)return;const p=Math.max(1,Math.floor(i)),y=p%2/2,b=Math.round(h.Xe.x*i)+y,C=h.Xe.y*l;n.fillStyle=h.Cr,n.beginPath();const M=Math.max(2,1.5*h.Tr)*i;n.arc(b,C,M,0,2*Math.PI,!1),n.fill(),n.fillStyle=h.Pr,n.beginPath(),n.arc(b,C,h.ot*i,0,2*Math.PI,!1),n.fill(),n.lineWidth=p,n.strokeStyle=h.Rr,n.beginPath(),n.arc(b,C,h.ot*i+p/2,0,2*Math.PI,!1),n.stroke()}}const _9=[{Dr:0,Or:.25,Ar:4,Vr:10,Br:.25,Ir:0,zr:.4,Er:.8},{Dr:.25,Or:.525,Ar:10,Vr:14,Br:0,Ir:0,zr:.8,Er:0},{Dr:.525,Or:1,Ar:14,Vr:14,Br:0,Ir:0,zr:0,Er:0}];function i3(a,n,i,l){return function(h,p){if("transparent"===h)return h;const y=Ld(h);return`rgba(${y[0]}, ${y[1]}, ${y[2]}, ${p*y[3]})`}(a,i+(l-i)*n)}function o3(a,n){const i=a%2600/2600;let l;for(const C of _9)if(i>=C.Dr&&i<=C.Or){l=C;break}Zu(void 0!==l,"Last price animation internal logic error");const h=(i-l.Dr)/(l.Or-l.Dr);return{Pr:i3(n,h,l.Br,l.Ir),Rr:i3(n,h,l.zr,l.Er),ot:(p=h,y=l.Ar,b=l.Vr,y+(b-y)*p)};var p,y,b}class a3{constructor(n){this.Ht=new r3,this.bt=!0,this.Lr=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=n}jr(){this.Fr=this.Nr-1,this.gt()}Hr(){if(this.gt(),2===this.Wr.W().lastPriceAnimation){const n=performance.now(),i=this.Fr-n;if(i>0)return void(i<650&&(this.Fr+=2600));this.Nr=n,this.Fr=n+2600}}gt(){this.bt=!0}$r(){this.Lr=!0}Tt(){return 0!==this.Wr.W().lastPriceAnimation}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}xt(){return this.bt?(this.St(),this.bt=!1,this.Lr=!1):this.Lr&&(this.qr(),this.Lr=!1),this.Ht}St(){this.Ht.it(null);const n=this.Wr.qt().yt(),i=n.Xs(),l=this.Wr.Pt();if(null===i||null===l)return;const h=this.Wr.Yr(!0);if(h.Xr||!i.Kr(h.se))return;const p={x:n.Et(h.se),y:this.Wr.At().Ot(h.ct,l.Vt)},y=h.O,b=this.Wr.W().lineWidth,C=o3(this.Zr(),y);this.Ht.it({Cr:y,Tr:b,Pr:C.Pr,Rr:C.Rr,ot:C.ot,Xe:p})}qr(){const n=this.Ht.He();if(null!==n){const i=o3(this.Zr(),n.Cr);n.Pr=i.Pr,n.Rr=i.Rr,n.ot=i.ot}}Zr(){return this.Ur()?performance.now()-this.Nr:2599}}function b_(a,n){return Gz(Math.min(Math.max(a,12),30)*n)}function kd(a,n){switch(a){case"arrowDown":case"arrowUp":return b_(n,1);case"circle":return b_(n,.8);case"square":return b_(n,.7)}}function s3(a){return function(n){const i=Math.ceil(n);return i%2!=0?i-1:i}(b_(a,1))}function l3(a){return Math.max(b_(a,.1),3)}function SP(a,n,i,l,h){const p=kd("square",i),y=(p-1)/2,b=a-y,C=n-y;return l>=b&&l<=b+p&&h>=C&&h<=C+p}function CP(a,n,i,l,h){const p=(kd("arrowUp",h)-1)/2,y=(Gz(h/2)-1)/2;n.beginPath(),a?(n.moveTo(i-p,l),n.lineTo(i,l-p),n.lineTo(i+p,l),n.lineTo(i+y,l),n.lineTo(i+y,l+p),n.lineTo(i-y,l+p),n.lineTo(i-y,l)):(n.moveTo(i-p,l),n.lineTo(i,l+p),n.lineTo(i+p,l),n.lineTo(i+y,l),n.lineTo(i+y,l-p),n.lineTo(i-y,l-p),n.lineTo(i-y,l)),n.fill()}class u3 extends uP{constructor(){super(...arguments),this.Lt=null,this.lr=new pg,this.j=-1,this.H="",this.Gr=""}it(n){this.Lt=n}ar(n,i){this.j===n&&this.H===i||(this.j=n,this.H=i,this.Gr=Rd(n,i),this.lr.ir())}br(n,i){if(null===this.Lt||null===this.Lt.nt)return null;for(let l=this.Lt.nt.from;l<this.Lt.nt.to;l++){const h=this.Lt.st[l];if(S9(h,n,i))return{gr:h.Jr,wr:h.wr}}return null}Z({context:n},i,l){if(null!==this.Lt&&null!==this.Lt.nt){n.textBaseline="middle",n.font=this.Gr;for(let h=this.Lt.nt.from;h<this.Lt.nt.to;h++){const p=this.Lt.st[h];void 0!==p.Jt&&(p.Jt.$i=this.lr.Si(n,p.Jt.Qr),p.Jt.zt=this.j,p.Jt.et=p.et-p.Jt.$i/2),b9(p,n)}}}}function b9(a,n){n.fillStyle=a.O,void 0!==a.Jt&&n.fillText(a.Jt.Qr,a.Jt.et,a.Jt.rt),function(i,l){if(0!==i.Ks)switch(i.th){case"arrowDown":return void CP(!1,l,i.et,i.rt,i.Ks);case"arrowUp":return void CP(!0,l,i.et,i.rt,i.Ks);case"circle":return void function(h,p,y,b){const C=(kd("circle",b)-1)/2;h.beginPath(),h.arc(p,y,C,0,2*Math.PI,!1),h.fill()}(l,i.et,i.rt,i.Ks);case"square":!function(h,p,y,b){const C=kd("square",b),M=(C-1)/2;h.fillRect(p-M,y-M,C,C)}(l,i.et,i.rt,i.Ks)}}(a,n)}function S9(a,n,i){return!(void 0===a.Jt||!function(l,h,p,y,b,C){const M=y/2;return b>=l&&b<=l+p&&C>=h-M&&C<=h+M}(a.Jt.et,a.Jt.rt,a.Jt.$i,a.Jt.zt,n,i))||function(l,h,p){if(0===l.Ks)return!1;switch(l.th){case"arrowDown":case"arrowUp":return function w9(a,n,i,l,h,p){return SP(n,i,l,h,p)}(0,l.et,l.rt,l.Ks,h,p);case"circle":return function(y,b,C,M,I){const R=2+kd("circle",C)/2,V=y-M,G=b-I;return Math.sqrt(V*V+G*G)<=R}(l.et,l.rt,l.Ks,h,p);case"square":return SP(l.et,l.rt,l.Ks,h,p)}}(a,n,i)}function C9(a,n,i,l,h,p,y,b,C){const M=Sl(i)?i:i.xe,I=Sl(i)?i:i.ge,R=Sl(i)?i:i.Me,V=Sl(n.size)?Math.max(n.size,0):1,G=s3(b.he())*V,$=G/2;switch(a.Ks=G,n.position){case"inBar":return a.rt=y.Ot(M,C),void(void 0!==a.Jt&&(a.Jt.rt=a.rt+$+p+.6*h));case"aboveBar":return a.rt=y.Ot(I,C)-$-l.ih,void 0!==a.Jt&&(a.Jt.rt=a.rt-$-.6*h,l.ih+=1.2*h),void(l.ih+=G+p);case"belowBar":return a.rt=y.Ot(R,C)+$+l.nh,void 0!==a.Jt&&(a.Jt.rt=a.rt+$+p+.6*h,l.nh+=1.2*h),void(l.nh+=G+p)}}class x9{constructor(n,i){this.bt=!0,this.sh=!0,this.eh=!0,this.rh=null,this.Ht=new u3,this.Wr=n,this.Ui=i,this.Lt={st:[],nt:null}}gt(n){this.bt=!0,this.eh=!0,"data"===n&&(this.sh=!0)}xt(n){if(!this.Wr.Tt())return null;this.bt&&this.hh();const i=this.Ui.W().layout;return this.Ht.ar(i.fontSize,i.fontFamily),this.Ht.it(this.Lt),this.Ht}lh(){if(this.eh){if(this.Wr.ah().length>0){const n=this.Ui.yt().he(),i=l3(n),l=1.5*s3(n)+2*i;this.rh={above:l,below:l}}else this.rh=null;this.eh=!1}return this.rh}hh(){const n=this.Wr.At(),i=this.Ui.yt(),l=this.Wr.ah();this.sh&&(this.Lt.st=l.map(I=>({ut:I.time,et:0,rt:0,Ks:0,th:I.shape,O:I.color,Jr:I.Jr,wr:I.id,Jt:void 0})),this.sh=!1);const h=this.Ui.W().layout;this.Lt.nt=null;const p=i.Xs();if(null===p)return;const y=this.Wr.Pt();if(null===y||0===this.Lt.st.length)return;let b=NaN;const C=l3(i.he()),M={ih:C,nh:C};this.Lt.nt=Zz(this.Lt.st,p,!0);for(let I=this.Lt.nt.from;I<this.Lt.nt.to;I++){const R=l[I];R.time!==b&&(M.ih=C,M.nh=C,b=R.time);const V=this.Lt.st[I];V.et=i.Et(R.time),void 0!==R.text&&R.text.length>0&&(V.Jt={Qr:R.text,et:0,rt:0,$i:0,zt:0});const G=this.Wr.oh(R.time);null!==G&&C9(V,R,G,M,h.fontSize,C,n,i,y.Vt)}this.bt=!1}}class D9 extends ys{constructor(n){super(n)}kr(){const n=this.Mr;n.Tt=!1;const i=this.Es.W();if(!i.priceLineVisible||!this.Es.Tt())return;const l=this.Es.Yr(0===i.priceLineSource);l.Xr||(n.Tt=!0,n.rt=l.yi,n.O=this.Es._h(l.O),n.ht=i.priceLineWidth,n.Wt=i.priceLineStyle)}}class T9 extends T1{constructor(n){super(),this.$t=n}Ei(n,i,l){n.Tt=!1,i.Tt=!1;const h=this.$t;if(!h.Tt())return;const p=h.W(),y=p.lastValueVisible,b=""!==h.uh(),C=0===p.seriesLastValueMode,M=h.Yr(!1);if(M.Xr)return;y&&(n.Jt=this.dh(M,y,C),n.Tt=0!==n.Jt.length),(b||C)&&(i.Jt=this.fh(M,y,b,C),i.Tt=i.Jt.length>0);const I=h._h(M.O),R=f_(I);l.t=R.t,l.yi=M.yi,i.Bt=h.qt().It(M.yi/h.At().zt()),n.Bt=I,n.O=R.i,i.O=R.i}fh(n,i,l,h){let p="";const y=this.$t.uh();return l&&0!==y.length&&(p+=`${y} `),i&&h&&(p+=this.$t.At().ph()?n.mh:n.bh),p.trim()}dh(n,i,l){return i?l?this.$t.At().ph()?n.bh:n.mh:n.Jt:""}}function c3(a,n,i,l){const h=Number.isFinite(n),p=Number.isFinite(i);return h&&p?a(n,i):h||p?h?n:i:l}class lo{constructor(n,i){this.wh=n,this.gh=i}Mh(n){return null!==n&&this.wh===n.wh&&this.gh===n.gh}xh(){return new lo(this.wh,this.gh)}Sh(){return this.wh}kh(){return this.gh}yh(){return this.gh-this.wh}Fi(){return this.gh===this.wh||Number.isNaN(this.gh)||Number.isNaN(this.wh)}ts(n){return null===n?this:new lo(c3(Math.min,this.Sh(),n.Sh(),-1/0),c3(Math.max,this.kh(),n.kh(),1/0))}Ch(n){if(!Sl(n)||this.gh-this.wh==0)return;const i=.5*(this.gh+this.wh);let l=this.gh-i,h=this.wh-i;l*=n,h*=n,this.gh=i+l,this.wh=i+h}Th(n){Sl(n)&&(this.gh+=n,this.wh+=n)}Ph(){return{minValue:this.wh,maxValue:this.gh}}static Rh(n){return null===n?null:new lo(n.minValue,n.maxValue)}}class Od{constructor(n,i){this.Dh=n,this.Oh=i||null}Ah(){return this.Dh}Vh(){return this.Oh}Ph(){return null===this.Dh?null:{priceRange:this.Dh.Ph(),margins:this.Oh||void 0}}static Rh(n){return null===n?null:new Od(lo.Rh(n.priceRange),n.margins)}}class S_ extends ys{constructor(n,i){super(n),this.Bh=i}kr(){const n=this.Mr;n.Tt=!1;const i=this.Bh.W();if(!this.Es.Tt()||!i.lineVisible)return;const l=this.Bh.Ih();null!==l&&(n.Tt=!0,n.rt=l,n.O=i.color,n.ht=i.lineWidth,n.Wt=i.lineStyle,n.wr=this.Bh.W().id)}}class M9 extends T1{constructor(n,i){super(),this.Wr=n,this.Bh=i}Ei(n,i,l){n.Tt=!1,i.Tt=!1;const h=this.Bh.W(),y=""!==h.title,b=this.Wr;if(!h.axisLabelVisible||!b.Tt())return;const C=this.Bh.Ih();if(null===C)return;y&&(i.Jt=h.title,i.Tt=!0),i.Bt=b.qt().It(C/b.At().zt()),n.Jt=this.zh(h.price),n.Tt=!0;const M=f_(h.axisLabelColor||h.color);l.t=M.t;const I=h.axisLabelTextColor||M.i;n.O=I,i.O=I,l.yi=C}zh(n){const i=this.Wr.Pt();return null===i?"":this.Wr.At().Wi(n,i.Vt)}}class A9{constructor(n,i){this.Wr=n,this.cn=i,this.Eh=new S_(n,this),this._r=new M9(n,this),this.Lh=new n3(this._r,n,n.qt())}Nh(n){Mi(this.cn,n),this.gt(),this.Wr.qt().Fh()}W(){return this.cn}Wh(){return this.Eh}jh(){return this.Lh}Hh(){return this._r}gt(){this.Eh.gt(),this._r.gt()}Ih(){const n=this.Wr,i=n.At();if(n.qt().yt().Fi()||i.Fi())return null;const l=n.Pt();return null===l?null:i.Ot(this.cn.price,l.Vt)}}class E9 extends hP{constructor(n){super(),this.Ui=n}qt(){return this.Ui}}const I9={Bar:(a,n,i,l)=>{var h;const p=n.upColor,y=n.downColor,b=Te(a(i,l)),C=h_(b.Vt[0])<=h_(b.Vt[3]);return{ue:null!==(h=b.O)&&void 0!==h?h:C?p:y}},Candlestick:(a,n,i,l)=>{var h,p,y;const b=n.upColor,C=n.downColor,M=n.borderUpColor,I=n.borderDownColor,R=n.wickUpColor,V=n.wickDownColor,G=Te(a(i,l)),$=h_(G.Vt[0])<=h_(G.Vt[3]);return{ue:null!==(h=G.O)&&void 0!==h?h:$?b:C,Le:null!==(p=G.Bt)&&void 0!==p?p:$?M:I,Ee:null!==(y=G.$h)&&void 0!==y?y:$?R:V}},Custom:(a,n,i,l)=>{var h;return{ue:null!==(h=Te(a(i,l)).O)&&void 0!==h?h:n.color}},Area:(a,n,i,l)=>{var h,p,y,b;const C=Te(a(i,l));return{ue:null!==(h=C._t)&&void 0!==h?h:n.lineColor,_t:null!==(p=C._t)&&void 0!==p?p:n.lineColor,Ts:null!==(y=C.Ts)&&void 0!==y?y:n.topColor,Ps:null!==(b=C.Ps)&&void 0!==b?b:n.bottomColor}},Baseline:(a,n,i,l)=>{var h,p,y,b,C,M;const I=Te(a(i,l));return{ue:I.Vt[3]>=n.baseValue.price?n.topLineColor:n.bottomLineColor,Pe:null!==(h=I.Pe)&&void 0!==h?h:n.topLineColor,Re:null!==(p=I.Re)&&void 0!==p?p:n.bottomLineColor,Se:null!==(y=I.Se)&&void 0!==y?y:n.topFillColor1,ke:null!==(b=I.ke)&&void 0!==b?b:n.topFillColor2,ye:null!==(C=I.ye)&&void 0!==C?C:n.bottomFillColor1,Ce:null!==(M=I.Ce)&&void 0!==M?M:n.bottomFillColor2}},Line:(a,n,i,l)=>{var h,p;const y=Te(a(i,l));return{ue:null!==(h=y.O)&&void 0!==h?h:n.color,_t:null!==(p=y.O)&&void 0!==p?p:n.color}},Histogram:(a,n,i,l)=>{var h;return{ue:null!==(h=Te(a(i,l)).O)&&void 0!==h?h:n.color}}};class P9{constructor(n){this.Uh=(i,l)=>void 0!==l?l.Vt:this.Wr.In().qh(i),this.Wr=n,this.Yh=I9[n.Xh()]}Hs(n,i){return this.Yh(this.Uh,this.Wr.W(),n,i)}}var h3;!function(a){a[a.NearestLeft=-1]="NearestLeft",a[a.None=0]="None",a[a.NearestRight=1]="NearestRight"}(h3||(h3={}));class xP{constructor(){this.Kh=[],this.Zh=new Map,this.Gh=new Map}Jh(){return this.Ks()>0?this.Kh[this.Kh.length-1]:null}Qh(){return this.Ks()>0?this.tl(0):null}Bn(){return this.Ks()>0?this.tl(this.Kh.length-1):null}Ks(){return this.Kh.length}Fi(){return 0===this.Ks()}Kr(n){return null!==this.il(n,0)}qh(n){return this.nl(n)}nl(n,i=0){const l=this.il(n,i);return null===l?null:Object.assign(Object.assign({},this.sl(l)),{se:this.tl(l)})}ie(){return this.Kh}el(n,i,l){if(this.Fi())return null;let h=null;for(const p of l)h=O1(h,this.rl(n,i,p));return h}it(n){this.Gh.clear(),this.Zh.clear(),this.Kh=n}tl(n){return this.Kh[n].se}sl(n){return this.Kh[n]}il(n,i){const l=this.hl(n);if(null===l&&0!==i)switch(i){case-1:return this.ll(n);case 1:return this.al(n);default:throw new TypeError("Unknown search mode")}return l}ll(n){let i=this.ol(n);return i>0&&(i-=1),i!==this.Kh.length&&this.tl(i)<n?i:null}al(n){const i=this._l(n);return i!==this.Kh.length&&n<this.tl(i)?i:null}hl(n){const i=this.ol(n);return i===this.Kh.length||n<this.Kh[i].se?null:i}ol(n){return y_(this.Kh,n,(i,l)=>i.se<l)}_l(n){return Th(this.Kh,n,(i,l)=>i.se>l)}ul(n,i,l){let h=null;for(let p=n;p<i;p++){const y=this.Kh[p].Vt[l];Number.isNaN(y)||(null===h?h={cl:y,dl:y}:(y<h.cl&&(h.cl=y),y>h.dl&&(h.dl=y)))}return h}rl(n,i,l){if(this.Fi())return null;let h=null;const p=Te(this.Qh()),y=Te(this.Bn()),b=Math.max(n,p),C=Math.min(i,y),M=30*Math.ceil(b/30),I=Math.max(M,30*Math.floor(C/30));{const V=this.ol(b),G=this._l(Math.min(C,M,i));h=O1(h,this.ul(V,G,l))}let R=this.Zh.get(l);void 0===R&&(R=new Map,this.Zh.set(l,R));for(let V=Math.max(M+1,b);V<I;V+=30){const G=Math.floor(V/30);let $=R.get(G);if(void 0===$){const Z=this.ol(30*G),ee=this._l(30*(G+1)-1);$=this.ul(Z,ee,l),R.set(G,$)}h=O1(h,$)}{const V=this.ol(I),G=this._l(C);h=O1(h,this.ul(V,G,l))}return h}}function O1(a,n){return null===a?n:null===n?a:{cl:Math.min(a.cl,n.cl),dl:Math.max(a.dl,n.dl)}}class L9{constructor(n){this.fl=n}K(n,i,l){this.fl.draw(n)}G(n,i,l){var h,p;null===(p=(h=this.fl).drawBackground)||void 0===p||p.call(h,n)}}class C_{constructor(n){this.Qe=null,this.wn=n}xt(){var n;const i=this.wn.renderer();if(null===i)return null;if((null===(n=this.Qe)||void 0===n?void 0:n.vl)===i)return this.Qe.pl;const l=new L9(i);return this.Qe={vl:i,pl:l},l}ml(){var n,i,l;return null!==(l=null===(i=(n=this.wn).zOrder)||void 0===i?void 0:i.call(n))&&void 0!==l?l:"normal"}}function f3(a){var n,i,l,h,p;return{Jt:a.text(),yi:a.coordinate(),ki:null===(n=a.fixedCoordinate)||void 0===n?void 0:n.call(a),O:a.textColor(),t:a.backColor(),Tt:null===(l=null===(i=a.visible)||void 0===i?void 0:i.call(a))||void 0===l||l,ai:null===(p=null===(h=a.tickVisible)||void 0===h?void 0:h.call(a))||void 0===p||p}}class R9{constructor(n,i){this.Ht=new M1,this.bl=n,this.wl=i}xt(){return this.Ht.it(Object.assign({$i:this.wl.$i()},f3(this.bl))),this.Ht}}class DP extends T1{constructor(n,i){super(),this.bl=n,this.Li=i}Ei(n,i,l){const h=f3(this.bl);l.t=h.t,n.O=h.O;const p=2/12*this.Li.P();l.gi=p,l.Mi=p,l.yi=h.yi,l.ki=h.ki,n.Jt=h.Jt,n.Tt=h.Tt,n.ai=h.ai}}class k9{constructor(n,i){this.gl=null,this.Ml=null,this.xl=null,this.Sl=null,this.kl=null,this.yl=n,this.Wr=i}Cl(){return this.yl}On(){var n,i;null===(i=(n=this.yl).updateAllViews)||void 0===i||i.call(n)}Pn(){var n,i,l,h;const p=null!==(l=null===(i=(n=this.yl).paneViews)||void 0===i?void 0:i.call(n))&&void 0!==l?l:[];if((null===(h=this.gl)||void 0===h?void 0:h.vl)===p)return this.gl.pl;const y=p.map(b=>new C_(b));return this.gl={vl:p,pl:y},y}tn(){var n,i,l,h;const p=null!==(l=null===(i=(n=this.yl).timeAxisViews)||void 0===i?void 0:i.call(n))&&void 0!==l?l:[];if((null===(h=this.Ml)||void 0===h?void 0:h.vl)===p)return this.Ml.pl;const y=this.Wr.qt().yt(),b=p.map(C=>new R9(C,y));return this.Ml={vl:p,pl:b},b}Rn(){var n,i,l,h;const p=null!==(l=null===(i=(n=this.yl).priceAxisViews)||void 0===i?void 0:i.call(n))&&void 0!==l?l:[];if((null===(h=this.xl)||void 0===h?void 0:h.vl)===p)return this.xl.pl;const y=this.Wr.At(),b=p.map(C=>new DP(C,y));return this.xl={vl:p,pl:b},b}Tl(){var n,i,l,h;const p=null!==(l=null===(i=(n=this.yl).priceAxisPaneViews)||void 0===i?void 0:i.call(n))&&void 0!==l?l:[];if((null===(h=this.Sl)||void 0===h?void 0:h.vl)===p)return this.Sl.pl;const y=p.map(b=>new C_(b));return this.Sl={vl:p,pl:y},y}Pl(){var n,i,l,h;const p=null!==(l=null===(i=(n=this.yl).timeAxisPaneViews)||void 0===i?void 0:i.call(n))&&void 0!==l?l:[];if((null===(h=this.kl)||void 0===h?void 0:h.vl)===p)return this.kl.pl;const y=p.map(b=>new C_(b));return this.kl={vl:p,pl:y},y}Rl(n,i){var l,h,p;return null!==(p=null===(h=(l=this.yl).autoscaleInfo)||void 0===h?void 0:h.call(l,n,i))&&void 0!==p?p:null}br(n,i){var l,h,p;return null!==(p=null===(h=(l=this.yl).hitTest)||void 0===h?void 0:h.call(l,n,i))&&void 0!==p?p:null}}function N1(a,n,i,l){a.forEach(h=>{n(h).forEach(p=>{p.ml()===i&&l.push(p)})})}function TP(a){return a.Pn()}function d3(a){return a.Tl()}function O9(a){return a.Pl()}class MP extends E9{constructor(n,i,l,h,p){super(n),this.Lt=new xP,this.Eh=new D9(this),this.Dl=[],this.Ol=new y9(this),this.Al=null,this.Vl=null,this.Bl=[],this.Il=[],this.zl=null,this.El=[],this.cn=i,this.Ll=l;const y=new T9(this);this.hn=[y],this.Lh=new n3(y,this,n),"Area"!==l&&"Line"!==l&&"Baseline"!==l||(this.Al=new a3(this)),this.Nl(),this.Fl(p)}S(){null!==this.zl&&clearTimeout(this.zl)}_h(n){return this.cn.priceLineColor||n}Yr(n){const i={Xr:!0},l=this.At();if(this.qt().yt().Fi()||l.Fi()||this.Lt.Fi())return i;const h=this.qt().yt().Xs(),p=this.Pt();if(null===h||null===p)return i;let y,b;if(n){const R=this.Lt.Jh();if(null===R)return i;y=R,b=R.se}else{const R=this.Lt.nl(h.di(),-1);if(null===R||(y=this.Lt.qh(R.se),null===y))return i;b=R.se}const C=y.Vt[3],M=this.$s().Hs(b,{Vt:y}),I=l.Ot(C,p.Vt);return{Xr:!1,ct:C,Jt:l.Wi(C,p.Vt),mh:l.Wl(C),bh:l.jl(C,p.Vt),O:M.ue,yi:I,se:b}}$s(){return null!==this.Vl||(this.Vl=new P9(this)),this.Vl}W(){return this.cn}Nh(n){const i=n.priceScaleId;void 0!==i&&i!==this.cn.priceScaleId&&this.qt().Hl(this,i),Mi(this.cn,n),void 0!==n.priceFormat&&(this.Nl(),this.qt().$l()),this.qt().Ul(this),this.qt().ql(),this.wn.gt("options")}it(n,i){this.Lt.it(n),this.Yl(),this.wn.gt("data"),this.dn.gt("data"),null!==this.Al&&(i&&i.Xl?this.Al.Hr():0===n.length&&this.Al.jr());const l=this.qt().cr(this);this.qt().Kl(l),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}Zl(n){this.Bl=n,this.Yl();const i=this.qt().cr(this);this.dn.gt("data"),this.qt().Kl(i),this.qt().Ul(this),this.qt().ql(),this.qt().Fh()}Gl(){return this.Bl}ah(){return this.Il}Jl(n){const i=new A9(this,n);return this.Dl.push(i),this.qt().Ul(this),i}Ql(n){const i=this.Dl.indexOf(n);-1!==i&&this.Dl.splice(i,1),this.qt().Ul(this)}Xh(){return this.Ll}Pt(){const n=this.ta();return null===n?null:{Vt:n.Vt[3],ia:n.ut}}ta(){const n=this.qt().yt().Xs();if(null===n)return null;const i=n.Os();return this.Lt.nl(i,1)}In(){return this.Lt}oh(n){const i=this.Lt.qh(n);return null===i?null:"Bar"===this.Ll||"Candlestick"===this.Ll||"Custom"===this.Ll?{we:i.Vt[0],ge:i.Vt[1],Me:i.Vt[2],xe:i.Vt[3]}:i.Vt[3]}na(n){const i=[];N1(this.El,TP,"top",i);const l=this.Al;return null!==l&&l.Tt()&&(null===this.zl&&l.Ur()&&(this.zl=setTimeout(()=>{this.zl=null,this.qt().sa()},0)),l.$r(),i.push(l)),i}Pn(){const n=[];this.ea()||n.push(this.Ol),n.push(this.wn,this.Eh,this.dn);const i=this.Dl.map(l=>l.Wh());return n.push(...i),N1(this.El,TP,"normal",n),n}ra(){return this.ha(TP,"bottom")}la(n){return this.ha(d3,n)}aa(n){return this.ha(O9,n)}oa(n,i){return this.El.map(l=>l.br(n,i)).filter(l=>null!==l)}Qi(n){return[this.Lh,...this.Dl.map(i=>i.jh())]}Rn(n,i){if(i!==this.Xi&&!this.ea())return[];const l=[...this.hn];for(const h of this.Dl)l.push(h.Hh());return this.El.forEach(h=>{l.push(...h.Rn())}),l}tn(){const n=[];return this.El.forEach(i=>{n.push(...i.tn())}),n}Rl(n,i){if(void 0!==this.cn.autoscaleInfoProvider){const l=this.cn.autoscaleInfoProvider(()=>{const h=this._a(n,i);return null===h?null:h.Ph()});return Od.Rh(l)}return this._a(n,i)}ua(){return this.cn.priceFormat.minMove}ca(){return this.da}On(){var n;this.wn.gt(),this.dn.gt();for(const i of this.hn)i.gt();for(const i of this.Dl)i.gt();this.Eh.gt(),this.Ol.gt(),null===(n=this.Al)||void 0===n||n.gt(),this.El.forEach(i=>i.On())}At(){return Te(super.At())}Ct(n){if("Line"!==this.Ll&&"Area"!==this.Ll&&"Baseline"!==this.Ll||!this.cn.crosshairMarkerVisible)return null;const i=this.Lt.qh(n);return null===i?null:{ct:i.Vt[3],ot:this.fa(),Bt:this.va(),Dt:this.pa(),Rt:this.ma(n)}}uh(){return this.cn.title}Tt(){return this.cn.visible}ba(n){this.El.push(new k9(n,this))}wa(n){this.El=this.El.filter(i=>i.Cl()!==n)}ga(){if(this.wn instanceof w_)return n=>this.wn.Fe(n)}Ma(){if(this.wn instanceof w_)return n=>this.wn.We(n)}ea(){return!dg(this.At().xa())}_a(n,i){if(!d_(n)||!d_(i)||this.Lt.Fi())return null;const h=this.Lt.el(n,i,"Line"===this.Ll||"Area"===this.Ll||"Baseline"===this.Ll||"Histogram"===this.Ll?[3]:[2,1]);let p=null!==h?new lo(h.cl,h.dl):null;if("Histogram"===this.Xh()){const b=this.cn.base,C=new lo(b,b);p=null!==p?p.ts(C):C}let y=this.dn.lh();return this.El.forEach(b=>{const C=b.Rl(n,i);if(C?.priceRange){const G=new lo(C.priceRange.minValue,C.priceRange.maxValue);p=null!==p?p.ts(G):G}var M,I,R,V;C?.margins&&(M=y,I=C.margins,y={above:Math.max(null!==(R=M?.above)&&void 0!==R?R:0,I.above),below:Math.max(null!==(V=M?.below)&&void 0!==V?V:0,I.below)})}),new Od(p,y)}fa(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}va(){switch(this.Ll){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBorderColor;if(0!==n.length)return n}}return null}pa(){switch(this.Ll){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}ma(n){switch(this.Ll){case"Line":case"Area":case"Baseline":{const i=this.cn.crosshairMarkerBackgroundColor;if(0!==i.length)return i}}return this.$s().Hs(n).ue}Nl(){switch(this.cn.priceFormat.type){case"custom":this.da={format:this.cn.priceFormat.formatter};break;case"volume":this.da=new h9(this.cn.priceFormat.precision);break;case"percent":this.da=new dP(this.cn.priceFormat.precision);break;default:{const n=Math.pow(10,this.cn.priceFormat.precision);this.da=new E1(n,this.cn.priceFormat.minMove*n)}}null!==this.Xi&&this.Xi.Sa()}Yl(){const n=this.qt().yt();if(!n.ka()||this.Lt.Fi())return void(this.Il=[]);const i=Te(this.Lt.Qh());this.Il=this.Bl.map((l,h)=>{const p=Te(n.ya(l.time,!0));return{time:Te(this.Lt.nl(p,p<i?1:-1)).se,position:l.position,shape:l.shape,color:l.color,id:l.id,Jr:h,text:l.text,size:l.size,originalTime:l.originalTime}})}Fl(n){switch(this.dn=new x9(this,this.qt()),this.Ll){case"Bar":this.wn=new _P(this,this.qt());break;case"Candlestick":this.wn=new bP(this,this.qt());break;case"Line":this.wn=new t3(this,this.qt());break;case"Custom":this.wn=new w_(this,this.qt(),Bi(n));break;case"Area":this.wn=new Yz(this,this.qt());break;case"Baseline":this.wn=new d9(this,this.qt());break;case"Histogram":this.wn=new p9(this,this.qt());break;default:throw Error("Unknown chart style assigned: "+this.Ll)}}ha(n,i){const l=[];return N1(this.El,n,i,l),l}}class N9{constructor(n){this.cn=n}Ca(n,i,l){let h=n;if(0===this.cn.mode)return h;const p=l.vn(),y=p.Pt();if(null===y)return h;const b=p.Ot(n,y),C=l.Ta().filter(I=>I instanceof MP).reduce((I,R)=>{if(l.dr(R)||!R.Tt())return I;const V=R.At(),G=R.In();if(V.Fi()||!G.Kr(i))return I;const $=G.qh(i);if(null===$)return I;const Z=h_(R.Pt());return I.concat([V.Ot($.Vt[3],Z.Vt)])},[]);return 0===C.length||(C.sort((I,R)=>Math.abs(I-b)-Math.abs(R-b)),h=p.pn(C[0],y)),h}}class F9 extends Cl{constructor(){super(...arguments),this.Lt=null}it(n){this.Lt=n}Z({context:n,bitmapSize:i,horizontalPixelRatio:l,verticalPixelRatio:h}){if(null===this.Lt)return;const p=Math.max(1,Math.floor(l));var y,b;n.lineWidth=p,b=()=>{const y=Te(this.Lt);if(y.Pa){n.strokeStyle=y.Ra,xh(n,y.Da),n.beginPath();for(const b of y.Oa){const C=Math.round(b.Aa*l);n.moveTo(C,-p),n.lineTo(C,i.height+p)}n.stroke()}if(y.Va){n.strokeStyle=y.Ba,xh(n,y.Ia),n.beginPath();for(const b of y.za){const C=Math.round(b.Aa*h);n.moveTo(-p,C),n.lineTo(i.width+p,C)}n.stroke()}},(y=n).save(),y.lineWidth%2&&y.translate(.5,.5),b(),y.restore()}}class p3{constructor(n){this.Ht=new F9,this.bt=!0,this.nn=n}gt(){this.bt=!0}xt(){if(this.bt){const n=this.nn.qt().W().grid,i={Va:n.horzLines.visible,Pa:n.vertLines.visible,Ba:n.horzLines.color,Ra:n.vertLines.color,Ia:n.horzLines.style,Da:n.vertLines.style,za:this.nn.vn().Ea(),Oa:(this.nn.qt().yt().Ea()||[]).map(l=>({Aa:l.coord}))};this.Ht.it(i),this.bt=!1}return this.Ht}}class V9{constructor(n){this.wn=new p3(n)}Wh(){return this.wn}}const AP={La:4,Na:1e-4};function vg(a,n){const i=100*(a-n)/n;return n<0?-i:i}function F1(a,n){const i=vg(a.Sh(),n),l=vg(a.kh(),n);return new lo(i,l)}function Ah(a,n){const i=100*(a-n)/n+100;return n<0?-i:i}function v3(a,n){const i=Ah(a.Sh(),n),l=Ah(a.kh(),n);return new lo(i,l)}function V1(a,n){const i=Math.abs(a);if(i<1e-15)return 0;const l=Math.log10(i+n.Na)+n.La;return a<0?-l:l}function x_(a,n){const i=Math.abs(a);if(i<1e-15)return 0;const l=Math.pow(10,i-n.La)-n.Na;return a<0?-l:l}function D_(a,n){if(null===a)return null;const i=V1(a.Sh(),n),l=V1(a.kh(),n);return new lo(i,l)}function B1(a,n){if(null===a)return null;const i=x_(a.Sh(),n),l=x_(a.kh(),n);return new lo(i,l)}function EP(a){if(null===a)return AP;const n=Math.abs(a.kh()-a.Sh());if(n>=1||n<1e-15)return AP;const i=Math.ceil(Math.abs(Math.log10(n))),l=AP.La+i;return{La:l,Na:1/Math.pow(10,l)}}class IP{constructor(n,i){if(this.Fa=n,this.Wa=i,function(l){if(l<0)return!1;for(let h=l;h>1;h/=10)if(h%10!=0)return!1;return!0}(this.Fa))this.ja=[2,2.5,2];else{this.ja=[];for(let l=this.Fa;1!==l;){if(l%2==0)this.ja.push(2),l/=2;else{if(l%5!=0)throw new Error("unexpected base");this.ja.push(2,2.5),l/=5}if(this.ja.length>100)throw new Error("something wrong with base")}}}Ha(n,i,l){const h=0===this.Fa?0:1/this.Fa;let p=Math.pow(10,Math.max(0,Math.ceil(Math.log10(n-i)))),y=0,b=this.Wa[0];for(;;){const R=R1(p,h,1e-14)&&p>h+1e-14,V=R1(p,l*b,1e-14),G=R1(p,1,1e-14);if(!(R&&V&&G))break;p/=b,b=this.Wa[++y%this.Wa.length]}if(p<=h+1e-14&&(p=h),p=Math.max(1,p),this.ja.length>0&&Math.abs(p-1)<1e-14)for(y=0,b=this.ja[0];R1(p,l*b,1e-14)&&p>h+1e-14;)p/=b,b=this.ja[++y%this.ja.length];return p}}class g3{constructor(n,i,l,h){this.$a=[],this.Li=n,this.Fa=i,this.Ua=l,this.qa=h}Ha(n,i){if(n<i)throw new Error("high < low");const l=this.Li.zt(),h=(n-i)*this.Ya()/l,p=new IP(this.Fa,[2,2.5,2]),y=new IP(this.Fa,[2,2,2.5]),b=new IP(this.Fa,[2.5,2,2]),C=[];return C.push(p.Ha(n,i,h),y.Ha(n,i,h),b.Ha(n,i,h)),function(M){if(M.length<1)throw Error("array is empty");let I=M[0];for(let R=1;R<M.length;++R)M[R]<I&&(I=M[R]);return I}(C)}Xa(){const n=this.Li,i=n.Pt();if(null===i)return void(this.$a=[]);const l=n.zt(),h=this.Ua(l-1,i),p=this.Ua(0,i),y=this.Li.W().entireTextOnly?this.Ka()/2:0,b=y,C=l-1-y,M=Math.max(h,p),I=Math.min(h,p);if(M===I)return void(this.$a=[]);let R=this.Ha(M,I),V=M%R;V+=V<0?R:0;const G=M>=I?1:-1;let $=null,Z=0;for(let ee=M-V;ee>I;ee-=R){const ie=this.qa(ee,i,!0);null!==$&&Math.abs(ie-$)<this.Ya()||ie<b||ie>C||(Z<this.$a.length?(this.$a[Z].Aa=ie,this.$a[Z].Za=n.Ga(ee)):this.$a.push({Aa:ie,Za:n.Ga(ee)}),Z++,$=ie,n.Ja()&&(R=this.Ha(ee*G,I)))}this.$a.length=Z}Ea(){return this.$a}Ka(){return this.Li.P()}Ya(){return Math.ceil(2.5*this.Ka())}}function m3(a){return a.slice().sort((n,i)=>Te(n.Zi())-Te(i.Zi()))}var y3;!function(a){a[a.Normal=0]="Normal",a[a.Logarithmic=1]="Logarithmic",a[a.Percentage=2]="Percentage",a[a.IndexedTo100=3]="IndexedTo100"}(y3||(y3={}));const PP=new dP,LP=new E1(100,1);class B9{constructor(n,i,l,h){this.Qa=0,this.io=null,this.Dh=null,this.no=null,this.so={eo:!1,ro:null},this.ho=0,this.lo=0,this.ao=new tr,this.oo=new tr,this._o=[],this.uo=null,this.co=null,this.do=null,this.fo=null,this.da=LP,this.vo=EP(null),this.po=n,this.cn=i,this.mo=l,this.bo=h,this.wo=new g3(this,100,this.Mo.bind(this),this.xo.bind(this))}xa(){return this.po}W(){return this.cn}Nh(n){if(Mi(this.cn,n),this.Sa(),void 0!==n.mode&&this.So({yr:n.mode}),void 0!==n.scaleMargins){const i=Bi(n.scaleMargins.top),l=Bi(n.scaleMargins.bottom);if(i<0||i>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${i}`);if(l<0||l>1||i+l>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${l}`);if(i+l>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${i+l}`);this.ko(),this.co=null}}yo(){return this.cn.autoScale}Ja(){return 1===this.cn.mode}ph(){return 2===this.cn.mode}Co(){return 3===this.cn.mode}yr(){return{Wn:this.cn.autoScale,To:this.cn.invertScale,yr:this.cn.mode}}So(n){const i=this.yr();let l=null;void 0!==n.Wn&&(this.cn.autoScale=n.Wn),void 0!==n.yr&&(this.cn.mode=n.yr,2!==n.yr&&3!==n.yr||(this.cn.autoScale=!0),this.so.eo=!1),1===i.yr&&n.yr!==i.yr&&(function(p,y){if(null===p)return!1;const b=x_(p.Sh(),y),C=x_(p.kh(),y);return isFinite(b)&&isFinite(C)}(this.Dh,this.vo)?(l=B1(this.Dh,this.vo),null!==l&&this.Po(l)):this.cn.autoScale=!0),1===n.yr&&n.yr!==i.yr&&(l=D_(this.Dh,this.vo),null!==l&&this.Po(l));const h=i.yr!==this.cn.mode;h&&(2===i.yr||this.ph())&&this.Sa(),h&&(3===i.yr||this.Co())&&this.Sa(),void 0!==n.To&&i.To!==n.To&&(this.cn.invertScale=n.To,this.Ro()),this.oo.m(i,this.yr())}Do(){return this.oo}P(){return this.mo.fontSize}zt(){return this.Qa}Oo(n){this.Qa!==n&&(this.Qa=n,this.ko(),this.co=null)}Ao(){if(this.io)return this.io;const n=this.zt()-this.Vo()-this.Bo();return this.io=n,n}Ah(){return this.Io(),this.Dh}Po(n,i){const l=this.Dh;(i||null===l&&null!==n||null!==l&&!l.Mh(n))&&(this.co=null,this.Dh=n)}Fi(){return this.Io(),0===this.Qa||!this.Dh||this.Dh.Fi()}zo(n){return this.To()?n:this.zt()-1-n}Ot(n,i){return this.ph()?n=vg(n,i):this.Co()&&(n=Ah(n,i)),this.xo(n,i)}Qs(n,i,l){this.Io();const h=this.Bo(),p=Te(this.Ah()),y=p.Sh(),b=p.kh(),C=this.Ao()-1,M=this.To(),I=C/(b-y),R=void 0===l?0:l.from,V=void 0===l?n.length:l.to,G=this.Eo();for(let $=R;$<V;$++){const Z=n[$],ee=Z.ct;if(isNaN(ee))continue;let ie=ee;null!==G&&(ie=G(Z.ct,i));const ne=h+I*(ie-y);Z.rt=M?ne:this.Qa-1-ne}}me(n,i,l){this.Io();const h=this.Bo(),p=Te(this.Ah()),y=p.Sh(),b=p.kh(),C=this.Ao()-1,M=this.To(),I=C/(b-y),R=void 0===l?0:l.from,V=void 0===l?n.length:l.to,G=this.Eo();for(let $=R;$<V;$++){const Z=n[$];let ee=Z.we,ie=Z.ge,ne=Z.Me,ye=Z.xe;null!==G&&(ee=G(Z.we,i),ie=G(Z.ge,i),ne=G(Z.Me,i),ye=G(Z.xe,i));let we=h+I*(ee-y),je=M?we:this.Qa-1-we;Z.ve=je,we=h+I*(ie-y),je=M?we:this.Qa-1-we,Z.ce=je,we=h+I*(ne-y),je=M?we:this.Qa-1-we,Z.de=je,we=h+I*(ye-y),je=M?we:this.Qa-1-we,Z.pe=je}}pn(n,i){const l=this.Mo(n,i);return this.Lo(l,i)}Lo(n,i){let l=n;return this.ph()?(h=l,(p=i)<0&&(h=-h),l=h/100*p+p):this.Co()&&(l=function(h,p){return h-=100,p<0&&(h=-h),h/100*p+p}(l,i)),l;var h,p}Ta(){return this._o}No(){if(this.uo)return this.uo;let n=[];for(let i=0;i<this._o.length;i++){const l=this._o[i];null===l.Zi()&&l.Gi(i+1),n.push(l)}return n=m3(n),this.uo=n,this.uo}Fo(n){-1===this._o.indexOf(n)&&(this._o.push(n),this.Sa(),this.Wo())}jo(n){const i=this._o.indexOf(n);if(-1===i)throw new Error("source is not attached to scale");this._o.splice(i,1),0===this._o.length&&(this.So({Wn:!0}),this.Po(null)),this.Sa(),this.Wo()}Pt(){let n=null;for(const i of this._o){const l=i.Pt();null!==l&&(null===n||l.ia<n.ia)&&(n=l)}return null===n?null:n.Vt}To(){return this.cn.invertScale}Ea(){const n=null===this.Pt();if(null!==this.co&&(n||this.co.Ho===n))return this.co.Ea;this.wo.Xa();const i=this.wo.Ea();return this.co={Ea:i,Ho:n},this.ao.m(),i}$o(){return this.ao}Uo(n){this.ph()||this.Co()||null===this.do&&null===this.no&&(this.Fi()||(this.do=this.Qa-n,this.no=Te(this.Ah()).xh()))}qo(n){if(this.ph()||this.Co()||null===this.do)return;this.So({Wn:!1}),(n=this.Qa-n)<0&&(n=0);let i=(this.do+.2*(this.Qa-1))/(n+.2*(this.Qa-1));const l=Te(this.no).xh();i=Math.max(i,.1),l.Ch(i),this.Po(l)}Yo(){this.ph()||this.Co()||(this.do=null,this.no=null)}Xo(n){this.yo()||null===this.fo&&null===this.no&&(this.Fi()||(this.fo=n,this.no=Te(this.Ah()).xh()))}Ko(n){if(this.yo()||null===this.fo)return;const i=Te(this.Ah()).yh()/(this.Ao()-1);let l=n-this.fo;this.To()&&(l*=-1);const h=l*i,p=Te(this.no).xh();p.Th(h),this.Po(p,!0),this.co=null}Zo(){this.yo()||null!==this.fo&&(this.fo=null,this.no=null)}ca(){return this.da||this.Sa(),this.da}Wi(n,i){switch(this.cn.mode){case 2:return this.Go(vg(n,i));case 3:return this.ca().format(Ah(n,i));default:return this.zh(n)}}Ga(n){switch(this.cn.mode){case 2:return this.Go(n);case 3:return this.ca().format(n);default:return this.zh(n)}}Wl(n){return this.zh(n,Te(this.Jo()).ca())}jl(n,i){return n=vg(n,i),this.Go(n,PP)}Qo(){return this._o}t_(n){this.so={ro:n,eo:!1}}On(){this._o.forEach(n=>n.On())}Sa(){this.co=null;const n=this.Jo();let i=100;null!==n&&(i=Math.round(1/n.ua())),this.da=LP,this.ph()?(this.da=PP,i=100):this.Co()?(this.da=new E1(100,1),i=100):null!==n&&(this.da=n.ca()),this.wo=new g3(this,i,this.Mo.bind(this),this.xo.bind(this)),this.wo.Xa()}Wo(){this.uo=null}Jo(){return this._o[0]||null}Vo(){return this.To()?this.cn.scaleMargins.bottom*this.zt()+this.lo:this.cn.scaleMargins.top*this.zt()+this.ho}Bo(){return this.To()?this.cn.scaleMargins.top*this.zt()+this.ho:this.cn.scaleMargins.bottom*this.zt()+this.lo}Io(){this.so.eo||(this.so.eo=!0,this.i_())}ko(){this.io=null}xo(n,i){if(this.Io(),this.Fi())return 0;n=this.Ja()&&n?V1(n,this.vo):n;const l=Te(this.Ah()),h=this.Bo()+(this.Ao()-1)*(n-l.Sh())/l.yh();return this.zo(h)}Mo(n,i){if(this.Io(),this.Fi())return 0;const l=this.zo(n),h=Te(this.Ah()),p=h.Sh()+h.yh()*((l-this.Bo())/(this.Ao()-1));return this.Ja()?x_(p,this.vo):p}Ro(){this.co=null,this.wo.Xa()}i_(){const n=this.so.ro;if(null===n)return;let i=null;const l=this.Qo();let h=0,p=0;for(const C of l){if(!C.Tt())continue;const M=C.Pt();if(null===M)continue;const I=C.Rl(n.Os(),n.di());let R=I&&I.Ah();if(null!==R){switch(this.cn.mode){case 1:R=D_(R,this.vo);break;case 2:R=F1(R,M.Vt);break;case 3:R=v3(R,M.Vt)}if(i=null===i?R:i.ts(Te(R)),null!==I){const V=I.Vh();null!==V&&(h=Math.max(h,V.above),p=Math.max(h,V.below))}}}if(h===this.ho&&p===this.lo||(this.ho=h,this.lo=p,this.co=null,this.ko()),null!==i){if(i.Sh()===i.kh()){const C=this.Jo(),M=5*(null===C||this.ph()||this.Co()?1:C.ua());this.Ja()&&(i=B1(i,this.vo)),i=new lo(i.Sh()-M,i.kh()+M),this.Ja()&&(i=D_(i,this.vo))}if(this.Ja()){const C=B1(i,this.vo),M=EP(C);if((y=M).La!==(b=this.vo).La||y.Na!==b.Na){const I=null!==this.no?B1(this.no,this.vo):null;this.vo=M,i=D_(C,M),null!==I&&(this.no=D_(I,M))}}this.Po(i)}else null===this.Dh&&(this.Po(new lo(-.5,.5)),this.vo=EP(null));var y,b;this.so.eo=!0}Eo(){return this.ph()?vg:this.Co()?Ah:this.Ja()?n=>V1(n,this.vo):null}n_(n,i,l){return void 0===i?(void 0===l&&(l=this.ca()),l.format(n)):i(n)}zh(n,i){return this.n_(n,this.bo.priceFormatter,i)}Go(n,i){return this.n_(n,this.bo.percentageFormatter,i)}}class z9{constructor(n,i){this._o=[],this.s_=new Map,this.Qa=0,this.e_=0,this.r_=1e3,this.uo=null,this.h_=new tr,this.wl=n,this.Ui=i,this.l_=new V9(this);const l=i.W();this.a_=this.o_("left",l.leftPriceScale),this.__=this.o_("right",l.rightPriceScale),this.a_.Do().l(this.u_.bind(this,this.a_),this),this.__.Do().l(this.u_.bind(this,this.__),this),this.c_(l)}c_(n){if(n.leftPriceScale&&this.a_.Nh(n.leftPriceScale),n.rightPriceScale&&this.__.Nh(n.rightPriceScale),n.localization&&(this.a_.Sa(),this.__.Sa()),n.overlayPriceScales){const i=Array.from(this.s_.values());for(const l of i){const h=Te(l[0].At());h.Nh(n.overlayPriceScales),n.localization&&h.Sa()}}}d_(n){switch(n){case"left":return this.a_;case"right":return this.__}return this.s_.has(n)?Bi(this.s_.get(n))[0].At():null}S(){this.qt().f_().p(this),this.a_.Do().p(this),this.__.Do().p(this),this._o.forEach(n=>{n.S&&n.S()}),this.h_.m()}v_(){return this.r_}p_(n){this.r_=n}qt(){return this.Ui}$i(){return this.e_}zt(){return this.Qa}m_(n){this.e_=n,this.b_()}Oo(n){this.Qa=n,this.a_.Oo(n),this.__.Oo(n),this._o.forEach(i=>{if(this.dr(i)){const l=i.At();null!==l&&l.Oo(n)}}),this.b_()}Ta(){return this._o}dr(n){const i=n.At();return null===i||this.a_!==i&&this.__!==i}Fo(n,i,l){const h=void 0!==l?l:this.g_().w_+1;this.M_(n,i,h)}jo(n){const i=this._o.indexOf(n);Zu(-1!==i,"removeDataSource: invalid data source"),this._o.splice(i,1);const l=Te(n.At()).xa();if(this.s_.has(l)){const p=Bi(this.s_.get(l)),y=p.indexOf(n);-1!==y&&(p.splice(y,1),0===p.length&&this.s_.delete(l))}const h=n.At();h&&h.Ta().indexOf(n)>=0&&h.jo(n),null!==h&&(h.Wo(),this.x_(h)),this.uo=null}pr(n){return n===this.a_?"left":n===this.__?"right":"overlay"}S_(){return this.a_}k_(){return this.__}y_(n,i){n.Uo(i)}C_(n,i){n.qo(i),this.b_()}T_(n){n.Yo()}P_(n,i){n.Xo(i)}R_(n,i){n.Ko(i),this.b_()}D_(n){n.Zo()}b_(){this._o.forEach(n=>{n.On()})}vn(){let n=null;return this.Ui.W().rightPriceScale.visible&&0!==this.__.Ta().length?n=this.__:this.Ui.W().leftPriceScale.visible&&0!==this.a_.Ta().length?n=this.a_:0!==this._o.length&&(n=this._o[0].At()),null===n&&(n=this.__),n}vr(){let n=null;return this.Ui.W().rightPriceScale.visible?n=this.__:this.Ui.W().leftPriceScale.visible&&(n=this.a_),n}x_(n){null!==n&&n.yo()&&this.O_(n)}A_(n){const i=this.wl.Xs();n.So({Wn:!0}),null!==i&&n.t_(i),this.b_()}V_(){this.O_(this.a_),this.O_(this.__)}B_(){this.x_(this.a_),this.x_(this.__),this._o.forEach(n=>{this.dr(n)&&this.x_(n.At())}),this.b_(),this.Ui.Fh()}No(){return null===this.uo&&(this.uo=m3(this._o)),this.uo}I_(){return this.h_}z_(){return this.l_}O_(n){const i=n.Qo();if(i&&i.length>0&&!this.wl.Fi()){const l=this.wl.Xs();null!==l&&n.t_(l)}n.On()}g_(){const n=this.No();if(0===n.length)return{E_:0,w_:0};let i=0,l=0;for(let h=0;h<n.length;h++){const p=n[h].Zi();null!==p&&(p<i&&(i=p),p>l&&(l=p))}return{E_:i,w_:l}}M_(n,i,l){let h=this.d_(i);if(null===h&&(h=this.o_(i,this.Ui.W().overlayPriceScales)),this._o.push(n),!dg(i)){const p=this.s_.get(i)||[];p.push(n),this.s_.set(i,p)}h.Fo(n),n.Ji(h),n.Gi(l),this.x_(h),this.uo=null}u_(n,i,l){i.yr!==l.yr&&this.O_(n)}o_(n,i){const l=Object.assign({visible:!0,autoScale:!0},Yu(i)),h=new B9(n,l,this.Ui.W().layout,this.Ui.W().localization);return h.Oo(this.zt()),h}}class H9{constructor(n,i,l=50){this.Ke=0,this.Ze=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.L_=n,this.N_=i,this.tr=l}F_(n){const l=this.N_.cacheKey(n.time),h=this.Qe.get(l);if(void 0!==h)return h.W_;if(this.Ke===this.tr){const y=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(Bi(y)),this.Ge++,this.Ke--}const p=this.L_(n);return this.Qe.set(l,{W_:p,er:this.Ze}),this.Je.set(this.Ze,l),this.Ke++,this.Ze++,p}}class T_{constructor(n,i){Zu(n<=i,"right should be >= left"),this.j_=n,this.H_=i}Os(){return this.j_}di(){return this.H_}U_(){return this.H_-this.j_+1}Kr(n){return this.j_<=n&&n<=this.H_}Mh(n){return this.j_===n.Os()&&this.H_===n.di()}}function _3(a,n){return null===a||null===n?a===n:a.Mh(n)}class G9{constructor(){this.q_=new Map,this.Qe=null,this.Y_=!1}X_(n){this.Y_=n,this.Qe=null}K_(n,i){this.Z_(i),this.Qe=null;for(let l=i;l<n.length;++l){const h=n[l];let p=this.q_.get(h.timeWeight);void 0===p&&(p=[],this.q_.set(h.timeWeight,p)),p.push({index:l,time:h.time,weight:h.timeWeight,originalTime:h.originalTime})}}G_(n,i){const l=Math.ceil(i/n);return null!==this.Qe&&this.Qe.J_===l||(this.Qe={Ea:this.Q_(l),J_:l}),this.Qe.Ea}Z_(n){if(0===n)return void this.q_.clear();const i=[];this.q_.forEach((l,h)=>{n<=l[0].index?i.push(h):l.splice(y_(l,n,p=>p.index<n),1/0)});for(const l of i)this.q_.delete(l)}Q_(n){let i=[];for(const l of Array.from(this.q_.keys()).sort((h,p)=>p-h)){if(!this.q_.get(l))continue;const h=i;i=[];const p=h.length;let y=0;const b=Bi(this.q_.get(l)),C=b.length;let M=1/0,I=-1/0;for(let R=0;R<C;R++){const V=b[R],G=V.index;for(;y<p;){const $=h[y],Z=$.index;if(!(Z<G)){M=Z;break}y++,i.push($),I=Z,M=1/0}if(M-G>=n&&G-I>=n)i.push(V),I=G;else if(this.Y_)return h}for(;y<p;y++)i.push(h[y])}return i}}class gg{constructor(n){this.tu=n}iu(){return null===this.tu?null:new T_(Math.floor(this.tu.Os()),Math.ceil(this.tu.di()))}nu(){return this.tu}static su(){return new gg(null)}}function RP(a,n){return a.weight>n.weight?a:n}class U9{constructor(n,i,l,h){this.e_=0,this.eu=null,this.ru=[],this.fo=null,this.do=null,this.hu=new G9,this.lu=new Map,this.au=gg.su(),this.ou=!0,this._u=new tr,this.uu=new tr,this.cu=new tr,this.du=null,this.fu=null,this.vu=[],this.cn=i,this.bo=l,this.pu=i.rightOffset,this.mu=i.barSpacing,this.Ui=n,this.N_=h,this.bu(),this.hu.X_(i.uniformDistribution)}W(){return this.cn}wu(n){Mi(this.bo,n),this.gu(),this.bu()}Nh(n,i){var l;Mi(this.cn,n),this.cn.fixLeftEdge&&this.Mu(),this.cn.fixRightEdge&&this.xu(),void 0!==n.barSpacing&&this.Ui.Gn(n.barSpacing),void 0!==n.rightOffset&&this.Ui.Jn(n.rightOffset),void 0!==n.minBarSpacing&&this.Ui.Gn(null!==(l=n.barSpacing)&&void 0!==l?l:this.mu),this.gu(),this.bu(),this.cu.m()}mn(n){var i,l;return null!==(l=null===(i=this.ru[n])||void 0===i?void 0:i.time)&&void 0!==l?l:null}qi(n){var i;return null!==(i=this.ru[n])&&void 0!==i?i:null}ya(n,i){if(this.ru.length<1)return null;if(this.N_.key(n)>this.N_.key(this.ru[this.ru.length-1].time))return i?this.ru.length-1:null;const l=y_(this.ru,this.N_.key(n),(h,p)=>this.N_.key(h.time)<p);return this.N_.key(n)<this.N_.key(this.ru[l].time)?i?l:null:l}Fi(){return 0===this.e_||0===this.ru.length||null===this.eu}ka(){return this.ru.length>0}Xs(){return this.Su(),this.au.iu()}ku(){return this.Su(),this.au.nu()}yu(){const n=this.Xs();if(null===n)return null;const i={from:n.Os(),to:n.di()};return this.Cu(i)}Cu(n){const i=Math.round(n.from),l=Math.round(n.to),h=Te(this.Tu()),p=Te(this.Bn());return{from:Te(this.qi(Math.max(h,i))),to:Te(this.qi(Math.min(p,l)))}}Pu(n){return{from:Te(this.ya(n.from,!0)),to:Te(this.ya(n.to,!0))}}$i(){return this.e_}m_(n){if(!isFinite(n)||n<=0||this.e_===n)return;const i=this.ku(),l=this.e_;this.e_=n,this.ou=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==l&&(this.mu=this.mu*n/l),this.cn.fixLeftEdge&&null!==i&&i.Os()<=0&&(this.pu-=Math.round((l-n)/this.mu)+1,this.ou=!0),this.Ru(),this.Du()}Et(n){if(this.Fi()||!d_(n))return 0;const i=this.Ou()+this.pu-n;return this.e_-(i+.5)*this.mu-1}Js(n,i){const l=this.Ou(),p=void 0===i?n.length:i.to;for(let y=void 0===i?0:i.from;y<p;y++)n[y].et=this.e_-(l+this.pu-n[y].ut+.5)*this.mu-1}Au(n){return Math.ceil(this.Vu(n))}Jn(n){this.ou=!0,this.pu=n,this.Du(),this.Ui.Bu(),this.Ui.Fh()}he(){return this.mu}Gn(n){this.Iu(n),this.Du(),this.Ui.Bu(),this.Ui.Fh()}zu(){return this.pu}Ea(){if(this.Fi())return null;if(null!==this.fu)return this.fu;const n=this.mu,i=5*(this.Ui.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),l=Math.round(i/n),h=Te(this.Xs()),p=Math.max(h.Os(),h.Os()-l),y=Math.max(h.di(),h.di()-l),b=this.hu.G_(n,i),C=this.Tu()+l,M=this.Bn()-l,I=this.Eu(),R=this.cn.fixLeftEdge||I,V=this.cn.fixRightEdge||I;let G=0;for(const $ of b){if(!(p<=$.index&&$.index<=y))continue;let Z;G<this.vu.length?(Z=this.vu[G],Z.coord=this.Et($.index),Z.label=this.Lu($),Z.weight=$.weight):(Z={needAlignCoordinate:!1,coord:this.Et($.index),label:this.Lu($),weight:$.weight},this.vu.push(Z)),Z.needAlignCoordinate=!(this.mu>i/2&&!I)&&(R&&$.index<=C||V&&$.index>=M),G++}return this.vu.length=G,this.fu=this.vu,this.vu}Nu(){this.ou=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Fu(n){this.ou=!0,this.eu=n,this.Du(),this.Mu()}Wu(n,i){const l=this.Vu(n),h=this.he();this.Gn(h+i*(h/10)),this.cn.rightBarStaysOnScroll||this.Jn(this.zu()+(l-this.Vu(n)))}Uo(n){this.fo&&this.Zo(),null===this.do&&null===this.du&&(this.Fi()||(this.do=n,this.ju()))}qo(n){if(null===this.du)return;const i=m_(this.e_-n,0,this.e_),l=m_(this.e_-Te(this.do),0,this.e_);0!==i&&0!==l&&this.Gn(this.du.he*i/l)}Yo(){null!==this.do&&(this.do=null,this.Hu())}Xo(n){null===this.fo&&null===this.du&&(this.Fi()||(this.fo=n,this.ju()))}Ko(n){if(null===this.fo)return;const i=(this.fo-n)/this.he();this.pu=Te(this.du).zu+i,this.ou=!0,this.Du()}Zo(){null!==this.fo&&(this.fo=null,this.Hu())}$u(){this.Uu(this.cn.rightOffset)}Uu(n,i=400){if(!isFinite(n))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const l=this.pu,h=performance.now();this.Ui.Xn({qu:p=>(p-h)/i>=1,Yu:p=>{const y=(p-h)/i;return y>=1?n:l+(n-l)*y}})}gt(n,i){this.ou=!0,this.ru=n,this.hu.K_(n,i),this.Du()}Xu(){return this._u}Ku(){return this.uu}Zu(){return this.cu}Ou(){return this.eu||0}Gu(n){const i=n.U_();this.Iu(this.e_/i),this.pu=n.di()-this.Ou(),this.Du(),this.ou=!0,this.Ui.Bu(),this.Ui.Fh()}Ju(){const n=this.Tu(),i=this.Bn();null!==n&&null!==i&&this.Gu(new T_(n,i+this.cn.rightOffset))}Qu(n){const i=new T_(n.from,n.to);this.Gu(i)}Yi(n){return void 0!==this.bo.timeFormatter?this.bo.timeFormatter(n.originalTime):this.N_.formatHorzItem(n.time)}Bn(){return 0===this.ru.length?null:this.ru.length-1}Eu(){const{handleScroll:n,handleScale:i}=this.Ui.W();return!(n.horzTouchDrag||n.mouseWheel||n.pressedMouseMove||n.vertTouchDrag||i.axisDoubleClickReset.time||i.axisPressedMouseMove.time||i.mouseWheel||i.pinch)}Tu(){return 0===this.ru.length?null:0}tc(n){return(this.e_-1-n)/this.mu}Vu(n){const i=this.tc(n),l=this.Ou()+this.pu-i;return Math.round(1e6*l)/1e6}Iu(n){const i=this.mu;this.mu=n,this.Ru(),i!==this.mu&&(this.ou=!0,this.ic())}Su(){if(!this.ou)return;if(this.ou=!1,this.Fi())return void this.nc(gg.su());const n=this.Ou(),l=this.pu+n,h=new T_(l-this.e_/this.mu+1,l);this.nc(new gg(h))}Ru(){const n=this.sc();if(this.mu<n&&(this.mu=n,this.ou=!0),0!==this.e_){const i=.5*this.e_;this.mu>i&&(this.mu=i,this.ou=!0)}}sc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this.ru.length?this.e_/this.ru.length:this.cn.minBarSpacing}Du(){const n=this.ec();this.pu>n&&(this.pu=n,this.ou=!0);const i=this.rc();null!==i&&this.pu<i&&(this.pu=i,this.ou=!0)}rc(){const n=this.Tu(),i=this.eu;return null===n||null===i?null:n-i-1+(this.cn.fixLeftEdge?this.e_/this.mu:Math.min(2,this.ru.length))}ec(){return this.cn.fixRightEdge?0:this.e_/this.mu-Math.min(2,this.ru.length)}ju(){this.du={he:this.he(),zu:this.zu()}}Hu(){this.du=null}Lu(n){let i=this.lu.get(n.weight);return void 0===i&&(i=new H9(l=>this.hc(l),this.N_),this.lu.set(n.weight,i)),i.F_(n)}hc(n){return this.N_.formatTickmark(n,this.bo)}nc(n){const i=this.au;this.au=n,_3(i.iu(),this.au.iu())||this._u.m(),_3(i.nu(),this.au.nu())||this.uu.m(),this.ic()}ic(){this.fu=null}gu(){this.ic(),this.lu.clear()}bu(){this.N_.updateFormatter(this.bo)}Mu(){if(!this.cn.fixLeftEdge)return;const n=this.Tu();if(null===n)return;const i=this.Xs();if(null===i)return;const l=i.Os()-n;l<0&&this.Jn(this.pu-l-1),this.Ru()}xu(){this.Du(),this.Ru()}}class j9 extends uP{constructor(n){super(),this.lc=new Map,this.Lt=n}Z(n){}J(n){if(!this.Lt.Tt)return;const{context:i,mediaSize:l}=n;let h=0;for(const y of this.Lt.ac){if(0===y.Jt.length)continue;i.font=y.R;const b=this.oc(i,y.Jt);y.Wu=b>l.width?l.width/b:1,h+=y._c*y.Wu}let p=0;switch(this.Lt.uc){case"top":p=0;break;case"center":p=Math.max((l.height-h)/2,0);break;case"bottom":p=Math.max(l.height-h,0)}i.fillStyle=this.Lt.O;for(const y of this.Lt.ac){i.save();let b=0;switch(this.Lt.cc){case"left":i.textAlign="left",b=y._c/2;break;case"center":i.textAlign="center",b=l.width/2;break;case"right":i.textAlign="right",b=l.width-1-y._c/2}i.translate(b,p),i.textBaseline="top",i.font=y.R,i.scale(y.Wu,y.Wu),i.fillText(y.Jt,0,y.dc),i.restore(),p+=y._c*y.Wu}}oc(n,i){const l=this.fc(n.font);let h=l.get(i);return void 0===h&&(h=n.measureText(i).width,l.set(i,h)),h}fc(n){let i=this.lc.get(n);return void 0===i&&(i=new Map,this.lc.set(n,i)),i}}class W9{constructor(n){this.bt=!0,this.jt={Tt:!1,O:"",ac:[],uc:"center",cc:"center"},this.Ht=new j9(this.jt),this.$t=n}gt(){this.bt=!0}xt(){return this.bt&&(this.St(),this.bt=!1),this.Ht}St(){const n=this.$t.W(),i=this.jt;i.Tt=n.visible,i.Tt&&(i.O=n.color,i.cc=n.horzAlign,i.uc=n.vertAlign,i.ac=[{Jt:n.text,R:Rd(n.fontSize,n.fontFamily,n.fontStyle),_c:1.2*n.fontSize,dc:0,Wu:0}])}}class $9 extends hP{constructor(n,i){super(),this.cn=i,this.wn=new W9(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}On(){this.wn.gt()}}var w3,kP,z1,b3,S3;!function(a){a[a.OnTouchEnd=0]="OnTouchEnd",a[a.OnNextTap=1]="OnNextTap"}(w3||(w3={}));class C3{constructor(n,i,l){this.vc=[],this.mc=[],this.e_=0,this.bc=null,this.wc=new tr,this.gc=new tr,this.Mc=null,this.xc=n,this.cn=i,this.N_=l,this.Sc=new a9(this),this.wl=new U9(this,i.timeScale,this.cn.localization,l),this.wt=new c9(this,i.crosshair),this.kc=new N9(i.crosshair),this.yc=new $9(this,i.watermark),this.Cc(),this.vc[0].p_(2e3),this.Tc=this.Pc(0),this.Rc=this.Pc(1)}$l(){this.Dc(ti.es())}Fh(){this.Dc(ti.ss())}sa(){this.Dc(new ti(1))}Ul(n){const i=this.Oc(n);this.Dc(i)}Ac(){return this.bc}Vc(n){const i=this.bc;this.bc=n,null!==i&&this.Ul(i.Bc),null!==n&&this.Ul(n.Bc)}W(){return this.cn}Nh(n){Mi(this.cn,n),this.vc.forEach(i=>i.c_(n)),void 0!==n.timeScale&&this.wl.Nh(n.timeScale),void 0!==n.localization&&this.wl.wu(n.localization),(n.leftPriceScale||n.rightPriceScale)&&this.wc.m(),this.Tc=this.Pc(0),this.Rc=this.Pc(1),this.$l()}Ic(n,i){if("left"===n)return void this.Nh({leftPriceScale:i});if("right"===n)return void this.Nh({rightPriceScale:i});const l=this.zc(n);null!==l&&(l.At.Nh(i),this.wc.m())}zc(n){for(const i of this.vc){const l=i.d_(n);if(null!==l)return{Ut:i,At:l}}return null}yt(){return this.wl}Ec(){return this.vc}Lc(){return this.yc}Nc(){return this.wt}Fc(){return this.gc}Wc(n,i){n.Oo(i),this.Bu()}m_(n){this.e_=n,this.wl.m_(this.e_),this.vc.forEach(i=>i.m_(n)),this.Bu()}Cc(n){const i=new z9(this.wl,this);void 0!==n?this.vc.splice(n,0,i):this.vc.push(i);const l=void 0===n?this.vc.length-1:n,h=ti.es();return h.Nn(l,{Fn:0,Wn:!0}),this.Dc(h),i}y_(n,i,l){n.y_(i,l)}C_(n,i,l){n.C_(i,l),this.ql(),this.Dc(this.jc(n,2))}T_(n,i){n.T_(i),this.Dc(this.jc(n,2))}P_(n,i,l){i.yo()||n.P_(i,l)}R_(n,i,l){i.yo()||(n.R_(i,l),this.ql(),this.Dc(this.jc(n,2)))}D_(n,i){i.yo()||(n.D_(i),this.Dc(this.jc(n,2)))}A_(n,i){n.A_(i),this.Dc(this.jc(n,2))}Hc(n){this.wl.Uo(n)}$c(n,i){const l=this.yt();if(l.Fi()||0===i)return;const h=l.$i();n=Math.max(1,Math.min(n,h)),l.Wu(n,i),this.Bu()}Uc(n){this.qc(0),this.Yc(n),this.Xc()}Kc(n){this.wl.qo(n),this.Bu()}Zc(){this.wl.Yo(),this.Fh()}qc(n){this.wl.Xo(n)}Yc(n){this.wl.Ko(n),this.Bu()}Xc(){this.wl.Zo(),this.Fh()}Mt(){return this.mc}Gc(n,i,l,h,p){this.wt.gn(n,i);let y=NaN,b=this.wl.Au(n);const C=this.wl.Xs();null!==C&&(b=Math.min(Math.max(C.Os(),b),C.di()));const M=h.vn(),I=M.Pt();null!==I&&(y=M.pn(i,I)),y=this.kc.Ca(y,b,h),this.wt.kn(b,y,h),this.sa(),p||this.gc.m(this.wt.kt(),{x:n,y:i},l)}Jc(n,i,l){const h=l.vn(),p=h.Pt(),y=h.Ot(n,Te(p)),b=this.wl.ya(i,!0),C=this.wl.Et(Te(b));this.Gc(C,y,null,l,!0)}Qc(n){this.Nc().Cn(),this.sa(),n||this.gc.m(null,null,null)}ql(){const n=this.wt.Ut();if(null!==n){const i=this.wt.xn(),l=this.wt.Sn();this.Gc(i,l,null,n)}this.wt.On()}td(n,i,l){const h=this.wl.mn(0),p=this.wl.Bn();void 0!==i&&void 0!==l&&this.wl.gt(i,l);const y=this.wl.mn(0),b=this.wl.Ou(),C=this.wl.Xs();if(null!==C&&null!==h&&null!==y){const M=C.Kr(b),I=this.N_.key(h)>this.N_.key(y),R=null!==n&&n>b&&!I,V=this.wl.Bn(),G=M&&V!==p&&this.wl.W().shiftVisibleRangeOnNewBar;if(R&&!G){const $=n-b;this.wl.Jn(this.wl.zu()-$)}}this.wl.Fu(n)}Kl(n){null!==n&&n.B_()}cr(n){const i=this.vc.find(l=>l.No().includes(n));return void 0===i?null:i}Bu(){this.yc.On(),this.vc.forEach(n=>n.B_()),this.ql()}S(){this.vc.forEach(n=>n.S()),this.vc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}nd(){return this.Sc}mr(){return this.Sc.W()}f_(){return this.wc}sd(n,i,l){const p=this.ed(i,n,this.vc[0],l);return this.mc.push(p),1===this.mc.length?this.$l():this.Fh(),p}rd(n){const i=this.cr(n),l=this.mc.indexOf(n);Zu(-1!==l,"Series not found"),this.mc.splice(l,1),Te(i).jo(n),n.S&&n.S()}Hl(n,i){const l=Te(this.cr(n));l.jo(n);const h=this.zc(i);if(null===h){const p=n.Zi();l.Fo(n,i,p)}else{const p=h.Ut===l?n.Zi():void 0;h.Ut.Fo(n,i,p)}}Ju(){const n=ti.ss();n.$n(),this.Dc(n)}hd(n){const i=ti.ss();i.Yn(n),this.Dc(i)}Zn(){const n=ti.ss();n.Zn(),this.Dc(n)}Gn(n){const i=ti.ss();i.Gn(n),this.Dc(i)}Jn(n){const i=ti.ss();i.Jn(n),this.Dc(i)}Xn(n){const i=ti.ss();i.Xn(n),this.Dc(i)}Un(){const n=ti.ss();n.Un(),this.Dc(n)}ld(){return this.cn.rightPriceScale.visible?"right":"left"}ad(){return this.Rc}q(){return this.Tc}It(n){const i=this.Rc,l=this.Tc;if(i===l)return i;if(n=Math.max(0,Math.min(100,Math.round(100*n))),null===this.Mc||this.Mc.Ts!==l||this.Mc.Ps!==i)this.Mc={Ts:l,Ps:i,od:new Map};else{const p=this.Mc.od.get(n);if(void 0!==p)return p}const h=function(p,y,b){const[C,M,I,R]=Ld(p),[V,G,$,Z]=Ld(y),ee=[ra(C+b*(V-C)),ra(M+b*(G-M)),ra(I+b*($-I)),o9(R+b*(Z-R))];return`rgba(${ee[0]}, ${ee[1]}, ${ee[2]}, ${ee[3]})`}(l,i,n/100);return this.Mc.od.set(n,h),h}jc(n,i){const l=new ti(i);if(null!==n){const h=this.vc.indexOf(n);l.Nn(h,{Fn:i})}return l}Oc(n,i){return void 0===i&&(i=2),this.jc(this.cr(n),i)}Dc(n){this.xc&&this.xc(n),this.vc.forEach(i=>i.z_().Wh().gt())}ed(n,i,l,h){const p=new MP(this,n,i,l,h),y=void 0!==n.priceScaleId?n.priceScaleId:this.ld();return l.Fo(p,y),dg(y)||p.Nh(n),p}Pc(n){const i=this.cn.layout;return"gradient"===i.background.type?0===n?i.background.topColor:i.background.bottomColor:i.background.color}}function OP(a){return!Sl(a)&&!p_(a)}function NP(a){return Sl(a)}(function(a){a[a.Disabled=0]="Disabled",a[a.Continuous=1]="Continuous",a[a.OnDataUpdate=2]="OnDataUpdate"})(kP||(kP={})),function(a){a[a.LastBar=0]="LastBar",a[a.LastVisible=1]="LastVisible"}(z1||(z1={})),function(a){a.Solid="solid",a.VerticalGradient="gradient"}(b3||(b3={})),function(a){a[a.Year=0]="Year",a[a.Month=1]="Month",a[a.DayOfMonth=2]="DayOfMonth",a[a.Time=3]="Time",a[a.TimeWithSeconds=4]="TimeWithSeconds"}(S3||(S3={}));const x3=a=>a.getUTCFullYear();class D3{constructor(n="yyyy-MM-dd",i="default"){this._d=n,this.ud=i}F_(n){return function q9(a,n,i){return n.replace(/yyyy/g,(l=a,Ku(x3(l),4))).replace(/yy/g,(l=>Ku(x3(l)%100,2))(a)).replace(/MMMM/g,((l,h)=>new Date(l.getUTCFullYear(),l.getUTCMonth(),1).toLocaleString(h,{month:"long"}))(a,i)).replace(/MMM/g,((l,h)=>new Date(l.getUTCFullYear(),l.getUTCMonth(),1).toLocaleString(h,{month:"short"}))(a,i)).replace(/MM/g,(l=>Ku(l.getUTCMonth()+1,2))(a)).replace(/dd/g,(l=>Ku(l.getUTCDate(),2))(a));var l}(n,this._d,this.ud)}}class Z9{constructor(n){this.dd=n||"%h:%m:%s"}F_(n){return this.dd.replace("%h",Ku(n.getUTCHours(),2)).replace("%m",Ku(n.getUTCMinutes(),2)).replace("%s",Ku(n.getUTCSeconds(),2))}}const T3={fd:"yyyy-MM-dd",vd:"%h:%m:%s",pd:" ",md:"default"};class Y9{constructor(n={}){const i=Object.assign(Object.assign({},T3),n);this.bd=new D3(i.fd,i.md),this.wd=new Z9(i.vd),this.gd=i.pd}F_(n){return`${this.bd.F_(n)}${this.gd}${this.wd.F_(n)}`}}function H1(a){return 60*a*60*1e3}function FP(a){return 60*a*1e3}const Nd=[{Md:1e3,xd:10},{Md:FP(1),xd:20},{Md:FP(5),xd:21},{Md:FP(30),xd:22},{Md:H1(1),xd:30},{Md:H1(3),xd:31},{Md:H1(6),xd:32},{Md:H1(12),xd:33}];function M3(a,n){if(a.getUTCFullYear()!==n.getUTCFullYear())return 70;if(a.getUTCMonth()!==n.getUTCMonth())return 60;if(a.getUTCDate()!==n.getUTCDate())return 50;for(let i=Nd.length-1;i>=0;--i)if(Math.floor(n.getTime()/Nd[i].Md)!==Math.floor(a.getTime()/Nd[i].Md))return Nd[i].xd;return 0}function VP(a){let n=a;if(p_(a)&&(n=BP(a)),!OP(n))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(n.year,n.month-1,n.day,0,0,0,0));return{Sd:Math.round(i.getTime()/1e3),kd:n}}function A3(a){if(!NP(a))throw new Error("time must be of type isUTCTimestamp");return{Sd:a}}function BP(a){const n=new Date(a);if(isNaN(n.getTime()))throw new Error(`Invalid date string=${a}, expected format=yyyy-mm-dd`);return{day:n.getUTCDate(),month:n.getUTCMonth()+1,year:n.getUTCFullYear()}}function zP(a){p_(a.time)&&(a.time=BP(a.time))}class E3{options(){return this.cn}setOptions(n){this.cn=n,this.updateFormatter(n.localization)}preprocessData(n){Array.isArray(n)?n.forEach(zP):zP(n)}createConverterToInternalObj(n){return Te(0===(i=n).length?null:OP(i[0].time)||p_(i[0].time)?VP:A3);var i}key(n){return"object"==typeof n&&"Sd"in n?n.Sd:this.key(this.convertHorzItemToInternal(n))}cacheKey(n){const i=n;return void 0===i.kd?new Date(1e3*i.Sd).getTime():new Date(Date.UTC(i.kd.year,i.kd.month-1,i.kd.day)).getTime()}convertHorzItemToInternal(n){return NP(i=n)?A3(i):OP(i)?VP(i):VP(BP(i));var i}updateFormatter(n){if(!this.cn)return;const i=n.dateFormat;this.yd=this.cn.timeScale.timeVisible?new Y9({fd:i,vd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",pd:"   ",md:n.locale}):new D3(i,n.locale)}formatHorzItem(n){return this.yd.F_(new Date(1e3*n.Sd))}formatTickmark(n,i){const l=function(p,y,b){switch(p){case 0:case 10:return y?b?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return y?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(n.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),h=this.cn.timeScale;if(void 0!==h.tickMarkFormatter){const p=h.tickMarkFormatter(n.originalTime,l,i.locale);if(null!==p)return p}return function(p,y,b){const C={};switch(y){case 0:C.year="numeric";break;case 1:C.month="short";break;case 2:C.day="numeric";break;case 3:C.hour12=!1,C.hour="2-digit",C.minute="2-digit";break;case 4:C.hour12=!1,C.hour="2-digit",C.minute="2-digit",C.second="2-digit"}const M=void 0===p.kd?new Date(1e3*p.Sd):new Date(Date.UTC(p.kd.year,p.kd.month-1,p.kd.day));return new Date(M.getUTCFullYear(),M.getUTCMonth(),M.getUTCDate(),M.getUTCHours(),M.getUTCMinutes(),M.getUTCSeconds(),M.getUTCMilliseconds()).toLocaleString(b,C)}(n.time,l,i.locale)}maxTickMarkWeight(n){let i=n.reduce(RP,n[0]).weight;return i>30&&i<50&&(i=30),i}fillWeightsForPoints(n,i){!function(l,h=0){if(0===l.length)return;let p=0===h?null:l[h-1].time.Sd,y=null!==p?new Date(1e3*p):null,b=0;for(let C=h;C<l.length;++C){const M=l[C],I=new Date(1e3*M.time.Sd);null!==y&&(M.timeWeight=M3(I,y)),b+=M.time.Sd-(p||M.time.Sd),p=M.time.Sd,y=I}if(0===h&&l.length>1){const C=Math.ceil(b/(l.length-1)),M=new Date(1e3*(l[0].time.Sd-C));l[0].timeWeight=M3(new Date(1e3*l[0].time.Sd),M)}}(n,i)}static Cd(n){return Mi({localization:{dateFormat:"dd MMM 'yy"}},n??{})}}const mg=typeof window<"u";function I3(){return!!mg&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function M_(){return!!mg&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function HP(a){return a+a%2}function U1(a,n){return a.Td-n.Td}function GP(a,n,i){const l=(a.Td-n.Td)/(a.ut-n.ut);return Math.sign(l)*Math.min(Math.abs(l),i)}class X9{constructor(n,i,l,h){this.Pd=null,this.Rd=null,this.Dd=null,this.Od=null,this.Ad=null,this.Vd=0,this.Bd=0,this.Id=n,this.zd=i,this.Ed=l,this.rs=h}Ld(n,i){if(null!==this.Pd){if(this.Pd.ut===i)return void(this.Pd.Td=n);if(Math.abs(this.Pd.Td-n)<this.rs)return}this.Od=this.Dd,this.Dd=this.Rd,this.Rd=this.Pd,this.Pd={ut:i,Td:n}}Dr(n,i){if(null===this.Pd||null===this.Rd||i-this.Pd.ut>50)return;let l=0;const h=GP(this.Pd,this.Rd,this.zd),p=U1(this.Pd,this.Rd),y=[h],b=[p];if(l+=p,null!==this.Dd){const M=GP(this.Rd,this.Dd,this.zd);if(Math.sign(M)===Math.sign(h)){const I=U1(this.Rd,this.Dd);if(y.push(M),b.push(I),l+=I,null!==this.Od){const R=GP(this.Dd,this.Od,this.zd);if(Math.sign(R)===Math.sign(h)){const V=U1(this.Dd,this.Od);y.push(R),b.push(V),l+=V}}}}let C=0;for(let M=0;M<y.length;++M)C+=b[M]/l*y[M];Math.abs(C)<this.Id||(this.Ad={Td:n,ut:i},this.Bd=C,this.Vd=function(M,I){const R=Math.log(I);return Math.log(1*R/-M)/R}(Math.abs(C),this.Ed))}Yu(n){const i=Te(this.Ad);return i.Td+this.Bd*(Math.pow(this.Ed,n-i.ut)-1)/Math.log(this.Ed)}qu(n){return null===this.Ad||this.Nd(n)===this.Vd}Nd(n){const i=n-Te(this.Ad).ut;return Math.min(i,this.Vd)}}function Fd(a,n){const i=Te(a.ownerDocument).createElement("canvas");a.appendChild(i);const l=function K8(a,n){if("device-pixel-content-box"===n.type)return new X8(a,n.transform,n.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(h,p)=>({width:Math.max(h.width,p.width),height:Math.max(h.height,p.height)})});return l.resizeCanvasElement(n),l}function j1(a,n,i,l){a.G&&a.G(n,i,l)}function W1(a,n,i,l){a.K(n,i,l)}function $1(a,n,i,l){const h=a(i,l);for(const p of h){const y=p.xt();null!==y&&n(y)}}class yg{constructor(n,i,l){this.Fd=0,this.Wd=null,this.jd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.Hd=0,this.$d=null,this.Ud={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY},this.qd=null,this.Yd=!1,this.Xd=null,this.Kd=null,this.Zd=!1,this.Gd=!1,this.Jd=!1,this.Qd=null,this.tf=null,this.if=null,this.nf=null,this.sf=null,this.ef=null,this.rf=null,this.hf=0,this.lf=!1,this.af=!1,this._f=!1,this.uf=0,this.cf=null,this.df=!M_(),this.ff=h=>{this.vf(h)},this.pf=h=>{if(this.mf(h)){const p=this.bf(h);if(++this.Hd,this.$d&&this.Hd>1){const{wf:y}=this.gf(_s(h),this.Ud);y<30&&!this.Jd&&this.Mf(p,this.Sf.xf),this.kf()}}else{const p=this.bf(h);if(++this.Fd,this.Wd&&this.Fd>1){const{wf:y}=this.gf(_s(h),this.jd);y<5&&!this.Gd&&this.yf(p,this.Sf.Cf),this.Tf()}}},this.Pf=n,this.Sf=i,this.cn=l,this.Rf()}S(){null!==this.Qd&&(this.Qd(),this.Qd=null),null!==this.tf&&(this.tf(),this.tf=null),null!==this.nf&&(this.nf(),this.nf=null),null!==this.sf&&(this.sf(),this.sf=null),null!==this.ef&&(this.ef(),this.ef=null),null!==this.if&&(this.if(),this.if=null),this.Df(),this.Tf()}Of(n){this.nf&&this.nf();const i=this.Af.bind(this);if(this.nf=()=>{this.Pf.removeEventListener("mousemove",i)},this.Pf.addEventListener("mousemove",i),this.mf(n))return;const l=this.bf(n);this.yf(l,this.Sf.Vf),this.df=!0}Tf(){null!==this.Wd&&clearTimeout(this.Wd),this.Fd=0,this.Wd=null,this.jd={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}kf(){null!==this.$d&&clearTimeout(this.$d),this.Hd=0,this.$d=null,this.Ud={et:Number.NEGATIVE_INFINITY,rt:Number.POSITIVE_INFINITY}}Af(n){if(this._f||null!==this.Kd||this.mf(n))return;const i=this.bf(n);this.yf(i,this.Sf.Bf),this.df=!0}If(n){const i=UP(n.changedTouches,Te(this.cf));if(null===i||(this.uf=uo(n),null!==this.rf)||this.af)return;this.lf=!0;const l=this.gf(_s(i),Te(this.Kd)),{zf:h,Ef:p,wf:y}=l;if(this.Zd||!(y<5)){if(!this.Zd){const b=.5*h,C=p>=b&&!this.cn.Lf(),M=b>p&&!this.cn.Nf();C||M||(this.af=!0),this.Zd=!0,this.Jd=!0,this.Df(),this.kf()}if(!this.af){const b=this.bf(n,i);this.Mf(b,this.Sf.Ff),_g(n)}}}Wf(n){if(0!==n.button)return;const i=this.gf(_s(n),Te(this.Xd)),{wf:l}=i;if(l>=5&&(this.Gd=!0,this.Tf()),this.Gd){const h=this.bf(n);this.yf(h,this.Sf.jf)}}gf(n,i){const l=Math.abs(i.et-n.et),h=Math.abs(i.rt-n.rt);return{zf:l,Ef:h,wf:l+h}}Hf(n){let i=UP(n.changedTouches,Te(this.cf));if(null===i&&0===n.touches.length&&(i=n.changedTouches[0]),null===i)return;this.cf=null,this.uf=uo(n),this.Df(),this.Kd=null,this.ef&&(this.ef(),this.ef=null);const l=this.bf(n,i);if(this.Mf(l,this.Sf.$f),++this.Hd,this.$d&&this.Hd>1){const{wf:h}=this.gf(_s(i),this.Ud);h<30&&!this.Jd&&this.Mf(l,this.Sf.xf),this.kf()}else this.Jd||(this.Mf(l,this.Sf.Uf),this.Sf.Uf&&_g(n));0===this.Hd&&_g(n),0===n.touches.length&&this.Yd&&(this.Yd=!1,_g(n))}vf(n){if(0!==n.button)return;const i=this.bf(n);if(this.Xd=null,this._f=!1,this.sf&&(this.sf(),this.sf=null),I3()&&this.Pf.ownerDocument.documentElement.removeEventListener("mouseleave",this.ff),!this.mf(n))if(this.yf(i,this.Sf.qf),++this.Fd,this.Wd&&this.Fd>1){const{wf:l}=this.gf(_s(n),this.jd);l<5&&!this.Gd&&this.yf(i,this.Sf.Cf),this.Tf()}else this.Gd||this.yf(i,this.Sf.Yf)}Df(){null!==this.qd&&(clearTimeout(this.qd),this.qd=null)}Xf(n){if(null!==this.cf)return;const i=n.changedTouches[0];this.cf=i.identifier,this.uf=uo(n);const l=this.Pf.ownerDocument.documentElement;this.Jd=!1,this.Zd=!1,this.af=!1,this.Kd=_s(i),this.ef&&(this.ef(),this.ef=null);{const p=this.If.bind(this),y=this.Hf.bind(this);this.ef=()=>{l.removeEventListener("touchmove",p),l.removeEventListener("touchend",y)},l.addEventListener("touchmove",p,{passive:!1}),l.addEventListener("touchend",y,{passive:!1}),this.Df(),this.qd=setTimeout(this.Kf.bind(this,n),240)}const h=this.bf(n,i);this.Mf(h,this.Sf.Zf),this.$d||(this.Hd=0,this.$d=setTimeout(this.kf.bind(this),500),this.Ud=_s(i))}Gf(n){if(0!==n.button)return;const i=this.Pf.ownerDocument.documentElement;I3()&&i.addEventListener("mouseleave",this.ff),this.Gd=!1,this.Xd=_s(n),this.sf&&(this.sf(),this.sf=null);{const h=this.Wf.bind(this),p=this.vf.bind(this);this.sf=()=>{i.removeEventListener("mousemove",h),i.removeEventListener("mouseup",p)},i.addEventListener("mousemove",h),i.addEventListener("mouseup",p)}if(this._f=!0,this.mf(n))return;const l=this.bf(n);this.yf(l,this.Sf.Jf),this.Wd||(this.Fd=0,this.Wd=setTimeout(this.Tf.bind(this),500),this.jd=_s(n))}Rf(){this.Pf.addEventListener("mouseenter",this.Of.bind(this)),this.Pf.addEventListener("touchcancel",this.Df.bind(this));{const n=this.Pf.ownerDocument,i=l=>{this.Sf.Qf&&(l.composed&&this.Pf.contains(l.composedPath()[0])||l.target&&this.Pf.contains(l.target)||this.Sf.Qf())};this.tf=()=>{n.removeEventListener("touchstart",i)},this.Qd=()=>{n.removeEventListener("mousedown",i)},n.addEventListener("mousedown",i),n.addEventListener("touchstart",i,{passive:!0})}M_()&&(this.if=()=>{this.Pf.removeEventListener("dblclick",this.pf)},this.Pf.addEventListener("dblclick",this.pf)),this.Pf.addEventListener("mouseleave",this.tv.bind(this)),this.Pf.addEventListener("touchstart",this.Xf.bind(this),{passive:!0}),function K9(a){mg&&void 0!==window.chrome&&a.addEventListener("mousedown",n=>{if(1===n.button)return n.preventDefault(),!1})}(this.Pf),this.Pf.addEventListener("mousedown",this.Gf.bind(this)),this.iv(),this.Pf.addEventListener("touchmove",()=>{},{passive:!1})}iv(){void 0===this.Sf.nv&&void 0===this.Sf.sv&&void 0===this.Sf.ev||(this.Pf.addEventListener("touchstart",n=>this.rv(n.touches),{passive:!0}),this.Pf.addEventListener("touchmove",n=>{if(2===n.touches.length&&null!==this.rf&&void 0!==this.Sf.sv){const i=P3(n.touches[0],n.touches[1])/this.hf;this.Sf.sv(this.rf,i),_g(n)}},{passive:!1}),this.Pf.addEventListener("touchend",n=>{this.rv(n.touches)}))}rv(n){1===n.length&&(this.lf=!1),2!==n.length||this.lf||this.Yd?this.hv():this.lv(n)}lv(n){const i=this.Pf.getBoundingClientRect()||{left:0,top:0};this.rf={et:(n[0].clientX-i.left+(n[1].clientX-i.left))/2,rt:(n[0].clientY-i.top+(n[1].clientY-i.top))/2},this.hf=P3(n[0],n[1]),void 0!==this.Sf.nv&&this.Sf.nv(),this.Df()}hv(){null!==this.rf&&(this.rf=null,void 0!==this.Sf.ev&&this.Sf.ev())}tv(n){if(this.nf&&this.nf(),this.mf(n)||!this.df)return;const i=this.bf(n);this.yf(i,this.Sf.av),this.df=!M_()}Kf(n){const i=UP(n.touches,Te(this.cf));if(null===i)return;const l=this.bf(n,i);this.Mf(l,this.Sf.ov),this.Jd=!0,this.Yd=!0}mf(n){return n.sourceCapabilities&&void 0!==n.sourceCapabilities.firesTouchEvents?n.sourceCapabilities.firesTouchEvents:uo(n)<this.uf+500}Mf(n,i){i&&i.call(this.Sf,n)}yf(n,i){i&&i.call(this.Sf,n)}bf(n,i){const l=i||n,h=this.Pf.getBoundingClientRect()||{left:0,top:0};return{clientX:l.clientX,clientY:l.clientY,pageX:l.pageX,pageY:l.pageY,screenX:l.screenX,screenY:l.screenY,localX:l.clientX-h.left,localY:l.clientY-h.top,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,_v:!n.type.startsWith("mouse")&&"contextmenu"!==n.type&&"click"!==n.type,uv:n.type,cv:l.target,dv:n.view,fv:()=>{"touchstart"!==n.type&&_g(n)}}}}function P3(a,n){const i=a.clientX-n.clientX,l=a.clientY-n.clientY;return Math.sqrt(i*i+l*l)}function _g(a){a.cancelable&&a.preventDefault()}function _s(a){return{et:a.pageX,rt:a.pageY}}function uo(a){return a.timeStamp||performance.now()}function UP(a,n){for(let i=0;i<a.length;++i)if(a[i].identifier===n)return a[i];return null}function wg(a){return{Bc:a.Bc,vv:{wr:a.pv.externalId},mv:a.pv.cursorStyle}}function L3(a,n,i){for(const l of a){const h=l.xt();if(null!==h&&h.br){const p=h.br(n,i);if(null!==p)return{dv:l,vv:p}}}return null}function bg(a,n){return i=>{var l,h,p,y;return(null!==(h=null===(l=i.At())||void 0===l?void 0:l.xa())&&void 0!==h?h:"")!==n?[]:null!==(y=null===(p=i.la)||void 0===p?void 0:p.call(i,a))&&void 0!==y?y:[]}}class jP{constructor(n,i,l,h){this.Li=null,this.bv=null,this.wv=!1,this.gv=new pg(200),this.Gr=null,this.Mv=0,this.xv=!1,this.Sv=()=>{this.xv||this.nn.kv().qt().Fh()},this.yv=()=>{this.xv||this.nn.kv().qt().Fh()},this.nn=n,this.cn=i,this.mo=i.layout,this.Sc=l,this.Cv="left"===h,this.Tv=bg("normal",h),this.Pv=bg("top",h),this.Rv=bg("bottom",h),this.Dv=document.createElement("div"),this.Dv.style.height="100%",this.Dv.style.overflow="hidden",this.Dv.style.width="25px",this.Dv.style.left="0",this.Dv.style.position="relative",this.Ov=Fd(this.Dv,Qn({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv);const p=this.Ov.canvasElement;p.style.position="absolute",p.style.zIndex="1",p.style.left="0",p.style.top="0",this.Av=Fd(this.Dv,Qn({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.yv);const y=this.Av.canvasElement;y.style.position="absolute",y.style.zIndex="2",y.style.left="0",y.style.top="0";const b={Jf:this.Vv.bind(this),Zf:this.Vv.bind(this),jf:this.Bv.bind(this),Ff:this.Bv.bind(this),Qf:this.Iv.bind(this),qf:this.zv.bind(this),$f:this.zv.bind(this),Cf:this.Ev.bind(this),xf:this.Ev.bind(this),Vf:this.Lv.bind(this),av:this.Nv.bind(this)};this.Fv=new yg(this.Av.canvasElement,b,{Lf:()=>!1,Nf:()=>!0})}S(){this.Fv.S(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.yv),this.Av.dispose(),this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose(),null!==this.Li&&this.Li.$o().p(this),this.Li=null}Wv(){return this.Dv}P(){return this.mo.fontSize}jv(){const n=this.Sc.W();return this.Gr!==n.R&&(this.gv.ir(),this.Gr=n.R),n}Hv(){if(null===this.Li)return 0;let n=0;const i=this.jv(),l=Te(this.Ov.canvasElement.getContext("2d"));l.save();const h=this.Li.Ea();l.font=this.$v(),h.length>0&&(n=Math.max(this.gv.Si(l,h[0].Za),this.gv.Si(l,h[h.length-1].Za)));const p=this.Uv();for(let C=p.length;C--;){const M=this.gv.Si(l,p[C].Jt());M>n&&(n=M)}const y=this.Li.Pt();if(null!==y&&null!==this.bv){const C=this.Li.pn(1,y),M=this.Li.pn(this.bv.height-2,y);n=Math.max(n,this.gv.Si(l,this.Li.Wi(Math.floor(Math.min(C,M))+.11111111111111,y)),this.gv.Si(l,this.Li.Wi(Math.ceil(Math.max(C,M))-.11111111111111,y)))}return l.restore(),HP(Math.ceil(i.C+i.T+i.B+i.I+5+(n||34)))}qv(n){null!==this.bv&&Ch(this.bv,n)||(this.bv=n,this.xv=!0,this.Ov.resizeCanvasElement(n),this.Av.resizeCanvasElement(n),this.xv=!1,this.Dv.style.width=`${n.width}px`,this.Dv.style.height=`${n.height}px`)}Yv(){return Te(this.bv).width}Ji(n){this.Li!==n&&(null!==this.Li&&this.Li.$o().p(this),this.Li=n,n.$o().l(this.ao.bind(this),this))}At(){return this.Li}ir(){const n=this.nn.Xv();this.nn.kv().qt().A_(n,Te(this.At()))}Kv(n){if(null===this.bv)return;if(1!==n){this.Zv(),this.Ov.applySuggestedBitmapSize();const l=Pd(this.Ov);null!==l&&(l.useBitmapCoordinateSpace(h=>{this.Gv(h),this.Be(h)}),this.nn.Jv(l,this.Rv),this.Qv(l),this.nn.Jv(l,this.Tv),this.tp(l))}this.Av.applySuggestedBitmapSize();const i=Pd(this.Av);null!==i&&(i.useBitmapCoordinateSpace(({context:l,bitmapSize:h})=>{l.clearRect(0,0,h.width,h.height)}),this.ip(i),this.nn.Jv(i,this.Pv))}np(){return this.Ov.bitmapSize}sp(n,i,l){const h=this.np();h.width>0&&h.height>0&&n.drawImage(this.Ov.canvasElement,i,l)}gt(){var n;null===(n=this.Li)||void 0===n||n.Ea()}Vv(n){if(null===this.Li||this.Li.Fi()||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.nn.kv().qt(),l=this.nn.Xv();this.wv=!0,i.y_(l,this.Li,n.localY)}Bv(n){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.nn.kv().qt(),l=this.nn.Xv();i.C_(l,this.Li,n.localY)}Iv(){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.nn.kv().qt(),i=this.nn.Xv(),l=this.Li;this.wv&&(this.wv=!1,n.T_(i,l))}zv(n){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.nn.kv().qt(),l=this.nn.Xv();this.wv=!1,i.T_(l,this.Li)}Ev(n){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}Lv(n){null!==this.Li&&(!this.nn.kv().qt().W().handleScale.axisPressedMouseMove.price||this.Li.ph()||this.Li.Co()||this.ep(1))}Nv(n){this.ep(0)}Uv(){const n=[],i=null===this.Li?void 0:this.Li;return(l=>{for(let h=0;h<l.length;++h){const p=l[h].Rn(this.nn.Xv(),i);for(let y=0;y<p.length;y++)n.push(p[y])}})(this.nn.Xv().No()),n}Gv({context:n,bitmapSize:i}){const{width:l,height:h}=i,p=this.nn.Xv().qt(),y=p.q(),b=p.ad();y===b?fg(n,0,0,l,h,y):D1(n,0,0,l,h,y,b)}Be({context:n,bitmapSize:i,horizontalPixelRatio:l}){if(null===this.bv||null===this.Li||!this.Li.W().borderVisible)return;n.fillStyle=this.Li.W().borderColor;const h=Math.max(1,Math.floor(this.jv().C*l));let p;p=this.Cv?i.width-h:0,n.fillRect(p,0,h,i.height)}Qv(n){if(null===this.bv||null===this.Li)return;const i=this.Li.Ea(),l=this.Li.W(),h=this.jv(),p=this.Cv?this.bv.width-h.T:0;l.borderVisible&&l.ticksVisible&&n.useBitmapCoordinateSpace(({context:y,horizontalPixelRatio:b,verticalPixelRatio:C})=>{y.fillStyle=l.borderColor;const M=Math.max(1,Math.floor(C)),I=Math.floor(.5*C),R=Math.round(h.T*b);y.beginPath();for(const V of i)y.rect(Math.floor(p*b),Math.round(V.Aa*C)-I,R,M);y.fill()}),n.useMediaCoordinateSpace(({context:y})=>{var b;y.font=this.$v(),y.fillStyle=null!==(b=l.textColor)&&void 0!==b?b:this.mo.textColor,y.textAlign=this.Cv?"right":"left",y.textBaseline="middle";const C=this.Cv?Math.round(p-h.B):Math.round(p+h.T+h.B),M=i.map(I=>this.gv.xi(y,I.Za));for(let I=i.length;I--;){const R=i[I];y.fillText(R.Za,C,R.Aa+M[I])}})}Zv(){if(null===this.bv||null===this.Li)return;let n=this.bv.height/2;const i=[],l=this.Li.No().slice(),h=this.nn.Xv(),p=this.jv();this.Li===h.vr()&&this.nn.Xv().No().forEach(C=>{h.dr(C)&&l.push(C)});const y=this.Li.Ta()[0],b=this.Li;l.forEach(C=>{const M=C.Rn(h,b);M.forEach(I=>{I.Vi(null),I.Bi()&&i.push(I)}),y===C&&M.length>0&&(n=M[0].yi())}),i.forEach(C=>C.Vi(C.yi())),this.Li.W().alignLabels&&this.rp(i,p,n)}rp(n,i,l){if(null===this.bv)return;const h=n.filter(y=>y.yi()<=l),p=n.filter(y=>y.yi()>l);h.sort((y,b)=>b.yi()-y.yi()),h.length&&p.length&&p.push(h[0]),p.sort((y,b)=>y.yi()-b.yi());for(const y of n){const b=Math.floor(y.zt(i)/2),C=y.yi();C>-b&&C<b&&y.Vi(b),C>this.bv.height-b&&C<this.bv.height+b&&y.Vi(this.bv.height-b)}for(let y=1;y<h.length;y++){const b=h[y],C=h[y-1],M=C.zt(i,!1),I=b.yi(),R=C.Ai();I>R-M&&b.Vi(R-M)}for(let y=1;y<p.length;y++){const b=p[y],C=p[y-1],M=C.zt(i,!0),I=b.yi(),R=C.Ai();I<R+M&&b.Vi(R+M)}}tp(n){if(null===this.bv)return;const i=this.Uv(),l=this.jv(),h=this.Cv?"right":"left";i.forEach(p=>{p.Ii()&&p.xt(Te(this.Li)).K(n,l,this.gv,h)})}ip(n){if(null===this.bv||null===this.Li)return;const i=this.nn.kv().qt(),l=[],h=this.nn.Xv(),p=i.Nc().Rn(h,this.Li);p.length&&l.push(p);const y=this.jv(),b=this.Cv?"right":"left";l.forEach(C=>{C.forEach(M=>{M.xt(Te(this.Li)).K(n,y,this.gv,b)})})}ep(n){this.Dv.style.cursor=1===n?"ns-resize":"default"}ao(){const n=this.Hv();this.Mv<n&&this.nn.kv().qt().$l(),this.Mv=n}$v(){return Rd(this.mo.fontSize,this.mo.fontFamily)}}function Q9(a,n){var i,l;return null!==(l=null===(i=a.ra)||void 0===i?void 0:i.call(a,n))&&void 0!==l?l:[]}function q1(a,n){var i,l;return null!==(l=null===(i=a.Pn)||void 0===i?void 0:i.call(a,n))&&void 0!==l?l:[]}function J9(a,n){var i,l;return null!==(l=null===(i=a.Qi)||void 0===i?void 0:i.call(a,n))&&void 0!==l?l:[]}function R3(a,n){var i,l;return null!==(l=null===(i=a.na)||void 0===i?void 0:i.call(a,n))&&void 0!==l?l:[]}class WP{constructor(n,i){this.bv=Qn({width:0,height:0}),this.hp=null,this.lp=null,this.ap=null,this.op=!1,this._p=new tr,this.up=new tr,this.cp=0,this.dp=!1,this.fp=null,this.vp=!1,this.pp=null,this.mp=null,this.xv=!1,this.Sv=()=>{this.xv||null===this.bp||this.Ui().Fh()},this.yv=()=>{this.xv||null===this.bp||this.Ui().Fh()},this.wp=n,this.bp=i,this.bp.I_().l(this.gp.bind(this),this,!0),this.Mp=document.createElement("td"),this.Mp.style.padding="0",this.Mp.style.position="relative";const l=document.createElement("div");l.style.width="100%",l.style.height="100%",l.style.position="relative",l.style.overflow="hidden",this.xp=document.createElement("td"),this.xp.style.padding="0",this.Sp=document.createElement("td"),this.Sp.style.padding="0",this.Mp.appendChild(l),this.Ov=Fd(l,Qn({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv);const h=this.Ov.canvasElement;h.style.position="absolute",h.style.zIndex="1",h.style.left="0",h.style.top="0",this.Av=Fd(l,Qn({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.yv);const p=this.Av.canvasElement;p.style.position="absolute",p.style.zIndex="2",p.style.left="0",p.style.top="0",this.kp=document.createElement("tr"),this.kp.appendChild(this.xp),this.kp.appendChild(this.Mp),this.kp.appendChild(this.Sp),this.yp(),this.Fv=new yg(this.Av.canvasElement,this,{Lf:()=>null===this.fp&&!this.wp.W().handleScroll.vertTouchDrag,Nf:()=>null===this.fp&&!this.wp.W().handleScroll.horzTouchDrag})}S(){null!==this.hp&&this.hp.S(),null!==this.lp&&this.lp.S(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.yv),this.Av.dispose(),this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose(),null!==this.bp&&this.bp.I_().p(this),this.Fv.S()}Xv(){return Te(this.bp)}Cp(n){null!==this.bp&&this.bp.I_().p(this),this.bp=n,null!==this.bp&&this.bp.I_().l(WP.prototype.gp.bind(this),this,!0),this.yp()}kv(){return this.wp}Wv(){return this.kp}yp(){if(null!==this.bp&&(this.Tp(),0!==this.Ui().Mt().length)){if(null!==this.hp){const n=this.bp.S_();this.hp.Ji(Te(n))}if(null!==this.lp){const n=this.bp.k_();this.lp.Ji(Te(n))}}}Pp(){null!==this.hp&&this.hp.gt(),null!==this.lp&&this.lp.gt()}v_(){return null!==this.bp?this.bp.v_():0}p_(n){this.bp&&this.bp.p_(n)}Vf(n){this.bp&&(this.Rp(),this.Dp(n.localX,n.localY,n))}Jf(n){this.Rp(),this.Op(),this.Dp(n.localX,n.localY,n)}Bf(n){var i;if(!this.bp)return;this.Rp();const l=n.localX,h=n.localY;this.Dp(l,h,n);const p=this.br(l,h);this.wp.Ap(null!==(i=p?.mv)&&void 0!==i?i:null),this.Ui().Vc(p&&{Bc:p.Bc,vv:p.vv})}Yf(n){null!==this.bp&&(this.Rp(),this.Vp(n))}Cf(n){null!==this.bp&&this.Bp(this.up,n)}xf(n){this.Cf(n)}jf(n){this.Rp(),this.Ip(n),this.Dp(n.localX,n.localY,n)}qf(n){null!==this.bp&&(this.Rp(),this.dp=!1,this.zp(n))}Uf(n){null!==this.bp&&this.Vp(n)}ov(n){if(this.dp=!0,null===this.fp){const i={x:n.localX,y:n.localY};this.Ep(i,i,n)}}av(n){null!==this.bp&&(this.Rp(),this.bp.qt().Vc(null),this.Lp())}Np(){return this._p}Fp(){return this.up}nv(){this.cp=1,this.Ui().Un()}sv(n,i){if(!this.wp.W().handleScale.pinch)return;const l=5*(i-this.cp);this.cp=i,this.Ui().$c(n.et,l)}Zf(n){this.dp=!1,this.vp=null!==this.fp,this.Op();const i=this.Ui().Nc();null!==this.fp&&i.Tt()&&(this.pp={x:i.Kt(),y:i.Zt()},this.fp={x:n.localX,y:n.localY})}Ff(n){if(null===this.bp)return;const i=n.localX,l=n.localY;if(null===this.fp)this.Ip(n);else{this.vp=!1;const h=Te(this.pp);this.Dp(h.x+(i-this.fp.x),h.y+(l-this.fp.y),n)}}$f(n){0===this.kv().W().trackingMode.exitMode&&(this.vp=!0),this.Wp(),this.zp(n)}br(n,i){const l=this.bp;return null===l?null:function(h,p,y){const b=h.No(),C=function(M,I,R){var V,G;let $,Z;for(const ne of M){const ye=null!==(G=null===(V=ne.oa)||void 0===V?void 0:V.call(ne,I,R))&&void 0!==G?G:[];for(const we of ye)ee=we.zOrder,(!(ie=$?.zOrder)||"top"===ee&&"top"!==ie||"normal"===ee&&"bottom"===ie)&&($=we,Z=ne)}var ee,ie;return $&&Z?{pv:$,Bc:Z}:null}(b,p,y);if("top"===C?.pv.zOrder)return wg(C);for(const M of b){if(C&&C.Bc===M&&"bottom"!==C.pv.zOrder&&!C.pv.isBackground)return wg(C);const I=L3(M.Pn(h),p,y);if(null!==I)return{Bc:M,dv:I.dv,vv:I.vv};if(C&&C.Bc===M&&"bottom"!==C.pv.zOrder&&C.pv.isBackground)return wg(C)}return C?.pv?wg(C):null}(l,n,i)}jp(n,i){Te("left"===i?this.hp:this.lp).qv(Qn({width:n,height:this.bv.height}))}Hp(){return this.bv}qv(n){Ch(this.bv,n)||(this.bv=n,this.xv=!0,this.Ov.resizeCanvasElement(n),this.Av.resizeCanvasElement(n),this.xv=!1,this.Mp.style.width=n.width+"px",this.Mp.style.height=n.height+"px")}$p(){const n=Te(this.bp);n.x_(n.S_()),n.x_(n.k_());for(const i of n.Ta())if(n.dr(i)){const l=i.At();null!==l&&n.x_(l),i.On()}}np(){return this.Ov.bitmapSize}sp(n,i,l){const h=this.np();h.width>0&&h.height>0&&n.drawImage(this.Ov.canvasElement,i,l)}Kv(n){if(0===n||null===this.bp)return;if(n>1&&this.$p(),null!==this.hp&&this.hp.Kv(n),null!==this.lp&&this.lp.Kv(n),1!==n){this.Ov.applySuggestedBitmapSize();const l=Pd(this.Ov);null!==l&&(l.useBitmapCoordinateSpace(h=>{this.Gv(h)}),this.bp&&(this.Up(l,Q9),this.qp(l),this.Yp(l),this.Up(l,q1),this.Up(l,J9)))}this.Av.applySuggestedBitmapSize();const i=Pd(this.Av);null!==i&&(i.useBitmapCoordinateSpace(({context:l,bitmapSize:h})=>{l.clearRect(0,0,h.width,h.height)}),this.Xp(i),this.Up(i,R3))}Kp(){return this.hp}Zp(){return this.lp}Jv(n,i){this.Up(n,i)}gp(){null!==this.bp&&this.bp.I_().p(this),this.bp=null}Vp(n){this.Bp(this._p,n)}Bp(n,i){const l=i.localX,h=i.localY;n.M()&&n.m(this.Ui().yt().Au(l),{x:l,y:h},i)}Gv({context:n,bitmapSize:i}){const{width:l,height:h}=i,p=this.Ui(),y=p.q(),b=p.ad();y===b?fg(n,0,0,l,h,b):D1(n,0,0,l,h,y,b)}qp(n){const i=Te(this.bp).z_().Wh().xt();null!==i&&i.K(n,!1)}Yp(n){const i=this.Ui().Lc();this.Gp(n,q1,j1,i),this.Gp(n,q1,W1,i)}Xp(n){this.Gp(n,q1,W1,this.Ui().Nc())}Up(n,i){const l=Te(this.bp).No();for(const h of l)this.Gp(n,i,j1,h);for(const h of l)this.Gp(n,i,W1,h)}Gp(n,i,l,h){const p=Te(this.bp),y=p.qt().Ac(),b=null!==y&&y.Bc===h,C=null!==y&&b&&void 0!==y.vv?y.vv.gr:void 0;$1(i,M=>l(M,n,b,C),h,p)}Tp(){if(null===this.bp)return;const n=this.wp,i=this.bp.S_().W().visible,l=this.bp.k_().W().visible;i||null===this.hp||(this.xp.removeChild(this.hp.Wv()),this.hp.S(),this.hp=null),l||null===this.lp||(this.Sp.removeChild(this.lp.Wv()),this.lp.S(),this.lp=null);const h=n.qt().nd();i&&null===this.hp&&(this.hp=new jP(this,n.W(),h,"left"),this.xp.appendChild(this.hp.Wv())),l&&null===this.lp&&(this.lp=new jP(this,n.W(),h,"right"),this.Sp.appendChild(this.lp.Wv()))}Jp(n){return n._v&&this.dp||null!==this.fp}Qp(n){return Math.max(0,Math.min(n,this.bv.width-1))}tm(n){return Math.max(0,Math.min(n,this.bv.height-1))}Dp(n,i,l){this.Ui().Gc(this.Qp(n),this.tm(i),l,Te(this.bp))}Lp(){this.Ui().Qc()}Wp(){this.vp&&(this.fp=null,this.Lp())}Ep(n,i,l){this.fp=n,this.vp=!1,this.Dp(i.x,i.y,l);const h=this.Ui().Nc();this.pp={x:h.Kt(),y:h.Zt()}}Ui(){return this.wp.qt()}zp(n){if(!this.op)return;const i=this.Ui(),l=this.Xv();if(i.D_(l,l.vn()),this.ap=null,this.op=!1,i.Xc(),null!==this.mp){const h=performance.now(),p=i.yt();this.mp.Dr(p.zu(),h),this.mp.qu(h)||i.Xn(this.mp)}}Rp(){this.fp=null}Op(){if(this.bp){if(this.Ui().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Te(document.activeElement).blur();else{const n=document.getSelection();null!==n&&n.removeAllRanges()}!this.bp.vn().Fi()&&this.Ui().yt().Fi()}}Ip(n){if(null===this.bp)return;const i=this.Ui(),l=i.yt();if(l.Fi())return;const h=this.wp.W(),p=h.handleScroll,y=h.kineticScroll;if((!p.pressedMouseMove||n._v)&&(!p.horzTouchDrag&&!p.vertTouchDrag||!n._v))return;const b=this.bp.vn(),C=performance.now();if(null!==this.ap||this.Jp(n)||(this.ap={x:n.clientX,y:n.clientY,Sd:C,im:n.localX,nm:n.localY}),null!==this.ap&&!this.op&&(this.ap.x!==n.clientX||this.ap.y!==n.clientY)){if(n._v&&y.touch||!n._v&&y.mouse){const M=l.he();this.mp=new X9(.2/M,7/M,.997,15/M),this.mp.Ld(l.zu(),this.ap.Sd)}else this.mp=null;b.Fi()||i.P_(this.bp,b,n.localY),i.qc(n.localX),this.op=!0}this.op&&(b.Fi()||i.R_(this.bp,b,n.localY),i.Yc(n.localX),null!==this.mp&&this.mp.Ld(l.zu(),C))}}class k3{constructor(n,i,l,h,p){this.bt=!0,this.bv=Qn({width:0,height:0}),this.Sv=()=>this.Kv(3),this.Cv="left"===n,this.Sc=l.nd,this.cn=i,this.sm=h,this.rm=p,this.Dv=document.createElement("div"),this.Dv.style.width="25px",this.Dv.style.height="100%",this.Dv.style.overflow="hidden",this.Ov=Fd(this.Dv,Qn({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv)}S(){this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose()}Wv(){return this.Dv}Hp(){return this.bv}qv(n){Ch(this.bv,n)||(this.bv=n,this.Ov.resizeCanvasElement(n),this.Dv.style.width=`${n.width}px`,this.Dv.style.height=`${n.height}px`,this.bt=!0)}Kv(n){if(n<3&&!this.bt||0===this.bv.width||0===this.bv.height)return;this.bt=!1,this.Ov.applySuggestedBitmapSize();const i=Pd(this.Ov);null!==i&&i.useBitmapCoordinateSpace(l=>{this.Gv(l),this.Be(l)})}np(){return this.Ov.bitmapSize}sp(n,i,l){const h=this.np();h.width>0&&h.height>0&&n.drawImage(this.Ov.canvasElement,i,l)}Be({context:n,bitmapSize:i,horizontalPixelRatio:l,verticalPixelRatio:h}){if(!this.sm())return;n.fillStyle=this.cn.timeScale.borderColor;const p=Math.floor(this.Sc.W().C*l),y=Math.floor(this.Sc.W().C*h);n.fillRect(this.Cv?i.width-p:0,0,p,y)}Gv({context:n,bitmapSize:i}){fg(n,0,0,i.width,i.height,this.rm())}}function Dl(a){return n=>{var i,l;return null!==(l=null===(i=n.aa)||void 0===i?void 0:i.call(n,a))&&void 0!==l?l:[]}}const IK=Dl("normal"),PK=Dl("top"),e7=Dl("bottom");class O3{constructor(n,i){this.hm=null,this.lm=null,this.k=null,this.am=!1,this.bv=Qn({width:0,height:0}),this.om=new tr,this.gv=new pg(5),this.xv=!1,this.Sv=()=>{this.xv||this.wp.qt().Fh()},this.yv=()=>{this.xv||this.wp.qt().Fh()},this.wp=n,this.N_=i,this.cn=n.W().layout,this._m=document.createElement("tr"),this.um=document.createElement("td"),this.um.style.padding="0",this.dm=document.createElement("td"),this.dm.style.padding="0",this.Dv=document.createElement("td"),this.Dv.style.height="25px",this.Dv.style.padding="0",this.fm=document.createElement("div"),this.fm.style.width="100%",this.fm.style.height="100%",this.fm.style.position="relative",this.fm.style.overflow="hidden",this.Dv.appendChild(this.fm),this.Ov=Fd(this.fm,Qn({width:16,height:16})),this.Ov.subscribeSuggestedBitmapSizeChanged(this.Sv);const l=this.Ov.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Av=Fd(this.fm,Qn({width:16,height:16})),this.Av.subscribeSuggestedBitmapSizeChanged(this.yv);const h=this.Av.canvasElement;h.style.position="absolute",h.style.zIndex="2",h.style.left="0",h.style.top="0",this._m.appendChild(this.um),this._m.appendChild(this.Dv),this._m.appendChild(this.dm),this.vm(),this.wp.qt().f_().l(this.vm.bind(this),this),this.Fv=new yg(this.Av.canvasElement,this,{Lf:()=>!0,Nf:()=>!1})}S(){this.Fv.S(),null!==this.hm&&this.hm.S(),null!==this.lm&&this.lm.S(),this.Av.unsubscribeSuggestedBitmapSizeChanged(this.yv),this.Av.dispose(),this.Ov.unsubscribeSuggestedBitmapSizeChanged(this.Sv),this.Ov.dispose()}Wv(){return this._m}pm(){return this.hm}bm(){return this.lm}Jf(n){if(this.am)return;this.am=!0;const i=this.wp.qt();!i.yt().Fi()&&this.wp.W().handleScale.axisPressedMouseMove.time&&i.Hc(n.localX)}Zf(n){this.Jf(n)}Qf(){const n=this.wp.qt();!n.yt().Fi()&&this.am&&(this.am=!1,this.wp.W().handleScale.axisPressedMouseMove.time&&n.Zc())}jf(n){const i=this.wp.qt();!i.yt().Fi()&&this.wp.W().handleScale.axisPressedMouseMove.time&&i.Kc(n.localX)}Ff(n){this.jf(n)}qf(){this.am=!1;const n=this.wp.qt();n.yt().Fi()&&!this.wp.W().handleScale.axisPressedMouseMove.time||n.Zc()}$f(){this.qf()}Cf(){this.wp.W().handleScale.axisDoubleClickReset.time&&this.wp.qt().Zn()}xf(){this.Cf()}Vf(){this.wp.qt().W().handleScale.axisPressedMouseMove.time&&this.ep(1)}av(){this.ep(0)}Hp(){return this.bv}wm(){return this.om}gm(n,i,l){Ch(this.bv,n)||(this.bv=n,this.xv=!0,this.Ov.resizeCanvasElement(n),this.Av.resizeCanvasElement(n),this.xv=!1,this.Dv.style.width=`${n.width}px`,this.Dv.style.height=`${n.height}px`,this.om.m(n)),null!==this.hm&&this.hm.qv(Qn({width:i,height:n.height})),null!==this.lm&&this.lm.qv(Qn({width:l,height:n.height}))}Mm(){const n=this.xm();return Math.ceil(n.C+n.T+n.P+n.L+n.V+n.Sm)}gt(){this.wp.qt().yt().Ea()}np(){return this.Ov.bitmapSize}sp(n,i,l){const h=this.np();h.width>0&&h.height>0&&n.drawImage(this.Ov.canvasElement,i,l)}Kv(n){if(0===n)return;if(1!==n){this.Ov.applySuggestedBitmapSize();const l=Pd(this.Ov);null!==l&&(l.useBitmapCoordinateSpace(h=>{this.Gv(h),this.Be(h),this.km(l,e7)}),this.Qv(l),this.km(l,IK)),null!==this.hm&&this.hm.Kv(n),null!==this.lm&&this.lm.Kv(n)}this.Av.applySuggestedBitmapSize();const i=Pd(this.Av);null!==i&&(i.useBitmapCoordinateSpace(({context:l,bitmapSize:h})=>{l.clearRect(0,0,h.width,h.height)}),this.ym([...this.wp.qt().Mt(),this.wp.qt().Nc()],i),this.km(i,PK))}km(n,i){const l=this.wp.qt().Mt();for(const h of l)$1(i,p=>j1(p,n,!1,void 0),h,void 0);for(const h of l)$1(i,p=>W1(p,n,!1,void 0),h,void 0)}Gv({context:n,bitmapSize:i}){fg(n,0,0,i.width,i.height,this.wp.qt().ad())}Be({context:n,bitmapSize:i,verticalPixelRatio:l}){if(this.wp.W().timeScale.borderVisible){n.fillStyle=this.Cm();const h=Math.max(1,Math.floor(this.xm().C*l));n.fillRect(0,0,i.width,h)}}Qv(n){const i=this.wp.qt().yt(),l=i.Ea();if(!l||0===l.length)return;const h=this.N_.maxTickMarkWeight(l),p=this.xm(),y=i.W();y.borderVisible&&y.ticksVisible&&n.useBitmapCoordinateSpace(({context:b,horizontalPixelRatio:C,verticalPixelRatio:M})=>{b.strokeStyle=this.Cm(),b.fillStyle=this.Cm();const I=Math.max(1,Math.floor(C)),R=Math.floor(.5*C);b.beginPath();const V=Math.round(p.T*M);for(let G=l.length;G--;){const $=Math.round(l[G].coord*C);b.rect($-R,0,I,V)}b.fill()}),n.useMediaCoordinateSpace(({context:b})=>{const C=p.C+p.T+p.L+p.P/2;b.textAlign="center",b.textBaseline="middle",b.fillStyle=this.$(),b.font=this.$v();for(const M of l)if(M.weight<h){const I=M.needAlignCoordinate?this.Tm(b,M.coord,M.label):M.coord;b.fillText(M.label,I,C)}b.font=this.Pm();for(const M of l)if(M.weight>=h){const I=M.needAlignCoordinate?this.Tm(b,M.coord,M.label):M.coord;b.fillText(M.label,I,C)}})}Tm(n,i,l){const h=this.gv.Si(n,l),y=Math.floor(i-h/2)+.5;return y<0?i+=Math.abs(0-y):y+h>this.bv.width&&(i-=Math.abs(this.bv.width-(y+h))),i}ym(n,i){const l=this.xm();for(const h of n)for(const p of h.tn())p.xt().K(i,l)}Cm(){return this.wp.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}$v(){return Rd(this.j(),this.cn.fontFamily)}Pm(){return Rd(this.j(),this.cn.fontFamily,"bold")}xm(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,V:NaN,Hi:NaN,T:5,P:NaN,R:"",ji:new pg,Sm:0});const n=this.k,i=this.$v();if(n.R!==i){const l=this.j();n.P=l,n.R=i,n.L=3*l/12,n.V=3*l/12,n.Hi=9*l/12,n.N=0,n.Sm=4*l/12,n.ji.ir()}return this.k}ep(n){this.Dv.style.cursor=1===n?"ew-resize":"default"}vm(){const n=this.wp.qt(),i=n.W();i.leftPriceScale.visible||null===this.hm||(this.um.removeChild(this.hm.Wv()),this.hm.S(),this.hm=null),i.rightPriceScale.visible||null===this.lm||(this.dm.removeChild(this.lm.Wv()),this.lm.S(),this.lm=null);const l={nd:this.wp.qt().nd()},h=()=>i.leftPriceScale.borderVisible&&n.yt().W().borderVisible,p=()=>n.ad();i.leftPriceScale.visible&&null===this.hm&&(this.hm=new k3("left",i,l,h,p),this.um.appendChild(this.hm.Wv())),i.rightPriceScale.visible&&null===this.lm&&(this.lm=new k3("right",i,l,h,p),this.dm.appendChild(this.lm.Wv()))}}const $P=!!mg&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(a=>a.brand.includes("Chromium"))&&!!mg&&(null!==(qP=navigator?.userAgentData)&&void 0!==qP&&qP.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);var qP;class N3{constructor(n,i,l){var h;this.Rm=[],this.Dm=0,this.Qa=0,this.e_=0,this.Om=0,this.Am=0,this.Vm=null,this.Bm=!1,this._p=new tr,this.up=new tr,this.gc=new tr,this.Im=null,this.zm=null,this.Em=n,this.cn=i,this.N_=l,this._m=document.createElement("div"),this._m.classList.add("tv-lightweight-charts"),this._m.style.overflow="hidden",this._m.style.direction="ltr",this._m.style.width="100%",this._m.style.height="100%",(h=this._m).style.userSelect="none",h.style.webkitUserSelect="none",h.style.msUserSelect="none",h.style.MozUserSelect="none",h.style.webkitTapHighlightColor="transparent",this.Lm=document.createElement("table"),this.Lm.setAttribute("cellspacing","0"),this._m.appendChild(this.Lm),this.Nm=this.Fm.bind(this),Vd(this.cn)&&this.Wm(!0),this.Ui=new C3(this.xc.bind(this),this.cn,l),this.qt().Fc().l(this.jm.bind(this),this),this.Hm=new O3(this,this.N_),this.Lm.appendChild(this.Hm.Wv());const p=i.autoSize&&this.$m();let y=this.cn.width,b=this.cn.height;if(p||0===y||0===b){const C=n.getBoundingClientRect();y=y||C.width,b=b||C.height}this.Um(y,b),this.qm(),n.appendChild(this._m),this.Ym(),this.Ui.yt().Zu().l(this.Ui.$l.bind(this.Ui),this),this.Ui.f_().l(this.Ui.$l.bind(this.Ui),this)}qt(){return this.Ui}W(){return this.cn}Xm(){return this.Rm}Km(){return this.Hm}S(){this.Wm(!1),0!==this.Dm&&window.cancelAnimationFrame(this.Dm),this.Ui.Fc().p(this),this.Ui.yt().Zu().p(this),this.Ui.f_().p(this),this.Ui.S();for(const n of this.Rm)this.Lm.removeChild(n.Wv()),n.Np().p(this),n.Fp().p(this),n.S();this.Rm=[],Te(this.Hm).S(),null!==this._m.parentElement&&this._m.parentElement.removeChild(this._m),this.gc.S(),this._p.S(),this.up.S(),this.Zm()}Um(n,i,l=!1){if(this.Qa===i&&this.e_===n)return;const h=function(b){const C=Math.floor(b.width),M=Math.floor(b.height);return Qn({width:C-C%2,height:M-M%2})}(Qn({width:n,height:i}));this.Qa=h.height,this.e_=h.width;const p=this.Qa+"px",y=this.e_+"px";Te(this._m).style.height=p,Te(this._m).style.width=y,this.Lm.style.height=p,this.Lm.style.width=y,l?this.Gm(ti.es(),performance.now()):this.Ui.$l()}Kv(n){void 0===n&&(n=ti.es());for(let i=0;i<this.Rm.length;i++)this.Rm[i].Kv(n.Hn(i).Fn);this.cn.timeScale.visible&&this.Hm.Kv(n.jn())}Nh(n){const i=Vd(this.cn);this.Ui.Nh(n);const l=Vd(this.cn);l!==i&&this.Wm(l),this.Ym(),this.Jm(n)}Np(){return this._p}Fp(){return this.up}Fc(){return this.gc}Qm(){null!==this.Vm&&(this.Gm(this.Vm,performance.now()),this.Vm=null);const n=this.tb(null),i=document.createElement("canvas");i.width=n.width,i.height=n.height;const l=Te(i.getContext("2d"));return this.tb(l),i}ib(n){return"left"===n&&!this.nb()||"right"===n&&!this.sb()||0===this.Rm.length?0:Te("left"===n?this.Rm[0].Kp():this.Rm[0].Zp()).Yv()}eb(){return this.cn.autoSize&&null!==this.Im}rb(){return this._m}Ap(n){this.zm=n,this.zm?this.rb().style.setProperty("cursor",n):this.rb().style.removeProperty("cursor")}hb(){return this.zm}lb(){return Bi(this.Rm[0]).Hp()}Jm(n){(void 0!==n.autoSize||!this.Im||void 0===n.width&&void 0===n.height)&&(n.autoSize&&!this.Im&&this.$m(),!1===n.autoSize&&null!==this.Im&&this.Zm(),n.autoSize||void 0===n.width&&void 0===n.height||this.Um(n.width||this.e_,n.height||this.Qa))}tb(n){let i=0,l=0;const h=this.Rm[0],p=(b,C)=>{let M=0;for(let I=0;I<this.Rm.length;I++){const R=this.Rm[I],V=Te("left"===b?R.Kp():R.Zp()),G=V.np();null!==n&&V.sp(n,C,M),M+=G.height}};this.nb()&&(p("left",0),i+=Te(h.Kp()).np().width);for(let b=0;b<this.Rm.length;b++){const C=this.Rm[b],M=C.np();null!==n&&C.sp(n,i,l),l+=M.height}i+=h.np().width,this.sb()&&(p("right",i),i+=Te(h.Zp()).np().width);const y=(b,C,M)=>{Te("left"===b?this.Hm.pm():this.Hm.bm()).sp(Te(n),C,M)};if(this.cn.timeScale.visible){const b=this.Hm.np();if(null!==n){let C=0;this.nb()&&(y("left",C,l),C=Te(h.Kp()).np().width),this.Hm.sp(n,C,l),C+=b.width,this.sb()&&y("right",C,l)}l+=b.height}return Qn({width:i,height:l})}ab(){let n=0,i=0,l=0;for(const $ of this.Rm)this.nb()&&(i=Math.max(i,Te($.Kp()).Hv(),this.cn.leftPriceScale.minimumWidth)),this.sb()&&(l=Math.max(l,Te($.Zp()).Hv(),this.cn.rightPriceScale.minimumWidth)),n+=$.v_();i=HP(i),l=HP(l);const p=this.Qa,y=Math.max(this.e_-i-l,0),b=this.cn.timeScale.visible;let C=b?Math.max(this.Hm.Mm(),this.cn.timeScale.minimumHeight):0;var M;C=(M=C)+M%2;const I=0+C,R=p<I?0:p-I,V=R/n;let G=0;for(let $=0;$<this.Rm.length;++$){const Z=this.Rm[$];Z.Cp(this.Ui.Ec()[$]);let ee=0,ie=0;ie=$===this.Rm.length-1?R-G:Math.round(Z.v_()*V),ee=Math.max(ie,2),G+=ee,Z.qv(Qn({width:y,height:ee})),this.nb()&&Z.jp(i,"left"),this.sb()&&Z.jp(l,"right"),Z.Xv()&&this.Ui.Wc(Z.Xv(),ee)}this.Hm.gm(Qn({width:b?y:0,height:C}),b?i:0,b?l:0),this.Ui.m_(y),this.Om!==i&&(this.Om=i),this.Am!==l&&(this.Am=l)}Wm(n){n?this._m.addEventListener("wheel",this.Nm,{passive:!1}):this._m.removeEventListener("wheel",this.Nm)}ob(n){switch(n.deltaMode){case n.DOM_DELTA_PAGE:return 120;case n.DOM_DELTA_LINE:return 32}return $P?1/window.devicePixelRatio:1}Fm(n){if(!(0!==n.deltaX&&this.cn.handleScroll.mouseWheel||0!==n.deltaY&&this.cn.handleScale.mouseWheel))return;const i=this.ob(n),l=i*n.deltaX/100,h=-i*n.deltaY/100;if(n.cancelable&&n.preventDefault(),0!==h&&this.cn.handleScale.mouseWheel){const p=Math.sign(h)*Math.min(1,Math.abs(h)),y=n.clientX-this._m.getBoundingClientRect().left;this.qt().$c(y,p)}0!==l&&this.cn.handleScroll.mouseWheel&&this.qt().Uc(-80*l)}Gm(n,i){var l;const h=n.jn();3===h&&this._b(),3!==h&&2!==h||(this.ub(n),this.cb(n,i),this.Hm.gt(),this.Rm.forEach(p=>{p.Pp()}),3===(null===(l=this.Vm)||void 0===l?void 0:l.jn())&&(this.Vm.ts(n),this._b(),this.ub(this.Vm),this.cb(this.Vm,i),n=this.Vm,this.Vm=null)),this.Kv(n)}cb(n,i){for(const l of n.Qn())this.ns(l,i)}ub(n){const i=this.Ui.Ec();for(let l=0;l<i.length;l++)n.Hn(l).Wn&&i[l].V_()}ns(n,i){const l=this.Ui.yt();switch(n.qn){case 0:l.Ju();break;case 1:l.Qu(n.Vt);break;case 2:l.Gn(n.Vt);break;case 3:l.Jn(n.Vt);break;case 4:l.Nu();break;case 5:n.Vt.qu(i)||l.Jn(n.Vt.Yu(i))}}xc(n){null!==this.Vm?this.Vm.ts(n):this.Vm=n,this.Bm||(this.Bm=!0,this.Dm=window.requestAnimationFrame(i=>{if(this.Bm=!1,this.Dm=0,null!==this.Vm){const l=this.Vm;this.Vm=null,this.Gm(l,i);for(const h of l.Qn())if(5===h.qn&&!h.Vt.qu(i)){this.qt().Xn(h.Vt);break}}}))}_b(){this.qm()}qm(){const n=this.Ui.Ec(),i=n.length,l=this.Rm.length;for(let h=i;h<l;h++){const p=Bi(this.Rm.pop());this.Lm.removeChild(p.Wv()),p.Np().p(this),p.Fp().p(this),p.S()}for(let h=l;h<i;h++){const p=new WP(this,n[h]);p.Np().l(this.fb.bind(this),this),p.Fp().l(this.vb.bind(this),this),this.Rm.push(p),this.Lm.insertBefore(p.Wv(),this.Hm.Wv())}for(let h=0;h<i;h++){const p=n[h],y=this.Rm[h];y.Xv()!==p?y.Cp(p):y.yp()}this.Ym(),this.ab()}pb(n,i,l){var h;const p=new Map;let y;if(null!==n&&this.Ui.Mt().forEach(I=>{const R=I.In().nl(n);null!==R&&p.set(I,R)}),null!==n){const I=null===(h=this.Ui.yt().qi(n))||void 0===h?void 0:h.originalTime;void 0!==I&&(y=I)}const b=this.qt().Ac();return{mb:y,se:n??void 0,bb:i??void 0,wb:null!==b&&b.Bc instanceof MP?b.Bc:void 0,gb:p,Mb:null!==b&&void 0!==b.vv?b.vv.wr:void 0,xb:l??void 0}}fb(n,i,l){this._p.m(()=>this.pb(n,i,l))}vb(n,i,l){this.up.m(()=>this.pb(n,i,l))}jm(n,i,l){this.gc.m(()=>this.pb(n,i,l))}Ym(){const n=this.cn.timeScale.visible?"":"none";this.Hm.Wv().style.display=n}nb(){return this.Rm[0].Xv().S_().W().visible}sb(){return this.Rm[0].Xv().k_().W().visible}$m(){return"ResizeObserver"in window&&(this.Im=new ResizeObserver(n=>{const i=n.find(l=>l.target===this.Em);i&&this.Um(i.contentRect.width,i.contentRect.height)}),this.Im.observe(this.Em,{box:"border-box"}),!0)}Zm(){null!==this.Im&&this.Im.disconnect(),this.Im=null}}function Vd(a){return!(!a.handleScroll.mouseWheel&&!a.handleScale.mouseWheel)}function F3(a,n){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(i[l]=a[l]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(l=Object.getOwnPropertySymbols(a);h<l.length;h++)n.indexOf(l[h])<0&&Object.prototype.propertyIsEnumerable.call(a,l[h])&&(i[l[h]]=a[l[h]])}return i}function V3(a,n,i,l){const h=i.value,p={se:n,ut:a,Vt:[h,h,h,h],mb:l};return void 0!==i.color&&(p.O=i.color),p}function t7(a,n,i,l){const h=i.value,p={se:n,ut:a,Vt:[h,h,h,h],mb:l};return void 0!==i.lineColor&&(p._t=i.lineColor),void 0!==i.topColor&&(p.Ts=i.topColor),void 0!==i.bottomColor&&(p.Ps=i.bottomColor),p}function ZP(a,n,i,l){const h=i.value,p={se:n,ut:a,Vt:[h,h,h,h],mb:l};return void 0!==i.topLineColor&&(p.Pe=i.topLineColor),void 0!==i.bottomLineColor&&(p.Re=i.bottomLineColor),void 0!==i.topFillColor1&&(p.Se=i.topFillColor1),void 0!==i.topFillColor2&&(p.ke=i.topFillColor2),void 0!==i.bottomFillColor1&&(p.ye=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(p.Ce=i.bottomFillColor2),p}function n7(a,n,i,l){const h={se:n,ut:a,Vt:[i.open,i.high,i.low,i.close],mb:l};return void 0!==i.color&&(h.O=i.color),h}function r7(a,n,i,l){const h={se:n,ut:a,Vt:[i.open,i.high,i.low,i.close],mb:l};return void 0!==i.color&&(h.O=i.color),void 0!==i.borderColor&&(h.Bt=i.borderColor),void 0!==i.wickColor&&(h.$h=i.wickColor),h}function Sg(a,n,i,l,h){const p=Bi(h)(i),y=Math.max(...p),b=Math.min(...p),C=p[p.length-1],M=[C,y,b,C],I=i,{color:V}=I;return{se:n,ut:a,Vt:M,mb:l,He:F3(I,["time","color"]),O:V}}function A_(a){return void 0!==a.Vt}function B3(a,n){return void 0!==n.customValues&&(a.Sb=n.customValues),a}function Bd(a){return(n,i,l,h,p,y)=>{return b=l,((C=y)?C(b):void 0===(M=b).open&&void 0===M.value)?B3({ut:n,se:i,mb:h},l):B3(a(n,i,l,h,p),l);var b,C,M}}function z3(a){return{Candlestick:Bd(r7),Bar:Bd(n7),Area:Bd(t7),Baseline:Bd(ZP),Histogram:Bd(V3),Line:Bd(V3),Custom:Bd(Sg)}[a]}function H3(a){return{se:0,kb:new Map,ia:a}}function G3(a,n){if(void 0!==a&&0!==a.length)return{yb:n.key(a[0].ut),Cb:n.key(a[a.length-1].ut)}}function U3(a){let n;return a.forEach(i=>{void 0===n&&(n=i.mb)}),Bi(n)}class j3{constructor(n){this.Tb=new Map,this.Pb=new Map,this.Rb=new Map,this.Db=[],this.N_=n}S(){this.Tb.clear(),this.Pb.clear(),this.Rb.clear(),this.Db=[]}Ob(n,i){let l=0!==this.Tb.size,h=!1;const p=this.Pb.get(n);if(void 0!==p)if(1===this.Pb.size)l=!1,h=!0,this.Tb.clear();else for(const C of this.Db)C.pointData.kb.delete(n)&&(h=!0);let y=[];if(0!==i.length){const C=i.map(G=>G.time),M=this.N_.createConverterToInternalObj(i),I=z3(n.Xh()),R=n.ga(),V=n.Ma();y=i.map((G,$)=>{const Z=M(G.time),ee=this.N_.key(Z);let ie=this.Tb.get(ee);void 0===ie&&(ie=H3(Z),this.Tb.set(ee,ie),h=!0);const ne=I(Z,ie.se,G,C[$],R,V);return ie.kb.set(n,ne),ne})}l&&this.Ab(),this.Vb(n,y);let b=-1;if(h){const C=[];this.Tb.forEach(M=>{C.push({timeWeight:0,time:M.ia,pointData:M,originalTime:U3(M.kb)})}),C.sort((M,I)=>this.N_.key(M.time)-this.N_.key(I.time)),b=this.Bb(C)}return this.Ib(n,b,function(C,M,I){const R=G3(C,I),V=G3(M,I);if(void 0!==R&&void 0!==V)return{Xl:R.Cb>=V.Cb&&R.yb>=V.yb}}(this.Pb.get(n),p,this.N_))}rd(n){return this.Ob(n,[])}zb(n,i){const l=i;var Z;void 0===(Z=l).mb&&(Z.mb=Z.time),this.N_.preprocessData(i);const h=this.N_.createConverterToInternalObj([i])(i.time),p=this.Rb.get(n);if(void 0!==p&&this.N_.key(h)<this.N_.key(p))throw new Error(`Cannot update oldest data, last time=${p}, new time=${h}`);let y=this.Tb.get(this.N_.key(h));const b=void 0===y;void 0===y&&(y=H3(h),this.Tb.set(this.N_.key(h),y));const C=z3(n.Xh()),M=n.ga(),I=n.Ma(),R=C(h,y.se,i,l.mb,M,I);y.kb.set(n,R),this.Eb(n,R);const V={Xl:A_(R)};if(!b)return this.Ib(n,-1,V);const G={timeWeight:0,time:y.ia,pointData:y,originalTime:U3(y.kb)},$=y_(this.Db,this.N_.key(G.time),(Z,ee)=>this.N_.key(Z.time)<ee);this.Db.splice($,0,G);for(let Z=$;Z<this.Db.length;++Z)E_(this.Db[Z].pointData,Z);return this.N_.fillWeightsForPoints(this.Db,$),this.Ib(n,$,V)}Eb(n,i){let l=this.Pb.get(n);void 0===l&&(l=[],this.Pb.set(n,l));const h=0!==l.length?l[l.length-1]:null;null===h||this.N_.key(i.ut)>this.N_.key(h.ut)?A_(i)&&l.push(i):A_(i)?l[l.length-1]=i:l.splice(-1,1),this.Rb.set(n,i.ut)}Vb(n,i){0!==i.length?(this.Pb.set(n,i.filter(A_)),this.Rb.set(n,i[i.length-1].ut)):(this.Pb.delete(n),this.Rb.delete(n))}Ab(){for(const n of this.Db)0===n.pointData.kb.size&&this.Tb.delete(this.N_.key(n.time))}Bb(n){let i=-1;for(let l=0;l<this.Db.length&&l<n.length;++l){const h=this.Db[l],p=n[l];if(this.N_.key(h.time)!==this.N_.key(p.time)){i=l;break}p.timeWeight=h.timeWeight,E_(p.pointData,l)}if(-1===i&&this.Db.length!==n.length&&(i=Math.min(this.Db.length,n.length)),-1===i)return-1;for(let l=i;l<n.length;++l)E_(n[l].pointData,l);return this.N_.fillWeightsForPoints(n,i),this.Db=n,i}Lb(){if(0===this.Pb.size)return null;let n=0;return this.Pb.forEach(i=>{0!==i.length&&(n=Math.max(n,i[i.length-1].se))}),n}Ib(n,i,l){const h={Nb:new Map,yt:{Ou:this.Lb()}};if(-1!==i)this.Pb.forEach((p,y)=>{h.Nb.set(y,{He:p,Fb:y===n?l:void 0})}),this.Pb.has(n)||h.Nb.set(n,{He:[],Fb:l}),h.yt.Wb=this.Db,h.yt.jb=i;else{const p=this.Pb.get(n);h.Nb.set(n,{He:p||[],Fb:l})}return h}}function E_(a,n){a.se=n,a.kb.forEach(i=>{i.se=n})}function YP(a){const n={value:a.Vt[3],time:a.mb};return void 0!==a.Sb&&(n.customValues=a.Sb),n}function oa(a){const n=YP(a);return void 0!==a.O&&(n.color=a.O),n}function W3(a){const n=YP(a);return void 0!==a._t&&(n.lineColor=a._t),void 0!==a.Ts&&(n.topColor=a.Ts),void 0!==a.Ps&&(n.bottomColor=a.Ps),n}function Cg(a){const n=YP(a);return void 0!==a.Pe&&(n.topLineColor=a.Pe),void 0!==a.Re&&(n.bottomLineColor=a.Re),void 0!==a.Se&&(n.topFillColor1=a.Se),void 0!==a.ke&&(n.topFillColor2=a.ke),void 0!==a.ye&&(n.bottomFillColor1=a.ye),void 0!==a.Ce&&(n.bottomFillColor2=a.Ce),n}function XP(a){const n={open:a.Vt[0],high:a.Vt[1],low:a.Vt[2],close:a.Vt[3],time:a.mb};return void 0!==a.Sb&&(n.customValues=a.Sb),n}function i7(a){const n=XP(a);return void 0!==a.O&&(n.color=a.O),n}function o7(a){const n=XP(a),{O:i,Bt:l,$h:h}=a;return void 0!==i&&(n.color=i),void 0!==l&&(n.borderColor=l),void 0!==h&&(n.wickColor=h),n}function KP(a){return{Area:W3,Line:oa,Baseline:Cg,Histogram:oa,Bar:i7,Candlestick:o7,Custom:$3}[a]}function $3(a){const n=a.mb;return Object.assign(Object.assign({},a.He),{time:n})}const a7={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},s7={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},l7={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:b1},QP={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},u7={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0},q3={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:b1,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function c7(){return{width:0,height:0,autoSize:!1,layout:l7,crosshair:a7,grid:s7,overlayPriceScales:Object.assign({},QP),leftPriceScale:Object.assign(Object.assign({},QP),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},QP),{visible:!0}),timeScale:u7,watermark:q3,localization:{locale:mg?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class LK{constructor(n,i){this.Hb=n,this.$b=i}applyOptions(n){this.Hb.qt().Ic(this.$b,n)}options(){return this.Li().W()}width(){return dg(this.$b)?this.Hb.ib(this.$b):0}Li(){return Te(this.Hb.qt().zc(this.$b)).At}}function Z3(a,n,i){const l=F3(a,["time","originalTime"]),h=Object.assign({time:n},l);return void 0!==i&&(h.originalTime=i),h}const h7={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Y3{constructor(n){this.Bh=n}applyOptions(n){this.Bh.Nh(n)}options(){return this.Bh.W()}Ub(){return this.Bh}}class f7{constructor(n,i,l,h,p){this.qb=new tr,this.Es=n,this.Yb=i,this.Xb=l,this.N_=p,this.Kb=h}S(){this.qb.S()}priceFormatter(){return this.Es.ca()}priceToCoordinate(n){const i=this.Es.Pt();return null===i?null:this.Es.At().Ot(n,i.Vt)}coordinateToPrice(n){const i=this.Es.Pt();return null===i?null:this.Es.At().pn(n,i.Vt)}barsInLogicalRange(n){if(null===n)return null;const i=new gg(new T_(n.from,n.to)).iu(),l=this.Es.In();if(l.Fi())return null;const h=l.nl(i.Os(),1),p=l.nl(i.di(),-1),y=Te(l.Qh()),b=Te(l.Bn());if(null!==h&&null!==p&&h.se>p.se)return{barsBefore:n.from-y,barsAfter:b-n.to};const C={barsBefore:null===h||h.se===y?n.from-y:h.se-y,barsAfter:null===p||p.se===b?b-n.to:b-p.se};return null!==h&&null!==p&&(C.from=h.mb,C.to=p.mb),C}setData(n){this.Es.Xh(),this.Yb.Zb(this.Es,n),this.Gb("full")}update(n){this.Es.Xh(),this.Yb.Jb(this.Es,n),this.Gb("update")}dataByIndex(n,i){const l=this.Es.In().nl(n,i);return null===l?null:KP(this.seriesType())(l)}data(){const n=KP(this.seriesType());return this.Es.In().ie().map(i=>n(i))}subscribeDataChanged(n){this.qb.l(n)}unsubscribeDataChanged(n){this.qb.v(n)}setMarkers(n){const i=n.map(l=>Z3(l,this.N_.convertHorzItemToInternal(l.time),l.time));this.Es.Zl(i)}markers(){return this.Es.Gl().map(n=>Z3(n,n.originalTime,void 0))}applyOptions(n){this.Es.Nh(n)}options(){return Yu(this.Es.W())}priceScale(){return this.Xb.priceScale(this.Es.At().xa())}createPriceLine(n){const i=Mi(Yu(h7),n),l=this.Es.Jl(i);return new Y3(l)}removePriceLine(n){this.Es.Ql(n.Ub())}seriesType(){return this.Es.Xh()}attachPrimitive(n){this.Es.ba(n),n.attached&&n.attached({chart:this.Kb,series:this,requestUpdate:()=>this.Es.qt().$l()})}detachPrimitive(n){this.Es.wa(n),n.detached&&n.detached()}Gb(n){this.qb.M()&&this.qb.m(n)}}class Z1{constructor(n,i,l){this.Qb=new tr,this.uu=new tr,this.om=new tr,this.Ui=n,this.wl=n.yt(),this.Hm=i,this.wl.Xu().l(this.tw.bind(this)),this.wl.Ku().l(this.iw.bind(this)),this.Hm.wm().l(this.nw.bind(this)),this.N_=l}S(){this.wl.Xu().p(this),this.wl.Ku().p(this),this.Hm.wm().p(this),this.Qb.S(),this.uu.S(),this.om.S()}scrollPosition(){return this.wl.zu()}scrollToPosition(n,i){i?this.wl.Uu(n,1e3):this.Ui.Jn(n)}scrollToRealTime(){this.wl.$u()}getVisibleRange(){const n=this.wl.yu();return null===n?null:{from:n.from.originalTime,to:n.to.originalTime}}setVisibleRange(n){const i={from:this.N_.convertHorzItemToInternal(n.from),to:this.N_.convertHorzItemToInternal(n.to)},l=this.wl.Pu(i);this.Ui.hd(l)}getVisibleLogicalRange(){const n=this.wl.ku();return null===n?null:{from:n.Os(),to:n.di()}}setVisibleLogicalRange(n){Zu(n.from<=n.to,"The from index cannot be after the to index."),this.Ui.hd(n)}resetTimeScale(){this.Ui.Zn()}fitContent(){this.Ui.Ju()}logicalToCoordinate(n){const i=this.Ui.yt();return i.Fi()?null:i.Et(n)}coordinateToLogical(n){return this.wl.Fi()?null:this.wl.Au(n)}timeToCoordinate(n){const i=this.N_.convertHorzItemToInternal(n),l=this.wl.ya(i,!1);return null===l?null:this.wl.Et(l)}coordinateToTime(n){const i=this.Ui.yt(),l=i.Au(n),h=i.qi(l);return null===h?null:h.originalTime}width(){return this.Hm.Hp().width}height(){return this.Hm.Hp().height}subscribeVisibleTimeRangeChange(n){this.Qb.l(n)}unsubscribeVisibleTimeRangeChange(n){this.Qb.v(n)}subscribeVisibleLogicalRangeChange(n){this.uu.l(n)}unsubscribeVisibleLogicalRangeChange(n){this.uu.v(n)}subscribeSizeChange(n){this.om.l(n)}unsubscribeSizeChange(n){this.om.v(n)}applyOptions(n){this.wl.Nh(n)}options(){return Object.assign(Object.assign({},Yu(this.wl.W())),{barSpacing:this.wl.he()})}tw(){this.Qb.M()&&this.Qb.m(this.getVisibleRange())}iw(){this.uu.M()&&this.uu.m(this.getVisibleLogicalRange())}nw(n){this.om.m(n.width,n.height)}}function X3(a){return function(n){if(ia(n.handleScale)){const l=n.handleScale;n.handleScale={axisDoubleClickReset:{time:l,price:l},axisPressedMouseMove:{time:l,price:l},mouseWheel:l,pinch:l}}else if(void 0!==n.handleScale){const{axisPressedMouseMove:l,axisDoubleClickReset:h}=n.handleScale;ia(l)&&(n.handleScale.axisPressedMouseMove={time:l,price:l}),ia(h)&&(n.handleScale.axisDoubleClickReset={time:h,price:h})}const i=n.handleScroll;ia(i)&&(n.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})}(a),a}class d7{constructor(n,i,l){this.sw=new Map,this.ew=new Map,this.rw=new tr,this.hw=new tr,this.lw=new tr,this.aw=new j3(i);const h=void 0===l?Yu(c7()):Mi(Yu(c7()),X3(l));this.N_=i,this.Hb=new N3(n,h,i),this.Hb.Np().l(y=>{this.rw.M()&&this.rw.m(this.ow(y()))},this),this.Hb.Fp().l(y=>{this.hw.M()&&this.hw.m(this.ow(y()))},this),this.Hb.Fc().l(y=>{this.lw.M()&&this.lw.m(this.ow(y()))},this);const p=this.Hb.qt();this._w=new Z1(p,this.Hb.Km(),this.N_)}remove(){this.Hb.Np().p(this),this.Hb.Fp().p(this),this.Hb.Fc().p(this),this._w.S(),this.Hb.S(),this.sw.clear(),this.ew.clear(),this.rw.S(),this.hw.S(),this.lw.S(),this.aw.S()}resize(n,i,l){this.autoSizeActive()||this.Hb.Um(n,i,l)}addCustomSeries(n,i){const l=h_(n),h=Object.assign(Object.assign({},Oz),l.defaultOptions());return this.uw("Custom",h,i,l)}addAreaSeries(n){return this.uw("Area",n9,n)}addBaselineSeries(n){return this.uw("Baseline",r9,n)}addBarSeries(n){return this.uw("Bar",e9,n)}addCandlestickSeries(n={}){return void 0!==(i=n).borderColor&&(i.borderUpColor=i.borderColor,i.borderDownColor=i.borderColor),void 0!==i.wickColor&&(i.wickUpColor=i.wickColor,i.wickDownColor=i.wickColor),this.uw("Candlestick",J8,n);var i}addHistogramSeries(n){return this.uw("Histogram",i9,n)}addLineSeries(n){return this.uw("Line",t9,n)}removeSeries(n){const i=Bi(this.sw.get(n)),l=this.aw.rd(i);this.Hb.qt().rd(i),this.cw(l),this.sw.delete(n),this.ew.delete(i)}Zb(n,i){this.cw(this.aw.Ob(n,i))}Jb(n,i){this.cw(this.aw.zb(n,i))}subscribeClick(n){this.rw.l(n)}unsubscribeClick(n){this.rw.v(n)}subscribeCrosshairMove(n){this.lw.l(n)}unsubscribeCrosshairMove(n){this.lw.v(n)}subscribeDblClick(n){this.hw.l(n)}unsubscribeDblClick(n){this.hw.v(n)}priceScale(n){return new LK(this.Hb,n)}timeScale(){return this._w}applyOptions(n){this.Hb.Nh(X3(n))}options(){return this.Hb.W()}takeScreenshot(){return this.Hb.Qm()}autoSizeActive(){return this.Hb.eb()}chartElement(){return this.Hb.rb()}paneSize(){const n=this.Hb.lb();return{height:n.height,width:n.width}}setCrosshairPosition(n,i,l){const h=this.sw.get(l);if(void 0===h)return;const p=this.Hb.qt().cr(h);null!==p&&this.Hb.qt().Jc(n,i,p)}clearCrosshairPosition(){this.Hb.qt().Qc(!0)}uw(n,i,l={},h){!function xg(a){void 0!==a&&"custom"!==a.type&&void 0!==a.minMove&&void 0===a.precision&&(a.precision=function(i){if(i>=1)return 0;let l=0;for(;l<8;l++){const h=Math.round(i);if(Math.abs(h-i)<1e-8)return l;i*=10}return l}(a.minMove))}(l.priceFormat);const p=Mi(Yu(Nz),Yu(i),l),y=this.Hb.qt().sd(n,p,h),b=new f7(y,this,this,this,this.N_);return this.sw.set(b,y),this.ew.set(y,b),b}cw(n){const i=this.Hb.qt();i.td(n.yt.Ou,n.yt.Wb,n.yt.jb),n.Nb.forEach((l,h)=>h.it(l.He,l.Fb)),i.Bu()}dw(n){return Bi(this.ew.get(n))}ow(n){const i=new Map;n.gb.forEach((h,p)=>{const y=p.Xh(),b=KP(y)(h);if("Custom"!==y)Zu(void 0!==(C=b).open||void 0!==C.value);else{const C=p.Ma();Zu(!C||!1===C(b))}var C;i.set(this.dw(p),b)});const l=void 0===n.wb?void 0:this.dw(n.wb);return{time:n.mb,logical:n.se,point:n.bb,hoveredSeries:l,hoveredObjectId:n.Mb,seriesData:i,sourceEvent:n.xb}}}function K3(a,n){return function p7(a,n,i){let l;if(p_(a)){const p=document.getElementById(a);Zu(null!==p,`Cannot find element in DOM with id=${a}`),l=p}else l=a;const h=new d7(l,n,i);return n.setOptions(h.options()),h}(a,new E3,E3.Cd(n))}Object.assign(Object.assign({},Nz),Oz);const I_={now:()=>(I_.delegate||Date).now(),delegate:void 0};class Y1 extends Pn{constructor(n=1/0,i=1/0,l=I_){super(),this._bufferSize=n,this._windowTime=i,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,i)}next(n){const{isStopped:i,_buffer:l,_infiniteTimeWindow:h,_timestampProvider:p,_windowTime:y}=this;i||(l.push(n),!h&&l.push(p.now()+y)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(n),{_infiniteTimeWindow:l,_buffer:h}=this,p=h.slice();for(let y=0;y<p.length&&!n.closed;y+=l?1:2)n.next(p[y]);return this._checkFinalizedStatuses(n),i}_trimBuffer(){const{_bufferSize:n,_timestampProvider:i,_buffer:l,_infiniteTimeWindow:h}=this,p=(h?1:2)*n;if(n<1/0&&p<l.length&&l.splice(0,l.length-p),!h){const y=i.now();let b=0;for(let C=1;C<l.length&&l[C]<=y;C+=2)b=C;b&&l.splice(0,b+1)}}}function Q3(a,n,i,l,h,p,y){try{var b=a[p](y),C=b.value}catch(M){return void i(M)}b.done?n(C):Promise.resolve(C).then(l,h)}function en(a){return function(){var n=this,i=arguments;return new Promise(function(l,h){var p=a.apply(n,i);function y(C){Q3(p,l,h,y,b,"next",C)}function b(C){Q3(p,l,h,y,b,"throw",C)}y(void 0)})}}function ws(a,n){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(i[l]=a[l]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(l=Object.getOwnPropertySymbols(a);h<l.length;h++)n.indexOf(l[h])<0&&Object.prototype.propertyIsEnumerable.call(a,l[h])&&(i[l[h]]=a[l[h]])}return i}var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function t2(a,n){return a(n={exports:{}},n.exports),n.exports}var Hd=t2(function(a,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function l(){var h=this;this.locked=new Map,this.addToLocked=function(p,y){var b=h.locked.get(p);void 0===b?h.locked.set(p,void 0===y?[]:[y]):void 0!==y&&(b.unshift(y),h.locked.set(p,b))},this.isLocked=function(p){return h.locked.has(p)},this.lock=function(p){return new Promise(function(y,b){h.isLocked(p)?h.addToLocked(p,y):(h.addToLocked(p),y())})},this.unlock=function(p){var y=h.locked.get(p);if(void 0!==y&&0!==y.length){var b=y.pop();h.locked.set(p,y),void 0!==b&&setTimeout(b,0)}else h.locked.delete(p)}}return l.getInstance=function(){return void 0===l.instance&&(l.instance=new l),l.instance},l}();n.default=function(){return i.getInstance()}});e2(Hd);var y7=e2(t2(function(a,n){var i=zd&&zd.__awaiter||function(C,M,I,R){return new(I||(I=Promise))(function(V,G){function $(ie){try{ee(R.next(ie))}catch(ne){G(ne)}}function Z(ie){try{ee(R.throw(ie))}catch(ne){G(ne)}}function ee(ie){ie.done?V(ie.value):new I(function(ne){ne(ie.value)}).then($,Z)}ee((R=R.apply(C,M||[])).next())})},l=zd&&zd.__generator||function(C,M){var I,R,V,G,$={label:0,sent:function(){if(1&V[0])throw V[1];return V[1]},trys:[],ops:[]};return G={next:Z(0),throw:Z(1),return:Z(2)},"function"==typeof Symbol&&(G[Symbol.iterator]=function(){return this}),G;function Z(ee){return function(ie){return function(ne){if(I)throw new TypeError("Generator is already executing.");for(;$;)try{if(I=1,R&&(V=2&ne[0]?R.return:ne[0]?R.throw||((V=R.return)&&V.call(R),0):R.next)&&!(V=V.call(R,ne[1])).done)return V;switch(R=0,V&&(ne=[2&ne[0],V.value]),ne[0]){case 0:case 1:V=ne;break;case 4:return $.label++,{value:ne[1],done:!1};case 5:$.label++,R=ne[1],ne=[0];continue;case 7:ne=$.ops.pop(),$.trys.pop();continue;default:if(!((V=(V=$.trys).length>0&&V[V.length-1])||6!==ne[0]&&2!==ne[0])){$=0;continue}if(3===ne[0]&&(!V||ne[1]>V[0]&&ne[1]<V[3])){$.label=ne[1];break}if(6===ne[0]&&$.label<V[1]){$.label=V[1],V=ne;break}if(V&&$.label<V[2]){$.label=V[2],$.ops.push(ne);break}V[2]&&$.ops.pop(),$.trys.pop();continue}ne=M.call(C,$)}catch(ye){ne=[6,ye],R=0}finally{I=V=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ee,ie])}}};Object.defineProperty(n,"__esModule",{value:!0});var h="browser-tabs-lock-key";function p(C){return new Promise(function(M){return setTimeout(M,C)})}function y(C){for(var I="",R=0;R<C;R++)I+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(61*Math.random())];return I}var b=function(){function C(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+y(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===C.waiters&&(C.waiters=[])}return C.prototype.acquireLock=function(M,I){return void 0===I&&(I=5e3),i(this,void 0,void 0,function(){var R,V,G,$,Z,ee;return l(this,function(ie){switch(ie.label){case 0:R=Date.now()+y(4),V=Date.now()+I,G=h+"-"+M,$=window.localStorage,ie.label=1;case 1:return Date.now()<V?[4,p(30)]:[3,8];case 2:return ie.sent(),null!==$.getItem(G)?[3,5]:(Z=this.id+"-"+M+"-"+R,[4,p(Math.floor(25*Math.random()))]);case 3:return ie.sent(),$.setItem(G,JSON.stringify({id:this.id,iat:R,timeoutKey:Z,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,p(30)];case 4:return ie.sent(),null!==(ee=$.getItem(G))&&(ee=JSON.parse(ee)).id===this.id&&ee.iat===R?(this.acquiredIatSet.add(R),this.refreshLockWhileAcquired(G,R),[2,!0]):[3,7];case 5:return C.lockCorrector(),[4,this.waitForSomethingToChange(V)];case 6:ie.sent(),ie.label=7;case 7:return R=Date.now()+y(4),[3,1];case 8:return[2,!1]}})})},C.prototype.refreshLockWhileAcquired=function(M,I){return i(this,void 0,void 0,function(){var R=this;return l(this,function(V){return setTimeout(function(){return i(R,void 0,void 0,function(){var G,$;return l(this,function(Z){switch(Z.label){case 0:return[4,Hd.default().lock(I)];case 1:return Z.sent(),this.acquiredIatSet.has(I)?(G=window.localStorage,null===($=G.getItem(M))?(Hd.default().unlock(I),[2]):(($=JSON.parse($)).timeRefreshed=Date.now(),G.setItem(M,JSON.stringify($)),Hd.default().unlock(I),this.refreshLockWhileAcquired(M,I),[2])):(Hd.default().unlock(I),[2])}})})},1e3),[2]})})},C.prototype.waitForSomethingToChange=function(M){return i(this,void 0,void 0,function(){return l(this,function(I){switch(I.label){case 0:return[4,new Promise(function(R){var V=!1,G=Date.now(),$=!1;function Z(){if($||(window.removeEventListener("storage",Z),C.removeFromWaiting(Z),clearTimeout(ee),$=!0),!V){V=!0;var ie=50-(Date.now()-G);ie>0?setTimeout(R,ie):R()}}window.addEventListener("storage",Z),C.addToWaiting(Z);var ee=setTimeout(Z,Math.max(0,M-Date.now()))})];case 1:return I.sent(),[2]}})})},C.addToWaiting=function(M){this.removeFromWaiting(M),void 0!==C.waiters&&C.waiters.push(M)},C.removeFromWaiting=function(M){void 0!==C.waiters&&(C.waiters=C.waiters.filter(function(I){return I!==M}))},C.notifyWaiters=function(){void 0!==C.waiters&&C.waiters.slice().forEach(function(M){return M()})},C.prototype.releaseLock=function(M){return i(this,void 0,void 0,function(){return l(this,function(I){switch(I.label){case 0:return[4,this.releaseLock__private__(M)];case 1:return[2,I.sent()]}})})},C.prototype.releaseLock__private__=function(M){return i(this,void 0,void 0,function(){var I,R,V;return l(this,function(G){switch(G.label){case 0:return I=window.localStorage,null===(V=I.getItem(R=h+"-"+M))?[2]:(V=JSON.parse(V)).id!==this.id?[3,2]:[4,Hd.default().lock(V.iat)];case 1:G.sent(),this.acquiredIatSet.delete(V.iat),I.removeItem(R),Hd.default().unlock(V.iat),C.notifyWaiters(),G.label=2;case 2:return[2]}})})},C.lockCorrector=function(){for(var M=Date.now()-5e3,I=window.localStorage,R=Object.keys(I),V=!1,G=0;G<R.length;G++){var $=R[G];if($.includes(h)){var Z=I.getItem($);null!==Z&&(void 0===(Z=JSON.parse(Z)).timeRefreshed&&Z.timeAcquired<M||void 0!==Z.timeRefreshed&&Z.timeRefreshed<M)&&(I.removeItem($),V=!0)}}V&&C.notifyWaiters()},C.waiters=void 0,C}();n.default=b}));const n2={timeoutInSeconds:60},J3={name:"auth0-spa-js",version:"2.1.2"},e5=()=>Date.now();class zi extends Error{constructor(n,i){super(i),this.error=n,this.error_description=i,Object.setPrototypeOf(this,zi.prototype)}static fromPayload({error:n,error_description:i}){return new zi(n,i)}}class r2 extends zi{constructor(n,i,l,h=null){super(n,i),this.state=l,this.appState=h,Object.setPrototypeOf(this,r2.prototype)}}class Gd extends zi{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Gd.prototype)}}class X1 extends Gd{constructor(n){super(),this.popup=n,Object.setPrototypeOf(this,X1.prototype)}}class i2 extends zi{constructor(n){super("cancelled","Popup closed"),this.popup=n,Object.setPrototypeOf(this,i2.prototype)}}class K1 extends zi{constructor(n,i,l){super(n,i),this.mfa_token=l,Object.setPrototypeOf(this,K1.prototype)}}class P_ extends zi{constructor(n,i){super("missing_refresh_token",`Missing Refresh Token (audience: '${Q1(n,["default"])}', scope: '${Q1(i)}')`),this.audience=n,this.scope=i,Object.setPrototypeOf(this,P_.prototype)}}function Q1(a,n=[]){return a&&!n.includes(a)?a:""}const L_=()=>window.crypto,J1=()=>{let n="";return Array.from(L_().getRandomValues(new Uint8Array(43))).forEach(i=>n+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~."[i%66]),n},o2=a=>btoa(a),a2=a=>{var l,{clientId:n}=a,i=ws(a,["clientId"]);return new URLSearchParams((l=Object.assign({client_id:n},i),Object.keys(l).filter(h=>void 0!==l[h]).reduce((h,p)=>Object.assign(Object.assign({},h),{[p]:l[p]}),{}))).toString()},s2=a=>{return n=a.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(atob(n).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));var n},l2=function(){var a=en(function*(n,i){const l=yield fetch(n,i);return{ok:l.ok,json:yield l.json()}});return function(i,l){return a.apply(this,arguments)}}(),u2=function(){var a=en(function*(n,i,l){const h=new AbortController;let p;return i.signal=h.signal,Promise.race([l2(n,i),new Promise((y,b)=>{p=setTimeout(()=>{h.abort(),b(new Error("Timeout when executing 'fetch'"))},l)})]).finally(()=>{clearTimeout(p)})});return function(i,l,h){return a.apply(this,arguments)}}(),_7=function(){var a=en(function*(n,i,l,h,p,y,b){return C={auth:{audience:i,scope:l},timeout:p,fetchUrl:n,fetchOptions:h,useFormData:b},M=y,new Promise(function(I,R){const V=new MessageChannel;V.port1.onmessage=function(G){G.data.error?R(new Error(G.data.error)):I(G.data),V.port1.close()},M.postMessage(C,[V.port2])});var C,M});return function(i,l,h,p,y,b,C){return a.apply(this,arguments)}}(),kK=function(){var a=en(function*(n,i,l,h,p,y,b=1e4){return p?_7(n,i,l,h,b,p,y):u2(n,h,b)});return function(i,l,h,p,y,b){return a.apply(this,arguments)}}();function c2(){return c2=en(function*(a,n){var{baseUrl:i,timeout:l,audience:h,scope:p,auth0Client:y,useFormData:b}=a,C=ws(a,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const M=b?a2(C):JSON.stringify(C);return yield(I=en(function*(R,V,G,$,Z,ee,ie){let ne,ye=null;for(let In=0;In<3;In++)try{ne=yield kK(R,G,$,Z,ee,ie,V),ye=null;break}catch(vi){ye=vi}if(ye)throw ye;const we=ne.json,{error:je,error_description:Dt}=we,It=ws(we,["error","error_description"]),{ok:Ht}=ne;if(!Ht){const In=Dt||`HTTP error. Unable to fetch ${R}`;throw"mfa_required"===je?new K1(je,In,It.mfa_token):"missing_refresh_token"===je?new P_(G,$):new zi(je||"request_error",In)}return It}),function(R,V,G,$,Z,ee,ie){return I.apply(this,arguments)})(`${i}/oauth/token`,l,h||"default",p,{method:"POST",body:M,headers:{"Content-Type":b?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(y||J3))}},n,b);var I}),c2.apply(this,arguments)}const Dg=(...a)=>{return(n=a.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(n))).join(" ");var n};class Tl{constructor(n,i="@@auth0spajs@@",l){this.prefix=i,this.suffix=l,this.clientId=n.clientId,this.scope=n.scope,this.audience=n.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(n){const[i,l,h,p]=n.split("::");return new Tl({clientId:l,scope:p,audience:h},i)}static fromCacheEntry(n){const{scope:i,audience:l,client_id:h}=n;return new Tl({scope:i,audience:l,clientId:h})}}class b7{set(n,i){localStorage.setItem(n,JSON.stringify(i))}get(n){const i=window.localStorage.getItem(n);if(i)try{return JSON.parse(i)}catch{return}}remove(n){localStorage.removeItem(n)}allKeys(){return Object.keys(window.localStorage).filter(n=>n.startsWith("@@auth0spajs@@"))}}class t5{constructor(){this.enclosedCache=function(){let n={};return{set(i,l){n[i]=l},get(i){const l=n[i];if(l)return l},remove(i){delete n[i]},allKeys:()=>Object.keys(n)}}()}}class S7{constructor(n,i,l){this.cache=n,this.keyManifest=i,this.nowProvider=l||e5}setIdToken(n,i,l){var h=this;return en(function*(){var p;const y=h.getIdTokenCacheKey(n);yield h.cache.set(y,{id_token:i,decodedToken:l}),yield null===(p=h.keyManifest)||void 0===p?void 0:p.add(y)})()}getIdToken(n){var i=this;return en(function*(){const l=yield i.cache.get(i.getIdTokenCacheKey(n.clientId));if(!l&&n.scope&&n.audience){const h=yield i.get(n);return h&&h.id_token&&h.decodedToken?{id_token:h.id_token,decodedToken:h.decodedToken}:void 0}if(l)return{id_token:l.id_token,decodedToken:l.decodedToken}})()}get(n,i=0){var l=this;return en(function*(){var h;let p=yield l.cache.get(n.toKey());if(!p){const C=yield l.getCacheKeys();if(!C)return;const M=l.matchExistingCacheKey(n,C);M&&(p=yield l.cache.get(M))}if(!p)return;const y=yield l.nowProvider(),b=Math.floor(y/1e3);return p.expiresAt-i<b?p.body.refresh_token?(p.body={refresh_token:p.body.refresh_token},yield l.cache.set(n.toKey(),p),p.body):(yield l.cache.remove(n.toKey()),void(yield null===(h=l.keyManifest)||void 0===h?void 0:h.remove(n.toKey()))):p.body})()}set(n){var i=this;return en(function*(){var l;const h=new Tl({clientId:n.client_id,scope:n.scope,audience:n.audience}),p=yield i.wrapCacheEntry(n);yield i.cache.set(h.toKey(),p),yield null===(l=i.keyManifest)||void 0===l?void 0:l.add(h.toKey())})()}clear(n){var i=this;return en(function*(){var l;const h=yield i.getCacheKeys();h&&(yield h.filter(p=>!n||p.includes(n)).reduce(function(){var p=en(function*(y,b){yield y,yield i.cache.remove(b)});return function(y,b){return p.apply(this,arguments)}}(),Promise.resolve()),yield null===(l=i.keyManifest)||void 0===l?void 0:l.clear())})()}wrapCacheEntry(n){var i=this;return en(function*(){const l=yield i.nowProvider();return{body:n,expiresAt:Math.floor(l/1e3)+n.expires_in}})()}getCacheKeys(){var n=this;return en(function*(){var i;return n.keyManifest?null===(i=yield n.keyManifest.get())||void 0===i?void 0:i.keys:n.cache.allKeys?n.cache.allKeys():void 0})()}getIdTokenCacheKey(n){return new Tl({clientId:n},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(n,i){return i.filter(l=>{var h;const p=Tl.fromKey(l),y=new Set(p.scope&&p.scope.split(" ")),b=(null===(h=n.scope)||void 0===h?void 0:h.split(" "))||[],C=p.scope&&b.reduce((M,I)=>M&&y.has(I),!0);return"@@auth0spajs@@"===p.prefix&&p.clientId===n.clientId&&p.audience===n.audience&&C})[0]}}class C7{constructor(n,i,l){this.storage=n,this.clientId=i,this.cookieDomain=l,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(n){this.storage.save(this.storageKey,n,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const R_=a=>"number"==typeof a,n5=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var Eh=t2(function(a,n){var i=zd&&zd.__assign||function(){return i=Object.assign||function(C){for(var M,I=1,R=arguments.length;I<R;I++)for(var V in M=arguments[I])Object.prototype.hasOwnProperty.call(M,V)&&(C[V]=M[V]);return C},i.apply(this,arguments)};function l(C,M){if(!M)return"";var I="; "+C;return!0===M?I:I+"="+M}function h(C,M,I){return encodeURIComponent(C).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(M).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(R){if("number"==typeof R.expires){var V=new Date;V.setMilliseconds(V.getMilliseconds()+864e5*R.expires),R.expires=V}return l("Expires",R.expires?R.expires.toUTCString():"")+l("Domain",R.domain)+l("Path",R.path)+l("Secure",R.secure)+l("SameSite",R.sameSite)}(I)}function p(C){for(var M={},I=C?C.split("; "):[],R=/(%[\dA-F]{2})+/gi,V=0;V<I.length;V++){var G=I[V].split("="),$=G.slice(1).join("=");'"'===$.charAt(0)&&($=$.slice(1,-1));try{M[G[0].replace(R,decodeURIComponent)]=$.replace(R,decodeURIComponent)}catch{}}return M}function y(){return p(document.cookie)}function b(C,M,I){document.cookie=h(C,M,i({path:"/"},I))}n.__esModule=!0,n.encode=h,n.parse=p,n.getAll=y,n.get=function(C){return y()[C]},n.set=b,n.remove=function(C,M){b(C,"",i(i({},M),{expires:-1}))}});e2(Eh);var x7=Eh.get,h2=Eh.set,i5=Eh.remove;const Tg={get(a){const n=x7(a);if(void 0!==n)return JSON.parse(n)},save(a,n,i){let l={};"https:"===window.location.protocol&&(l={secure:!0,sameSite:"none"}),i?.daysUntilExpire&&(l.expires=i.daysUntilExpire),i?.cookieDomain&&(l.domain=i.cookieDomain),h2(a,JSON.stringify(n),l)},remove(a,n){let i={};n?.cookieDomain&&(i.domain=n.cookieDomain),i5(a,i)}},f2={get:a=>Tg.get(a)||Tg.get(`_legacy_${a}`),save(a,n,i){let l={};"https:"===window.location.protocol&&(l={secure:!0}),i?.daysUntilExpire&&(l.expires=i.daysUntilExpire),i?.cookieDomain&&(l.domain=i.cookieDomain),h2(`_legacy_${a}`,JSON.stringify(n),l),Tg.save(a,n,i)},remove(a,n){let i={};n?.cookieDomain&&(i.domain=n.cookieDomain),i5(a,i),Tg.remove(a,n),Tg.remove(`_legacy_${a}`,n)}},D7={get(a){if(typeof sessionStorage>"u")return;const n=sessionStorage.getItem(a);return null!=n?JSON.parse(n):void 0},save(a,n){sessionStorage.setItem(a,JSON.stringify(n))},remove(a){sessionStorage.removeItem(a)}};var p2,M7=function(a){return p2=p2||function T7(a,n,i){var l=void 0===n?null:n,h=function(C,M){var I=atob(C);if(M){for(var R=new Uint8Array(I.length),V=0,G=I.length;V<G;++V)R[V]=I.charCodeAt(V);return String.fromCharCode.apply(null,new Uint16Array(R.buffer))}return I}(a,void 0!==i&&i),p=h.indexOf("\n",10)+1,y=h.substring(p)+(l?"//# sourceMappingURL="+l:""),b=new Blob([y],{type:"application/javascript"});return URL.createObjectURL(b)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9Y29uc3Qgcz1lPT57dmFye2NsaWVudElkOnR9PWUscj1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgcyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHMpJiZ0LmluZGV4T2Yocyk8MCYmKHJbc109ZVtzXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHMubGVuZ3RoO28rKyl0LmluZGV4T2Yoc1tvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsc1tvXSkmJihyW3Nbb11dPWVbc1tvXV0pfXJldHVybiByfShlLFsiY2xpZW50SWQiXSk7cmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKGU9Pk9iamVjdC5rZXlzKGUpLmZpbHRlcigodD0+dm9pZCAwIT09ZVt0XSkpLnJlZHVjZSgoKHQscik9Pk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7W3JdOmVbcl19KSkse30pKShPYmplY3QuYXNzaWduKHtjbGllbnRfaWQ6dH0scikpKS50b1N0cmluZygpfTtsZXQgbz17fTtjb25zdCBuPShlLHQpPT5gJHtlfXwke3R9YDthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoYXN5bmMoe2RhdGE6e3RpbWVvdXQ6ZSxhdXRoOnIsZmV0Y2hVcmw6aSxmZXRjaE9wdGlvbnM6Yyx1c2VGb3JtRGF0YTphfSxwb3J0czpbZl19KT0+e2xldCBwO2NvbnN0e2F1ZGllbmNlOmwsc2NvcGU6dX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2NvbnN0IGU9KChlLHQpPT5vW24oZSx0KV0pKGwsdSk7aWYoIWUpdGhyb3cgbmV3IHQobCx1KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjplfSkpfWxldCBkLGc7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGQ9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1kLnNpZ25hbCk7dHJ5e2c9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaD1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaCkpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIGYucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFnKXJldHVybiBkJiZkLmFib3J0KCksdm9pZCBmLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO3A9YXdhaXQgZy5qc29uKCkscC5yZWZyZXNoX3Rva2VuPygoKGUsdCxyKT0+e29bbih0LHIpXT1lfSkocC5yZWZyZXNoX3Rva2VuLGwsdSksZGVsZXRlIHAucmVmcmVzaF90b2tlbik6KChlLHQpPT57ZGVsZXRlIG9bbihlLHQpXX0pKGwsdSksZi5wb3N0TWVzc2FnZSh7b2s6Zy5vayxqc29uOnB9KX1jYXRjaChlKXtmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX19KX12YXIgaH0pKX0oKTsKCg==",null,!1),new Worker(p2,a)};const ex={};class A7{constructor(n,i){this.cache=n,this.clientId=i,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(n){var i=this;return en(function*(){var l;const h=new Set((null===(l=yield i.cache.get(i.manifestKey))||void 0===l?void 0:l.keys)||[]);h.add(n),yield i.cache.set(i.manifestKey,{keys:[...h]})})()}remove(n){var i=this;return en(function*(){const l=yield i.cache.get(i.manifestKey);if(l){const h=new Set(l.keys);return h.delete(n),h.size>0?yield i.cache.set(i.manifestKey,{keys:[...h]}):yield i.cache.remove(i.manifestKey)}})()}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(n){return`@@auth0spajs@@::${n}`}}const E7={memory:()=>(new t5).enclosedCache,localstorage:()=>new b7},s5=a=>E7[a],Qu=a=>{const{openUrl:n,onRedirect:i}=a,l=ws(a,["openUrl","onRedirect"]);return Object.assign(Object.assign({},l),{openUrl:!1===n||n?n:i})},tx=new y7;class v2{constructor(n){var i=this;let l,h;if(this.userCache=(new t5).enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=en(function*(){yield tx.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",i._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),n),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),n.authorizationParams)}),typeof window<"u"&&(()=>{if(!L_())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===L_().subtle)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),n.cache&&n.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),n.cache)h=n.cache;else{if(l=n.cacheLocation||"memory",!s5(l))throw new Error(`Invalid cache location "${l}"`);h=s5(l)()}this.httpTimeoutMs=n.httpTimeoutInSeconds?1e3*n.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===n.legacySameSiteCookie?Tg:f2,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(b=>`auth0.${this.options.clientId}.is.authenticated`)(),this.sessionCheckExpiryDays=n.sessionCheckExpiryDays||1;const p=n.useCookiesForTransactions?this.cookieStorage:D7;var y,b,C;this.scope=Dg("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new C7(p,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||e5,this.cacheManager=new S7(h,h.allKeys?void 0:new A7(h,this.options.clientId),this.nowProvider),this.domainUrl=/^https?:\/\//.test(y=this.options.domain)?y:`https://${y}`,this.tokenIssuer=(C=this.domainUrl,(b=this.options.issuer)?b.startsWith("https://")?b:`https://${b}/`:`${C}/`),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&"memory"===l&&(this.worker=new M7)}_url(n){const i=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||J3)));return`${this.domainUrl}${n}&auth0Client=${i}`}_authorizeUrl(n){return this._url(`/authorize?${a2(n)}`)}_verifyIdToken(n,i,l){var h=this;return en(function*(){const p=yield h.nowProvider();return(a=>{if(!a.id_token)throw new Error("ID token is required but missing");const n=(p=>{const y=p.split("."),[b,C,M]=y;if(3!==y.length||!b||!C||!M)throw new Error("ID token could not be decoded");const I=JSON.parse(s2(C)),R={__raw:p},V={};return Object.keys(I).forEach(G=>{R[G]=I[G],n5.includes(G)||(V[G]=I[G])}),{encoded:{header:b,payload:C,signature:M},header:JSON.parse(s2(b)),claims:R,user:V}})(a.id_token);if(!n.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(n.claims.iss!==a.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${a.iss}", found "${n.claims.iss}"`);if(!n.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==n.header.alg)throw new Error(`Signature algorithm of "${n.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!n.claims.aud||"string"!=typeof n.claims.aud&&!Array.isArray(n.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(n.claims.aud)){if(!n.claims.aud.includes(a.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${a.aud}" but was not one of "${n.claims.aud.join(", ")}"`);if(n.claims.aud.length>1){if(!n.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(n.claims.azp!==a.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${a.aud}", found "${n.claims.azp}"`)}}else if(n.claims.aud!==a.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${a.aud}" but found "${n.claims.aud}"`);if(a.nonce){if(!n.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(n.claims.nonce!==a.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${a.nonce}", found "${n.claims.nonce}"`)}if(a.max_age&&!R_(n.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(null==n.claims.exp||!R_(n.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!R_(n.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const i=a.leeway||60,l=new Date(a.now||Date.now()),h=new Date(0);if(h.setUTCSeconds(n.claims.exp+i),l>h)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${l}) is after expiration time (${h})`);if(null!=n.claims.nbf&&R_(n.claims.nbf)){const p=new Date(0);if(p.setUTCSeconds(n.claims.nbf-i),l<p)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${l}) is before ${p}`)}if(null!=n.claims.auth_time&&R_(n.claims.auth_time)){const p=new Date(0);if(p.setUTCSeconds(parseInt(n.claims.auth_time)+a.max_age+i),l>p)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${l}) is after last auth at ${p}`)}if(a.organization){const p=a.organization.trim();if(p.startsWith("org_")){const y=p;if(!n.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(y!==n.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${y}", found "${n.claims.org_id}"`)}else{const y=p.toLowerCase();if(!n.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(y!==n.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${y}", found "${n.claims.org_name}"`)}}return n})({iss:h.tokenIssuer,aud:h.options.clientId,id_token:n,nonce:i,organization:l,leeway:h.options.leeway,max_age:(y=h.options.authorizationParams.max_age,"string"!=typeof y?y:parseInt(y,10)||void 0),now:p});var y})()}_processOrgHint(n){n?this.cookieStorage.save(this.orgHintCookieName,n,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(n,i,l){var h=this;return en(function*(){const p=o2(J1()),y=o2(J1()),b=J1(),C=(R=>{const V=new Uint8Array(R);return(G=>{const $={"+":"-","/":"_","=":""};return G.replace(/[+/=]/g,Z=>$[Z])})(window.btoa(String.fromCharCode(...Array.from(V))))})(yield(R=en(function*(V){return yield L_().subtle.digest({name:"SHA-256"},(new TextEncoder).encode(V))}),function(V){return R.apply(this,arguments)})(b)),M=((R,V,G,$,Z,ee,ie,ne)=>Object.assign(Object.assign(Object.assign({client_id:R.clientId},R.authorizationParams),G),{scope:Dg(V,G.scope),response_type:"code",response_mode:ne||"query",state:$,nonce:Z,redirect_uri:ie||R.authorizationParams.redirect_uri,code_challenge:ee,code_challenge_method:"S256"}))(h.options,h.scope,n,p,y,C,n.redirect_uri||h.options.authorizationParams.redirect_uri||l,i?.response_mode),I=h._authorizeUrl(M);var R;return{nonce:y,code_verifier:b,scope:M.scope,audience:M.audience||"default",redirect_uri:M.redirect_uri,state:p,url:I}})()}loginWithPopup(n,i){var l=this;return en(function*(){var h;if(n=n||{},!(i=i||{}).popup&&(i.popup=(C=>{const M=window.screenX+(window.innerWidth-400)/2,I=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup",`left=${M},top=${I},width=400,height=600,resizable,scrollbars=yes,status=1`)})(),!i.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const p=yield l._prepareAuthorizeUrl(n.authorizationParams||{},{response_mode:"web_message"},window.location.origin);i.popup.location.href=p.url;const y=yield(C=Object.assign(Object.assign({},i),{timeoutInSeconds:i.timeoutInSeconds||l.options.authorizeTimeoutInSeconds||60}),new Promise((M,I)=>{let R;const V=setInterval(()=>{C.popup&&C.popup.closed&&(clearInterval(V),clearTimeout(G),window.removeEventListener("message",R,!1),I(new i2(C.popup)))},1e3),G=setTimeout(()=>{clearInterval(V),I(new X1(C.popup)),window.removeEventListener("message",R,!1)},1e3*(C.timeoutInSeconds||60));R=function($){if($.data&&"authorization_response"===$.data.type){if(clearTimeout(G),clearInterval(V),window.removeEventListener("message",R,!1),C.popup.close(),$.data.response.error)return I(zi.fromPayload($.data.response));M($.data.response)}},window.addEventListener("message",R)}));var C;if(p.state!==y.state)throw new zi("state_mismatch","Invalid state");const b=(null===(h=n.authorizationParams)||void 0===h?void 0:h.organization)||l.options.authorizationParams.organization;yield l._requestToken({audience:p.audience,scope:p.scope,code_verifier:p.code_verifier,grant_type:"authorization_code",code:y.code,redirect_uri:p.redirect_uri},{nonceIn:p.nonce,organization:b})})()}getUser(){var n=this;return en(function*(){var i;const l=yield n._getIdTokenFromCache();return null===(i=l?.decodedToken)||void 0===i?void 0:i.user})()}getIdTokenClaims(){var n=this;return en(function*(){var i;const l=yield n._getIdTokenFromCache();return null===(i=l?.decodedToken)||void 0===i?void 0:i.claims})()}loginWithRedirect(n={}){var i=this;return en(function*(){var l;const h=Qu(n),{openUrl:p,fragment:y,appState:b}=h,C=ws(h,["openUrl","fragment","appState"]),M=(null===(l=C.authorizationParams)||void 0===l?void 0:l.organization)||i.options.authorizationParams.organization,I=yield i._prepareAuthorizeUrl(C.authorizationParams||{}),{url:R}=I,V=ws(I,["url"]);i.transactionManager.create(Object.assign(Object.assign(Object.assign({},V),{appState:b}),M&&{organization:M}));const G=y?`${R}#${y}`:R;p?yield p(G):window.location.assign(G)})()}handleRedirectCallback(n=window.location.href){var i=this;return en(function*(){const l=n.split("?").slice(1);if(0===l.length)throw new Error("There are no query params available for parsing.");const{state:h,code:p,error:y,error_description:b}=(V=>{V.indexOf("#")>-1&&(V=V.substring(0,V.indexOf("#")));const G=new URLSearchParams(V);return{state:G.get("state"),code:G.get("code")||void 0,error:G.get("error")||void 0,error_description:G.get("error_description")||void 0}})(l.join("")),C=i.transactionManager.get();if(!C)throw new zi("missing_transaction","Invalid state");if(i.transactionManager.remove(),y)throw new r2(y,b||y,h,C.appState);if(!C.code_verifier||C.state&&C.state!==h)throw new zi("state_mismatch","Invalid state");const M=C.organization,I=C.nonce,R=C.redirect_uri;return yield i._requestToken(Object.assign({audience:C.audience,scope:C.scope,code_verifier:C.code_verifier,grant_type:"authorization_code",code:p},R?{redirect_uri:R}:{}),{nonceIn:I,organization:M}),{appState:C.appState}})()}checkSession(n){var i=this;return en(function*(){if(!i.cookieStorage.get(i.isAuthenticatedCookieName)){if(!i.cookieStorage.get("auth0.is.authenticated"))return;i.cookieStorage.save(i.isAuthenticatedCookieName,!0,{daysUntilExpire:i.sessionCheckExpiryDays,cookieDomain:i.options.cookieDomain}),i.cookieStorage.remove("auth0.is.authenticated")}try{yield i.getTokenSilently(n)}catch{}})()}getTokenSilently(n={}){var i=this;return en(function*(){var l;const h=Object.assign(Object.assign({cacheMode:"on"},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},i.options.authorizationParams),n.authorizationParams),{scope:Dg(i.scope,null===(l=n.authorizationParams)||void 0===l?void 0:l.scope)})}),p=yield((y,b)=>{let C=ex[b];return C||(C=i._getTokenSilently(h).finally(()=>{delete ex[b],C=null}),ex[b]=C),C})(0,`${i.options.clientId}::${h.authorizationParams.audience}::${h.authorizationParams.scope}`);return n.detailedResponse?p:p?.access_token})()}_getTokenSilently(n){var i=this;return en(function*(){const{cacheMode:l}=n,h=ws(n,["cacheMode"]);if("off"!==l){const p=yield i._getEntryFromCache({scope:h.authorizationParams.scope,audience:h.authorizationParams.audience||"default",clientId:i.options.clientId});if(p)return p}if("cache-only"!==l){if(!(yield(p=en(function*(y,b=3){for(let C=0;C<b;C++)if(yield y())return!0;return!1}),function(y){return p.apply(this,arguments)})(()=>tx.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new Gd;try{if(window.addEventListener("pagehide",i._releaseLockOnPageHide),"off"!==l){const I=yield i._getEntryFromCache({scope:h.authorizationParams.scope,audience:h.authorizationParams.audience||"default",clientId:i.options.clientId});if(I)return I}const p=i.options.useRefreshTokens?yield i._getTokenUsingRefreshToken(h):yield i._getTokenFromIFrame(h),{id_token:y,access_token:b,oauthTokenScope:C,expires_in:M}=p;return Object.assign(Object.assign({id_token:y,access_token:b},C?{scope:C}:null),{expires_in:M})}finally{yield tx.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",i._releaseLockOnPageHide)}}var p})()}getTokenWithPopup(n={},i={}){var l=this;return en(function*(){var h;const p=Object.assign(Object.assign({},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},l.options.authorizationParams),n.authorizationParams),{scope:Dg(l.scope,null===(h=n.authorizationParams)||void 0===h?void 0:h.scope)})});return i=Object.assign(Object.assign({},n2),i),yield l.loginWithPopup(p,i),(yield l.cacheManager.get(new Tl({scope:p.authorizationParams.scope,audience:p.authorizationParams.audience||"default",clientId:l.options.clientId}))).access_token})()}isAuthenticated(){var n=this;return en(function*(){return!!(yield n.getUser())})()}_buildLogoutUrl(n){null!==n.clientId?n.clientId=n.clientId||this.options.clientId:delete n.clientId;const i=n.logoutParams||{},{federated:l}=i,h=ws(i,["federated"]),p=l?"&federated":"";return this._url(`/v2/logout?${a2(Object.assign({clientId:n.clientId},h))}`)+p}logout(n={}){var i=this;return en(function*(){const l=Qu(n),{openUrl:h}=l,p=ws(l,["openUrl"]);null===n.clientId?yield i.cacheManager.clear():yield i.cacheManager.clear(n.clientId||i.options.clientId),i.cookieStorage.remove(i.orgHintCookieName,{cookieDomain:i.options.cookieDomain}),i.cookieStorage.remove(i.isAuthenticatedCookieName,{cookieDomain:i.options.cookieDomain}),i.userCache.remove("@@user@@");const y=i._buildLogoutUrl(p);h?yield h(y):!1!==h&&window.location.assign(y)})()}_getTokenFromIFrame(n){var i=this;return en(function*(){const l=Object.assign(Object.assign({},n.authorizationParams),{prompt:"none"}),h=i.cookieStorage.get(i.orgHintCookieName);h&&!l.organization&&(l.organization=h);const{url:p,state:y,nonce:b,code_verifier:C,redirect_uri:M,scope:I,audience:R}=yield i._prepareAuthorizeUrl(l,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new zi("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const V=n.timeoutInSeconds||i.options.authorizeTimeoutInSeconds,G=yield((Z,ee,ie=60)=>new Promise((ne,ye)=>{const we=window.document.createElement("iframe");we.setAttribute("width","0"),we.setAttribute("height","0"),we.style.display="none";const je=()=>{window.document.body.contains(we)&&(window.document.body.removeChild(we),window.removeEventListener("message",Dt,!1))};let Dt;const It=setTimeout(()=>{ye(new Gd),je()},1e3*ie);Dt=function(Ht){if(Ht.origin!=ee||!Ht.data||"authorization_response"!==Ht.data.type)return;const In=Ht.source;In&&In.close(),Ht.data.response.error?ye(zi.fromPayload(Ht.data.response)):ne(Ht.data.response),clearTimeout(It),window.removeEventListener("message",Dt,!1),setTimeout(je,2e3)},window.addEventListener("message",Dt,!1),window.document.body.appendChild(we),we.setAttribute("src",Z)}))(p,i.domainUrl,V);if(y!==G.state)throw new zi("state_mismatch","Invalid state");const $=yield i._requestToken(Object.assign(Object.assign({},n.authorizationParams),{code_verifier:C,code:G.code,grant_type:"authorization_code",redirect_uri:M,timeout:n.authorizationParams.timeout||i.httpTimeoutMs}),{nonceIn:b,organization:l.organization});return Object.assign(Object.assign({},$),{scope:I,oauthTokenScope:$.scope,audience:R})}catch(V){throw"login_required"===V.error&&i.logout({openUrl:!1}),V}})()}_getTokenUsingRefreshToken(n){var i=this;return en(function*(){const l=yield i.cacheManager.get(new Tl({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:i.options.clientId}));if(!(l&&l.refresh_token||i.worker)){if(i.options.useRefreshTokensFallback)return yield i._getTokenFromIFrame(n);throw new P_(n.authorizationParams.audience||"default",n.authorizationParams.scope)}const h=n.authorizationParams.redirect_uri||i.options.authorizationParams.redirect_uri||window.location.origin,p="number"==typeof n.timeoutInSeconds?1e3*n.timeoutInSeconds:null;try{const y=yield i._requestToken(Object.assign(Object.assign(Object.assign({},n.authorizationParams),{grant_type:"refresh_token",refresh_token:l&&l.refresh_token,redirect_uri:h}),p&&{timeout:p}));return Object.assign(Object.assign({},y),{scope:n.authorizationParams.scope,oauthTokenScope:y.scope,audience:n.authorizationParams.audience||"default"})}catch(y){if((y.message.indexOf("Missing Refresh Token")>-1||y.message&&y.message.indexOf("invalid refresh token")>-1)&&i.options.useRefreshTokensFallback)return yield i._getTokenFromIFrame(n);throw y}})()}_saveEntryInCache(n){var i=this;return en(function*(){const{id_token:l,decodedToken:h}=n,p=ws(n,["id_token","decodedToken"]);i.userCache.set("@@user@@",{id_token:l,decodedToken:h}),yield i.cacheManager.setIdToken(i.options.clientId,n.id_token,n.decodedToken),yield i.cacheManager.set(p)})()}_getIdTokenFromCache(){var n=this;return en(function*(){const i=n.options.authorizationParams.audience||"default",l=yield n.cacheManager.getIdToken(new Tl({clientId:n.options.clientId,audience:i,scope:n.scope})),h=n.userCache.get("@@user@@");return l&&l.id_token===h?.id_token?h:(n.userCache.set("@@user@@",l),l)})()}_getEntryFromCache({scope:n,audience:i,clientId:l}){var h=this;return en(function*(){const p=yield h.cacheManager.get(new Tl({scope:n,audience:i,clientId:l}),60);if(p&&p.access_token){const{access_token:y,oauthTokenScope:b,expires_in:C}=p,M=yield h._getIdTokenFromCache();return M&&Object.assign(Object.assign({id_token:M.id_token,access_token:y},b?{scope:b}:null),{expires_in:C})}})()}_requestToken(n,i){var l=this;return en(function*(){const{nonceIn:h,organization:p}=i||{},y=yield function w7(a,n){return c2.apply(this,arguments)}(Object.assign({baseUrl:l.domainUrl,client_id:l.options.clientId,auth0Client:l.options.auth0Client,useFormData:l.options.useFormData,timeout:l.httpTimeoutMs},n),l.worker),b=yield l._verifyIdToken(y.id_token,h,p);return yield l._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},y),{decodedToken:b,scope:n.scope,audience:n.audience||"default"}),y.scope?{oauthTokenScope:y.scope}:null),{client_id:l.options.clientId})),l.cookieStorage.save(l.isAuthenticatedCookieName,!0,{daysUntilExpire:l.sessionCheckExpiryDays,cookieDomain:l.options.cookieDomain}),l._processOrgHint(p||b.claims.org_id),Object.assign(Object.assign({},y),{decodedToken:b})})()}}class m2{static createClient(n){const i=n.get();if(!i)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new v2({...i,auth0Client:{name:"@auth0/auth0-angular",version:"2.2.1",env:{"angular/core":fi.full}}})}}const nx=new ke("auth0.client"),y2=new ke("auth0-angular.config");let rx=(()=>{class a{constructor(i){i&&this.set(i)}set(i){this.config=i}get(){return this.config}}return a.\u0275fac=function(i){return new(i||a)(Se(y2,8))},a.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),I7=(()=>{class a{constructor(i,l){this.location=i;try{this.router=l.get(Ur)}catch{}}navigateByUrl(i){this.router?this.router.navigateByUrl(i):this.location.replaceState(i)}}return a.\u0275fac=function(i){return new(i||a)(Se(w0),Se(mr))},a.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),P7=(()=>{class a{constructor(i){this.auth0Client=i,this.isLoadingSubject$=new rr(!0),this.refresh$=new Pn,this.accessToken$=new Y1(1),this.errorSubject$=new Y1(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(vB((l,h)=>({previous:l.current,current:h}),{current:null,previous:null}),vs(({previous:l,current:h})=>l!==h)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(vs(l=>!l),Qg(),Gi(()=>Bl(Xv(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe($t(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe($t(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(Qg(),function g7(a,n,i){let l,h=!1;return a&&"object"==typeof a?({bufferSize:l=1/0,windowTime:n=1/0,refCount:h=!1,scheduler:i}=a):l=a??1/0,Gh({connector:()=>new Y1(l,n,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}(1)),this.user$=this.isAuthenticatedTrigger$.pipe(dl(l=>l?this.auth0Client.getUser():Le(null)),Qg()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(dl(l=>l?this.auth0Client.getIdTokenClaims():Le(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(i){this.isLoadingSubject$.next(i)}refresh(){this.refresh$.next()}setAccessToken(i){this.accessToken$.next(i)}setError(i){this.errorSubject$.next(i)}}return a.\u0275fac=function(i){return new(i||a)(Se(nx))},a.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ju=(()=>{class a{constructor(i,l,h,p){this.auth0Client=i,this.configFactory=l,this.navigator=h,this.authState=p,this.appStateSubject$=new Y1(1),this.ngUnsubscribe$=new Pn,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();const y=b=>function v7(a,n,i){return Xv(()=>a()?n:i)}(()=>b,this.handleRedirectCallback(),Xv(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(Gi(b=>y(b).pipe(pl(C=>{const M=this.configFactory.get();return this.navigator.navigateByUrl(M.errorPath||"/"),this.authState.setError(C),Le(void 0)}))),Ir(()=>{this.authState.setIsLoading(!1)}),TI(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(i){return Mt(this.auth0Client.loginWithRedirect(i))}loginWithPopup(i,l){return Mt(this.auth0Client.loginWithPopup(i,l).then(()=>{this.authState.refresh()}))}logout(i){return Mt(this.auth0Client.logout(i).then(()=>{(!1===i?.openUrl||i?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(i={}){return Le(this.auth0Client).pipe(dl(l=>l.getTokenSilently(!0===i.detailedResponse?{...i,detailedResponse:!0}:i)),Ir(l=>{l&&this.authState.setAccessToken("string"==typeof l?l:l.access_token)}),pl(l=>(this.authState.setError(l),this.authState.refresh(),wd(l))))}getAccessTokenWithPopup(i){return Le(this.auth0Client).pipe(dl(l=>l.getTokenWithPopup(i)),Ir(l=>{l&&this.authState.setAccessToken(l)}),pl(l=>(this.authState.setError(l),this.authState.refresh(),wd(l))))}handleRedirectCallback(i){return Xv(()=>this.auth0Client.handleRedirectCallback(i)).pipe(function m7(...a){const n=np(a);return hn((i,l)=>{const h=a.length,p=new Array(h);let y=a.map(()=>!1),b=!1;for(let C=0;C<h;C++)kr(a[C]).subscribe(Ln(l,M=>{p[C]=M,!b&&!y[C]&&(y[C]=!0,(b=y.every(fo))&&(y=null))},ve));i.subscribe(Ln(l,C=>{if(b){const M=[C,...p];l.next(n?n(...M):M)}}))})}(this.authState.isLoading$),Ir(([l,h])=>{h||this.authState.refresh();const p=l?.appState,y=p?.target??"/";p&&this.appStateSubject$.next(p),this.navigator.navigateByUrl(y)}),jt(([l])=>l))}shouldHandleCallback(){return Le(location.search).pipe(jt(i=>{const l=new URLSearchParams(i);return(l.has("code")||l.has("error"))&&l.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return a.\u0275fac=function(i){return new(i||a)(Se(nx),Se(rx),Se(I7),Se(P7))},a.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),_2=(()=>{class a{constructor(i){this.auth=i}canLoad(i,l){return this.auth.isAuthenticated$.pipe(yh(1))}canActivate(i,l){return this.redirectIfUnauthenticated(l)}canActivateChild(i,l){return this.redirectIfUnauthenticated(l)}redirectIfUnauthenticated(i){return this.auth.isAuthenticated$.pipe(Ir(l=>{l||this.auth.loginWithRedirect({appState:{target:i.url}})}))}}return a.\u0275fac=function(i){return new(i||a)(Se(Ju))},a.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),L7=(()=>{class a{static forRoot(i){return{ngModule:a,providers:[Ju,_2,{provide:y2,useValue:i},{provide:nx,useFactory:m2.createClient,deps:[rx]}]}}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=ir({type:a}),a.\u0275inj=fr({}),a})();class ix{}class ox{}class Ml{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(i=>{const l=i.indexOf(":");if(l>0){const h=i.slice(0,l),p=h.toLowerCase(),y=i.slice(l+1).trim();this.maybeSetNormalizedName(h,p),this.headers.has(p)?this.headers.get(p).push(y):this.headers.set(p,[y])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((i,l)=>{this.setHeaderEntries(l,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([i,l])=>{this.setHeaderEntries(i,l)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ml?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){const i=new Ml;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof Ml?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){const i=n.name.toLowerCase();switch(n.op){case"a":case"s":let l=n.value;if("string"==typeof l&&(l=[l]),0===l.length)return;this.maybeSetNormalizedName(n.name,i);const h=("a"===n.op?this.headers.get(i):void 0)||[];h.push(...l),this.headers.set(i,h);break;case"d":const p=n.value;if(p){let y=this.headers.get(i);if(!y)return;y=y.filter(b=>-1===p.indexOf(b)),0===y.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,y)}else this.headers.delete(i),this.normalizedNames.delete(i)}}setHeaderEntries(n,i){const l=(Array.isArray(i)?i:[i]).map(p=>p.toString()),h=n.toLowerCase();this.headers.set(h,l),this.maybeSetNormalizedName(n,h)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}}class u5{encodeKey(n){return ax(n)}encodeValue(n){return ax(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const BK=/%(\d[a-f0-9])/gi,c5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ax(a){return encodeURIComponent(a).replace(BK,(n,i)=>c5[i]??n)}function Ag(a){return`${a}`}class ec{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new u5,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k_(a,n){const i=new Map;return a.length>0&&a.replace(/^\?/,"").split("&").forEach(h=>{const p=h.indexOf("="),[y,b]=-1==p?[n.decodeKey(h),""]:[n.decodeKey(h.slice(0,p)),n.decodeValue(h.slice(p+1))],C=i.get(y)||[];C.push(b),i.set(y,C)}),i}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{const l=n.fromObject[i],h=Array.isArray(l)?l.map(Ag):[Ag(l)];this.map.set(i,h)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){const i=[];return Object.keys(n).forEach(l=>{const h=n[l];Array.isArray(h)?h.forEach(p=>{i.push({param:l,value:p,op:"a"})}):i.push({param:l,value:h,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const i=this.encoder.encodeKey(n);return this.map.get(n).map(l=>i+"="+this.encoder.encodeValue(l)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const i=new ec({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const i=("a"===n.op?this.map.get(n.param):void 0)||[];i.push(Ag(n.value)),this.map.set(n.param,i);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let l=this.map.get(n.param)||[];const h=l.indexOf(Ag(n.value));-1!==h&&l.splice(h,1),l.length>0?this.map.set(n.param,l):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class N7{constructor(){this.map=new Map}set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function b2(a){return typeof ArrayBuffer<"u"&&a instanceof ArrayBuffer}function h5(a){return typeof Blob<"u"&&a instanceof Blob}function f5(a){return typeof FormData<"u"&&a instanceof FormData}class O_{constructor(n,i,l,h){let p;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function F7(a){switch(a){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||h?(this.body=void 0!==l?l:null,p=h):p=l,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new Ml),this.context||(this.context=new N7),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=i;else{const b=i.indexOf("?");this.urlWithParams=i+(-1===b?"?":b<i.length-1?"&":"")+y}}else this.params=new ec,this.urlWithParams=i}serializeBody(){return null===this.body?null:b2(this.body)||h5(this.body)||f5(this.body)||function d5(a){return typeof URLSearchParams<"u"&&a instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ec?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||f5(this.body)?null:h5(this.body)?this.body.type||null:b2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ec?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const i=n.method||this.method,l=n.url||this.url,h=n.responseType||this.responseType,p=void 0!==n.body?n.body:this.body,y=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,b=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let C=n.headers||this.headers,M=n.params||this.params;const I=n.context??this.context;return void 0!==n.setHeaders&&(C=Object.keys(n.setHeaders).reduce((R,V)=>R.set(V,n.setHeaders[V]),C)),n.setParams&&(M=Object.keys(n.setParams).reduce((R,V)=>R.set(V,n.setParams[V]),M)),new O_(i,l,p,{params:M,headers:C,context:I,reportProgress:b,responseType:h,withCredentials:y})}}var Eg=function(a){return a[a.Sent=0]="Sent",a[a.UploadProgress=1]="UploadProgress",a[a.ResponseHeader=2]="ResponseHeader",a[a.DownloadProgress=3]="DownloadProgress",a[a.Response=4]="Response",a[a.User=5]="User",a}(Eg||{});class S2{constructor(n,i=200,l="OK"){this.headers=n.headers||new Ml,this.status=void 0!==n.status?n.status:i,this.statusText=n.statusText||l,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class C2 extends S2{constructor(n={}){super(n),this.type=Eg.ResponseHeader}clone(n={}){return new C2({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ud extends S2{constructor(n={}){super(n),this.type=Eg.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Ud({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class p5 extends S2{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function x2(a,n){return{body:n,headers:a.headers,context:a.context,observe:a.observe,params:a.params,reportProgress:a.reportProgress,responseType:a.responseType,withCredentials:a.withCredentials}}let sx=(()=>{class a{constructor(i){this.handler=i}request(i,l,h={}){let p;if(i instanceof O_)p=i;else{let C,M;C=h.headers instanceof Ml?h.headers:new Ml(h.headers),h.params&&(M=h.params instanceof ec?h.params:new ec({fromObject:h.params})),p=new O_(i,l,void 0!==h.body?h.body:null,{headers:C,context:h.context,params:M,reportProgress:h.reportProgress,responseType:h.responseType||"json",withCredentials:h.withCredentials})}const y=Le(p).pipe(dl(C=>this.handler.handle(C)));if(i instanceof O_||"events"===h.observe)return y;const b=y.pipe(vs(C=>C instanceof Ud));switch(h.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return b.pipe(jt(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return b.pipe(jt(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return b.pipe(jt(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return b.pipe(jt(C=>C.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${h.observe}}`)}}delete(i,l={}){return this.request("DELETE",i,l)}get(i,l={}){return this.request("GET",i,l)}head(i,l={}){return this.request("HEAD",i,l)}jsonp(i,l){return this.request("JSONP",i,{params:(new ec).append(l,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,l={}){return this.request("OPTIONS",i,l)}patch(i,l,h={}){return this.request("PATCH",i,x2(h,l))}post(i,l,h={}){return this.request("POST",i,x2(h,l))}put(i,l,h={}){return this.request("PUT",i,x2(h,l))}static#e=this.\u0275fac=function(l){return new(l||a)(Se(ix))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();function D2(a,n){return n(a)}function z7(a,n){return(i,l)=>n.intercept(i,{handle:h=>a(h,l)})}const G7=new ke(""),N_=new ke(""),m5=new ke("");function T2(){let a=null;return(n,i)=>{null===a&&(a=(Ie(G7,{optional:!0})??[]).reduceRight(z7,D2));const l=Ie(th),h=l.add();return a(n,i).pipe(Kv(()=>l.remove(h)))}}let M2=(()=>{class a extends ix{constructor(i,l){super(),this.backend=i,this.injector=l,this.chain=null,this.pendingTasks=Ie(th)}handle(i){if(null===this.chain){const h=Array.from(new Set([...this.injector.get(N_),...this.injector.get(m5,[])]));this.chain=h.reduceRight((p,y)=>function H7(a,n,i){return(l,h)=>i.runInContext(()=>n(l,p=>a(p,h)))}(p,y,this.injector),D2)}const l=this.pendingTasks.add();return this.chain(i,h=>this.backend.handle(h)).pipe(Kv(()=>this.pendingTasks.remove(l)))}static#e=this.\u0275fac=function(l){return new(l||a)(Se(ox),Se(Eo))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();const jd=/^\)\]\}',?\n/;let lx=(()=>{class a{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new fe(-2800,!1);const l=this.xhrFactory;return(l.\u0275loadImpl?Mt(l.\u0275loadImpl()):Le(null)).pipe(Gi(()=>new qn(p=>{const y=l.build();if(y.open(i.method,i.urlWithParams),i.withCredentials&&(y.withCredentials=!0),i.headers.forEach((Z,ee)=>y.setRequestHeader(Z,ee.join(","))),i.headers.has("Accept")||y.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const Z=i.detectContentTypeHeader();null!==Z&&y.setRequestHeader("Content-Type",Z)}if(i.responseType){const Z=i.responseType.toLowerCase();y.responseType="json"!==Z?Z:"text"}const b=i.serializeBody();let C=null;const M=()=>{if(null!==C)return C;const Z=y.statusText||"OK",ee=new Ml(y.getAllResponseHeaders()),ie=function Y7(a){return"responseURL"in a&&a.responseURL?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):null}(y)||i.url;return C=new C2({headers:ee,status:y.status,statusText:Z,url:ie}),C},I=()=>{let{headers:Z,status:ee,statusText:ie,url:ne}=M(),ye=null;204!==ee&&(ye=typeof y.response>"u"?y.responseText:y.response),0===ee&&(ee=ye?200:0);let we=ee>=200&&ee<300;if("json"===i.responseType&&"string"==typeof ye){const je=ye;ye=ye.replace(jd,"");try{ye=""!==ye?JSON.parse(ye):null}catch(Dt){ye=je,we&&(we=!1,ye={error:Dt,text:ye})}}we?(p.next(new Ud({body:ye,headers:Z,status:ee,statusText:ie,url:ne||void 0})),p.complete()):p.error(new p5({error:ye,headers:Z,status:ee,statusText:ie,url:ne||void 0}))},R=Z=>{const{url:ee}=M(),ie=new p5({error:Z,status:y.status||0,statusText:y.statusText||"Unknown Error",url:ee||void 0});p.error(ie)};let V=!1;const G=Z=>{V||(p.next(M()),V=!0);let ee={type:Eg.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(ee.total=Z.total),"text"===i.responseType&&y.responseText&&(ee.partialText=y.responseText),p.next(ee)},$=Z=>{let ee={type:Eg.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(ee.total=Z.total),p.next(ee)};return y.addEventListener("load",I),y.addEventListener("error",R),y.addEventListener("timeout",R),y.addEventListener("abort",R),i.reportProgress&&(y.addEventListener("progress",G),null!==b&&y.upload&&y.upload.addEventListener("progress",$)),y.send(b),p.next({type:Eg.Sent}),()=>{y.removeEventListener("error",R),y.removeEventListener("abort",R),y.removeEventListener("load",I),y.removeEventListener("timeout",R),i.reportProgress&&(y.removeEventListener("progress",G),null!==b&&y.upload&&y.upload.removeEventListener("progress",$)),y.readyState!==y.DONE&&y.abort()}})))}static#e=this.\u0275fac=function(l){return new(l||a)(Se(tV))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();const Ig=new ke("XSRF_ENABLED"),A2=new ke("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_5=new ke("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class w5{}let E2=(()=>{class a{constructor(i,l,h){this.doc=i,this.platform=l,this.cookieName=h,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=mC(i,this.cookieName),this.lastCookieString=i),this.lastToken}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wr),Se(Zo),Se(A2))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();function X7(a,n){const i=a.url.toLowerCase();if(!Ie(Ig)||"GET"===a.method||"HEAD"===a.method||i.startsWith("http://")||i.startsWith("https://"))return n(a);const l=Ie(w5).getToken(),h=Ie(_5);return null!=l&&!a.headers.has(h)&&(a=a.clone({headers:a.headers.set(h,l)})),n(a)}var Al=function(a){return a[a.Interceptors=0]="Interceptors",a[a.LegacyInterceptors=1]="LegacyInterceptors",a[a.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",a[a.NoXsrfProtection=3]="NoXsrfProtection",a[a.JsonpSupport=4]="JsonpSupport",a[a.RequestsMadeViaParent=5]="RequestsMadeViaParent",a[a.Fetch=6]="Fetch",a}(Al||{});function b5(...a){const n=[sx,lx,M2,{provide:ix,useExisting:M2},{provide:ox,useExisting:lx},{provide:N_,useValue:X7,multi:!0},{provide:Ig,useValue:!0},{provide:w5,useClass:E2}];for(const i of a)n.push(...i.\u0275providers);return pb(n)}const Pg=new ke("LEGACY_INTERCEPTOR_FN");function K7(){return function bs(a,n){return{\u0275kind:a,\u0275providers:n}}(Al.LegacyInterceptors,[{provide:Pg,useFactory:T2},{provide:N_,useExisting:Pg,multi:!0}])}let eq=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({providers:[b5(K7())]})}return a})(),L2=(()=>{class a{constructor(i){this.httpClient=i,this.clienteURL="http://localhost:3000/ingresos/"}CargarReporteExel(i){return this.httpClient.post(this.clienteURL+"cargar-excel",i)}enviarReporte(i,l,h){return this.httpClient.post(this.clienteURL+"cargar-registro",{reporteDiario:i,reporteMensual:l,fechaReporte:h})}validarMesA\u00f1o(i){return this.httpClient.post(this.clienteURL+"validar-fecha",{fecha:i})}obtenerReportesPorMes(i,l){return this.httpClient.get(this.clienteURL+`reporte-mensual/${i}/${l}`)}obtenerReportesPorDias(i,l){return this.httpClient.get(this.clienteURL+`reporte-diario/${i}/${l}`)}obtenerReporteMensualPorID(i){return this.httpClient.get(this.clienteURL+`reporte-mensual-porId/${i}`)}obtenerReporteDiarioPorId(i){return this.httpClient.get(this.clienteURL+`reporte-diario-porId/${i}`)}eliminarReporteDiarioPorId(i){return this.httpClient.delete(this.clienteURL+`eliminar-reporte-mensual-porId/${i}`)}obtenerIngresosTotales(){return this.httpClient.get(this.clienteURL+"suma-total-mes")}obtenerIngresosTotalesporFecha(i,l){return this.httpClient.get(this.clienteURL+`suma-total-mes/${i}/${l}`)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(sx))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Lg=(()=>{class a{notifyUpdate(i){this.updateSource.next(i)}setModoOscuro(i){this.esModoOscuroSource.next(i)}constructor(){this.esModoOscuro=!1,this.updateSource=new rr(!1),this.currentUpdate=this.updateSource.asObservable(),this.modoOscuro=new rr(!1),this.esModoOscuroSource=new rr(!1),this.esModoOscuro$=this.esModoOscuroSource.asObservable()}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),F_=(()=>{class a{constructor(i){this.httpClient=i,this.clienteURL="http://localhost:3000/activityLog/"}guardarActividad(i,l,h){return this.httpClient.post(this.clienteURL+"log",{responsable:i,gmail:l,actividad:h})}obtenerLogsPorMes(i,l){return this.httpClient.get(this.clienteURL+`logs-mensual/${i}/${l}`)}obtenerLogsPorDias(i,l){return this.httpClient.get(this.clienteURL+`logs-diarios/${i}/${l}`)}obtenerLogPorID(i){return this.httpClient.get(this.clienteURL+`log/${i}`)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(sx))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class oq{constructor(n,i){this.open=n,this.close=i||n}isManual(){return"manual"===this.open||"manual"===this.close}}const aq={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const ni=typeof window<"u"&&window||{},Cr=ni.document;var dx=function(a){return a.isBs4="bs4",a.isBs5="bs5",a}(dx||{});let No;function px(){const a=ni.document.createElement("span");a.innerText="testing bs version",a.classList.add("d-none"),a.classList.add("pl-1"),ni.document.head.appendChild(a);const n=ni.getComputedStyle(a).paddingLeft;return n&&parseFloat(n)?(ni.document.head.removeChild(a),"bs4"):(ni.document.head.removeChild(a),"bs5")}function V_(){return{isBs4:(No||(No=px()),"bs4"===No),isBs5:(No||(No=px()),"bs5"===No)}}class k2{static reflow(n){}static getStyles(n){let i=n.ownerDocument.defaultView;return(!i||!i.opener)&&(i=ni),i.getComputedStyle(n)}static stackOverflowConfig(){const n=function T5(){const a=V_(),n=Object.keys(a).find(i=>a[i]);return dx[n]}();return{crossorigin:"anonymous",integrity:"bs5"===n?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===n?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;let gx,gq=(()=>{class a{constructor(){this._focusTrapStack=[]}register(i){this._focusTrapStack=this._focusTrapStack.filter(h=>h!==i);let l=this._focusTrapStack;l.length&&l[l.length-1]._disable(),l.push(i),i._enable()}deregister(i){i._disable();const l=this._focusTrapStack,h=l.indexOf(i);-1!==h&&(l.splice(h,1),l.length&&l[l.length-1]._enable())}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();try{gx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gx=!1}let A5=(()=>{class a{constructor(i){this._platformId=i,this.isBrowser=this._platformId?lE(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(l){return new(l||a)(Se(Zo))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),E5=(()=>{class a{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function N2(a){return!!(a.offsetWidth||a.offsetHeight||"function"==typeof a.getClientRects&&a.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const l=function I5(a){try{return a.frameElement}catch{return null}}(function Cq(a){return a.ownerDocument&&a.ownerDocument.defaultView||window}(i));if(l&&(-1===L5(l)||!this.isVisible(l)))return!1;let h=i.nodeName.toLowerCase(),p=L5(i);return i.hasAttribute("contenteditable")?-1!==p:!("iframe"===h||"object"===h||this._platform.WEBKIT&&this._platform.IOS&&!function Sq(a){let n=a.nodeName.toLowerCase(),i="input"===n&&a.type;return"text"===i||"password"===i||"select"===n||"textarea"===n}(i))&&("audio"===h?!!i.hasAttribute("controls")&&-1!==p:"video"===h?-1!==p&&(null!==p||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,l){return function V2(a){return!function yq(a){return function wq(a){return"input"==a.nodeName.toLowerCase()}(a)&&"hidden"==a.type}(a)&&(function F2(a){let n=a.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(a)||function _q(a){return function bq(a){return"a"==a.nodeName.toLowerCase()}(a)&&a.hasAttribute("href")}(a)||a.hasAttribute("contenteditable")||P5(a))}(i)&&!this.isDisabled(i)&&(l?.ignoreVisibility||this.isVisible(i))}static#e=this.\u0275fac=function(l){return new(l||a)(Se(A5))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function P5(a){if(!a.hasAttribute("tabindex")||void 0===a.tabIndex)return!1;let n=a.getAttribute("tabindex");return"-32768"!=n&&!(!n||isNaN(parseInt(n,10)))}function L5(a){if(!P5(a))return null;const n=parseInt(a.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function R5(a){return null!=a&&"false"!=`${a}`}class k5{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,i,l,h,p=!1){this._element=n,this._checker=i,this._ngZone=l,this._document=h,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,p||this.attachAnchors()}destroy(){const n=this._startAnchor,i=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),i&&(i.removeEventListener("focus",this.endAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let i=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let l=0;l<i.length;l++)i[l].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[l]):i[l].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[l]);return"start"==n?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const i=this._getFirstTabbableElement(n);return i?.focus(),!!i}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){const n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let i=n.children||n.childNodes;for(let l=0;l<i.length;l++){let h=i[l].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[l]):null;if(h)return h}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let i=n.children||n.childNodes;for(let l=i.length-1;l>=0;l--){let h=i[l].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[l]):null;if(h)return h}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,i){n?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(yh(1)).subscribe(n)}}let xq=(()=>{class a{constructor(i,l,h){this._checker=i,this._ngZone=l,this._document=h}create(i,l=!1){return new k5(i,this._checker,this._ngZone,this._document,l)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(E5),Se(pn),Se(wr))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Dq=(()=>{class a{get enabled(){return this.focusTrap.enabled}set enabled(i){this.focusTrap.enabled=R5(i)}get autoCapture(){return this._autoCapture}set autoCapture(i){this._autoCapture=R5(i)}constructor(i,l,h){this._elementRef=i,this._focusTrapFactory=l,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=h,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(i){const l=i.autoCapture;l&&!l.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(l){return new(l||a)(he(dn),he(xq),he(wr))};static#t=this.\u0275dir=ht({type:a,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Go]})}return a})(),O5=(()=>{class a{static forRoot(){return{ngModule:a,providers:[gq,A5,E5]}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({imports:[bC]})}return a})();const Tq=["addListener","removeListener"],Mq=["addEventListener","removeEventListener"],Aq=["on","off"];function Rg(a,n,i,l){if(Tt(i)&&(l=i,i=void 0),l)return Rg(a,n,i).pipe(HE(l));const[h,p]=function N5(a){return Tt(a.addEventListener)&&Tt(a.removeEventListener)}(a)?Mq.map(y=>b=>a[y](n,b,i)):function z2(a){return Tt(a.addListener)&&Tt(a.removeListener)}(a)?Tq.map(B2(a,n)):function Eq(a){return Tt(a.on)&&Tt(a.off)}(a)?Aq.map(B2(a,n)):[];if(!h&&Ei(a))return $t(y=>Rg(y,n,i))(kr(a));if(!h)throw new TypeError("Invalid event target");return new qn(y=>{const b=(...C)=>y.next(1<C.length?C:C[0]);return h(b),()=>p(b)})}function B2(a,n){return i=>l=>a[i](n,l)}class Iq extends Wr{constructor(n,i){super()}schedule(n,i=0){return this}}const mx={setInterval(a,n,...i){const{delegate:l}=mx;return l?.setInterval?l.setInterval(a,n,...i):setInterval(a,n,...i)},clearInterval(a){const{delegate:n}=mx;return(n?.clearInterval||clearInterval)(a)},delegate:void 0};class B_ extends Iq{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){var l;if(this.closed)return this;this.state=n;const h=this.id,p=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(p,h,i)),this.pending=!0,this.delay=i,this.id=null!==(l=this.id)&&void 0!==l?l:this.requestAsyncId(p,this.id,i),this}requestAsyncId(n,i,l=0){return mx.setInterval(n.flush.bind(n,this),l)}recycleAsyncId(n,i,l=0){if(null!=l&&this.delay===l&&!1===this.pending)return i;null!=i&&mx.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const l=this._execute(n,i);if(l)return l;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let h,l=!1;try{this.work(n)}catch(p){l=!0,h=p||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),h}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:l}=i;this.work=this.state=this.scheduler=null,this.pending=!1,oc(l,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}const kg={schedule(a){let n=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:l}=kg;l&&(n=l.requestAnimationFrame,i=l.cancelAnimationFrame);const h=n(p=>{i=void 0,a(p)});return new Wr(()=>i?.(h))},requestAnimationFrame(...a){const{delegate:n}=kg;return(n?.requestAnimationFrame||requestAnimationFrame)(...a)},cancelAnimationFrame(...a){const{delegate:n}=kg;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...a)},delegate:void 0};class Wd{constructor(n,i=Wd.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,l){return new this.schedulerActionCtor(this,n).schedule(l,i)}}Wd.now=I_.now;class Lq extends Wd{constructor(n,i=Wd.now){super(n,i),this.actions=[],this._active=!1}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let l;this._active=!0;do{if(l=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,l){for(;n=i.shift();)n.unsubscribe();throw l}}}const F5=new class z_ extends Lq{flush(n){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:l}=this;let h;n=n||l.shift();do{if(h=n.execute(n.state,n.delay))break}while((n=l[0])&&n.id===i&&l.shift());if(this._active=!1,h){for(;(n=l[0])&&n.id===i&&l.shift();)n.unsubscribe();throw h}}}(class Pq extends B_{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,l=0){return null!==l&&l>0?super.requestAsyncId(n,i,l):(n.actions.push(this),n._scheduled||(n._scheduled=kg.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,i,l=0){var h;if(null!=l?l>0:this.delay>0)return super.recycleAsyncId(n,i,l);const{actions:p}=n;null!=i&&(null===(h=p[p.length-1])||void 0===h?void 0:h.id)!==i&&(kg.cancelAnimationFrame(i),n._scheduled=void 0)}});var V5=function(a){return a.top="top",a.bottom="bottom",a.left="left",a.right="right",a.auto="auto",a.end="right",a.start="left",a["top left"]="top left",a["top right"]="top right",a["right top"]="right top",a["right bottom"]="right bottom",a["bottom right"]="bottom right",a["bottom left"]="bottom left",a["left bottom"]="left bottom",a["left top"]="left top",a["top start"]="top left",a["top end"]="top right",a["end top"]="right top",a["end bottom"]="right bottom",a["bottom end"]="bottom right",a["bottom start"]="bottom left",a["start bottom"]="start bottom",a["start top"]="left top",a}(V5||{}),H2=function(a){return a.top="top",a.bottom="bottom",a.left="start",a.right="end",a.auto="auto",a.end="end",a.start="start",a["top left"]="top start",a["top right"]="top end",a["right top"]="end top",a["right bottom"]="end bottom",a["bottom right"]="bottom end",a["bottom left"]="bottom start",a["left bottom"]="start bottom",a["left top"]="start top",a["top start"]="top start",a["top end"]="top end",a["end top"]="end top",a["end bottom"]="end bottom",a["bottom end"]="bottom end",a["bottom start"]="bottom start",a["start bottom"]="start bottom",a["start top"]="start top",a}(H2||{});function $d(a,n){if(1!==a.nodeType)return[];const l=a.ownerDocument.defaultView?.getComputedStyle(a,null);return n?l&&l[n]:l}function G2(a){if(!a)return document.documentElement;let l,i=a?.offsetParent;for(;null===i&&a.nextElementSibling&&l!==a.nextElementSibling;)l=a.nextElementSibling,i=l.offsetParent;const h=i&&i.nodeName;return h&&"BODY"!==h&&"HTML"!==h?i&&-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===$d(i,"position")?G2(i):i:l?l.ownerDocument.documentElement:document.documentElement}function U2(a){return null!==a.parentNode?U2(a.parentNode):a}function H_(a,n){if(!(a&&a.nodeType&&n&&n.nodeType))return document.documentElement;const i=a.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,l=i?a:n,h=i?n:a,p=document.createRange();p.setStart(l,0),p.setEnd(h,0);const y=p.commonAncestorContainer;if(a!==y&&n!==y||l.contains(h))return function B5(a){const{nodeName:n}=a;return"BODY"!==n&&("HTML"===n||G2(a.firstElementChild)===a)}(y)?y:G2(y);const b=U2(a);return b.host?H_(b.host,n):H_(a,U2(n).host)}function z5(a){if(!a||!a.parentElement)return document.documentElement;let n=a.parentElement;for(;n?.parentElement&&"none"===$d(n,"transform");)n=n.parentElement;return n||document.documentElement}function H5(a,n){const i="x"===n?"Left":"Top",l="Left"===i?"Right":"Bottom";return parseFloat(a[`border${i}Width`])+parseFloat(a[`border${l}Width`])}function G5(a,n,i,l){return Math.max(n[`offset${a}`],n[`scroll${a}`],i[`client${a}`],i[`offset${a}`],i[`scroll${a}`],0)}function j2(a){const n=a.body,i=a.documentElement;return{height:G5("Height",n,i),width:G5("Width",n,i)}}function Og(a){return{...a,right:(a.left||0)+a.width,bottom:(a.top||0)+a.height}}function nr(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function W2(a){const n=a.getBoundingClientRect();if(!(n&&nr(n.top)&&nr(n.left)&&nr(n.bottom)&&nr(n.right)))return n;const i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},l="HTML"===a.nodeName?j2(a.ownerDocument):void 0,h=l?.width||a.clientWidth||nr(n.right)&&nr(i.left)&&n.right-i.left||0,p=l?.height||a.clientHeight||nr(n.bottom)&&nr(i.top)&&n.bottom-i.top||0;let y=a.offsetWidth-h,b=a.offsetHeight-p;if(y||b){const C=$d(a);y-=H5(C,"x"),b-=H5(C,"y"),i.width-=y,i.height-=b}return Og(i)}function $2(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function q2(a){if(!a)return document.body;switch(a.nodeName){case"HTML":case"BODY":return a.ownerDocument.body;case"#document":return a.body}const{overflow:n,overflowX:i,overflowY:l}=$d(a);return/(auto|scroll|overlay)/.test(String(n)+String(l)+String(i))?a:q2($2(a))}function Z2(a,n,i=!1){const l="HTML"===n.nodeName,h=W2(a),p=W2(n),b=(q2(a),$d(n)),C=parseFloat(b.borderTopWidth),M=parseFloat(b.borderLeftWidth);i&&l&&(p.top=Math.max(p.top??0,0),p.left=Math.max(p.left??0,0));const I=Og({top:(h.top??0)-(p.top??0)-C,left:(h.left??0)-(p.left??0)-M,width:h.width,height:h.height});if(I.marginTop=0,I.marginLeft=0,l){const R=parseFloat(b.marginTop),V=parseFloat(b.marginLeft);nr(I.top)&&(I.top-=C-R),nr(I.bottom)&&(I.bottom-=C-R),nr(I.left)&&(I.left-=M-V),nr(I.right)&&(I.right-=M-V),I.marginTop=R,I.marginLeft=V}return I}function G_(a,n="top"){const i="top"===n?"scrollTop":"scrollLeft",l=a.nodeName;return"BODY"===l||"HTML"===l?(a.ownerDocument.scrollingElement||a.ownerDocument.documentElement)[i]:a[i]}function j5(a){const n=a.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===$d(a,"position")||j5($2(a)))}function yx(a,n,i=0,l,h=!1){let p={top:0,left:0};const y=h?z5(a):H_(a,n);if("viewport"===l)p=function U5(a,n=!1){const i=a.ownerDocument.documentElement,l=Z2(a,i),h=Math.max(i.clientWidth,window.innerWidth||0),p=Math.max(i.clientHeight,window.innerHeight||0),y=n?0:G_(i),b=n?0:G_(i,"left");return Og({top:y-Number(l?.top)+Number(l?.marginTop),left:b-Number(l?.left)+Number(l?.marginLeft),width:h,height:p})}(y,h);else{let b;"scrollParent"===l?(b=q2($2(n)),"BODY"===b.nodeName&&(b=a.ownerDocument.documentElement)):b="window"===l?a.ownerDocument.documentElement:l;const C=Z2(b,y,h);if(C&&"HTML"===b.nodeName&&!j5(y)){const{height:M,width:I}=j2(a.ownerDocument);nr(p.top)&&nr(C.top)&&nr(C.marginTop)&&(p.top+=C.top-C.marginTop),nr(p.top)&&(p.bottom=Number(M)+Number(C.top)),nr(p.left)&&nr(C.left)&&nr(C.marginLeft)&&(p.left+=C.left-C.marginLeft),nr(p.top)&&(p.right=Number(I)+Number(C.left))}else C&&(p=C)}return nr(p.left)&&(p.left+=i),nr(p.top)&&(p.top+=i),nr(p.right)&&(p.right-=i),nr(p.bottom)&&(p.bottom-=i),p}function kq({width:a,height:n}){return a*n}function W5(a,n,i,l,h=["top","bottom","right","left"],p="viewport",y=0){if(-1===a.indexOf("auto"))return a;const b=yx(i,l,y,p),C={top:{width:b?.width??0,height:(n?.top??0)-(b?.top??0)},right:{width:(b?.right??0)-(n?.right??0),height:b?.height??0},bottom:{width:b?.width??0,height:(b?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(b?.left??0),height:b?.height??0}},M=Object.keys(C).map(G=>({position:G,...C[G],area:kq(C[G])})).sort((G,$)=>$.area-G.area);let I=M.filter(({width:G,height:$})=>G>=i.clientWidth&&$>=i.clientHeight);I=I.filter(({position:G})=>h.some($=>$===G));const R=I.length>0?I[0].position:M[0].position,V=a.split(" ")[1];return i.className=i.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${V_().isBs5?H2[R]:R}`),R+(V?`-${V}`:"")}const qd=(a,n=0)=>a?parseFloat(a):n;function Ss(a){const i=a.ownerDocument.defaultView?.getComputedStyle(a),l=qd(i?.marginTop)+qd(i?.marginBottom),h=qd(i?.marginLeft)+qd(i?.marginRight);return{width:Number(a.offsetWidth)+h,height:Number(a.offsetHeight)+l}}function Y5(a,n,i){return Z2(n,i?z5(a):H_(a,n),i)}function _x(a,n,i){const l=i.split(" ")[0],h=Ss(a),p={width:h.width,height:h.height},y=-1!==["right","left"].indexOf(l),b=y?"top":"left",C=y?"left":"top",M=y?"height":"width",I=y?"width":"height";return p[b]=(n[b]??0)+n[M]/2-h[M]/2,p[C]=l===C?(n[C]??0)-h[I]:n[function q5(a){const n={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,i=>n[i])}(C)]??0,p}function bx(a,n){return!!a.modifiers[n]?.enabled}const Oq={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Sx(a,n){return!!V_().isBs5&&Oq[n].includes(a)}function K5(a,n,i){!a||!n||Object.keys(n).forEach(l=>{let h="";-1!==["width","height","top","right","bottom","left"].indexOf(l)&&function Rq(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(Number(a))}(n[l])&&(h="px"),i?i.setStyle(a,l,`${String(n[l])}${h}`):a.style[l]=String(n[l])+h})}function Q5(a){let n=a.offsets.target;const i=a.instance.target.querySelector(".arrow");if(!i)return a;const l=-1!==["left","right"].indexOf(a.placement.split(" ")[0]),h=l?"height":"width",p=l?"Top":"Left",y=p.toLowerCase(),b=l?"left":"top",C=l?"bottom":"right",M=Ss(i)[h],I=a.placement.split(" ")[1];(a.offsets.host[C]??0)-M<(n[y]??0)&&(n[y]-=(n[y]??0)-((a.offsets.host[C]??0)-M)),Number(a.offsets.host[y])+Number(M)>(n[C]??0)&&(n[y]+=Number(a.offsets.host[y])+Number(M)-Number(n[C])),n=Og(n);const R=$d(a.instance.target),V=parseFloat(R[`margin${p}`])||0,G=parseFloat(R[`border${p}Width`])||0;let $;if(I){const ee=parseFloat(R.borderRadius)||0,ie=Number(V+G+ee);$=y===I?Number(a.offsets.host[y])+ie:Number(a.offsets.host[y])+Number(a.offsets.host[h]-ie)}else $=Number(a.offsets.host[y])+Number(a.offsets.host[h]/2-M/2);let Z=$-(n[y]??0)-V-G;return Z=Math.max(Math.min(n[h]-(M+5),Z),0),a.offsets.arrow={[y]:Math.round(Z),[b]:""},a.instance.arrow=i,a}function J5(a){if(a.offsets.target=Og(a.offsets.target),!bx(a.options,"flip"))return a.offsets.target={...a.offsets.target,..._x(a.instance.target,a.offsets.host,a.placement)},a;const n=yx(a.instance.target,a.instance.host,0,"viewport",!1);let i=a.placement.split(" ")[0],l=a.placement.split(" ")[1]||"";const b=W5("auto",a.offsets.host,a.instance.target,a.instance.host,a.options.allowedPositions),C=[i,b];return C.forEach((M,I)=>{if(i!==M||C.length===I+1)return;i=a.placement.split(" ")[0];const R="left"===i&&Math.floor(a.offsets.target.right??0)>Math.floor(a.offsets.host.left??0)||"right"===i&&Math.floor(a.offsets.target.left??0)<Math.floor(a.offsets.host.right??0)||"top"===i&&Math.floor(a.offsets.target.bottom??0)>Math.floor(a.offsets.host.top??0)||"bottom"===i&&Math.floor(a.offsets.target.top??0)<Math.floor(a.offsets.host.bottom??0),V=Math.floor(a.offsets.target.left??0)<Math.floor(n.left??0),G=Math.floor(a.offsets.target.right??0)>Math.floor(n.right??0),$=Math.floor(a.offsets.target.top??0)<Math.floor(n.top??0),Z=Math.floor(a.offsets.target.bottom??0)>Math.floor(n.bottom??0),ee="left"===i&&V||"right"===i&&G||"top"===i&&$||"bottom"===i&&Z,ie=-1!==["top","bottom"].indexOf(i),ne=ie&&"left"===l&&V||ie&&"right"===l&&G||!ie&&"left"===l&&$||!ie&&"right"===l&&Z;(R||ee||ne)&&((R||ee)&&(i=C[I+1]),ne&&(l=function Z5(a){return"right"===a?"left":"left"===a?"right":a}(l)),a.placement=i+(l?` ${l}`:""),a.offsets.target={...a.offsets.target,..._x(a.instance.target,a.offsets.host,a.placement)})}),a}function Vq(a){if(!bx(a.options,"preventOverflow"))return a;const n="transform",i=a.instance.target.style,{top:l,left:h,[n]:p}=i;i.top="",i.left="",i[n]="";const y=yx(a.instance.target,a.instance.host,0,a.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);i.top=l,i.left=h,i[n]=p;const C={primary(M){let I=a.offsets.target[M];return(a.offsets.target[M]??0)<(y[M]??0)&&(I=Math.max(a.offsets.target[M]??0,y[M]??0)),{[M]:I}},secondary(M){const I="right"===M,R=I?"left":"top";let G=a.offsets.target[R];return(a.offsets.target[M]??0)>(y[M]??0)&&(G=Math.min(a.offsets.target[R]??0,(y[M]??0)-a.offsets.target[I?"width":"height"])),{[R]:G}}};return["left","right","top","bottom"].forEach(M=>{const I=-1!==["left","top","start"].indexOf(M)?C.primary:C.secondary;a.offsets.target={...a.offsets.target,...I(M)}}),a}function Bq(a){const n=a.placement,i=n.split(" ")[0],l=n.split(" ")[1];if(l){const{host:h,target:p}=a.offsets,y=-1!==["bottom","top"].indexOf(i),b=y?"left":"top",C=y?"width":"height",M={start:{[b]:h[b]},end:{[b]:(h[b]??0)+h[C]-p[C]}};a.offsets.target={...p,[b]:b===l?M.start[b]:M.end[b]}}return a}const Hq=new class zq{position(n,i){return this.offset(n,i)}offset(n,i){return Y5(i,n)}positionElements(n,i,l,h,p){const y=[J5,Bq,Vq,Q5],C=function Fq(a,n,i,l){if(!a||!n)return;const h=Y5(a,n);!i.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!i.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(i="auto");const p=!!i.match(/auto/g);let y=i.match(/auto\s(left|right|top|bottom|start|end)/)?i.split(" ")[1]||"auto":i;const b=y.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return b&&(y=b[1]+(b[2]?` ${b[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(y)&&(y="auto"),y=W5(y,h,a,n,l?l.allowedPositions:void 0),{options:l||{modifiers:{}},instance:{target:a,host:n,arrow:void 0},offsets:{target:_x(a,h,y),host:h,arrow:void 0},positionFixed:!1,placement:y,placementAuto:p}}(i,n,V5[l],p);if(C)return y.reduce((M,I)=>I(M),C)}};function eH(a,n,i,l,h,p){const y=Hq.positionElements(a,n,i,l,h);if(!y)return;const b=function $5(a){return{width:a.offsets.target.width,height:a.offsets.target.height,left:Math.floor(a.offsets.target.left??0),top:Math.round(a.offsets.target.top??0),bottom:Math.round(a.offsets.target.bottom??0),right:Math.floor(a.offsets.target.right??0)}}(y);K5(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${b.left}px, ${b.top}px, 0px)`},p),y.instance.arrow&&K5(y.instance.arrow,y.offsets.arrow,p),function X5(a,n){const i=a.instance.target;let l=i.className;const h=V_().isBs5?H2[a.placement]:a.placement;a.placementAuto&&(l=l.replace(/bs-popover-auto/g,`bs-popover-${h}`),l=l.replace(/ms-2|me-2|mb-2|mt-2/g,""),l=l.replace(/bs-tooltip-auto/g,`bs-tooltip-${h}`),l=l.replace(/\sauto/g,` ${h}`),-1!==l.indexOf("popover")&&(l=l+" "+function Nq(a){return V_().isBs5?Sx(a,"end")?"ms-2":Sx(a,"start")?"me-2":Sx(a,"top")?"mb-2":Sx(a,"bottom")?"mt-2":"":""}(h)),-1!==l.indexOf("popover")&&-1===l.indexOf("popover-auto")&&(l+=" popover-auto"),-1!==l.indexOf("tooltip")&&-1===l.indexOf("tooltip-auto")&&(l+=" tooltip-auto")),l=l.replace(/left|right|top|bottom|end|start/g,`${h.split(" ")[0]}`),n?n.setAttribute(i,"class",l):i.className=l}(y,p)}let Y2=(()=>{class a{constructor(i,l,h){this.update$$=new Pn,this.positionElements=new Map,this.isDisabled=!1,lE(h)&&i.runOutsideAngular(()=>{this.triggerEvent$=Bl(Rg(window,"scroll",{passive:!0}),Rg(window,"resize",{passive:!0}),Le(0,F5),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(p=>{eH(tc(p.target),tc(p.element),p.attachment,p.appendToBody,this.options,l.createRenderer(null,null))})})})}position(i){this.addPositionElement(i)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(i){this.positionElements.set(tc(i.element),i)}calcPosition(){this.update$$.next(null)}deletePositionElement(i){this.positionElements.delete(tc(i))}setOptions(i){this.options=i}static#e=this.\u0275fac=function(l){return new(l||a)(Se(pn),Se(Ri),Se(Zo))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function tc(a){return"string"==typeof a?document.querySelector(a):a instanceof dn?a.nativeElement:a??null}class Ng{constructor(n,i,l){this.nodes=n,this.viewRef=i,this.componentRef=l}}class tH{constructor(n,i,l,h,p,y,b,C,M){this._viewContainerRef=n,this._renderer=i,this._elementRef=l,this._injector=h,this._componentFactoryResolver=p,this._ngZone=y,this._applicationRef=b,this._posService=C,this._document=M,this.onBeforeShow=new mn,this.onShown=new mn,this.onBeforeHide=new mn,this.onHidden=new mn,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);const i=mr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(i,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof dn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const l=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!l)return;l.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const i=this._componentRef.location.nativeElement;return i.parentNode?.removeChild(i),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;const i=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),l=this._listenOpts.show=p=>{n.show?n.show(p):this.show(p),p()};return this._renderer&&(this._unregisterListenersFn=function sq(a,n){const i=function D5(a,n=aq){const i=(a||"").trim();if(0===i.length)return[];const l=i.split(/\s+/).map(p=>p.split(":")).map(p=>{const y=n[p[0]]||p;return new oq(y[0],y[1])}),h=l.filter(p=>p.isManual());if(h.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===h.length&&l.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return l}(n.triggers),l=n.target;if(1===i.length&&i[0].isManual())return Function.prototype;const h=[],p=[],y=()=>{p.forEach(b=>h.push(b())),p.length=0};return i.forEach(b=>{const C=b.open===b.close,M=C?n.toggle:n.show;if(!C&&b.close&&n.hide){const I=b.close,R=n.hide;p.push(()=>a.listen(l,I,R))}M&&h.push(a.listen(l,b.open,()=>M(y)))}),()=>{h.forEach(b=>b())}}(this._renderer,{target:n.target,triggers:n.triggers,show:l,hide:i,toggle:p=>{this.isShown?i():l(p)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,i){return n&&i&&(this._inlineViewRef=n.createEmbeddedView(i)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function lq(a,n){return n.outsideClick?a.listen("document","click",i=>{n.target&&n.target.contains(i.target)||n.targets&&n.targets.some(l=>l.contains(i.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function fx(a,n){return n.outsideEsc?a.listen("document","keyup.esc",i=>{n.target&&n.target.contains(i.target)||n.targets&&n.targets.some(l=>l.contains(i.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,i,l){if(!n)return new Ng([]);if(n instanceof il){if(this._viewContainerRef){const y=this._viewContainerRef.createEmbeddedView(n,i);return y.markForCheck(),new Ng([y.rootNodes],y)}const p=n.createEmbeddedView({});return this._applicationRef.attachView(p),new Ng([p.rootNodes],p)}if("function"==typeof n){const p=this._componentFactoryResolver.resolveComponentFactory(n),y=mr.create({providers:this._providers,parent:this._injector}),b=p.create(y);return Object.assign(b.instance,l),this._applicationRef.attachView(b.hostView),new Ng([[b.location.nativeElement]],b.hostView,b)}const h=this._renderer?[this._renderer.createText(`${n}`)]:[];return new Ng([h])}}let X2=(()=>{class a{constructor(i,l,h,p,y,b){this._componentFactoryResolver=i,this._ngZone=l,this._injector=h,this._posService=p,this._applicationRef=y,this._document=b}createLoader(i,l,h){return new tH(l,h,i,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(Kp),Se(pn),Se(mr),Se(Y2),Se(ll),Se(wr))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Uq=["*"];let K2=(()=>{class a{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})(),nH=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();const Cx={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},rH=new ke("override-default-config");let jq=(()=>{class a{constructor(i,l,h){this._element=l,this._renderer=h,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},i)}ngOnInit(){this._focusEl=Cr.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),Cr&&Cr.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(Cr.body,"modal-open"),this._renderer.setStyle(Cr.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(i){this.clickStartedInContent=i.target!==this._element.nativeElement}onClickStop(i){this.config.ignoreBackdropClick||"static"===this.config.backdrop||i.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(i){this.isShown&&((27===i.keyCode||"Escape"===i.key)&&i.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,Cr&&Cr.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(Cr.body,"modal-open"),this._renderer.setStyle(Cr.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(l){return new(l||a)(he(nH),he(dn),he(Qr))};static#t=this.\u0275cmp=qr({type:a,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(l,h){1&l&&He("mousedown",function(y){return h.onClickStarted(y)})("click",function(y){return h.onClickStop(y)})("popstate",function(){return h.onPopState()},!1,IT)("keydown.esc",function(y){return h.onEsc(y)},!1,IT),2&l&&xi("aria-modal",!0)("aria-labelledby",h.config.ariaLabelledBy)("aria-describedby",h.config.ariaDescribedby)},ngContentSelectors:Uq,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(l,h){1&l&&(function Py(a){const n=_e()[pr][vt];if(!n.projection){const l=n.projection=Wm(a?a.length:1,null),h=l.slice();let p=n.child;for(;null!==p;){const y=a?xa(p,a):0;null!==y&&(h[y]?h[y].projectionNext=p:l[y]=p,h[y]=p),p=p.next}}}(),J(0,"div",0)(1,"div",1),function hv(a,n=0,i){const l=_e(),h=un(),p=If(h,Jt+a,16,null,i||null);null===p.projection&&(p.projection=n),Hw(),(!l[Xl]||Nm())&&32!=(32&p.flags)&&function nT(a,n,i){Ic(n[St],0,n,i,Fp(a,i,n),QD(i.parent||n[vt],i,n))}(h,l,p)}(2),te()()),2&l&&Lo("modal-dialog"+(h.config.class?" "+h.config.class:""))},dependencies:[Dq],encapsulation:2})}return a})(),Wq=(()=>{class a{get isAnimated(){return this._isAnimated}set isAnimated(i){this._isAnimated=i}get isShown(){return this._isShown}set isShown(i){this._isShown=i,i?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(i,l){this._isAnimated=!1,this._isShown=!1,this.element=i,this.renderer=l}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),k2.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(l){return new(l||a)(he(dn),he(Qr))};static#t=this.\u0275cmp=qr({type:a,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(l,h){},encapsulation:2})}return a})(),qq=1,xx=(()=>{class a{constructor(i,l,h){this.clf=l,this.modalDefaultOption=h,this.onShow=new mn,this.onShown=new mn,this.onHide=new mn,this.onHidden=new mn,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=i.createRenderer(null,null),this.config=h?Object.assign({},Cx,h):Cx}show(i,l){this._focusEl=Cr.activeElement,this.modalsCount++,this._createLoaders();const h=l?.id||qq++;return this.config=this.modalDefaultOption?Object.assign({},Cx,this.modalDefaultOption,l):Object.assign({},Cx,l),this.config.id=h,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(i)}hide(i){(1===this.modalsCount||null==i)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=i?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(i),this.removeLoaders(i)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const i=!0===this.config.backdrop||"static"===this.config.backdrop,l=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),i&&l&&(this._backdropLoader.attach(Wq).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(i){const l=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const y of this.config.providers)l.provide(y);const h=new K2,p=l.provide({provide:nH,useValue:this.config}).provide({provide:K2,useValue:h}).attach(jq).to("body");return h.hide=()=>this.hide(h.id),h.setClass=y=>{p.instance&&(p.instance.config.class=y)},h.onHidden=new mn,h.onHide=new mn,this.copyEvent(l.onBeforeHide,h.onHide),this.copyEvent(l.onHidden,h.onHidden),p.show({content:i,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),p.instance&&(p.instance.level=this.getModalsCount(),h.content=l.getInnerComponent(),h.id=p.instance.config?.id),h}_hideModal(i){if(null!=i){const l=this.loaders.findIndex(p=>p.instance?.config.id===i),h=this.loaders[l];h&&h.hide(i)}else this.loaders.forEach(l=>{l.instance&&l.hide(l.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(i){this.lastDismissReason=i}removeBackdrop(){this._renderer.removeClass(Cr.body,"modal-open"),this._renderer.setStyle(Cr.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=Cr.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Cr&&(this.originalBodyPadding=parseInt(window.getComputedStyle(Cr.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(Cr.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Cr.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const i=this._renderer.createElement("div");this._renderer.addClass(i,"modal-scrollbar-measure"),this._renderer.appendChild(Cr.body,i);const l=i.offsetWidth-i.clientWidth;return this._renderer.removeChild(Cr.body,i),l}_createLoaders(){const i=this.clf.createLoader();this.copyEvent(i.onBeforeShow,this.onShow),this.copyEvent(i.onShown,this.onShown),this.copyEvent(i.onBeforeHide,this.onHide),this.copyEvent(i.onHidden,this.onHidden),this.loaders.push(i)}removeLoaders(i){if(null!=i){const l=this.loaders.findIndex(h=>h.instance?.config.id===i);l>=0&&(this.loaders.splice(l,1),this.loaders.forEach((h,p)=>{h.instance&&(h.instance.level=p+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(i,l){i.subscribe(h=>{l.emit(this.lastDismissReason||h)})}static#e=this.\u0275fac=function(l){return new(l||a)(Se(Ri),Se(X2),Se(rH,8))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();O5.forRoot();let Zq=(()=>{class a{static forRoot(){return{ngModule:a,providers:[xx,X2,Y2]}}static forChild(){return{ngModule:a,providers:[xx,X2,Y2]}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({imports:[O5]})}return a})();class iH{}class J2{}const Il="*";function Yq(a,n){return{type:7,name:a,definitions:n,options:{}}}function oH(a,n=null){return{type:4,styles:n,timings:a}}function aH(a,n=null){return{type:2,steps:a,options:n}}function j_(a){return{type:6,styles:a,offset:null}}function eL(a,n,i){return{type:0,name:a,styles:n,options:i}}function sH(a,n,i=null){return{type:1,expr:a,animation:n,options:i}}class Pl{constructor(n=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(l=>l()),i.length=0}}class Dx{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let i=0,l=0,h=0;const p=this.players.length;0==p?queueMicrotask(()=>this._onFinish()):this.players.forEach(y=>{y.onDone(()=>{++i==p&&this._onFinish()}),y.onDestroy(()=>{++l==p&&this._onDestroy()}),y.onStart(()=>{++h==p&&this._onStart()})}),this.totalTime=this.players.reduce((y,b)=>Math.max(y,b.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const i=n*this.totalTime;this.players.forEach(l=>{const h=l.totalTime?Math.min(1,i/l.totalTime):1;l.setPosition(h)})}getPosition(){const n=this.players.reduce((i,l)=>null===i||l.totalTime>i.totalTime?l:i,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(l=>l()),i.length=0}}const lH=["toast-component",""];function uH(a,n){if(1&a){const i=zn();J(0,"button",5),He("click",function(){return rt(i),it(Oe().remove())}),J(1,"span",6),oe(2,"\xd7"),te()()}}function cH(a,n){if(1&a&&(Vf(0),oe(1),is()),2&a){const i=Oe(2);ue(1),or("[",i.duplicatesCount+1,"]")}}function Kq(a,n){if(1&a&&(J(0,"div"),oe(1),ze(2,cH,2,1,"ng-container",4),te()),2&a){const i=Oe();Lo(i.options.titleClass),xi("aria-label",i.title),ue(1),or(" ",i.title," "),ue(1),Ae("ngIf",i.duplicatesCount)}}function hH(a,n){if(1&a&&Ct(0,"div",7),2&a){const i=Oe();Lo(i.options.messageClass),Ae("innerHTML",i.message,ey)}}function Qq(a,n){if(1&a&&(J(0,"div",8),oe(1),te()),2&a){const i=Oe();Lo(i.options.messageClass),xi("aria-label",i.message),ue(1),or(" ",i.message," ")}}function Jq(a,n){if(1&a&&(J(0,"div"),Ct(1,"div",9),te()),2&a){const i=Oe();ue(1),fv("width",i.width+"%")}}class rZ{_attachedHost;component;viewContainerRef;injector;constructor(n,i){this.component=n,this.injector=i}attach(n,i){return this._attachedHost=n,n.attach(this,i)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class iZ{_attachedPortal;_disposeFn;attach(n,i){return this._attachedPortal=n,this.attachComponentPortal(n,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}class dH{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Pn;_activate=new Pn;_manualClose=new Pn;_resetTimeout=new Pn;_countDuplicate=new Pn;constructor(n){this._overlayRef=n}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,i){n&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}}class Mx{toastId;config;message;title;toastType;toastRef;_onTap=new Pn;_onAction=new Pn;constructor(n,i,l,h,p,y){this.toastId=n,this.config=i,this.message=l,this.title=h,this.toastType=p,this.toastRef=y,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const pH=new ke("ToastConfig");class oZ extends iZ{_hostDomElement;_componentFactoryResolver;_appRef;constructor(n,i,l){super(),this._hostDomElement=n,this._componentFactoryResolver=i,this._appRef=l}attachComponentPortal(n,i){const l=this._componentFactoryResolver.resolveComponentFactory(n.component);let h;return h=l.create(n.injector),this._appRef.attachView(h.hostView),this.setDisposeFn(()=>{this._appRef.detachView(h.hostView),h.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(h),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(h)),h}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let aZ=(()=>{class a{_document=Ie(wr);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i=this._document.createElement("div");i.classList.add("overlay-container"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),this._containerElement=i}static \u0275fac=function(l){return new(l||a)};static \u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class Ax{_portalHost;constructor(n){this._portalHost=n}attach(n,i=!0){return this._portalHost.attach(n,i)}detach(){return this._portalHost.detach()}}let gQ=(()=>{class a{_overlayContainer=Ie(aZ);_componentFactoryResolver=Ie(Kp);_appRef=Ie(ll);_document=Ie(wr);_paneElements=new Map;create(i,l){return this._createOverlayRef(this.getPaneElement(i,l))}getPaneElement(i="",l){return this._paneElements.get(l)||this._paneElements.set(l,{}),this._paneElements.get(l)[i]||(this._paneElements.get(l)[i]=this._createPaneElement(i,l)),this._paneElements.get(l)[i]}_createPaneElement(i,l){const h=this._document.createElement("div");return h.id="toast-container",h.classList.add(i),h.classList.add("toast-container"),l?l.getContainerElement().appendChild(h):this._overlayContainer.getContainerElement().appendChild(h),h}_createPortalHost(i){return new oZ(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new Ax(this._createPortalHost(i))}static \u0275fac=function(l){return new(l||a)};static \u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Ph=(()=>{class a{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(i,l,h,p,y){this.overlay=l,this._injector=h,this.sanitizer=p,this.ngZone=y,this.toastrConfig={...i.default,...i.config},i.config.iconClasses&&(this.toastrConfig.iconClasses={...i.default.iconClasses,...i.config.iconClasses})}show(i,l,h={},p=""){return this._preBuildNotification(p,i,l,this.applyConfig(h))}success(i,l,h={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",i,l,this.applyConfig(h))}error(i,l,h={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",i,l,this.applyConfig(h))}info(i,l,h={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",i,l,this.applyConfig(h))}warning(i,l,h={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",i,l,this.applyConfig(h))}clear(i){for(const l of this.toasts)if(void 0!==i){if(l.toastId===i)return void l.toastRef.manualClose()}else l.toastRef.manualClose()}remove(i){const l=this._findToast(i);if(!l||(l.activeToast.toastRef.close(),this.toasts.splice(l.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const h=this.toasts[this.currentlyActive].toastRef;h.isInactive()||(this.currentlyActive=this.currentlyActive+1,h.activate())}return!0}findDuplicate(i="",l="",h,p){const{includeTitleDuplicates:y}=this.toastrConfig;for(const b of this.toasts)if((!y||y&&b.title===i)&&b.message===l)return b.toastRef.onDuplicate(h,p),b;return null}applyConfig(i={}){return{...this.toastrConfig,...i}}_findToast(i){for(let l=0;l<this.toasts.length;l++)if(this.toasts[l].toastId===i)return{index:l,activeToast:this.toasts[l]};return null}_preBuildNotification(i,l,h,p){return p.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,l,h,p)):this._buildNotification(i,l,h,p)}_buildNotification(i,l,h,p){if(!p.toastComponent)throw new Error("toastComponent required");const y=this.findDuplicate(h,l,this.toastrConfig.resetTimeoutOnDuplicate&&p.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&h||l)&&this.toastrConfig.preventDuplicates&&null!==y)return y;this.previousToastMessage=l;let b=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(b=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const C=this.overlay.create(p.positionClass,this.overlayContainer);this.index=this.index+1;let M=l;l&&p.enableHtml&&(M=this.sanitizer.sanitize(Xi.HTML,l));const I=new dH(C),R=new Mx(this.index,p,M,h,i,I),G=mr.create({providers:[{provide:Mx,useValue:R}],parent:this._injector}),$=new rZ(p.toastComponent,G),Z=C.attach($,p.newestOnTop);I.componentInstance=Z.instance;const ee={toastId:this.index,title:h||"",message:l||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:R.onTap(),onAction:R.onAction(),portal:Z};return b||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}static \u0275fac=function(l){return new(l||a)(Se(pH),Se(gQ),Se(mr),Se(DV),Se(pn))};static \u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const $_={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class a{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(i,l,h){this.toastrService=i,this.toastPackage=l,this.ngZone=h,this.message=l.message,this.title=l.title,this.options=l.config,this.originalTimeout=l.config.timeOut,this.toastClasses=`${l.toastType} ${l.config.toastClass}`,this.sub=l.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=l.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=l.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=l.toastRef.countDuplicate().subscribe(p=>{this.duplicatesCount=p}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const i=(new Date).getTime();this.width=(this.hideTime-i)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,l){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),l)):this.timeout=setTimeout(()=>i(),l)}outsideInterval(i,l){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),l)):this.intervalId=setInterval(()=>i(),l)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}static \u0275fac=function(l){return new(l||a)(he(Ph),he(Mx),he(pn))};static \u0275cmp=qr({type:a,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(l,h){1&l&&He("click",function(){return h.tapToast()})("mouseenter",function(){return h.stickAround()})("mouseleave",function(){return h.delayedHideToast()}),2&l&&(Zc("@flyInOut",h.state),Lo(h.toastClasses),fv("display",h.displayStyle))},standalone:!0,features:[Oo],attrs:lH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(l,h){1&l&&(ze(0,uH,3,0,"button",0),ze(1,Kq,3,5,"div",1),ze(2,hH,1,3,"div",2),ze(3,Qq,2,4,"div",3),ze(4,Jq,2,2,"div",4)),2&l&&(Ae("ngIf",h.options.closeButton),ue(1),Ae("ngIf",h.title),ue(1),Ae("ngIf",h.message&&h.options.enableHtml),ue(1),Ae("ngIf",h.message&&!h.options.enableHtml),ue(1),Ae("ngIf",h.options.progressBar))},dependencies:[sh],encapsulation:2,data:{animation:[Yq("flyInOut",[eL("inactive",j_({opacity:0})),eL("active",j_({opacity:1})),eL("removed",j_({opacity:0})),sH("inactive => active",oH("{{ easeTime }}ms {{ easing }}")),sH("active => removed",oH("{{ easeTime }}ms {{ easing }}"))])]}})}return a})()},vH=(a={})=>pb([{provide:pH,useValue:{default:$_,config:a}}]);let gH=(()=>{class a{static forRoot(i={}){return{ngModule:a,providers:[vH(i)]}}static \u0275fac=function(l){return new(l||a)};static \u0275mod=ir({type:a});static \u0275inj=fr({})}return a})(),Ex=(()=>{class a{constructor(i){this.toastr=i,this.fileOver=!1,this.dropFormat=new mn,this.selectedFile=null}onDragOver(i){i.preventDefault(),i.stopPropagation(),this.fileOver=!0}onDragLeave(i){i.preventDefault(),i.stopPropagation(),this.fileOver=!1}onDrop(i){i.preventDefault(),i.stopPropagation(),this.fileOver=!1;const l=i.dataTransfer.files;if(1!=l.length)return this.toastr.warning("The number of files is not valid");const h=l[0];if(!h.name.endsWith("xlsx"))return this.toastr.warning("Invalid file format");this.selectedFile=h,this.dropFormat.emit(this.selectedFile)}static#e=this.\u0275fac=function(l){return new(l||a)(he(Ph))};static#t=this.\u0275dir=ht({type:a,selectors:[["","dropZoneFormat",""]],hostVars:2,hostBindings:function(l,h){1&l&&He("dragover",function(y){return h.onDragOver(y)})("dragleave",function(y){return h.onDragLeave(y)})("drop",function(y){return h.onDrop(y)}),2&l&&jn("drop-format",h.fileOver)},outputs:{dropFormat:"dropFormat"}})}return a})();const lZ=["fileInput"];function uZ(a,n){1&a&&Ct(0,"input",33)}function yH(a,n){1&a&&Ct(0,"input",34)}function _H(a,n){1&a&&Ct(0,"input",35)}function cZ(a,n){1&a&&Ct(0,"input",36)}function iL(a,n){1&a&&(J(0,"div"),oe(1," El rango de fechas no es v\xe1lido. "),te())}function Zd(a,n){if(1&a){const i=zn();J(0,"tr")(1,"td")(2,"button",41),He("click",function(){const p=rt(i).$implicit;return it(Oe(2).eliminarReporteMensual(p.id))}),oe(3,"Eliminar"),te()(),J(4,"td"),oe(5),Aa(6,"date"),te(),J(7,"td",42),He("click",function(){const p=rt(i).$implicit,y=Oe(2),b=Un(44);return it(y.verDetalleReporteMensual(b,p.id))}),oe(8),te()()}if(2&a){const i=n.$implicit;ue(5),xt(Qf(6,2,i.fecha,"MM/yyyy")),ue(3),or(" ",i.data.total_mes," ")}}function wH(a,n){if(1&a&&(J(0,"table",37)(1,"thead")(2,"tr"),Ct(3,"th",38),J(4,"th",39),oe(5,"Fecha"),te(),J(6,"th",39),oe(7,"Ingresos"),te()()(),J(8,"tbody"),ze(9,Zd,9,5,"tr",40),te()()),2&a){const i=Oe();ue(9),Ae("ngForOf",i.reportes)}}function hZ(a,n){if(1&a&&(J(0,"tr")(1,"td"),oe(2),Aa(3,"date"),te(),J(4,"td"),oe(5),te()()),2&a){const i=n.$implicit;ue(2),xt(Qf(3,2,i.fecha,"dd/MM/YY")),ue(3),xt(i.total)}}function fZ(a,n){if(1&a){const i=zn();J(0,"button",46),He("click",function(){const p=rt(i).index;return it(Oe(2).changePage(p+1))}),oe(1),te()}if(2&a){const i=n.index;jn("active",i+1===Oe(2).currentPage),ue(1),or(" ",i+1," ")}}const bH=function(){return[]};function oL(a,n){if(1&a){const i=zn();J(0,"div",26)(1,"table",37)(2,"thead")(3,"tr")(4,"th",39),oe(5,"Fecha"),te(),J(6,"th",39),oe(7,"Ingresos"),te()()(),J(8,"tbody"),ze(9,hZ,6,5,"tr",40),te()(),J(10,"div",43)(11,"button",44),He("click",function(){rt(i);const h=Oe();return it(h.changePage(h.currentPage-1))}),oe(12,"Anterior"),te(),ze(13,fZ,2,3,"button",45),J(14,"button",44),He("click",function(){rt(i);const h=Oe();return it(h.changePage(h.currentPage+1))}),oe(15,"Siguiente"),te()()()}if(2&a){const i=Oe();ue(9),Ae("ngForOf",i.displayedItems),ue(2),Ae("disabled",1===i.currentPage),ue(2),Ae("ngForOf",TS(4,bH).constructor(i.totalPages)),ue(1),Ae("disabled",i.currentPage===i.totalPages)}}function aL(a,n){if(1&a){const i=zn();J(0,"div",63),He("dropFormat",function(h){return rt(i),it(Oe(2).onFileDrop(h))})("click",function(){return rt(i),Oe(),it(Un(11).click())}),oe(1," Seleccionar Archivo "),te()}}function Vg(a,n){if(1&a&&(J(0,"div",64),oe(1),te()),2&a){const i=Oe(2);ue(1),or(" ",i.selectedFileName," ")}}function dZ(a,n){1&a&&(J(0,"div",65)(1,"div",66)(2,"span",67),oe(3,"Cargando..."),te()(),J(4,"p"),oe(5,"Cargando..."),te()())}function pZ(a,n){if(1&a){const i=zn();J(0,"div",47)(1,"h1",48),oe(2,"Ingresar Reporte Ingresos Mensual"),te(),J(3,"button",49),He("click",function(){return rt(i),it(Oe().closeModal())}),te()(),J(4,"div",50)(5,"form",51),He("ngSubmit",function(h){rt(i);const p=Oe(),y=Un(42);return it(p.onSubmit(h,y))}),J(6,"div",52)(7,"div",53),ze(8,aL,2,0,"div",54),ze(9,Vg,2,1,"div",55),J(10,"input",56,57),He("change",function(h){return rt(i),it(Oe().onFileSelected(h))}),te()(),J(12,"div",53)(13,"input",58,59),He("change",function(){rt(i);const h=Un(14);return it(Oe().validarFecha(h.value))}),te()()(),J(15,"div",60)(16,"button",61),He("click",function(){return rt(i),it(Oe().showSpinner=!0)}),oe(17,"Cargar Reporte"),te()(),ze(18,dZ,6,0,"div",62),te()()}if(2&a){const i=Oe();ue(5),Ae("formGroup",i.miFormulario2),ue(3),Ae("ngIf",void 0===i.selectedFile),ue(1),Ae("ngIf",null!=i.selectedFile),ue(7),Ae("disabled",i.miFormulario2.invalid||!i.fechavalid),ue(2),Ae("ngIf",i.showSpinner)}}function SH(a,n){if(1&a&&(J(0,"table",76)(1,"thead")(2,"tr")(3,"th"),oe(4,"Concepto"),te(),J(5,"th"),oe(6,"Cantidad"),te()()(),J(7,"tbody")(8,"tr")(9,"td"),oe(10,"Inscripciones"),te(),J(11,"td"),oe(12),te()(),J(13,"tr")(14,"td"),oe(15,"Venta de Productos"),te(),J(16,"td"),oe(17),te()(),J(18,"tr")(19,"td"),oe(20,"Subvenciones"),te(),J(21,"td"),oe(22),te()(),J(23,"tr")(24,"td"),oe(25,"Auxiliares"),te(),J(26,"td"),oe(27),te()(),J(28,"tr")(29,"td"),oe(30,"Titulos"),te(),J(31,"td"),oe(32),te()()()()),2&a){const i=Oe(2);ue(12),xt(i.reporteMensual.DatosMensuales.inscripciones_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.ventaProductos_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.subvenciones_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.auxiliares_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.titulos_total_mes)}}function CH(a,n){if(1&a&&(J(0,"tr")(1,"td"),oe(2),te(),J(3,"td"),oe(4),te()()),2&a){const i=n.$implicit,l=n.index,h=Oe(3);ue(2),xt(i),ue(2),xt(h.reporteMensual.Diario.datosDelRangoTotalDia[l])}}function xH(a,n){if(1&a&&(J(0,"table",76)(1,"thead")(2,"tr")(3,"th"),oe(4,"Fecha"),te(),J(5,"th"),oe(6,"Cantidad"),te()()(),J(7,"tbody"),ze(8,CH,5,2,"tr",40),te()()),2&a){const i=Oe(2);ue(8),Ae("ngForOf",i.reporteMensual.Diario.datosDelRangoDias)}}function Lh(a,n){if(1&a){const i=zn();J(0,"div",47)(1,"h1",48),oe(2,"Ingresos"),te(),J(3,"button",49),He("click",function(){return rt(i),it(Oe().closeModal())}),te()(),J(4,"div",50)(5,"h2"),oe(6,"Datos Mensuales"),te(),J(7,"div",68),Ct(8,"input",69,70),J(10,"label",71),He("click",function(){return rt(i),it(Un(9).click())}),oe(11,"Ocultar Datos Mensuales"),te()(),ze(12,SH,33,5,"table",72),J(13,"h2"),oe(14,"Datos Diarios"),te(),J(15,"div",68),Ct(16,"input",69,73),J(18,"label",71),He("click",function(){return rt(i),it(Un(17).click())}),oe(19,"Ocultar Datos Diarios"),te()(),ze(20,xH,9,1,"table",72),te(),J(21,"div",74)(22,"button",75),He("click",function(){return rt(i),it(Oe().insertarReporteMensual())}),oe(23,"Cargar Informaci\xf3n"),te()()}if(2&a){const i=Oe();ue(12),Ae("ngIf",!i.ocultarDatosMensuales),ue(8),Ae("ngIf",!i.ocultarDatosDiarios)}}function vZ(a,n){if(1&a&&(J(0,"div",50)(1,"h2"),oe(2),Aa(3,"date"),te(),J(4,"table",76)(5,"thead")(6,"tr")(7,"th"),oe(8,"Concepto"),te(),J(9,"th"),oe(10,"Cantidad"),te()()(),J(11,"tbody")(12,"tr")(13,"td"),oe(14,"Inscripciones"),te(),J(15,"td"),oe(16),te()(),J(17,"tr")(18,"td"),oe(19,"Venta de Productos"),te(),J(20,"td"),oe(21),te()(),J(22,"tr")(23,"td"),oe(24,"Subvenciones"),te(),J(25,"td"),oe(26),te()(),J(27,"tr")(28,"td"),oe(29,"Auxiliares"),te(),J(30,"td"),oe(31),te()(),J(32,"tr")(33,"td"),oe(34,"Titulos"),te(),J(35,"td"),oe(36),te()()()()()),2&a){const i=Oe(2);ue(2),or("Datos del Reporte ",Qf(3,6,i.reporte[0].fecha,"MM/yyyy"),""),ue(14),xt(i.reporte[0].data.inscripciones_total_mes),ue(5),xt(i.reporte[0].data.ventaProductos_total_mes),ue(5),xt(i.reporte[0].data.subvenciones_total_mes),ue(5),xt(i.reporte[0].data.auxiliares_total_mes),ue(5),xt(i.reporte[0].data.titulos_total_mes)}}function DH(a,n){if(1&a){const i=zn();J(0,"div",47)(1,"h1",48),oe(2,"Ingresos"),te(),J(3,"button",49),He("click",function(){return rt(i),it(Oe().closeModal())}),te()(),ze(4,vZ,37,9,"div",77),J(5,"div",74)(6,"button",78),He("click",function(){return rt(i),it(Oe().closeModal())}),oe(7,"Cerrar"),te()()}if(2&a){const i=Oe();ue(4),Ae("ngIf",i.reporte),ue(2),jn("oscuro",i.esModoOscuro)}}let gZ=(()=>{class a{constructor(i,l,h,p,y,b,C,M){this.auth=i,this.router=l,this.ingresoService=h,this.homeService=p,this.logsService=y,this.modalService=b,this.fb=C,this.toast=M,this.showSpinner=!1,this.ocultarDatosMensuales=!1,this.ocultarDatosDiarios=!0,this.switchDiario=!1,this.currentPage=1,this.itemsPerPage=10,this.fechavalid=!1,this.esModoOscuro=!1,this.miFormulario=this.fb.group({fechaInicio:[null,Ra.required],fechaFin:[null,Ra.required]},{validators:this.dateRangeValidator}),this.miFormulario2=this.fb.group({archivo:[null,Ra.required],fechaRegistro:[null,Ra.required]})}onFileSelected(i){this.selectedFile=i.target.files[0],this.selectedFileName=this.selectedFile?this.selectedFile.name:void 0}onFileDrop(i){this.selectedFile=i,this.selectedFileName=this.selectedFile?i.name:void 0}validarFecha(i){this.ingresoService.validarMesA\u00f1o(i).subscribe(l=>{!0===l.disponible?this.fechavalid=!0:(this.fechavalid=!1,this.toast.warning(l.message,"OK",{timeOut:3e3}))},l=>{console.error("Error al enviar la informaci\xf3n",l)})}onSubmit(i,l){if(i.preventDefault(),this.selectedFile){const h=new FormData;h.append("archivoExcel",this.selectedFile),setTimeout(()=>{this.showSpinner=!1,this.ingresoService.CargarReporteExel(h).subscribe(p=>{this.reporteMensual=p.data,this.fechaMensual=document.getElementById("customDate").value,this.closeModal(),this.miFormulario2?.get("fechaRegistro")?.reset(),setTimeout(()=>{this.openModal(l)},500)},p=>{this.closeModal(),this.toast.error("Error al cargar el archivo","FAIL",{timeOut:3e3}),this.miFormulario2?.get("fechaRegistro")?.reset()})},2e3)}else console.error("Debes seleccionar un archivo")}openModal(i){this.bsModalRef=this.modalService.show(i,{backdrop:"static",keyboard:!1})}closeModal(){this.clearFileInput(),this.bsModalRef?.hide()}clearFileInput(){this.selectedFile=void 0,this.selectedFileName=void 0}insertarReporteMensual(){const i=this.fechaMensual,l={fechas:this.reporteMensual.Diario.datosDelRangoDias,totales:this.reporteMensual.Diario.datosDelRangoTotalDia},h={auxiliares_total_mes:this.reporteMensual.DatosMensuales.auxiliares_total_mes,inscripciones_total_mes:this.reporteMensual.DatosMensuales.inscripciones_total_mes,subvenciones_total_mes:this.reporteMensual.DatosMensuales.subvenciones_total_mes,titulos_total_mes:this.reporteMensual.DatosMensuales.titulos_total_mes,ventaProductos_total_mes:this.reporteMensual.DatosMensuales.ventaProductos_total_mes,total_mes:this.reporteMensual.DatosMensuales.total_mes};console.log(h,l,i),this.ingresoService.enviarReporte(l,h,i).subscribe(p=>{console.log(p),this.logsService.guardarActividad(this.user,this.gmail,p.message).subscribe(),this.closeModal(),this.homeService.notifyUpdate(!0)},p=>{console.error("Error al enviar la informaci\xf3n",p),this.closeModal()})}filtrarRegistros(){this.reportes=void 0;const i=this.miFormulario?.get("fechaInicio")?.value,l=this.miFormulario.get("fechaFin")?.value;0==this.switchDiario?this.ingresoService.obtenerReportesPorMes(i,l).subscribe(h=>{this.reportes=h;let p={},y=[];this.reportes.forEach(b=>{p={time:this.filtrarFecha(b.fecha),value:b.data.total_mes},y.push(p)}),this.lineSeries.setData(y),this.areaSeries.setData(y)},h=>{console.error("Error obteniendo los reportes:",h),this.toast.warning("No hay datos disponibles en las fechas seleccionadas","OK",{timeOut:3e3})}):this.ingresoService.obtenerReportesPorDias(i,l).subscribe(h=>{this.IngresosDiarios=h;let p={},y=[];this.IngresosDiarios.forEach(b=>{p={time:this.filtrarFecha(b.fecha),value:parseInt(b.total)},y.push(p)}),console.log(y),this.lineSeries.setData(y),this.areaSeries.setData(y),this.chart.timeScale().fitContent()},h=>{console.error("Error obteniendo los reportes:",h),this.toast.warning("No hay datos disponibles en las fechas seleccionadas","OK",{timeOut:3e3})}),this.chart.timeScale().fitContent()}get displayedItems(){const i=(this.currentPage-1)*this.itemsPerPage;return this.IngresosDiarios.slice(i,i+this.itemsPerPage)}get totalPages(){return Math.ceil(this.IngresosDiarios.length/this.itemsPerPage)}changePage(i){i>=1&&i<=this.totalPages&&(this.currentPage=i)}onSwitchChange(){this.switchDiario=!this.switchDiario,this.IngresosDiarios=void 0,this.reportes=void 0}dateRangeValidator(i){const l=i.get("fechaInicio"),h=i.get("fechaFin");if(l&&h){const p=l.value,y=h.value;if(p&&y&&p>y)return{dateRangeInvalid:!0}}return null}verDetalleReporteMensual(i,l){this.openModal(i),this.ingresoService.obtenerReporteMensualPorID(l).subscribe(h=>{this.reporte=h,console.log(this.reporte)},h=>{console.error("Error obteniendo los reportes:",h)})}eliminarReporteMensual(i){Id().fire({title:"\xbfEstas Seguro?",text:"No podras desaser la acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:"Cancelar"}).then(l=>{l.value?this.ingresoService.eliminarReporteDiarioPorId(i).subscribe(h=>{const p=new Date(h.data.fecha),y=`${p.getMonth()+1}/${p.getFullYear()}`;this.logsService.guardarActividad(this.user,this.gmail,h.message+" "+y).subscribe(),this.filtrarRegistros()},h=>{console.error("Error obteniendo los reportes:",h)}):l.dismiss===Id().DismissReason.cancel&&Id().fire("Cancelado","Ingreso no eliminado","error")})}modoOscuro(){this.homeService.modoOscuro.subscribe(i=>{0==i&&this.chart.applyOptions({layout:{background:{color:"#212529"},textColor:"#fff"}}),1==i&&this.chart.applyOptions({layout:{background:{color:"#000000"},textColor:"#fff"}})})}ngOnInit(){this.homeService.esModoOscuro$.subscribe(p=>{this.esModoOscuro=p});const i=window.navigator.languages[0],l=Intl.NumberFormat(i,{style:"currency",currency:"MXN"}).format;this.chart=K3("chart-container-ingresos",{localization:{priceFormatter:l},layout:{background:{color:"#000000"},textColor:"#d1d4dc",fontFamily:"'Roboto', sans-serif"},grid:{vertLines:{visible:!1},horzLines:{color:"rgba(42, 46, 57, 0.5)"}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1}}),this.chart.applyOptions({crosshair:{style:iP.Solid,mode:A1.Normal,vertLine:{width:8,color:"#000000",labelBackgroundColor:"#9B7DFF"},horzLine:{color:"#9B7DFF",labelBackgroundColor:"#9B7DFF"}}}),this.areaSeries=this.chart.addAreaSeries({topColor:"rgba(76, 175, 80, 0.56)",bottomColor:"rgba(76, 175, 80, 0.04)",lineColor:"transparent",lineWidth:2,lastValueVisible:!1,crosshairMarkerVisible:!1}),this.lineSeries=this.chart.addLineSeries({color:"#47CA47"}),[{time:"2023-01-01",value:0}].forEach(p=>{this.lineSeries.update(p),this.areaSeries.update(p)}),console.log(this.esModoOscuro)}filtrarFecha(i){const l=new Date(i);return`${l.getFullYear()}-${(l.getMonth()+1).toString().padStart(2,"0")}-${l.getDate().toString().padStart(2,"0")}`}static#e=this.\u0275fac=function(l){return new(l||a)(he(Ju),he(Ur),he(L2),he(Lg),he(F_),he(xx),he(Y0),he(Ph))};static#t=this.\u0275cmp=qr({type:a,selectors:[["app-ingresos"]],viewQuery:function(l,h){if(1&l&&al(lZ,5),2&l){let p;l0(p=VS())&&(h.fileInput=p.first)}},decls:45,vars:15,consts:[[1,"container-fluid","w-100","h-100",2,"padding","0% 5%"],[1,"ingresos"],[1,"ingresos__informacion"],[1,"ingresos__grafica"],["id","container-grafica"],["id","chart-container-ingresos",1,"grafica-ingresos"],["type","button","id","boton-ingresar-reporte",1,"btn","btn-lg","btn-secondary",3,"click"],[3,"formGroup"],[1,"container-fluid","row","text-center"],[1,"col-2"],["type","date","class","form-control","id","rangoFecha1","formControlName","fechaInicio",4,"ngIf"],["type","month","class","form-control","id","rangoFecha1","formControlName","fechaInicio",4,"ngIf"],["for","fechaInicio"],["type","date","class","form-control","id","rangoFecha2","formControlName","fechaFin",4,"ngIf"],["type","month","class","form-control","id","rangoFecha2","formControlName","fechaFin",4,"ngIf"],["for","fechaFin"],[1,"col-4"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"click"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"me-2"],[1,"form-check","form-switch","custom-switch-size","d-inline-block"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"click","change"],["swichInput",""],[1,"ms-2"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"disabled","click"],[4,"ngIf"],[1,"table-container"],["class","custom-table",4,"ngIf"],["class","table-container",4,"ngIf"],["class","modal","tabindex","-1","role","dialog"],["template1",""],["template2",""],["detalleReporteModal",""],["type","date","id","rangoFecha1","formControlName","fechaInicio",1,"form-control"],["type","month","id","rangoFecha1","formControlName","fechaInicio",1,"form-control"],["type","date","id","rangoFecha2","formControlName","fechaFin",1,"form-control"],["type","month","id","rangoFecha2","formControlName","fechaFin",1,"form-control"],[1,"custom-table"],["scope","col",1,"eliminar-column"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"consultar-cell",3,"click"],[1,"pagination-container"],[3,"disabled","click"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"justify-content-center"],[1,"input-group","mb-3"],["dropZoneFormat","","class","drop-xlsx",3,"dropFormat","click",4,"ngIf"],["class","drop-xlsx-disable",4,"ngIf"],["type","file","id","customFile","accept",".xlsx","formControlName","archivo",1,"form-control",2,"display","none",3,"change"],["fileInput",""],["type","month","id","customDate","formControlName","fechaRegistro",1,"form-control",3,"change"],["fechaInput",""],[1,"modal-footer","col-12"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled","click"],["class","text-center",4,"ngIf"],["dropZoneFormat","",1,"drop-xlsx",3,"dropFormat","click"],[1,"drop-xlsx-disable"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"form-check"],["type","checkbox",1,"form-check-input"],["hideDM",""],[1,"form-check-label",3,"click"],["class","table",4,"ngIf"],["hideDD",""],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","w-100",3,"click"],[1,"table"],["class","modal-body",4,"ngIf"],["type","button",1,"btn","btn-secondary","w-100",3,"click"]],template:function(l,h){if(1&l){const p=zn();J(0,"div",0)(1,"div",1),Ct(2,"div",2)(3,"div",3),te(),J(4,"div")(5,"div",4),Ct(6,"div",5),J(7,"button",6),He("click",function(){rt(p);const b=Un(40);return it(h.openModal(b))}),oe(8,"Ingresar Reporte"),te()(),Ct(9,"hr"),te(),J(10,"form",7)(11,"div",8)(12,"div",9),ze(13,uZ,1,0,"input",10),ze(14,yH,1,0,"input",11),J(15,"label",12),oe(16,"Fecha Inicio"),te()(),J(17,"div",9),ze(18,_H,1,0,"input",13),ze(19,cZ,1,0,"input",14),J(20,"label",15),oe(21,"Fecha Fin"),te()(),J(22,"div",16)(23,"button",17),He("click",function(){return rt(p),it(Un(29).click())}),J(24,"div",18)(25,"span",19),oe(26,"Mensual"),te(),J(27,"div",20)(28,"input",21,22),He("click",function(){return rt(p),it(Un(29).click())})("change",function(){return h.onSwitchChange()}),te()(),J(30,"span",23),oe(31,"Diario"),te()()()(),J(32,"div",16)(33,"button",24),He("click",function(){return h.filtrarRegistros()}),oe(34,"Filtrar Registros "),te(),ze(35,iL,2,0,"div",25),te()()(),J(36,"div",26),ze(37,wH,10,1,"table",27),te(),ze(38,oL,16,5,"div",28),ze(39,pZ,19,5,"ng-template",29,30,Xc),ze(41,Lh,24,2,"ng-template",29,31,Xc),ze(43,DH,8,3,"ng-template",null,32,Xc),te()}2&l&&(ue(7),jn("oscuro",h.esModoOscuro),ue(3),Ae("formGroup",h.miFormulario),ue(3),Ae("ngIf",h.switchDiario),ue(1),Ae("ngIf",!h.switchDiario),ue(4),Ae("ngIf",h.switchDiario),ue(1),Ae("ngIf",!h.switchDiario),ue(4),jn("oscuro",h.esModoOscuro),ue(10),jn("oscuro",h.esModoOscuro),Ae("disabled",h.miFormulario.invalid),ue(2),Ae("ngIf",h.miFormulario.hasError("dateRangeInvalid")),ue(2),Ae("ngIf",h.reportes&&!h.switchDiario),ue(1),Ae("ngIf",h.IngresosDiarios&&h.switchDiario))},dependencies:[ah,sh,Wv,hh,Vv,vd,vh,Zv,Ex,iE],styles:[".grafica-ingresos[_ngcontent-%COMP%]{width:60vw;height:55vh}.drop-xlsx[_ngcontent-%COMP%]{width:100%;height:400px;font-size:larger;display:flex;align-items:center;justify-content:center;border:#666 dashed 5px;border-radius:5px!important;-webkit-user-select:none;user-select:none;cursor:pointer;transition:all .3s}.drop-xlsx-disable[_ngcontent-%COMP%]{width:100%;height:400px;font-size:larger;display:flex;align-items:center;justify-content:center;border:#666 dashed 5px;border-radius:5px!important;-webkit-user-select:none;user-select:none;transition:all .3s;background-color:#66666660}.drop-format[_ngcontent-%COMP%], .drop-xlsx[_ngcontent-%COMP%]:hover{background-color:#66666660}#container-grafica[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:70vh}#grafica[_ngcontent-%COMP%]{border-color:#000;border-style:solid;height:300px;width:600px}#boton-ingresar-reporte[_ngcontent-%COMP%]{margin-top:20px}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:20px 0;text-align:center;position:relative}.custom-table[_ngcontent-%COMP%]{width:80%;margin:auto;box-shadow:0 4px 12px #0000001a;border-collapse:separate;border-spacing:0;border-style:solid;border-color:#000}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:20px}.consultar-cell[_ngcontent-%COMP%]{cursor:pointer;text-align:center;font-weight:500;transition:background-color .3s}.eliminar-column[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;min-width:-moz-fit-content;min-width:fit-content;padding:0;text-align:center}.btn-danger[_ngcontent-%COMP%]{padding:7px 10px}.consultar-cell[_ngcontent-%COMP%]:hover{background-color:gray}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:3rem;height:1.5rem}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:before{width:3rem;height:1.5rem}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked:before{transform:translate(1.5rem)}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px 0}.pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e9e9e9;color:#000;border:none;padding:8px 12px;margin:0 4px;cursor:pointer;transition:background-color .2s}.pagination-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#666;color:#fff}.pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}"]})}return a})(),TH=(()=>{class a{constructor(i){this.httpClient=i,this.clienteURL="http://localhost:3000/gastos/"}CargarReporteExel(i){return this.httpClient.post(this.clienteURL+"cargar-excel",i)}enviarReporte(i,l,h){return this.httpClient.post(this.clienteURL+"cargar-registro",{reporteDiario:i,reporteMensual:l,fechaReporte:h})}validarMesA\u00f1o(i){return this.httpClient.post(this.clienteURL+"validar-fecha",{fecha:i})}obtenerReportesPorMes(i,l){return this.httpClient.get(this.clienteURL+`reporte-mensual/${i}/${l}`)}obtenerReportesPorDias(i,l){return this.httpClient.get(this.clienteURL+`reporte-diario/${i}/${l}`)}obtenerReporteMensualPorID(i){return this.httpClient.get(this.clienteURL+`reporte-mensual-porId/${i}`)}obtenerReporteDiarioPorId(i){return this.httpClient.get(this.clienteURL+`reporte-diario-porId/${i}`)}eliminarReporteDiarioPorId(i){return this.httpClient.delete(this.clienteURL+`eliminar-reporte-mensual-porId/${i}`)}obtenerGastosTotales(){return this.httpClient.get(this.clienteURL+"suma-total-mes")}obtenerGastosTotalesporFecha(i,l){return this.httpClient.get(this.clienteURL+`suma-total-mes/${i}/${l}`)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(sx))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const r=["fileInput"];function t(a,n){1&a&&Ct(0,"input",30)}function e(a,n){1&a&&Ct(0,"input",31)}function o(a,n){1&a&&Ct(0,"input",32)}function s(a,n){1&a&&Ct(0,"input",33)}function u(a,n){1&a&&(J(0,"div"),oe(1," El rango de fechas no es v\xe1lido. "),te())}function c(a,n){if(1&a){const i=zn();J(0,"tr")(1,"td")(2,"button",38),He("click",function(){const p=rt(i).$implicit;return it(Oe(2).eliminarReporteMensual(p.id))}),oe(3,"Eliminar"),te()(),J(4,"td"),oe(5),Aa(6,"date"),te(),J(7,"td",39),He("click",function(){const p=rt(i).$implicit,y=Oe(2),b=Un(41);return it(y.verDetalleReporteMensual(b,p.id))}),oe(8),te()()}if(2&a){const i=n.$implicit;ue(5),xt(Qf(6,2,i.fecha,"MM/yyyy")),ue(3),or(" ",i.data.total_mes," ")}}function f(a,n){if(1&a&&(J(0,"table",34)(1,"thead")(2,"tr"),Ct(3,"th",35),J(4,"th",36),oe(5,"Fecha"),te(),J(6,"th",36),oe(7,"Gastos"),te()()(),J(8,"tbody"),ze(9,c,9,5,"tr",37),te()()),2&a){const i=Oe();ue(9),Ae("ngForOf",i.reportes)}}function d(a,n){if(1&a&&(J(0,"tr")(1,"td"),oe(2),Aa(3,"date"),te(),J(4,"td"),oe(5),te()()),2&a){const i=n.$implicit;ue(2),xt(Qf(3,2,i.fecha,"dd/MM/YY")),ue(3),xt(i.total)}}function v(a,n){if(1&a){const i=zn();J(0,"button",43),He("click",function(){const p=rt(i).index;return it(Oe(2).changePage(p+1))}),oe(1),te()}if(2&a){const i=n.index;jn("active",i+1===Oe(2).currentPage),ue(1),or(" ",i+1," ")}}const g=function(){return[]};function m(a,n){if(1&a){const i=zn();J(0,"div",23)(1,"table",34)(2,"thead")(3,"tr")(4,"th",36),oe(5,"Fecha"),te(),J(6,"th",36),oe(7,"Gastos"),te()()(),J(8,"tbody"),ze(9,d,6,5,"tr",37),te()(),J(10,"div",40)(11,"button",41),He("click",function(){rt(i);const h=Oe();return it(h.changePage(h.currentPage-1))}),oe(12,"Anterior"),te(),ze(13,v,2,3,"button",42),J(14,"button",41),He("click",function(){rt(i);const h=Oe();return it(h.changePage(h.currentPage+1))}),oe(15,"Siguiente"),te()()()}if(2&a){const i=Oe();ue(9),Ae("ngForOf",i.displayedItems),ue(2),Ae("disabled",1===i.currentPage),ue(2),Ae("ngForOf",TS(4,g).constructor(i.totalPages)),ue(1),Ae("disabled",i.currentPage===i.totalPages)}}function _(a,n){if(1&a){const i=zn();J(0,"div",60),He("dropFormat",function(h){return rt(i),it(Oe(2).onFileDrop(h))})("click",function(){return rt(i),Oe(),it(Un(11).click())}),oe(1," Seleccionar Archivo "),te()}}function w(a,n){if(1&a){const i=zn();J(0,"div",61),He("click",function(){return rt(i),Oe(),it(Un(11).click())}),oe(1),te()}if(2&a){const i=Oe(2);ue(1),or(" ",i.selectedFileName," ")}}function S(a,n){1&a&&(J(0,"div",62)(1,"div",63)(2,"span",64),oe(3,"Cargando..."),te()(),J(4,"p"),oe(5,"Cargando..."),te()())}function x(a,n){if(1&a){const i=zn();J(0,"div",44)(1,"h1",45),oe(2,"Ingresar Reporte Gastos Mensual"),te(),J(3,"button",46),He("click",function(){return rt(i),it(Oe().closeModal())}),te()(),J(4,"div",47)(5,"form",48),He("ngSubmit",function(h){rt(i);const p=Oe(),y=Un(39);return it(p.onSubmit(h,y))}),J(6,"div",49)(7,"div",50),ze(8,_,2,0,"div",51),ze(9,w,2,1,"div",52),J(10,"input",53,54),He("change",function(h){return rt(i),it(Oe().onFileSelected(h))}),te()(),J(12,"div",50)(13,"input",55,56),He("change",function(){rt(i);const h=Un(14);return it(Oe().validarFecha(h.value))}),te()()(),J(15,"div",57)(16,"button",58),He("click",function(){return rt(i),it(Oe().showSpinner=!0)}),oe(17,"Cargar Reporte"),te()(),ze(18,S,6,0,"div",59),te()()}if(2&a){const i=Oe();ue(5),Ae("formGroup",i.miFormulario2),ue(3),Ae("ngIf",void 0===i.selectedFile),ue(1),Ae("ngIf",null!=i.selectedFile),ue(7),Ae("disabled",i.miFormulario2.invalid||!i.fechavalid),ue(2),Ae("ngIf",i.showSpinner)}}function D(a,n){if(1&a&&(J(0,"table",73)(1,"thead")(2,"tr")(3,"th"),oe(4,"Concepto"),te(),J(5,"th"),oe(6,"Cantidad"),te()()(),J(7,"tbody")(8,"tr")(9,"td"),oe(10,"Salarios"),te(),J(11,"td"),oe(12),te()(),J(13,"tr")(14,"td"),oe(15,"Infraestructura y Mantenimiento"),te(),J(16,"td"),oe(17),te()(),J(18,"tr")(19,"td"),oe(20,"Becas"),te(),J(21,"td"),oe(22),te()(),J(23,"tr")(24,"td"),oe(25,"Tecnolog\xeda y Recursos de Aprendizaje"),te(),J(26,"td"),oe(27),te()(),J(28,"tr")(29,"td"),oe(30,"Servicios Estudiantiles"),te(),J(31,"td"),oe(32),te()()()()),2&a){const i=Oe(2);ue(12),xt(i.reporteMensual.DatosMensuales.salarios_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.infraestructura_Mantenimiento_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.becas_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.tecnologiaRecursosAprendizaje_total_mes),ue(5),xt(i.reporteMensual.DatosMensuales.serviciosEstudiantiles_total_mes)}}function T(a,n){if(1&a&&(J(0,"tr")(1,"td"),oe(2),te(),J(3,"td"),oe(4),te()()),2&a){const i=n.$implicit,l=n.index,h=Oe(3);ue(2),xt(i),ue(2),xt(h.reporteMensual.Diario.datosDelRangoTotalDia[l])}}function A(a,n){if(1&a&&(J(0,"table",73)(1,"thead")(2,"tr")(3,"th"),oe(4,"Fecha"),te(),J(5,"th"),oe(6,"Cantidad"),te()()(),J(7,"tbody"),ze(8,T,5,2,"tr",37),te()()),2&a){const i=Oe(2);ue(8),Ae("ngForOf",i.reporteMensual.Diario.datosDelRangoDias)}}function E(a,n){if(1&a){const i=zn();J(0,"div",44)(1,"h1",45),oe(2,"Gastos"),te(),J(3,"button",46),He("click",function(){return rt(i),it(Oe().closeModal())}),te()(),J(4,"div",47)(5,"h2"),oe(6,"Datos Mensuales"),te(),J(7,"div",65),Ct(8,"input",66,67),J(10,"label",68),He("click",function(){return rt(i),it(Un(9).click())}),oe(11,"Ocultar Datos Mensuales"),te()(),ze(12,D,33,5,"table",69),J(13,"h2"),oe(14,"Datos Diarios"),te(),J(15,"div",65),Ct(16,"input",66,70),J(18,"label",68),He("click",function(){return rt(i),it(Un(17).click())}),oe(19,"Ocultar Datos Diarios"),te()(),ze(20,A,9,1,"table",69),te(),J(21,"div",71)(22,"button",72),He("click",function(){return rt(i),it(Oe().insertarReporteMensual())}),oe(23,"Cargar Informaci\xf3n"),te()()}if(2&a){const i=Oe();ue(12),Ae("ngIf",!i.ocultarDatosMensuales),ue(8),Ae("ngIf",!i.ocultarDatosDiarios)}}function P(a,n){if(1&a&&(J(0,"div",47)(1,"h2"),oe(2),Aa(3,"date"),te(),J(4,"table",73)(5,"thead")(6,"tr")(7,"th"),oe(8,"Concepto"),te(),J(9,"th"),oe(10,"Cantidad"),te()()(),J(11,"tbody")(12,"tr")(13,"td"),oe(14,"Salarios"),te(),J(15,"td"),oe(16),te()(),J(17,"tr")(18,"td"),oe(19,"Infraestructura y Mantenimiento"),te(),J(20,"td"),oe(21),te()(),J(22,"tr")(23,"td"),oe(24,"Becas"),te(),J(25,"td"),oe(26),te()(),J(27,"tr")(28,"td"),oe(29,"Tecnolog\xeda y Recursos de Aprendizaje"),te(),J(30,"td"),oe(31),te()(),J(32,"tr")(33,"td"),oe(34,"Servicios Estudiantiles"),te(),J(35,"td"),oe(36),te()()()()()),2&a){const i=Oe(2);ue(2),or("Datos del Reporte ",Qf(3,6,i.reporte[0].fecha,"MM/yyyy"),""),ue(14),xt(i.reporte[0].data.salarios_total_mes),ue(5),xt(i.reporte[0].data.infraestructura_Mantenimiento_total_mes),ue(5),xt(i.reporte[0].data.becas_total_mes),ue(5),xt(i.reporte[0].data.tecnologiaRecursosAprendizaje_total_mes),ue(5),xt(i.reporte[0].data.serviciosEstudiantiles_total_mes)}}function N(a,n){if(1&a){const i=zn();J(0,"div",44)(1,"h1",45),oe(2,"Gastos"),te(),J(3,"button",46),He("click",function(){return rt(i),it(Oe().closeModal())}),te()(),ze(4,P,37,9,"div",74),J(5,"div",71)(6,"button",75),He("click",function(){return rt(i),it(Oe().closeModal())}),oe(7,"Cerrar"),te()()}if(2&a){const i=Oe();ue(4),Ae("ngIf",i.reporte),ue(2),jn("oscuro",i.esModoOscuro)}}let k=(()=>{class a{constructor(i,l,h,p,y,b,C,M){this.auth=i,this.router=l,this.gatosService=h,this.homeService=p,this.logsService=y,this.modalService=b,this.fb=C,this.toast=M,this.showSpinner=!1,this.ocultarDatosMensuales=!1,this.ocultarDatosDiarios=!0,this.switchDiario=!1,this.currentPage=1,this.itemsPerPage=10,this.fechavalid=!1,this.esModoOscuro=!1,this.miFormulario=this.fb.group({fechaInicio:[null,Ra.required],fechaFin:[null,Ra.required]},{validators:this.dateRangeValidator}),this.miFormulario2=this.fb.group({archivo:[null,Ra.required],fechaRegistro:[null,Ra.required]})}onFileSelected(i){this.selectedFile=i.target.files[0],this.selectedFileName=this.selectedFile?this.selectedFile.name:void 0}onFileDrop(i){this.selectedFile=i,this.selectedFileName=this.selectedFile?i.name:void 0}validarFecha(i){this.gatosService.validarMesA\u00f1o(i).subscribe(l=>{!0===l.disponible?this.fechavalid=!0:(this.fechavalid=!1,this.toast.warning(l.message,"OK",{timeOut:3e3}))},l=>{console.error("Error al enviar la informaci\xf3n",l)})}onSubmit(i,l){if(i.preventDefault(),this.selectedFile){const h=new FormData;h.append("archivoExcel",this.selectedFile),setTimeout(()=>{this.showSpinner=!1,this.gatosService.CargarReporteExel(h).subscribe(p=>{console.log("Archivo cargado con \xe9xito",p.data),this.reporteMensual=p.data,this.fechaMensual=document.getElementById("customDate").value,this.closeModal(),this.miFormulario2?.get("fechaRegistro")?.reset(),setTimeout(()=>{this.openModal(l)},500)},p=>{this.closeModal(),this.toast.error("Error al cargar el archivo","FAIL",{timeOut:3e3}),this.miFormulario2?.get("fechaRegistro")?.reset()})},2e3)}else console.error("Debes seleccionar un archivo")}openModal(i){this.bsModalRef=this.modalService.show(i,{backdrop:"static",keyboard:!1})}closeModal(){this.clearFileInput(),this.bsModalRef?.hide()}clearFileInput(){this.selectedFile=void 0,this.selectedFileName=void 0}insertarReporteMensual(){const i=this.fechaMensual,l={fechas:this.reporteMensual.Diario.datosDelRangoDias,totales:this.reporteMensual.Diario.datosDelRangoTotalDia},h={salarios_total_mes:this.reporteMensual.DatosMensuales.salarios_total_mes,infraestructura_Mantenimiento_total_mes:this.reporteMensual.DatosMensuales.infraestructura_Mantenimiento_total_mes,becas_total_mes:this.reporteMensual.DatosMensuales.becas_total_mes,tecnologiaRecursosAprendizaje_total_mes:this.reporteMensual.DatosMensuales.tecnologiaRecursosAprendizaje_total_mes,serviciosEstudiantiles_total_mes:this.reporteMensual.DatosMensuales.serviciosEstudiantiles_total_mes,total_mes:this.reporteMensual.DatosMensuales.total_mes};console.log(h,l,i),this.gatosService.enviarReporte(l,h,i).subscribe(p=>{this.logsService.guardarActividad(this.user,this.gmail,p.message).subscribe(),this.closeModal(),this.homeService.notifyUpdate(!0)},p=>{console.error("Error al enviar la informaci\xf3n",p),this.closeModal()})}filtrarRegistros(){this.reportes=void 0;const i=this.miFormulario?.get("fechaInicio")?.value,l=this.miFormulario.get("fechaFin")?.value;0==this.switchDiario?this.gatosService.obtenerReportesPorMes(i,l).subscribe(h=>{this.reportes=h,this.reportes=h;let p={},y=[];this.reportes.forEach(b=>{p={time:this.filtrarFecha(b.fecha),value:b.data.total_mes},y.push(p)}),this.lineSeries.setData(y),this.areaSeries.setData(y)},h=>{console.error("Error obteniendo los reportes:",h),this.toast.warning("No hay datos disponibles en las fechas seleccionadas","OK",{timeOut:3e3})}):this.gatosService.obtenerReportesPorDias(i,l).subscribe(h=>{this.GastosDiarios=h;let p={},y=[];this.GastosDiarios.forEach(b=>{p={time:this.filtrarFecha(b.fecha),value:parseInt(b.total)},y.push(p)}),console.log(y),this.lineSeries.setData(y),this.areaSeries.setData(y),this.chart.timeScale().fitContent()},h=>{console.error("Error obteniendo los reportes:",h),this.toast.warning("No hay datos disponibles en las fechas seleccionadas","OK",{timeOut:3e3})})}get displayedItems(){const i=(this.currentPage-1)*this.itemsPerPage;return this.GastosDiarios.slice(i,i+this.itemsPerPage)}get totalPages(){return Math.ceil(this.GastosDiarios.length/this.itemsPerPage)}changePage(i){i>=1&&i<=this.totalPages&&(this.currentPage=i)}onSwitchChange(){this.switchDiario=!this.switchDiario,this.GastosDiarios=void 0,this.reportes=void 0}dateRangeValidator(i){const l=i.get("fechaInicio"),h=i.get("fechaFin");if(l&&h){const p=l.value,y=h.value;if(p&&y&&p>y)return{dateRangeInvalid:!0}}return null}verDetalleReporteMensual(i,l){this.openModal(i),this.gatosService.obtenerReporteMensualPorID(l).subscribe(h=>{this.reporte=h,console.log(this.reporte)},h=>{console.error("Error obteniendo los reportes:",h)})}eliminarReporteMensual(i){Id().fire({title:"\xbfEstas Seguro?",text:"No podras desaser la acci\xf3n",icon:"warning",showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:"Cancelar"}).then(l=>{l.value?this.gatosService.eliminarReporteDiarioPorId(i).subscribe(h=>{const p=new Date(h.data.fecha),y=`${p.getMonth()+1}/${p.getFullYear()}`;this.logsService.guardarActividad(this.user,this.gmail,h.message+" "+y).subscribe(),this.filtrarRegistros()},h=>{console.error("Error obteniendo los reportes:",h)}):l.dismiss===Id().DismissReason.cancel&&Id().fire("Cancelado","Ingreso no eliminado","error")})}modoOscuro(){this.homeService.modoOscuro.subscribe(i=>{0==i&&this.chart.applyOptions({layout:{background:{color:"#000000"},textColor:"#fff"}}),1==i&&this.chart.applyOptions({layout:{background:{color:"#000000"},textColor:"#fff"}})})}ngOnInit(){this.homeService.esModoOscuro$.subscribe(p=>{this.esModoOscuro=p});const i=window.navigator.languages[0],l=Intl.NumberFormat(i,{style:"currency",currency:"MXN"}).format;this.chart=K3("chart-container-gastos",{localization:{priceFormatter:l},layout:{background:{color:"#000000"},textColor:"#d1d4dc",fontFamily:"'Roboto', sans-serif"},grid:{vertLines:{visible:!1},horzLines:{color:"rgba(42, 46, 57, 0.5)"}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1}}),this.chart.applyOptions({crosshair:{style:iP.Solid,mode:A1.Normal,vertLine:{width:8,color:"#000000",labelBackgroundColor:"#9B7DFF"},horzLine:{color:"#9B7DFF",labelBackgroundColor:"#9B7DFF"}}}),this.areaSeries=this.chart.addAreaSeries({topColor:"rgba(76, 175, 80, 0.56)",bottomColor:"rgba(76, 175, 80, 0.04)",lineColor:"transparent",lineWidth:2,lastValueVisible:!1,crosshairMarkerVisible:!1}),this.lineSeries=this.chart.addLineSeries({color:"#47CA47"}),[{time:"2023-01-01",value:0}].forEach(p=>{this.lineSeries.update(p),this.areaSeries.update(p)}),this.modoOscuro()}filtrarFecha(i){const l=new Date(i);return`${l.getFullYear()}-${(l.getMonth()+1).toString().padStart(2,"0")}-${l.getDate().toString().padStart(2,"0")}`}static#e=this.\u0275fac=function(l){return new(l||a)(he(Ju),he(Ur),he(TH),he(Lg),he(F_),he(xx),he(Y0),he(Ph))};static#t=this.\u0275cmp=qr({type:a,selectors:[["app-gastos"]],viewQuery:function(l,h){if(1&l&&al(r,5),2&l){let p;l0(p=VS())&&(h.fileInput=p.first)}},decls:42,vars:15,consts:[[1,"container-fluid","w-100","h-100",2,"padding","0% 5%"],["id","container-grafica"],["id","chart-container-gastos",1,"grafica-ingresos"],["type","button","id","boton-ingresar-reporte",1,"btn","btn-secondary","btn-lg",3,"click"],[3,"formGroup"],[1,"container-fluid","row","text-center"],[1,"col-2"],["type","date","class","form-control","id","rangoFecha1","formControlName","fechaInicio",4,"ngIf"],["type","month","class","form-control","id","rangoFecha1","formControlName","fechaInicio",4,"ngIf"],["for","fechaInicio"],["type","date","class","form-control","id","rangoFecha2","formControlName","fechaFin",4,"ngIf"],["type","month","class","form-control","id","rangoFecha2","formControlName","fechaFin",4,"ngIf"],["for","fechaFin"],[1,"col-4"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"click"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"me-2"],[1,"form-check","form-switch","custom-switch-size","d-inline-block"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"click","change"],["swichInput",""],[1,"ms-2"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"disabled","click"],[4,"ngIf"],[1,"table-container"],["class","custom-table",4,"ngIf"],["class","table-container",4,"ngIf"],["class","modal","tabindex","-1","role","dialog"],["template1",""],["template2",""],["detalleReporteModal",""],["type","date","id","rangoFecha1","formControlName","fechaInicio",1,"form-control"],["type","month","id","rangoFecha1","formControlName","fechaInicio",1,"form-control"],["type","date","id","rangoFecha2","formControlName","fechaFin",1,"form-control"],["type","month","id","rangoFecha2","formControlName","fechaFin",1,"form-control"],[1,"custom-table"],["scope","col",1,"eliminar-column"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"consultar-cell",3,"click"],[1,"pagination-container"],[3,"disabled","click"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"justify-content-center"],[1,"input-group","mb-3"],["dropZoneFormat","","class","drop-xlsx",3,"dropFormat","click",4,"ngIf"],["class","drop-xlsx-disable",3,"click",4,"ngIf"],["type","file","id","customFile","accept",".xlsx","formControlName","archivo",1,"form-control",2,"display","none",3,"change"],["fileInput",""],["type","month","id","customDate","formControlName","fechaRegistro",1,"form-control",3,"change"],["fechaInput",""],[1,"modal-footer","col-12"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled","click"],["class","text-center",4,"ngIf"],["dropZoneFormat","",1,"drop-xlsx",3,"dropFormat","click"],[1,"drop-xlsx-disable",3,"click"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"form-check"],["type","checkbox",1,"form-check-input"],["hideDM",""],[1,"form-check-label",3,"click"],["class","table",4,"ngIf"],["hideDD",""],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","w-100",3,"click"],[1,"table"],["class","modal-body",4,"ngIf"],["type","button",1,"btn","btn-secondary","w-100",3,"click"]],template:function(l,h){if(1&l){const p=zn();J(0,"div",0)(1,"div")(2,"div",1),Ct(3,"div",2),J(4,"button",3),He("click",function(){rt(p);const b=Un(37);return it(h.openModal(b))}),oe(5,"Ingresar Reporte"),te()(),Ct(6,"hr"),te(),J(7,"form",4)(8,"div",5)(9,"div",6),ze(10,t,1,0,"input",7),ze(11,e,1,0,"input",8),J(12,"label",9),oe(13,"Fecha Inicio"),te()(),J(14,"div",6),ze(15,o,1,0,"input",10),ze(16,s,1,0,"input",11),J(17,"label",12),oe(18,"Fecha Fin"),te()(),J(19,"div",13)(20,"button",14),He("click",function(){return rt(p),it(Un(26).click())}),J(21,"div",15)(22,"span",16),oe(23,"Mensual"),te(),J(24,"div",17)(25,"input",18,19),He("click",function(){return rt(p),it(Un(26).click())})("change",function(){return h.onSwitchChange()}),te()(),J(27,"span",20),oe(28,"Diario"),te()()()(),J(29,"div",13)(30,"button",21),He("click",function(){return h.filtrarRegistros()}),oe(31,"Filtrar Registros "),te(),ze(32,u,2,0,"div",22),te()()(),J(33,"div",23),ze(34,f,10,1,"table",24),te(),ze(35,m,16,5,"div",25),ze(36,x,19,5,"ng-template",26,27,Xc),ze(38,E,24,2,"ng-template",26,28,Xc),ze(40,N,8,3,"ng-template",null,29,Xc),te()}2&l&&(ue(4),jn("oscuro",h.esModoOscuro),ue(3),Ae("formGroup",h.miFormulario),ue(3),Ae("ngIf",h.switchDiario),ue(1),Ae("ngIf",!h.switchDiario),ue(4),Ae("ngIf",h.switchDiario),ue(1),Ae("ngIf",!h.switchDiario),ue(4),jn("oscuro",h.esModoOscuro),ue(10),jn("oscuro",h.esModoOscuro),Ae("disabled",h.miFormulario.invalid),ue(2),Ae("ngIf",h.miFormulario.hasError("dateRangeInvalid")),ue(2),Ae("ngIf",h.reportes&&!h.switchDiario),ue(1),Ae("ngIf",h.GastosDiarios&&h.switchDiario))},dependencies:[ah,sh,Wv,hh,Vv,vd,vh,Zv,Ex,iE],styles:[".grafica-ingresos[_ngcontent-%COMP%]{width:60vw;height:55vh}.drop-xlsx[_ngcontent-%COMP%]{width:100%;height:400px;font-size:larger;display:flex;align-items:center;justify-content:center;border:#666 dashed 5px;border-radius:5px!important;-webkit-user-select:none;user-select:none;cursor:pointer;transition:all .3s}.drop-xlsx-disable[_ngcontent-%COMP%]{width:100%;height:400px;font-size:larger;display:flex;align-items:center;justify-content:center;border:#666 dashed 5px;border-radius:5px!important;-webkit-user-select:none;user-select:none;transition:all .3s;background-color:#66666660}.drop-format[_ngcontent-%COMP%], .drop-xlsx[_ngcontent-%COMP%]:hover{background-color:#66666660}#container-grafica[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:70vh}#grafica[_ngcontent-%COMP%]{border-color:#000;border-style:solid;height:300px;width:600px}#boton-ingresar-reporte[_ngcontent-%COMP%]{margin-top:20px}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:20px 0;text-align:center;position:relative}.custom-table[_ngcontent-%COMP%]{width:80%;margin:auto;box-shadow:0 4px 12px #0000001a;border-collapse:separate;border-spacing:0;border-style:solid;border-color:#000}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:20px}.consultar-cell[_ngcontent-%COMP%]{cursor:pointer;text-align:center;font-weight:500;transition:background-color .3s}.eliminar-column[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;min-width:-moz-fit-content;min-width:fit-content;padding:0;text-align:center}.btn-danger[_ngcontent-%COMP%]{padding:7px 10px}.consultar-cell[_ngcontent-%COMP%]:hover{background-color:gray}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:3rem;height:1.5rem}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:before{width:3rem;height:1.5rem}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked:before{transform:translate(1.5rem)}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px 0}.pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e9e9e9;color:#000;border:none;padding:8px 12px;margin:0 4px;cursor:pointer;transition:background-color .2s}.pagination-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#666;color:#fff}.pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}"]})}return a})();var F=Gt(707);function B(a,n){1&a&&(J(0,"div"),oe(1," El rango de fechas no es v\xe1lido. "),te())}function z(a,n){1&a&&Ct(0,"div",23)}function j(a,n){1&a&&(J(0,"div")(1,"h2"),oe(2,"No hay datos disponibles"),te()())}let W=(()=>{class a{constructor(i,l,h,p,y,b){this.auth=i,this.router=l,this.ingresoService=h,this.gastosService=p,this.homeService=y,this.fb=b,this.esModoOscuro=!1,this.hayDatos=!0,this.totalIngreso=0,this.total=0,this.totalGastos=0,this.totalFormato="",this.ingresoFormato="",this.gastoFormato="",this.switchDiario=!1,this.miFormulario=this.fb.group({fechaInicio:[null,Ra.required],fechaFin:[null,Ra.required]},{validators:this.dateRangeValidator})}ngOnInit(){this.homeService.esModoOscuro$.subscribe(i=>{this.esModoOscuro=i}),this.getTotales(),this.homeService.currentUpdate.subscribe(i=>{i&&(this.getTotales(),this.modoOscuro(),this.homeService.notifyUpdate(!1))})}dateRangeValidator(i){const l=i.get("fechaInicio"),h=i.get("fechaFin");if(l&&h){const p=l.value,y=h.value;if(p&&y&&p>y)return{dateRangeInvalid:!0}}return null}getTotales(){GE({ingreso:this.ingresoService.obtenerIngresosTotales(),gasto:this.gastosService.obtenerGastosTotales()}).subscribe(i=>{this.totalIngreso=i.ingreso.suma_total_mes,this.totalGastos=i.gasto.suma_total_mes,this.hayDatos=null!==this.totalIngreso||null!==this.totalGastos,this.total=this.totalIngreso-this.totalGastos,this.actualizarGrafica(),this.ingresoFormato=this.formatoDinero(this.totalIngreso),this.gastoFormato=this.formatoDinero(this.totalGastos),this.totalFormato=this.formatoDinero(this.total)},i=>{console.error("Error obteniendo los reportes:",i)})}formatoDinero(i){return"$ "+(i=parseInt(i)).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}modoOscuro(){this.homeService.modoOscuro.subscribe(i=>{0==i&&(this.myChart.setOption({theme:"light",backgroundColor:"#ffffff",textStyle:{color:"#000000"},legend:{textStyle:{color:"black"}}}),console.log(i)),1==i&&(this.myChart.setOption({theme:"dark",backgroundColor:"#212529",textStyle:{color:"#ffffff"},legend:{textStyle:{color:"white"}}}),console.log(i))})}actualizarGrafica(){var i;this.chartDom=document.getElementById("Grafica-Principal"),this.myChart=F.init(this.chartDom),(i={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},color:["#1781E8","#FF0DC0"],series:[{name:"Access From",type:"pie",radius:"92%",data:[{value:this.totalIngreso,name:"Ingresos"},{value:this.totalGastos,name:"Gastos"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})&&this.myChart.setOption(i)}filtrarRegistros(){this.ngOnInit();const i=this.miFormulario?.get("fechaInicio")?.value,l=this.miFormulario.get("fechaFin")?.value;GE({ingreso:this.ingresoService.obtenerIngresosTotalesporFecha(i,l),gasto:this.gastosService.obtenerGastosTotalesporFecha(i,l)}).subscribe(h=>{this.totalIngreso=h.ingreso.suma_total_mes,this.totalGastos=h.gasto.suma_total_mes,this.hayDatos=null!==this.totalIngreso||null!==this.totalGastos,this.total=this.totalIngreso-this.totalGastos,this.actualizarGrafica(),this.ingresoFormato=this.formatoDinero(this.totalIngreso),this.gastoFormato=this.formatoDinero(this.totalGastos),this.totalFormato=this.formatoDinero(this.total)},h=>{console.error("Error obteniendo los reportes:",h)})}reset(){this.totalIngreso=0,this.totalGastos=15600,this.total=this.totalIngreso-this.totalGastos,this.hayDatos=!0,this.ingresoFormato=this.formatoDinero(this.totalIngreso),this.gastoFormato=this.formatoDinero(this.totalGastos),this.totalFormato=this.formatoDinero(this.total),this.getTotales()}static#e=this.\u0275fac=function(l){return new(l||a)(he(Ju),he(Ur),he(L2),he(TH),he(Lg),he(Y0))};static#t=this.\u0275cmp=qr({type:a,selectors:[["app-home"]],decls:43,vars:12,consts:[[1,"home"],[1,"home__opciones"],[1,"home__opciones__datos"],["id","datos_total"],["id","datos_ingresos"],["id","datos_gastos"],[1,"home__opciones__seleccionar_fecha"],[1,"fecha_form"],[4,"ngIf"],[3,"formGroup"],[1,"seleccionar_fecha__body"],[1,"seleccionar_fecha__fecha"],["type","month","id","rangoFecha1","formControlName","fechaInicio",1,"form-control"],["for","fechaInicio"],[1,"seleccionar_fecha__flecha"],[1,"fa-solid","fa-arrow-right-long"],["type","month","id","rangoFecha2","formControlName","fechaFin",1,"form-control"],["for","fechaFin"],[1,"seleccionar_fecha__boton"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"click"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"disabled","click"],[1,"home__opciones__grafica"],["class","home__grafica","id","Grafica-Principal",4,"ngIf"],["id","Grafica-Principal",1,"home__grafica"]],template:function(l,h){1&l&&(J(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h6"),oe(5,"Total: "),te(),J(6,"p",3),oe(7),te()(),J(8,"div")(9,"h6"),oe(10,"Ingresos: "),te(),J(11,"p",4),oe(12),te()(),J(13,"div")(14,"h6"),oe(15,"Gastos: "),te(),J(16,"p",5),oe(17),te()()(),J(18,"div",6)(19,"div",7),ze(20,B,2,0,"div",8),J(21,"form",9)(22,"div",10)(23,"div",11),Ct(24,"input",12),J(25,"label",13),oe(26,"Fecha Inicio"),te()(),J(27,"div",14),Ct(28,"i",15),te(),J(29,"div",11),Ct(30,"input",16),J(31,"label",17),oe(32,"Fecha Fin"),te()(),J(33,"div",18)(34,"button",19),He("click",function(){return h.reset()}),oe(35,"Reset "),te(),Ct(36,"br")(37,"br"),J(38,"button",20),He("click",function(){return h.filtrarRegistros()}),oe(39,"Filtrar "),te()()()()()()(),J(40,"div",21),ze(41,z,1,0,"div",22),ze(42,j,3,0,"div",8),te()()),2&l&&(ue(7),xt(h.totalFormato),ue(5),xt(h.ingresoFormato),ue(5),xt(h.gastoFormato),ue(3),Ae("ngIf",h.miFormulario.hasError("dateRangeInvalid")),ue(1),Ae("formGroup",h.miFormulario),ue(13),jn("oscuro",h.esModoOscuro),ue(4),jn("oscuro",h.esModoOscuro),Ae("disabled",h.miFormulario.invalid),ue(3),Ae("ngIf",h.hayDatos),ue(1),Ae("ngIf",!h.hayDatos))},dependencies:[sh,Wv,hh,Vv,vd,vh,Zv],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0}.home[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:row}.home__opciones[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-direction:column-reverse;width:100%;height:30vh}.home__opciones__datos[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-around;flex-direction:row}.home__opciones__datos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.home__opciones__datos[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:2em}.home__opciones__datos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em}#datos_total[_ngcontent-%COMP%]{color:#0c6cb0}#datos_ingresos[_ngcontent-%COMP%]{color:#0d9e47}#datos_gastos[_ngcontent-%COMP%]{color:#e02c45}.seleccionar_fecha__body[_ngcontent-%COMP%]{width:100%;display:flex;align-items:end;justify-content:space-between}.fecha_form[_ngcontent-%COMP%]{width:80%}.home__opciones__seleccionar_fecha[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:center;flex-direction:row}.seleccionar_fecha__fecha[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column-reverse}.seleccionar_fecha__flecha[_ngcontent-%COMP%]{font-size:2em}#boton-filtrar[_ngcontent-%COMP%]{width:5em}.home__body[_ngcontent-%COMP%]{margin:7em;width:100vw;height:50vh}.home__opciones__grafica[_ngcontent-%COMP%]{width:100%}.home__grafica[_ngcontent-%COMP%]{width:100%;height:680px}.datos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.datos__grupo[_ngcontent-%COMP%]{width:20%;display:flex;align-items:center;justify-content:space-between;flex-direction:row}"]})}return a})();function q(a,n){if(1&a&&(J(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39),Ct(4,"img",40),J(5,"div",41),oe(6),te()()(),J(7,"div",42)(8,"div",43)(9,"p",44),oe(10),Ct(11,"br")(12,"br"),oe(13),Ct(14,"br")(15,"br"),oe(16),te()()()()()),2&a){const i=n.ngIf;ue(4),Ae("src",i.picture,vT),ue(2),or(" ",i.nickname," "),ue(4),or(" Nombre: ",i.given_name," "),ue(3),or(" Apellido: ",i.family_name," "),ue(3),or(" Correo: ",i.email," ")}}function Y(a,n){if(1&a&&(J(0,"li",45)(1,"div",46)(2,"span"),oe(3),te(),J(4,"span",47),oe(5,"Activo"),te()()()),2&a){const i=n.$implicit;ue(3),xt(i)}}function K(a,n){1&a&&(J(0,"div",48),oe(1,"No hay usuarios conectados."),te())}function Q(a,n){1&a&&Ct(0,"input",49)}function re(a,n){1&a&&Ct(0,"input",50)}function le(a,n){1&a&&Ct(0,"input",51)}function se(a,n){1&a&&Ct(0,"input",52)}function de(a,n){1&a&&(J(0,"div"),oe(1," El rango de fechas no es v\xe1lido. "),te())}function be(a,n){if(1&a&&(J(0,"tr")(1,"td"),oe(2),te(),J(3,"td"),oe(4),te(),J(5,"td"),oe(6),te(),J(7,"td"),oe(8),te()()),2&a){const i=n.$implicit;ue(2),xt(i.usuario_responsable),ue(2),xt(i.gmail),ue(2),xt(i.actividad),ue(2),xt(i.fecha)}}function De(a,n){if(1&a&&(J(0,"table",53)(1,"thead")(2,"tr")(3,"th",54),oe(4,"Usuario"),te(),J(5,"th",54),oe(6,"Gmail"),te(),J(7,"th",54),oe(8,"Actividad"),te(),J(9,"th",54),oe(10,"Fecha"),te()()(),J(11,"tbody"),ze(12,be,9,4,"tr",55),te()()),2&a){const i=Oe(2);ue(12),Ae("ngForOf",i.logs)}}function Fe(a,n){if(1&a&&(J(0,"tr")(1,"td"),oe(2),te(),J(3,"td"),oe(4),te(),J(5,"td"),oe(6),te(),J(7,"td"),oe(8),te()()),2&a){const i=n.$implicit;ue(2),xt(i.usuario_responsable),ue(2),xt(i.gmail),ue(2),xt(i.actividad),ue(2),xt(i.fecha)}}function $e(a,n){if(1&a){const i=zn();J(0,"button",59),He("click",function(){const p=rt(i).index;return it(Oe(3).changePage(p+1))}),oe(1),te()}if(2&a){const i=n.index;jn("active",i+1===Oe(3).currentPage),ue(1),or(" ",i+1," ")}}const We=function(){return[]};function dt(a,n){if(1&a){const i=zn();J(0,"div",33)(1,"table",53)(2,"thead")(3,"tr")(4,"th",54),oe(5,"Usuario"),te(),J(6,"th",54),oe(7,"Gmail"),te(),J(8,"th",54),oe(9,"Actividad"),te(),J(10,"th",54),oe(11,"Fecha"),te()()(),J(12,"tbody"),ze(13,Fe,9,4,"tr",55),te()(),J(14,"div",56)(15,"button",57),He("click",function(){rt(i);const h=Oe(2);return it(h.changePage(h.currentPage-1))}),oe(16,"Anterior"),te(),ze(17,$e,2,3,"button",58),J(18,"button",57),He("click",function(){rt(i);const h=Oe(2);return it(h.changePage(h.currentPage+1))}),oe(19,"Siguiente"),te()()()}if(2&a){const i=Oe(2);ue(13),Ae("ngForOf",i.displayedItems),ue(2),Ae("disabled",1===i.currentPage),ue(2),Ae("ngForOf",TS(4,We).constructor(i.totalPages)),ue(1),Ae("disabled",i.currentPage===i.totalPages)}}function Rt(a,n){if(1&a){const i=zn();J(0,"div",2)(1,"div",3)(2,"div",4)(3,"div"),ze(4,q,17,5,"div",5),Aa(5,"async"),te()(),J(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),oe(10,"Usuarios Conectados"),te(),J(11,"ul",10),ze(12,Y,6,1,"li",11),te(),ze(13,K,2,0,"div",12),te()()(),J(14,"div",13),Ct(15,"hr"),J(16,"form",14)(17,"form",14)(18,"div",15)(19,"div",16),ze(20,Q,1,0,"input",17),ze(21,re,1,0,"input",18),J(22,"label",19),oe(23,"Fecha Inicio"),te()(),J(24,"div",16),ze(25,le,1,0,"input",20),ze(26,se,1,0,"input",21),J(27,"label",22),oe(28,"Fecha Fin"),te()(),J(29,"div",23)(30,"button",24),He("click",function(){return rt(i),it(Un(36).click())}),J(31,"div",25)(32,"span",26),oe(33,"Mensual"),te(),J(34,"div",27)(35,"input",28,29),He("click",function(){return rt(i),it(Un(36).click())})("change",function(){return rt(i),it(Oe().onSwitchChange())}),te()(),J(37,"span",30),oe(38,"Diario"),te()()()(),J(39,"div",23)(40,"button",31),He("click",function(){return rt(i),it(Oe().filtrarRegistros())}),oe(41,"Filtrar Registro de Actividad "),te(),ze(42,de,2,0,"div",32),te()()(),J(43,"div",33),ze(44,De,13,1,"table",34),te(),ze(45,dt,20,5,"div",35),te()()()()}if(2&a){const i=Oe();ue(4),Ae("ngIf",JM(5,17,i.auth.user$)),ue(8),Ae("ngForOf",i.usuariosConectados),ue(1),Ae("ngIf",0===i.usuariosConectados.length),ue(3),Ae("formGroup",i.miFormulario),ue(1),Ae("formGroup",i.miFormulario),ue(3),Ae("ngIf",i.switchDiario),ue(1),Ae("ngIf",!i.switchDiario),ue(4),Ae("ngIf",i.switchDiario),ue(1),Ae("ngIf",!i.switchDiario),ue(4),jn("oscuro",i.esModoOscuro),ue(10),jn("oscuro",i.esModoOscuro),Ae("disabled",i.miFormulario.invalid),ue(2),Ae("ngIf",i.miFormulario.hasError("dateRangeInvalid")),ue(2),Ae("ngIf",i.logs&&!i.switchDiario),ue(1),Ae("ngIf",i.logsDiarios&&i.switchDiario)}}function yt(a,n){1&a&&(J(0,"div",60)(1,"div",61)(2,"h1"),oe(3,"Bienvenido"),te(),J(4,"p"),oe(5,"Administrador de Ingresos y Gastos"),te()()())}const _t=[{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"inicio",component:(()=>{class a{constructor(i,l,h,p,y,b){this.auth=i,this.homeService=l,this.logsService=h,this.router=p,this.fb=y,this.toast=b,this.isAuth=!1,this.switchDiario=!1,this.currentPage=1,this.itemsPerPage=10,this.esModoOscuro=!1,this.usuariosConectados=[],this.miFormulario=this.fb.group({fechaInicio:[null,Ra.required],fechaFin:[null,Ra.required]},{validators:this.dateRangeValidator})}ngOnInit(){this.homeService.esModoOscuro$.subscribe(i=>{this.esModoOscuro=i})}login(){this.auth.loginWithRedirect()}get displayedItems(){const i=(this.currentPage-1)*this.itemsPerPage;return this.logsDiarios.slice(i,i+this.itemsPerPage)}get totalPages(){return Math.ceil(this.logsDiarios.length/this.itemsPerPage)}changePage(i){i>=1&&i<=this.totalPages&&(this.currentPage=i)}onSwitchChange(){this.switchDiario=!this.switchDiario,this.logsDiarios=void 0,this.logs=void 0}dateRangeValidator(i){const l=i.get("fechaInicio"),h=i.get("fechaFin");if(l&&h){const p=l.value,y=h.value;if(p&&y&&p>y)return{dateRangeInvalid:!0}}return null}filtrarRegistros(){this.logs=void 0;const i=this.miFormulario?.get("fechaInicio")?.value,l=this.miFormulario.get("fechaFin")?.value;0==this.switchDiario?this.logsService.obtenerLogsPorMes(i,l).subscribe(h=>{this.logs=h},h=>{console.error("Error obteniendo los reportes:",h),this.toast.warning("No hay datos disponibles en las fechas seleccionadas","OK",{timeOut:3e3})}):this.logsService.obtenerLogsPorDias(i,l).subscribe(h=>{this.logsDiarios=h},h=>{console.error("Error obteniendo los reportes:",h),this.toast.warning("No hay datos disponibles en las fechas seleccionadas","OK",{timeOut:3e3})})}static#e=this.\u0275fac=function(l){return new(l||a)(he(Ju),he(Lg),he(F_),he(Ur),he(Y0),he(Ph))};static#t=this.\u0275cmp=qr({type:a,selectors:[["app-inicio"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],["class","bg",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-4",2,"padding","40px"],["class","flip-card",4,"ngIf"],[1,"col-md-4",2,"padding","40px","margin-left","100px"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["class","text-muted mt-2",4,"ngIf"],[2,"margin-top","4.5rem"],[3,"formGroup"],[1,"container-fluid","row","text-center"],[1,"col-2"],["type","date","class","form-control","id","rangoFecha1","formControlName","fechaInicio",4,"ngIf"],["type","month","class","form-control","id","rangoFecha1","formControlName","fechaInicio",4,"ngIf"],["for","fechaInicio"],["type","date","class","form-control","id","rangoFecha2","formControlName","fechaFin",4,"ngIf"],["type","month","class","form-control","id","rangoFecha2","formControlName","fechaFin",4,"ngIf"],["for","fechaFin"],[1,"col-4"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"click"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"me-2"],[1,"form-check","form-switch","custom-switch-size","d-inline-block"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"click","change"],["swichInput",""],[1,"ms-2"],["type","button","id","boton-filtrar",1,"btn","btn-secondary","btn-lg","btn-block",3,"disabled","click"],[4,"ngIf"],[1,"table-container"],["class","custom-table",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"flip-card"],[1,"flip-card-inner"],[1,"flip-card-front"],[1,"profile-image"],["alt","",3,"src"],[1,"name"],[1,"flip-card-back"],[1,"Description"],[1,"description"],[1,"list-group-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"badge","bg-success","rounded-pill"],[1,"text-muted","mt-2"],["type","date","id","rangoFecha1","formControlName","fechaInicio",1,"form-control"],["type","month","id","rangoFecha1","formControlName","fechaInicio",1,"form-control"],["type","date","id","rangoFecha2","formControlName","fechaFin",1,"form-control"],["type","month","id","rangoFecha2","formControlName","fechaFin",1,"form-control"],[1,"custom-table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"pagination-container"],[3,"disabled","click"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"bg"],[1,"welcome-text"]],template:function(l,h){1&l&&(ze(0,Rt,46,19,"div",0),ze(1,yt,6,0,"div",1)),2&l&&(Ae("ngIf",h.isAuth),ue(1),Ae("ngIf",!h.isAuth))},dependencies:[ah,sh,Wv,hh,Vv,vd,vh,Zv,yC],styles:[".flip-card[_ngcontent-%COMP%]{background-color:transparent;width:400px;height:270px;perspective:1000px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.flip-card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d}.flip-card-front[_ngcontent-%COMP%], .flip-card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;padding:5px;border-radius:2em;backface-visibility:hidden}.flip-card-front[_ngcontent-%COMP%]{background-color:#6a63ee;border:4px solid white}.profile-image[_ngcontent-%COMP%]{background-color:transparent;border:none;margin-top:15px;border-radius:5em;width:280px;height:120px;margin-left:50px}.pfp[_ngcontent-%COMP%]{border-radius:35em;fill:#fff}.name[_ngcontent-%COMP%]{margin-top:15px;font-size:27px;color:#fff;font-weight:700}.flip-card-back[_ngcontent-%COMP%]{background-color:#6a63ee;border:4px solid white;transform:rotateY(180deg);padding:11px}.description[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;letter-spacing:1px;color:#fff}.socialbar[_ngcontent-%COMP%]{background-color:transparent;border-radius:3em;width:90%;padding:14px;margin-top:11px;margin-left:10px;word-spacing:24px;color:#fff}.socialbar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:.4s;width:20px;height:20px;color:#fff}.socialbar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#fff}.flip-card[_ngcontent-%COMP%]:hover   .flip-card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.bg[_ngcontent-%COMP%]{height:100%;background-position:center;background-repeat:no-repeat;background-size:cover}.welcome-text[_ngcontent-%COMP%]{text-align:center;position:relative;top:50%;transform:translateY(-50%);color:#000}h1[_ngcontent-%COMP%]{font-size:50px}.button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:20px;cursor:pointer;border:none;background-color:#f5a962;color:#fff;border-radius:5px;text-decoration:none}.card[_ngcontent-%COMP%]{height:100%;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;justify-content:center;align-items:center;border-radius:2em;background-color:#6a63ee;border:4px solid white;color:#fff}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:20px 0;text-align:center;position:relative}.custom-table[_ngcontent-%COMP%]{width:80%;margin:auto;box-shadow:0 4px 12px #0000001a;border-collapse:separate;border-spacing:0;border-style:solid;border-color:#000}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:20px}.consultar-cell[_ngcontent-%COMP%]{cursor:pointer;text-align:center;font-weight:500;transition:background-color .3s}.consultar-cell[_ngcontent-%COMP%]:hover{background-color:gray}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:3rem;height:1.5rem}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:before{width:3rem;height:1.5rem}.custom-switch-size[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked:before{transform:translate(1.5rem)}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px 0}.pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e9e9e9;color:#000;border:none;padding:8px 12px;margin:0 4px;cursor:pointer;transition:background-color .2s}.pagination-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#666;color:#fff}.pagination-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}"]})}return a})()},{path:"home",component:W},{path:"ingresos",component:gZ},{path:"gastos",component:k},{path:"**",redirectTo:"inicio"}];let st=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({imports:[Mz.forRoot(_t),Mz]})}return a})();function Be(a,n){if(1&a){const i=zn();J(0,"li",6)(1,"button",18),He("click",function(){return rt(i),it(Oe().logout())}),oe(2," \xa0"),Ct(3,"i",19),J(4,"span",11),oe(5," Cerrar Sesi\xf3n "),te()()()}}let lt=(()=>{class a{constructor(i,l,h){this.auth=i,this.router=l,this.homeServices=h,this.path="home",this.home=new rr(!0),this.ingresos=new rr(!1),this.gastos=new rr(!1),this.isAuth=!1}ngOnInit(){this.router.events.subscribe(i=>{this.setPath()})}getPath(){return this.path}setPath(){this.path=this.router.url}logout(){this.auth.logout()}static#e=this.\u0275fac=function(l){return new(l||a)(he(Ju),he(Ur),he(Lg))};static#t=this.\u0275cmp=qr({type:a,selectors:[["app-header"]],decls:31,vars:9,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0",2,"background-color","#5650C3"],[1,"d-flex","flex-column","align-items-center","align-items-sm-start","px-3","pt-2","text-white","min-vh-100","sticky-top"],[1,"header-logo","w-100"],["id","menu",1,"nav","nav-pills","flex-column","mb-sm-auto","mb-0","align-items-center","align-items-sm-start","w-100"],[1,"nav-item","w-100"],["routerLink","/inicio",1,"nav-link","align-middle","px-0","dropdown-item","w-100"],[1,"fa-solid","fa-house"],["routerLink","/home",1,"nav-link","align-middle","px-0","dropdown-item","w-100"],[1,"fa-sharp","fa-solid","fa-gauge-high"],[1,"ms-1","d-none","d-sm-inline"],["routerLink","/ingresos",1,"nav-link","align-middle","px-0","dropdown-item","w-100"],[1,"fa-solid","fa-money-bill-trend-up"],["routerLink","/gastos","title","Ctrl+O",1,"nav-link","align-middle","px-0","dropdown-item","w-100"],[1,"fa-sharp","fa-solid","fa-arrow-trend-down"],["class","nav-item w-100",4,"ngIf"],[1,"col","py-3"],[1,"nav-link","align-middle","px-0","dropdown-item","w-100",3,"click"],[1,"fa-solid","fa-right-from-bracket"]],template:function(l,h){1&l&&(J(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"button",7),Ct(8,"i",8),te()()()(),J(9,"ul",5)(10,"li",6)(11,"button",9),oe(12," \xa0"),Ct(13,"i",10),J(14,"span",11),oe(15," Gesti\xf3n "),te()()(),J(16,"li",6)(17,"button",12),oe(18," \xa0"),Ct(19,"i",13),J(20,"span",11),oe(21," Ingresos"),te()()(),J(22,"li",6)(23,"button",14),oe(24," \xa0"),Ct(25,"i",15),J(26,"span",11),oe(27," Gastos"),te()()(),ze(28,Be,6,0,"li",16),te()()(),J(29,"div",17),Ct(30,"router-outlet"),te()()()),2&l&&(ue(7),jn("active","/inicio"===h.getPath()),ue(4),jn("active","/home"===h.getPath()),ue(6),jn("active","/ingresos"===h.getPath()),ue(6),jn("active","/gastos"===h.getPath()),ue(5),Ae("ngIf",h.isAuth))},dependencies:[sh,jI,u_],styles:['@import"https://fonts.googleapis.com/css2?family=Koh+Santepheap:wght@300;400;700&family=Roboto:ital,wght@1,300&display=swap";.header-logo[_ngcontent-%COMP%]{text-align:center;-webkit-user-select:none;user-select:none;margin-top:5%;margin-bottom:65%}.header-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff}.header-logo[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;color:#fff;font-family:Koh Santepheap,serif;font-size:3em;font-weight:700}.dropdown-item[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;background-color:#5650c3;color:#fff;transition:color .2s;border-radius:0;margin:2px;font-size:1.8em;transition:all .3s ease 0s;padding-bottom:5%}.dropdown-item[_ngcontent-%COMP%]:active{color:#ffc1c1}.navbar-toggler[_ngcontent-%COMP%]{color:#ffffffec;transition:color .6s}.navbar-toggler[_ngcontent-%COMP%]:hover{color:#ffc1c1}.navbar-toggler[_ngcontent-%COMP%]::selection{color:#ffc1c1}.dropdown-divider[_ngcontent-%COMP%]{background-color:#fff;height:1px;width:100%;margin:6px 1px}.dropdown-menu[_ngcontent-%COMP%]{border-radius:0;border:none;background-color:#202225}.dropdown-toggle[_ngcontent-%COMP%]{background-color:#202225;color:#fff;border:none;transition:color .4s}.dropdown-toggle[_ngcontent-%COMP%]:hover{color:#ffc1c1}.navbar-brand[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;color:#ffc1c1}.active[_ngcontent-%COMP%]{color:#ff9393d3!important}.active[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-.4em;background-color:#ff9393d3!important;width:10px;height:40px;border-radius:18%}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:var(--bs-nav-pills-link-active-color);background-color:#5650c3}']})}return a})(),$n=(()=>{class a{constructor(i,l,h,p){this.homeServices=i,this.toast=l,this.auth=h,this.router=p,this.title="FrontEnd",this.theme="light"}ngOnInit(){}TemaOscuro(){document.querySelector("body")?.setAttribute("data-bs-theme","dark"),document.body.classList.add("dark-mode"),document.querySelector("#icon")?.setAttribute("class","fa-solid fa-sun"),this.theme="dark",this.homeServices.setModoOscuro(!0)}TemaClaro(){document.querySelector("body")?.setAttribute("data-bs-theme","light"),document.body.classList.remove("dark-mode"),document.querySelector("#icon")?.setAttribute("class","fa-solid fa-moon"),this.theme="light",this.homeServices.setModoOscuro(!1)}CambiarTema(){"light"===document.querySelector("body")?.getAttribute("data-bs-theme")?this.TemaOscuro():this.TemaClaro()}static#e=this.\u0275fac=function(l){return new(l||a)(he(Lg),he(Ph),he(Ju),he(Ur))};static#t=this.\u0275cmp=qr({type:a,selectors:[["app-root"]],decls:6,vars:4,consts:[[1,"parent"],[1,"container"],[1,"btn",3,"click"],["id","icon",1,"fa-solid","fa-moon"]],template:function(l,h){1&l&&(J(0,"div",0)(1,"header"),Ct(2,"app-header"),te(),J(3,"main",1)(4,"button",2),He("click",function(){return h.CambiarTema()}),Ct(5,"i",3),te()()()),2&l&&(ue(4),jn("button-mode-background-light","light"===h.theme)("button-mode-background-dark","dark"===h.theme))},dependencies:[lt],styles:[".scroll-top[_ngcontent-%COMP%]{position:fixed;bottom:5px;right:2px;font-size:30px;display:block;width:50px;height:50px;color:#fff;background-color:#202225;transition:all .5s ease 0s;border:2px transparent solid;border-radius:50%;outline:none}.scroll-top[_ngcontent-%COMP%]:hover{border:2px #ffc1c1 solid;background-color:#202225;color:#ffc1c1}.button-mode-background-light[_ngcontent-%COMP%]{position:fixed;right:10px;bottom:500px;height:70px;width:70px;border-radius:50%;font-size:30px;text-align:center;color:#fff;background-color:#212529;border:5px solid #5650C3}.button-mode-background-dark[_ngcontent-%COMP%]{position:fixed;right:10px;bottom:500px;height:70px;width:70px;border-radius:50%;font-size:30px;text-align:center;color:#000;background-color:#fff;border:5px solid #5650C3}"]})}return a})();const lr=new ke("NGX_ECHARTS_CONFIG");let Hi=(()=>{class a{static forRoot(i){return{ngModule:a,providers:[{provide:lr,useValue:i}]}}static forChild(){return{ngModule:a}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({})}return a})();function co(a){return new fe(3e3,!1)}function Bg(a){switch(a.length){case 0:return new Pl;case 1:return a[0];default:return new Dx(a)}}function yQ(a,n,i=new Map,l=new Map){const h=[],p=[];let y=-1,b=null;if(n.forEach(C=>{const M=C.get("offset"),I=M==y,R=I&&b||new Map;C.forEach((V,G)=>{let $=G,Z=V;if("offset"!==G)switch($=a.normalizePropertyName($,h),Z){case"!":Z=i.get(G);break;case Il:Z=l.get(G);break;default:Z=a.normalizeStyleValue(G,$,Z,h)}R.set($,Z)}),I||p.push(R),b=R,y=M}),h.length)throw function CJ(a){return new fe(3502,!1)}();return p}function mZ(a,n,i,l){switch(n){case"start":a.onStart(()=>l(i&&yZ(i,"start",a)));break;case"done":a.onDone(()=>l(i&&yZ(i,"done",a)));break;case"destroy":a.onDestroy(()=>l(i&&yZ(i,"destroy",a)))}}function yZ(a,n,i){const p=_Z(a.element,a.triggerName,a.fromState,a.toState,n||a.phaseName,i.totalTime??a.totalTime,!!i.disabled),y=a._data;return null!=y&&(p._data=y),p}function _Z(a,n,i,l,h="",p=0,y){return{element:a,triggerName:n,fromState:i,toState:l,phaseName:h,totalTime:p,disabled:!!y}}function Cs(a,n,i){let l=a.get(n);return l||a.set(n,l=i),l}function _Q(a){const n=a.indexOf(":");return[a.substring(1,n),a.slice(n+1)]}const OJ=(()=>typeof document>"u"?null:document.documentElement)();function wZ(a){const n=a.parentNode||a.host||null;return n===OJ?null:n}let q_=null,wQ=!1;function bQ(a,n){for(;n;){if(n===a)return!0;n=wZ(n)}return!1}function SQ(a,n,i){if(i)return Array.from(a.querySelectorAll(n));const l=a.querySelector(n);return l?[l]:[]}let CQ=(()=>{class a{validateStyleProperty(i){return function FJ(a){q_||(q_=function VJ(){return typeof document<"u"?document.body:null}()||{},wQ=!!q_.style&&"WebkitAppearance"in q_.style);let n=!0;return q_.style&&!function NJ(a){return"ebkit"==a.substring(1,6)}(a)&&(n=a in q_.style,!n&&wQ&&(n="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in q_.style)),n}(i)}matchesElement(i,l){return!1}containsElement(i,l){return bQ(i,l)}getParentElement(i){return wZ(i)}query(i,l,h){return SQ(i,l,h)}computeStyle(i,l,h){return h||""}animate(i,l,h,p,y,b=[],C){return new Pl(h,p)}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})(),bZ=(()=>{class a{static#e=this.NOOP=new CQ}return a})();const BJ=1e3,SZ="ng-enter",AH="ng-leave",EH="ng-trigger",IH=".ng-trigger",DQ="ng-animating",CZ=".ng-animating";function Yd(a){if("number"==typeof a)return a;const n=a.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:xZ(parseFloat(n[1]),n[2])}function xZ(a,n){return"s"===n?a*BJ:a}function PH(a,n,i){return a.hasOwnProperty("duration")?a:function HJ(a,n,i){let h,p=0,y="";if("string"==typeof a){const b=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return n.push(co()),{duration:0,delay:0,easing:""};h=xZ(parseFloat(b[1]),b[2]);const C=b[3];null!=C&&(p=xZ(parseFloat(C),b[4]));const M=b[5];M&&(y=M)}else h=a;if(!i){let b=!1,C=n.length;h<0&&(n.push(function Ix(){return new fe(3100,!1)}()),b=!0),p<0&&(n.push(function kh(){return new fe(3101,!1)}()),b=!0),b&&n.splice(C,0,co())}return{duration:h,delay:p,easing:y}}(a,n,i)}function lL(a,n={}){return Object.keys(a).forEach(i=>{n[i]=a[i]}),n}function TQ(a){const n=new Map;return Object.keys(a).forEach(i=>{n.set(i,a[i])}),n}function zg(a,n=new Map,i){if(i)for(let[l,h]of i)n.set(l,h);for(let[l,h]of a)n.set(l,h);return n}function Oh(a,n,i){n.forEach((l,h)=>{const p=TZ(h);i&&!i.has(h)&&i.set(h,a.style[p]),a.style[p]=l})}function Z_(a,n){n.forEach((i,l)=>{const h=TZ(l);a.style[h]=""})}function uL(a){return Array.isArray(a)?1==a.length?a[0]:aH(a):a}const DZ=new RegExp("{{\\s*(.+?)\\s*}}","g");function AQ(a){let n=[];if("string"==typeof a){let i;for(;i=DZ.exec(a);)n.push(i[1]);DZ.lastIndex=0}return n}function cL(a,n,i){const l=a.toString(),h=l.replace(DZ,(p,y)=>{let b=n[y];return null==b&&(i.push(function sL(a){return new fe(3003,!1)}()),b=""),b.toString()});return h==l?a:h}function LH(a){const n=[];let i=a.next();for(;!i.done;)n.push(i.value),i=a.next();return n}const jJ=/-+([a-z0-9])/g;function TZ(a){return a.replace(jJ,(...n)=>n[1].toUpperCase())}function xs(a,n,i){switch(n.type){case 7:return a.visitTrigger(n,i);case 0:return a.visitState(n,i);case 1:return a.visitTransition(n,i);case 2:return a.visitSequence(n,i);case 3:return a.visitGroup(n,i);case 4:return a.visitAnimate(n,i);case 5:return a.visitKeyframes(n,i);case 6:return a.visitStyle(n,i);case 8:return a.visitReference(n,i);case 9:return a.visitAnimateChild(n,i);case 10:return a.visitAnimateRef(n,i);case 11:return a.visitQuery(n,i);case 12:return a.visitStagger(n,i);default:throw function oJ(a){return new fe(3004,!1)}()}}function EQ(a,n){return window.getComputedStyle(a)[n]}const RH="*";function qJ(a,n){const i=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(l=>function ZJ(a,n,i){if(":"==a[0]){const C=function YJ(a,n){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,l)=>parseFloat(l)>parseFloat(i);case":decrement":return(i,l)=>parseFloat(l)<parseFloat(i);default:return n.push(function _J(a){return new fe(3016,!1)}()),"* => *"}}(a,i);if("function"==typeof C)return void n.push(C);a=C}const l=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return i.push(function yJ(a){return new fe(3015,!1)}()),n;const h=l[1],p=l[2],y=l[3];n.push(IQ(h,y));"<"==p[0]&&!(h==RH&&y==RH)&&n.push(IQ(y,h))}(l,i,n)):i.push(a),i}const kH=new Set(["true","1"]),OH=new Set(["false","0"]);function IQ(a,n){const i=kH.has(a)||OH.has(a),l=kH.has(n)||OH.has(n);return(h,p)=>{let y=a==RH||a==h,b=n==RH||n==p;return!y&&i&&"boolean"==typeof h&&(y=h?kH.has(a):OH.has(a)),!b&&l&&"boolean"==typeof p&&(b=p?kH.has(n):OH.has(n)),y&&b}}const XJ=new RegExp("s*:selfs*,?","g");function MZ(a,n,i,l){return new KJ(a).build(n,i,l)}class KJ{constructor(n){this._driver=n}build(n,i,l){const h=new eee(i);return this._resetContextStyleTimingState(h),xs(this,uL(n),h)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,i){let l=i.queryCount=0,h=i.depCount=0;const p=[],y=[];return"@"==n.name.charAt(0)&&i.errors.push(function sJ(){return new fe(3006,!1)}()),n.definitions.forEach(b=>{if(this._resetContextStyleTimingState(i),0==b.type){const C=b,M=C.name;M.toString().split(/\s*,\s*/).forEach(I=>{C.name=I,p.push(this.visitState(C,i))}),C.name=M}else if(1==b.type){const C=this.visitTransition(b,i);l+=C.queryCount,h+=C.depCount,y.push(C)}else i.errors.push(function lJ(){return new fe(3007,!1)}())}),{type:7,name:n.name,states:p,transitions:y,queryCount:l,depCount:h,options:null}}visitState(n,i){const l=this.visitStyle(n.styles,i),h=n.options&&n.options.params||null;if(l.containsDynamicStyles){const p=new Set,y=h||{};l.styles.forEach(b=>{b instanceof Map&&b.forEach(C=>{AQ(C).forEach(M=>{y.hasOwnProperty(M)||p.add(M)})})}),p.size&&(LH(p.values()),i.errors.push(function uJ(a,n){return new fe(3008,!1)}()))}return{type:0,name:n.name,style:l,options:h?{params:h}:null}}visitTransition(n,i){i.queryCount=0,i.depCount=0;const l=xs(this,uL(n.animation),i);return{type:1,matchers:qJ(n.expr,i.errors),animation:l,queryCount:i.queryCount,depCount:i.depCount,options:Y_(n.options)}}visitSequence(n,i){return{type:2,steps:n.steps.map(l=>xs(this,l,i)),options:Y_(n.options)}}visitGroup(n,i){const l=i.currentTime;let h=0;const p=n.steps.map(y=>{i.currentTime=l;const b=xs(this,y,i);return h=Math.max(h,i.currentTime),b});return i.currentTime=h,{type:3,steps:p,options:Y_(n.options)}}visitAnimate(n,i){const l=function nee(a,n){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return AZ(PH(a,n).duration,0,"");const i=a;if(i.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=AZ(0,0,"");return p.dynamic=!0,p.strValue=i,p}const h=PH(i,n);return AZ(h.duration,h.delay,h.easing)}(n.timings,i.errors);i.currentAnimateTimings=l;let h,p=n.styles?n.styles:j_({});if(5==p.type)h=this.visitKeyframes(p,i);else{let y=n.styles,b=!1;if(!y){b=!0;const M={};l.easing&&(M.easing=l.easing),y=j_(M)}i.currentTime+=l.duration+l.delay;const C=this.visitStyle(y,i);C.isEmptyStep=b,h=C}return i.currentAnimateTimings=null,{type:4,timings:l,style:h,options:null}}visitStyle(n,i){const l=this._makeStyleAst(n,i);return this._validateStyleAst(l,i),l}_makeStyleAst(n,i){const l=[],h=Array.isArray(n.styles)?n.styles:[n.styles];for(let b of h)"string"==typeof b?b===Il?l.push(b):i.errors.push(new fe(3002,!1)):l.push(TQ(b));let p=!1,y=null;return l.forEach(b=>{if(b instanceof Map&&(b.has("easing")&&(y=b.get("easing"),b.delete("easing")),!p))for(let C of b.values())if(C.toString().indexOf("{{")>=0){p=!0;break}}),{type:6,styles:l,easing:y,offset:n.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(n,i){const l=i.currentAnimateTimings;let h=i.currentTime,p=i.currentTime;l&&p>0&&(p-=l.duration+l.delay),n.styles.forEach(y=>{"string"!=typeof y&&y.forEach((b,C)=>{const M=i.collectedStyles.get(i.currentQuerySelector),I=M.get(C);let R=!0;I&&(p!=h&&p>=I.startTime&&h<=I.endTime&&(i.errors.push(function hJ(a,n,i,l,h){return new fe(3010,!1)}()),R=!1),p=I.startTime),R&&M.set(C,{startTime:p,endTime:h}),i.options&&function UJ(a,n,i){const l=n.params||{},h=AQ(a);h.length&&h.forEach(p=>{l.hasOwnProperty(p)||i.push(function MH(a){return new fe(3001,!1)}())})}(b,i.options,i.errors)})})}visitKeyframes(n,i){const l={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function fJ(){return new fe(3011,!1)}()),l;let p=0;const y=[];let b=!1,C=!1,M=0;const I=n.steps.map(ie=>{const ne=this._makeStyleAst(ie,i);let ye=null!=ne.offset?ne.offset:function tee(a){if("string"==typeof a)return null;let n=null;if(Array.isArray(a))a.forEach(i=>{if(i instanceof Map&&i.has("offset")){const l=i;n=parseFloat(l.get("offset")),l.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const i=a;n=parseFloat(i.get("offset")),i.delete("offset")}return n}(ne.styles),we=0;return null!=ye&&(p++,we=ne.offset=ye),C=C||we<0||we>1,b=b||we<M,M=we,y.push(we),ne});C&&i.errors.push(function dJ(){return new fe(3012,!1)}()),b&&i.errors.push(function pJ(){return new fe(3200,!1)}());const R=n.steps.length;let V=0;p>0&&p<R?i.errors.push(function vJ(){return new fe(3202,!1)}()):0==p&&(V=1/(R-1));const G=R-1,$=i.currentTime,Z=i.currentAnimateTimings,ee=Z.duration;return I.forEach((ie,ne)=>{const ye=V>0?ne==G?1:V*ne:y[ne],we=ye*ee;i.currentTime=$+Z.delay+we,Z.duration=we,this._validateStyleAst(ie,i),ie.offset=ye,l.styles.push(ie)}),l}visitReference(n,i){return{type:8,animation:xs(this,uL(n.animation),i),options:Y_(n.options)}}visitAnimateChild(n,i){return i.depCount++,{type:9,options:Y_(n.options)}}visitAnimateRef(n,i){return{type:10,animation:this.visitReference(n.animation,i),options:Y_(n.options)}}visitQuery(n,i){const l=i.currentQuerySelector,h=n.options||{};i.queryCount++,i.currentQuery=n;const[p,y]=function QJ(a){const n=!!a.split(/\s*,\s*/).find(i=>":self"==i);return n&&(a=a.replace(XJ,"")),a=a.replace(/@\*/g,IH).replace(/@\w+/g,i=>IH+"-"+i.slice(1)).replace(/:animating/g,CZ),[a,n]}(n.selector);i.currentQuerySelector=l.length?l+" "+p:p,Cs(i.collectedStyles,i.currentQuerySelector,new Map);const b=xs(this,uL(n.animation),i);return i.currentQuery=null,i.currentQuerySelector=l,{type:11,selector:p,limit:h.limit||0,optional:!!h.optional,includeSelf:y,animation:b,originalSelector:n.selector,options:Y_(n.options)}}visitStagger(n,i){i.currentQuery||i.errors.push(function gJ(){return new fe(3013,!1)}());const l="full"===n.timings?{duration:0,delay:0,easing:"full"}:PH(n.timings,i.errors,!0);return{type:12,animation:xs(this,uL(n.animation),i),timings:l,options:null}}}class eee{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Y_(a){return a?(a=lL(a)).params&&(a.params=function JJ(a){return a?lL(a):null}(a.params)):a={},a}function AZ(a,n,i){return{duration:a,delay:n,easing:i}}function EZ(a,n,i,l,h,p,y=null,b=!1){return{type:1,element:a,keyframes:n,preStyleProps:i,postStyleProps:l,duration:h,delay:p,totalTime:h+p,easing:y,subTimeline:b}}class NH{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,i){let l=this._map.get(n);l||this._map.set(n,l=[]),l.push(...i)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const oee=new RegExp(":enter","g"),see=new RegExp(":leave","g");function IZ(a,n,i,l,h,p=new Map,y=new Map,b,C,M=[]){return(new lee).buildKeyframes(a,n,i,l,h,p,y,b,C,M)}class lee{buildKeyframes(n,i,l,h,p,y,b,C,M,I=[]){M=M||new NH;const R=new PZ(n,i,M,h,p,I,[]);R.options=C;const V=C.delay?Yd(C.delay):0;R.currentTimeline.delayNextStep(V),R.currentTimeline.setStyles([y],null,R.errors,C),xs(this,l,R);const G=R.timelines.filter($=>$.containsAnimation());if(G.length&&b.size){let $;for(let Z=G.length-1;Z>=0;Z--){const ee=G[Z];if(ee.element===i){$=ee;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([b],null,R.errors,C)}return G.length?G.map($=>$.buildKeyframes()):[EZ(i,[],[],[],0,V,"",!1)]}visitTrigger(n,i){}visitState(n,i){}visitTransition(n,i){}visitAnimateChild(n,i){const l=i.subInstructions.get(i.element);if(l){const h=i.createSubContext(n.options),p=i.currentTimeline.currentTime,y=this._visitSubInstructions(l,h,h.options);p!=y&&i.transformIntoNewTimeline(y)}i.previousNode=n}visitAnimateRef(n,i){const l=i.createSubContext(n.options);l.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],i,l),this.visitReference(n.animation,l),i.transformIntoNewTimeline(l.currentTimeline.currentTime),i.previousNode=n}_applyAnimationRefDelays(n,i,l){for(const h of n){const p=h?.delay;if(p){const y="number"==typeof p?p:Yd(cL(p,h?.params??{},i.errors));l.delayNextStep(y)}}}_visitSubInstructions(n,i,l){let p=i.currentTimeline.currentTime;const y=null!=l.duration?Yd(l.duration):null,b=null!=l.delay?Yd(l.delay):null;return 0!==y&&n.forEach(C=>{const M=i.appendInstructionToTimeline(C,y,b);p=Math.max(p,M.duration+M.delay)}),p}visitReference(n,i){i.updateOptions(n.options,!0),xs(this,n.animation,i),i.previousNode=n}visitSequence(n,i){const l=i.subContextCount;let h=i;const p=n.options;if(p&&(p.params||p.delay)&&(h=i.createSubContext(p),h.transformIntoNewTimeline(),null!=p.delay)){6==h.previousNode.type&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=FH);const y=Yd(p.delay);h.delayNextStep(y)}n.steps.length&&(n.steps.forEach(y=>xs(this,y,h)),h.currentTimeline.applyStylesToKeyframe(),h.subContextCount>l&&h.transformIntoNewTimeline()),i.previousNode=n}visitGroup(n,i){const l=[];let h=i.currentTimeline.currentTime;const p=n.options&&n.options.delay?Yd(n.options.delay):0;n.steps.forEach(y=>{const b=i.createSubContext(n.options);p&&b.delayNextStep(p),xs(this,y,b),h=Math.max(h,b.currentTimeline.currentTime),l.push(b.currentTimeline)}),l.forEach(y=>i.currentTimeline.mergeTimelineCollectedStyles(y)),i.transformIntoNewTimeline(h),i.previousNode=n}_visitTiming(n,i){if(n.dynamic){const l=n.strValue;return PH(i.params?cL(l,i.params,i.errors):l,i.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,i){const l=i.currentAnimateTimings=this._visitTiming(n.timings,i),h=i.currentTimeline;l.delay&&(i.incrementTime(l.delay),h.snapshotCurrentStyles());const p=n.style;5==p.type?this.visitKeyframes(p,i):(i.incrementTime(l.duration),this.visitStyle(p,i),h.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=n}visitStyle(n,i){const l=i.currentTimeline,h=i.currentAnimateTimings;!h&&l.hasCurrentStyleProperties()&&l.forwardFrame();const p=h&&h.easing||n.easing;n.isEmptyStep?l.applyEmptyStep(p):l.setStyles(n.styles,p,i.errors,i.options),i.previousNode=n}visitKeyframes(n,i){const l=i.currentAnimateTimings,h=i.currentTimeline.duration,p=l.duration,b=i.createSubContext().currentTimeline;b.easing=l.easing,n.styles.forEach(C=>{b.forwardTime((C.offset||0)*p),b.setStyles(C.styles,C.easing,i.errors,i.options),b.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(b),i.transformIntoNewTimeline(h+p),i.previousNode=n}visitQuery(n,i){const l=i.currentTimeline.currentTime,h=n.options||{},p=h.delay?Yd(h.delay):0;p&&(6===i.previousNode.type||0==l&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=FH);let y=l;const b=i.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!h.optional,i.errors);i.currentQueryTotal=b.length;let C=null;b.forEach((M,I)=>{i.currentQueryIndex=I;const R=i.createSubContext(n.options,M);p&&R.delayNextStep(p),M===i.element&&(C=R.currentTimeline),xs(this,n.animation,R),R.currentTimeline.applyStylesToKeyframe(),y=Math.max(y,R.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(y),C&&(i.currentTimeline.mergeTimelineCollectedStyles(C),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=n}visitStagger(n,i){const l=i.parentContext,h=i.currentTimeline,p=n.timings,y=Math.abs(p.duration),b=y*(i.currentQueryTotal-1);let C=y*i.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":C=b-C;break;case"full":C=l.currentStaggerTime}const I=i.currentTimeline;C&&I.delayNextStep(C);const R=I.currentTime;xs(this,n.animation,i),i.previousNode=n,l.currentStaggerTime=h.currentTime-R+(h.startTime-l.currentTimeline.startTime)}}const FH={};class PZ{constructor(n,i,l,h,p,y,b,C){this._driver=n,this.element=i,this.subInstructions=l,this._enterClassName=h,this._leaveClassName=p,this.errors=y,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=FH,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new VH(this._driver,i,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,i){if(!n)return;const l=n;let h=this.options;null!=l.duration&&(h.duration=Yd(l.duration)),null!=l.delay&&(h.delay=Yd(l.delay));const p=l.params;if(p){let y=h.params;y||(y=this.options.params={}),Object.keys(p).forEach(b=>{(!i||!y.hasOwnProperty(b))&&(y[b]=cL(p[b],y,this.errors))})}}_copyOptions(){const n={};if(this.options){const i=this.options.params;if(i){const l=n.params={};Object.keys(i).forEach(h=>{l[h]=i[h]})}}return n}createSubContext(n=null,i,l){const h=i||this.element,p=new PZ(this._driver,h,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(h,l||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(n),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(n){return this.previousNode=FH,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,i,l){const h={duration:i??n.duration,delay:this.currentTimeline.currentTime+(l??0)+n.delay,easing:""},p=new uee(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,h,n.stretchStartingKeyframe);return this.timelines.push(p),h}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,i,l,h,p,y){let b=[];if(h&&b.push(this.element),n.length>0){n=(n=n.replace(oee,"."+this._enterClassName)).replace(see,"."+this._leaveClassName);let M=this._driver.query(this.element,n,1!=l);0!==l&&(M=l<0?M.slice(M.length+l,M.length):M.slice(0,l)),b.push(...M)}return!p&&0==b.length&&y.push(function mJ(a){return new fe(3014,!1)}()),b}}class VH{constructor(n,i,l,h){this._driver=n,this.element=i,this.startTime=l,this._elementTimelineStylesLookup=h,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+n),i&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,i){return this.applyStylesToKeyframe(),new VH(this._driver,n,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,i){this._localTimelineStyles.set(n,i),this._globalTimelineStyles.set(n,i),this._styleSummary.set(n,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[i,l]of this._globalTimelineStyles)this._backFill.set(i,l||Il),this._currentKeyframe.set(i,Il);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,i,l,h){i&&this._previousKeyframe.set("easing",i);const p=h&&h.params||{},y=function cee(a,n){const i=new Map;let l;return a.forEach(h=>{if("*"===h){l=l||n.keys();for(let p of l)i.set(p,Il)}else zg(h,i)}),i}(n,this._globalTimelineStyles);for(let[b,C]of y){const M=cL(C,p,l);this._pendingStyles.set(b,M),this._localTimelineStyles.has(b)||this._backFill.set(b,this._globalTimelineStyles.get(b)??Il),this._updateStyle(b,M)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,i)=>{this._currentKeyframe.set(i,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,n)}))}snapshotCurrentStyles(){for(let[n,i]of this._localTimelineStyles)this._pendingStyles.set(n,i),this._updateStyle(n,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let i in this._currentKeyframe)n.push(i);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((i,l)=>{const h=this._styleSummary.get(l);(!h||i.time>h.time)&&this._updateStyle(l,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,i=new Set,l=1===this._keyframes.size&&0===this.duration;let h=[];this._keyframes.forEach((b,C)=>{const M=zg(b,new Map,this._backFill);M.forEach((I,R)=>{"!"===I?n.add(R):I===Il&&i.add(R)}),l||M.set("offset",C/this.duration),h.push(M)});const p=n.size?LH(n.values()):[],y=i.size?LH(i.values()):[];if(l){const b=h[0],C=new Map(b);b.set("offset",0),C.set("offset",1),h=[b,C]}return EZ(this.element,h,p,y,this.duration,this.startTime,this.easing,!1)}}class uee extends VH{constructor(n,i,l,h,p,y,b=!1){super(n,i,y.delay),this.keyframes=l,this.preStyleProps=h,this.postStyleProps=p,this._stretchStartingKeyframe=b,this.timings={duration:y.duration,delay:y.delay,easing:y.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:i,duration:l,easing:h}=this.timings;if(this._stretchStartingKeyframe&&i){const p=[],y=l+i,b=i/y,C=zg(n[0]);C.set("offset",0),p.push(C);const M=zg(n[0]);M.set("offset",RQ(b)),p.push(M);const I=n.length-1;for(let R=1;R<=I;R++){let V=zg(n[R]);const G=V.get("offset");V.set("offset",RQ((i+G*l)/y)),p.push(V)}l=y,i=0,h="",n=p}return EZ(this.element,n,this.preStyleProps,this.postStyleProps,l,i,h,!0)}}function RQ(a,n=3){const i=Math.pow(10,n-1);return Math.round(a*i)/i}class LZ{}const hee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fee extends LZ{normalizePropertyName(n,i){return TZ(n)}normalizeStyleValue(n,i,l,h){let p="";const y=l.toString().trim();if(hee.has(i)&&0!==l&&"0"!==l)if("number"==typeof l)p="px";else{const b=l.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&h.push(function aJ(a,n){return new fe(3005,!1)}())}return y+p}}function kQ(a,n,i,l,h,p,y,b,C,M,I,R,V){return{type:0,element:a,triggerName:n,isRemovalTransition:h,fromState:i,fromStyles:p,toState:l,toStyles:y,timelines:b,queriedElements:C,preStyleProps:M,postStyleProps:I,totalTime:R,errors:V}}const RZ={};class OQ{constructor(n,i,l){this._triggerName=n,this.ast=i,this._stateStyles=l}match(n,i,l,h){return function dee(a,n,i,l,h){return a.some(p=>p(n,i,l,h))}(this.ast.matchers,n,i,l,h)}buildStyles(n,i,l){let h=this._stateStyles.get("*");return void 0!==n&&(h=this._stateStyles.get(n?.toString())||h),h?h.buildStyles(i,l):new Map}build(n,i,l,h,p,y,b,C,M,I){const R=[],V=this.ast.options&&this.ast.options.params||RZ,$=this.buildStyles(l,b&&b.params||RZ,R),Z=C&&C.params||RZ,ee=this.buildStyles(h,Z,R),ie=new Set,ne=new Map,ye=new Map,we="void"===h,je={params:pee(Z,V),delay:this.ast.options?.delay},Dt=I?[]:IZ(n,i,this.ast.animation,p,y,$,ee,je,M,R);let It=0;if(Dt.forEach(In=>{It=Math.max(In.duration+In.delay,It)}),R.length)return kQ(i,this._triggerName,l,h,we,$,ee,[],[],ne,ye,It,R);Dt.forEach(In=>{const vi=In.element,X_=Cs(ne,vi,new Set);In.preStyleProps.forEach(Nh=>X_.add(Nh));const K_=Cs(ye,vi,new Set);In.postStyleProps.forEach(Nh=>K_.add(Nh)),vi!==i&&ie.add(vi)});const Ht=LH(ie.values());return kQ(i,this._triggerName,l,h,we,$,ee,Dt,Ht,ne,ye,It)}}function pee(a,n){const i=lL(n);for(const l in a)a.hasOwnProperty(l)&&null!=a[l]&&(i[l]=a[l]);return i}class vee{constructor(n,i,l){this.styles=n,this.defaultParams=i,this.normalizer=l}buildStyles(n,i){const l=new Map,h=lL(this.defaultParams);return Object.keys(n).forEach(p=>{const y=n[p];null!==y&&(h[p]=y)}),this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((y,b)=>{y&&(y=cL(y,h,i));const C=this.normalizer.normalizePropertyName(b,i);y=this.normalizer.normalizeStyleValue(b,C,y,i),l.set(b,y)})}),l}}class mee{constructor(n,i,l){this.name=n,this.ast=i,this._normalizer=l,this.transitionFactories=[],this.states=new Map,i.states.forEach(h=>{this.states.set(h.name,new vee(h.style,h.options&&h.options.params||{},l))}),NQ(this.states,"true","1"),NQ(this.states,"false","0"),i.transitions.forEach(h=>{this.transitionFactories.push(new OQ(n,h,this.states))}),this.fallbackTransition=function yee(a,n,i){return new OQ(a,{type:1,animation:{type:2,steps:[],options:null},matchers:[(y,b)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,i,l,h){return this.transitionFactories.find(y=>y.match(n,i,l,h))||null}matchStyles(n,i,l){return this.fallbackTransition.buildStyles(n,i,l)}}function NQ(a,n,i){a.has(n)?a.has(i)||a.set(i,a.get(n)):a.has(i)&&a.set(n,a.get(i))}const _ee=new NH;class wee{constructor(n,i,l){this.bodyNode=n,this._driver=i,this._normalizer=l,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,i){const l=[],p=MZ(this._driver,i,l,[]);if(l.length)throw function xJ(a){return new fe(3503,!1)}();this._animations.set(n,p)}_buildPlayer(n,i,l){const h=n.element,p=yQ(this._normalizer,n.keyframes,i,l);return this._driver.animate(h,p,n.duration,n.delay,n.easing,[],!0)}create(n,i,l={}){const h=[],p=this._animations.get(n);let y;const b=new Map;if(p?(y=IZ(this._driver,i,p,SZ,AH,new Map,new Map,l,_ee,h),y.forEach(I=>{const R=Cs(b,I.element,new Map);I.postStyleProps.forEach(V=>R.set(V,null))})):(h.push(function DJ(){return new fe(3300,!1)}()),y=[]),h.length)throw function TJ(a){return new fe(3504,!1)}();b.forEach((I,R)=>{I.forEach((V,G)=>{I.set(G,this._driver.computeStyle(R,G,Il))})});const M=Bg(y.map(I=>{const R=b.get(I.element);return this._buildPlayer(I,new Map,R)}));return this._playersById.set(n,M),M.onDestroy(()=>this.destroy(n)),this.players.push(M),M}destroy(n){const i=this._getPlayer(n);i.destroy(),this._playersById.delete(n);const l=this.players.indexOf(i);l>=0&&this.players.splice(l,1)}_getPlayer(n){const i=this._playersById.get(n);if(!i)throw function MJ(a){return new fe(3301,!1)}();return i}listen(n,i,l,h){const p=_Z(i,"","","");return mZ(this._getPlayer(n),l,p,h),()=>{}}command(n,i,l,h){if("register"==l)return void this.register(n,h[0]);if("create"==l)return void this.create(n,i,h[0]||{});const p=this._getPlayer(n);switch(l){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(h[0]));break;case"destroy":this.destroy(n)}}}const FQ="ng-animate-queued",kZ="ng-animate-disabled",Dee=[],VQ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rc="__ng_removed";class OZ{get params(){return this.options.params}constructor(n,i=""){this.namespaceId=i;const l=n&&n.hasOwnProperty("value");if(this.value=function Iee(a){return a??null}(l?n.value:n),l){const p=lL(n);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const i=n.params;if(i){const l=this.options.params;Object.keys(i).forEach(h=>{null==l[h]&&(l[h]=i[h])})}}}const hL="void",NZ=new OZ(hL);class Mee{constructor(n,i,l){this.id=n,this.hostElement=i,this._engine=l,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Ll(i,this._hostClassName)}listen(n,i,l,h){if(!this._triggers.has(i))throw function AJ(a,n){return new fe(3302,!1)}();if(null==l||0==l.length)throw function EJ(a){return new fe(3303,!1)}();if(!function Pee(a){return"start"==a||"done"==a}(l))throw function IJ(a,n){return new fe(3400,!1)}();const p=Cs(this._elementListeners,n,[]),y={name:i,phase:l,callback:h};p.push(y);const b=Cs(this._engine.statesByElement,n,new Map);return b.has(i)||(Ll(n,EH),Ll(n,EH+"-"+i),b.set(i,NZ)),()=>{this._engine.afterFlush(()=>{const C=p.indexOf(y);C>=0&&p.splice(C,1),this._triggers.has(i)||b.delete(i)})}}register(n,i){return!this._triggers.has(n)&&(this._triggers.set(n,i),!0)}_getTrigger(n){const i=this._triggers.get(n);if(!i)throw function PJ(a){return new fe(3401,!1)}();return i}trigger(n,i,l,h=!0){const p=this._getTrigger(i),y=new FZ(this.id,i,n);let b=this._engine.statesByElement.get(n);b||(Ll(n,EH),Ll(n,EH+"-"+i),this._engine.statesByElement.set(n,b=new Map));let C=b.get(i);const M=new OZ(l,this.id);if(!(l&&l.hasOwnProperty("value"))&&C&&M.absorbOptions(C.options),b.set(i,M),C||(C=NZ),M.value!==hL&&C.value===M.value){if(!function kee(a,n){const i=Object.keys(a),l=Object.keys(n);if(i.length!=l.length)return!1;for(let h=0;h<i.length;h++){const p=i[h];if(!n.hasOwnProperty(p)||a[p]!==n[p])return!1}return!0}(C.params,M.params)){const Z=[],ee=p.matchStyles(C.value,C.params,Z),ie=p.matchStyles(M.value,M.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{Z_(n,ee),Oh(n,ie)})}return}const V=Cs(this._engine.playersByElement,n,[]);V.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==i&&Z.queued&&Z.destroy()});let G=p.matchTransition(C.value,M.value,n,M.params),$=!1;if(!G){if(!h)return;G=p.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:i,transition:G,fromState:C,toState:M,player:y,isFallbackTransition:$}),$||(Ll(n,FQ),y.onStart(()=>{Px(n,FQ)})),y.onDone(()=>{let Z=this.players.indexOf(y);Z>=0&&this.players.splice(Z,1);const ee=this._engine.playersByElement.get(n);if(ee){let ie=ee.indexOf(y);ie>=0&&ee.splice(ie,1)}}),this.players.push(y),V.push(y),y}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(i=>i.delete(n)),this._elementListeners.forEach((i,l)=>{this._elementListeners.set(l,i.filter(h=>h.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const i=this._engine.playersByElement.get(n);i&&(i.forEach(l=>l.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,i){const l=this._engine.driver.query(n,IH,!0);l.forEach(h=>{if(h[rc])return;const p=this._engine.fetchNamespacesByElement(h);p.size?p.forEach(y=>y.triggerLeaveAnimation(h,i,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>l.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(n,i,l,h){const p=this._engine.statesByElement.get(n),y=new Map;if(p){const b=[];if(p.forEach((C,M)=>{if(y.set(M,C.value),this._triggers.has(M)){const I=this.trigger(n,M,hL,h);I&&b.push(I)}}),b.length)return this._engine.markElementAsRemoved(this.id,n,!0,i,y),l&&Bg(b).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const i=this._elementListeners.get(n),l=this._engine.statesByElement.get(n);if(i&&l){const h=new Set;i.forEach(p=>{const y=p.name;if(h.has(y))return;h.add(y);const C=this._triggers.get(y).fallbackTransition,M=l.get(y)||NZ,I=new OZ(hL),R=new FZ(this.id,y,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:y,transition:C,fromState:M,toState:I,player:R,isFallbackTransition:!0})})}}removeNode(n,i){const l=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,i),this.triggerLeaveAnimation(n,i,!0))return;let h=!1;if(l.totalAnimations){const p=l.players.length?l.playersByQueriedElement.get(n):[];if(p&&p.length)h=!0;else{let y=n;for(;y=y.parentNode;)if(l.statesByElement.get(y)){h=!0;break}}}if(this.prepareLeaveAnimationListeners(n),h)l.markElementAsRemoved(this.id,n,!1,i);else{const p=n[rc];(!p||p===VQ)&&(l.afterFlush(()=>this.clearElementCache(n)),l.destroyInnerAnimations(n),l._onRemovalComplete(n,i))}}insertNode(n,i){Ll(n,this._hostClassName)}drainQueuedTransitions(n){const i=[];return this._queue.forEach(l=>{const h=l.player;if(h.destroyed)return;const p=l.element,y=this._elementListeners.get(p);y&&y.forEach(b=>{if(b.name==l.triggerName){const C=_Z(p,l.triggerName,l.fromState.value,l.toState.value);C._data=n,mZ(l.player,b.phase,C,b.callback)}}),h.markedForDestroy?this._engine.afterFlush(()=>{h.destroy()}):i.push(l)}),this._queue=[],i.sort((l,h)=>{const p=l.transition.ast.depCount,y=h.transition.ast.depCount;return 0==p||0==y?p-y:this._engine.driver.containsElement(l.element,h.element)?1:-1})}destroy(n){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Aee{_onRemovalComplete(n,i){this.onRemovalComplete(n,i)}constructor(n,i,l){this.bodyNode=n,this.driver=i,this._normalizer=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(h,p)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(i=>{i.players.forEach(l=>{l.queued&&n.push(l)})}),n}createNamespace(n,i){const l=new Mee(n,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(l,i):(this.newHostElements.set(i,l),this.collectEnterElement(i)),this._namespaceLookup[n]=l}_balanceNamespaceList(n,i){const l=this._namespaceList,h=this.namespacesByHostElement;if(l.length-1>=0){let y=!1,b=this.driver.getParentElement(i);for(;b;){const C=h.get(b);if(C){const M=l.indexOf(C);l.splice(M+1,0,n),y=!0;break}b=this.driver.getParentElement(b)}y||l.unshift(n)}else l.push(n);return h.set(i,n),n}register(n,i){let l=this._namespaceLookup[n];return l||(l=this.createNamespace(n,i)),l}registerTrigger(n,i,l){let h=this._namespaceLookup[n];h&&h.register(i,l)&&this.totalAnimations++}destroy(n,i){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const l=this._fetchNamespace(n);this.namespacesByHostElement.delete(l.hostElement);const h=this._namespaceList.indexOf(l);h>=0&&this._namespaceList.splice(h,1),l.destroy(i),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const i=new Set,l=this.statesByElement.get(n);if(l)for(let h of l.values())if(h.namespaceId){const p=this._fetchNamespace(h.namespaceId);p&&i.add(p)}return i}trigger(n,i,l,h){if(BH(i)){const p=this._fetchNamespace(n);if(p)return p.trigger(i,l,h),!0}return!1}insertNode(n,i,l,h){if(!BH(i))return;const p=i[rc];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const y=this.collectedLeaveElements.indexOf(i);y>=0&&this.collectedLeaveElements.splice(y,1)}if(n){const y=this._fetchNamespace(n);y&&y.insertNode(i,l)}h&&this.collectEnterElement(i)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,i){i?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ll(n,kZ)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Px(n,kZ))}removeNode(n,i,l){if(BH(i)){const h=n?this._fetchNamespace(n):null;h?h.removeNode(i,l):this.markElementAsRemoved(n,i,!1,l);const p=this.namespacesByHostElement.get(i);p&&p.id!==n&&p.removeNode(i,l)}else this._onRemovalComplete(i,l)}markElementAsRemoved(n,i,l,h,p){this.collectedLeaveElements.push(i),i[rc]={namespaceId:n,setForRemoval:h,hasAnimation:l,removedBeforeQueried:!1,previousTriggersValues:p}}listen(n,i,l,h,p){return BH(i)?this._fetchNamespace(n).listen(i,l,h,p):()=>{}}_buildInstruction(n,i,l,h,p){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,l,h,n.fromState.options,n.toState.options,i,p)}destroyInnerAnimations(n){let i=this.driver.query(n,IH,!0);i.forEach(l=>this.destroyActiveAnimationsForElement(l)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(n,CZ,!0),i.forEach(l=>this.finishActiveQueriedAnimationOnElement(l)))}destroyActiveAnimationsForElement(n){const i=this.playersByElement.get(n);i&&i.forEach(l=>{l.queued?l.markedForDestroy=!0:l.destroy()})}finishActiveQueriedAnimationOnElement(n){const i=this.playersByQueriedElement.get(n);i&&i.forEach(l=>l.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Bg(this.players).onDone(()=>n());n()})}processLeaveNode(n){const i=n[rc];if(i&&i.setForRemoval){if(n[rc]=VQ,i.namespaceId){this.destroyInnerAnimations(n);const l=this._fetchNamespace(i.namespaceId);l&&l.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}n.classList?.contains(kZ)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(n=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((l,h)=>this._balanceNamespaceList(l,h)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let l=0;l<this.collectedEnterElements.length;l++)Ll(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const l=[];try{i=this._flushAnimations(l,n)}finally{for(let h=0;h<l.length;h++)l[h]()}}else for(let l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(l=>l()),this._flushFns=[],this._whenQuietFns.length){const l=this._whenQuietFns;this._whenQuietFns=[],i.length?Bg(i).onDone(()=>{l.forEach(h=>h())}):l.forEach(h=>h())}}reportError(n){throw function LJ(a){return new fe(3402,!1)}()}_flushAnimations(n,i){const l=new NH,h=[],p=new Map,y=[],b=new Map,C=new Map,M=new Map,I=new Set;this.disabledNodes.forEach(Ye=>{I.add(Ye);const ut=this.driver.query(Ye,".ng-animate-queued",!0);for(let ct=0;ct<ut.length;ct++)I.add(ut[ct])});const R=this.bodyNode,V=Array.from(this.statesByElement.keys()),G=HQ(V,this.collectedEnterElements),$=new Map;let Z=0;G.forEach((Ye,ut)=>{const ct=SZ+Z++;$.set(ut,ct),Ye.forEach(ln=>Ll(ln,ct))});const ee=[],ie=new Set,ne=new Set;for(let Ye=0;Ye<this.collectedLeaveElements.length;Ye++){const ut=this.collectedLeaveElements[Ye],ct=ut[rc];ct&&ct.setForRemoval&&(ee.push(ut),ie.add(ut),ct.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach(ln=>ie.add(ln)):ne.add(ut))}const ye=new Map,we=HQ(V,Array.from(ie));we.forEach((Ye,ut)=>{const ct=AH+Z++;ye.set(ut,ct),Ye.forEach(ln=>Ll(ln,ct))}),n.push(()=>{G.forEach((Ye,ut)=>{const ct=$.get(ut);Ye.forEach(ln=>Px(ln,ct))}),we.forEach((Ye,ut)=>{const ct=ye.get(ut);Ye.forEach(ln=>Px(ln,ct))}),ee.forEach(Ye=>{this.processLeaveNode(Ye)})});const je=[],Dt=[];for(let Ye=this._namespaceList.length-1;Ye>=0;Ye--)this._namespaceList[Ye].drainQueuedTransitions(i).forEach(ct=>{const ln=ct.player,jr=ct.element;if(je.push(ln),this.collectedEnterElements.length){const Fo=jr[rc];if(Fo&&Fo.setForMove){if(Fo.previousTriggersValues&&Fo.previousTriggersValues.has(ct.triggerName)){const Q_=Fo.previousTriggersValues.get(ct.triggerName),Rl=this.statesByElement.get(ct.element);if(Rl&&Rl.has(ct.triggerName)){const GH=Rl.get(ct.triggerName);GH.value=Q_,Rl.set(ct.triggerName,GH)}}return void ln.destroy()}}const Oa=!R||!this.driver.containsElement(R,jr),Ds=ye.get(jr),Hg=$.get(jr),Pr=this._buildInstruction(ct,l,Hg,Ds,Oa);if(Pr.errors&&Pr.errors.length)return void Dt.push(Pr);if(Oa)return ln.onStart(()=>Z_(jr,Pr.fromStyles)),ln.onDestroy(()=>Oh(jr,Pr.toStyles)),void h.push(ln);if(ct.isFallbackTransition)return ln.onStart(()=>Z_(jr,Pr.fromStyles)),ln.onDestroy(()=>Oh(jr,Pr.toStyles)),void h.push(ln);const JQ=[];Pr.timelines.forEach(Fo=>{Fo.stretchStartingKeyframe=!0,this.disabledNodes.has(Fo.element)||JQ.push(Fo)}),Pr.timelines=JQ,l.append(jr,Pr.timelines),y.push({instruction:Pr,player:ln,element:jr}),Pr.queriedElements.forEach(Fo=>Cs(b,Fo,[]).push(ln)),Pr.preStyleProps.forEach((Fo,Q_)=>{if(Fo.size){let Rl=C.get(Q_);Rl||C.set(Q_,Rl=new Set),Fo.forEach((GH,HZ)=>Rl.add(HZ))}}),Pr.postStyleProps.forEach((Fo,Q_)=>{let Rl=M.get(Q_);Rl||M.set(Q_,Rl=new Set),Fo.forEach((GH,HZ)=>Rl.add(HZ))})});if(Dt.length){const Ye=[];Dt.forEach(ut=>{Ye.push(function RJ(a,n){return new fe(3505,!1)}())}),je.forEach(ut=>ut.destroy()),this.reportError(Ye)}const It=new Map,Ht=new Map;y.forEach(Ye=>{const ut=Ye.element;l.has(ut)&&(Ht.set(ut,ut),this._beforeAnimationBuild(Ye.player.namespaceId,Ye.instruction,It))}),h.forEach(Ye=>{const ut=Ye.element;this._getPreviousPlayers(ut,!1,Ye.namespaceId,Ye.triggerName,null).forEach(ln=>{Cs(It,ut,[]).push(ln),ln.destroy()})});const In=ee.filter(Ye=>UQ(Ye,C,M)),vi=new Map;zQ(vi,this.driver,ne,M,Il).forEach(Ye=>{UQ(Ye,C,M)&&In.push(Ye)});const K_=new Map;G.forEach((Ye,ut)=>{zQ(K_,this.driver,new Set(Ye),C,"!")}),In.forEach(Ye=>{const ut=vi.get(Ye),ct=K_.get(Ye);vi.set(Ye,new Map([...ut?.entries()??[],...ct?.entries()??[]]))});const Nh=[],Lx=[],fL={};y.forEach(Ye=>{const{element:ut,player:ct,instruction:ln}=Ye;if(l.has(ut)){if(I.has(ut))return ct.onDestroy(()=>Oh(ut,ln.toStyles)),ct.disabled=!0,ct.overrideTotalTime(ln.totalTime),void h.push(ct);let jr=fL;if(Ht.size>1){let Ds=ut;const Hg=[];for(;Ds=Ds.parentNode;){const Pr=Ht.get(Ds);if(Pr){jr=Pr;break}Hg.push(Ds)}Hg.forEach(Pr=>Ht.set(Pr,jr))}const Oa=this._buildAnimation(ct.namespaceId,ln,It,p,K_,vi);if(ct.setRealPlayer(Oa),jr===fL)Nh.push(ct);else{const Ds=this.playersByElement.get(jr);Ds&&Ds.length&&(ct.parentPlayer=Bg(Ds)),h.push(ct)}}else Z_(ut,ln.fromStyles),ct.onDestroy(()=>Oh(ut,ln.toStyles)),Lx.push(ct),I.has(ut)&&h.push(ct)}),Lx.forEach(Ye=>{const ut=p.get(Ye.element);if(ut&&ut.length){const ct=Bg(ut);Ye.setRealPlayer(ct)}}),h.forEach(Ye=>{Ye.parentPlayer?Ye.syncPlayerEvents(Ye.parentPlayer):Ye.destroy()});for(let Ye=0;Ye<ee.length;Ye++){const ut=ee[Ye],ct=ut[rc];if(Px(ut,AH),ct&&ct.hasAnimation)continue;let ln=[];if(b.size){let Oa=b.get(ut);Oa&&Oa.length&&ln.push(...Oa);let Ds=this.driver.query(ut,CZ,!0);for(let Hg=0;Hg<Ds.length;Hg++){let Pr=b.get(Ds[Hg]);Pr&&Pr.length&&ln.push(...Pr)}}const jr=ln.filter(Oa=>!Oa.destroyed);jr.length?Lee(this,ut,jr):this.processLeaveNode(ut)}return ee.length=0,Nh.forEach(Ye=>{this.players.push(Ye),Ye.onDone(()=>{Ye.destroy();const ut=this.players.indexOf(Ye);this.players.splice(ut,1)}),Ye.play()}),Nh}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,i,l,h,p){let y=[];if(i){const b=this.playersByQueriedElement.get(n);b&&(y=b)}else{const b=this.playersByElement.get(n);if(b){const C=!p||p==hL;b.forEach(M=>{M.queued||!C&&M.triggerName!=h||y.push(M)})}}return(l||h)&&(y=y.filter(b=>!(l&&l!=b.namespaceId||h&&h!=b.triggerName))),y}_beforeAnimationBuild(n,i,l){const p=i.element,y=i.isRemovalTransition?void 0:n,b=i.isRemovalTransition?void 0:i.triggerName;for(const C of i.timelines){const M=C.element,I=M!==p,R=Cs(l,M,[]);this._getPreviousPlayers(M,I,y,b,i.toState).forEach(G=>{const $=G.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),G.destroy(),R.push(G)})}Z_(p,i.fromStyles)}_buildAnimation(n,i,l,h,p,y){const b=i.triggerName,C=i.element,M=[],I=new Set,R=new Set,V=i.timelines.map($=>{const Z=$.element;I.add(Z);const ee=Z[rc];if(ee&&ee.removedBeforeQueried)return new Pl($.duration,$.delay);const ie=Z!==C,ne=function Ree(a){const n=[];return GQ(a,n),n}((l.get(Z)||Dee).map(It=>It.getRealPlayer())).filter(It=>!!It.element&&It.element===Z),ye=p.get(Z),we=y.get(Z),je=yQ(this._normalizer,$.keyframes,ye,we),Dt=this._buildPlayer($,je,ne);if($.subTimeline&&h&&R.add(Z),ie){const It=new FZ(n,b,Z);It.setRealPlayer(Dt),M.push(It)}return Dt});M.forEach($=>{Cs(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function Eee(a,n,i){let l=a.get(n);if(l){if(l.length){const h=l.indexOf(i);l.splice(h,1)}0==l.length&&a.delete(n)}return l}(this.playersByQueriedElement,$.element,$))}),I.forEach($=>Ll($,DQ));const G=Bg(V);return G.onDestroy(()=>{I.forEach($=>Px($,DQ)),Oh(C,i.toStyles)}),R.forEach($=>{Cs(h,$,[]).push(G)}),G}_buildPlayer(n,i,l){return i.length>0?this.driver.animate(n.element,i,n.duration,n.delay,n.easing,l):new Pl(n.duration,n.delay)}}class FZ{constructor(n,i,l){this.namespaceId=n,this.triggerName=i,this.element=l,this._player=new Pl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((i,l)=>{i.forEach(h=>mZ(n,l,void 0,h))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const i=this._player;i.triggerCallback&&n.onStart(()=>i.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,i){Cs(this._queuedCallbacks,n,[]).push(i)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const i=this._player;i.triggerCallback&&i.triggerCallback(n)}}function BH(a){return a&&1===a.nodeType}function BQ(a,n){const i=a.style.display;return a.style.display=n??"none",i}function zQ(a,n,i,l,h){const p=[];i.forEach(C=>p.push(BQ(C)));const y=[];l.forEach((C,M)=>{const I=new Map;C.forEach(R=>{const V=n.computeStyle(M,R,h);I.set(R,V),(!V||0==V.length)&&(M[rc]=Tee,y.push(M))}),a.set(M,I)});let b=0;return i.forEach(C=>BQ(C,p[b++])),y}function HQ(a,n){const i=new Map;if(a.forEach(b=>i.set(b,[])),0==n.length)return i;const h=new Set(n),p=new Map;function y(b){if(!b)return 1;let C=p.get(b);if(C)return C;const M=b.parentNode;return C=i.has(M)?M:h.has(M)?1:y(M),p.set(b,C),C}return n.forEach(b=>{const C=y(b);1!==C&&i.get(C).push(b)}),i}function Ll(a,n){a.classList?.add(n)}function Px(a,n){a.classList?.remove(n)}function Lee(a,n,i){Bg(i).onDone(()=>a.processLeaveNode(n))}function GQ(a,n){for(let i=0;i<a.length;i++){const l=a[i];l instanceof Dx?GQ(l.players,n):n.push(l)}}function UQ(a,n,i){const l=i.get(a);if(!l)return!1;let h=n.get(a);return h?l.forEach(p=>h.add(p)):n.set(a,l),i.delete(a),!0}class zH{constructor(n,i,l){this.bodyNode=n,this._driver=i,this._normalizer=l,this._triggerCache={},this.onRemovalComplete=(h,p)=>{},this._transitionEngine=new Aee(n,i,l),this._timelineEngine=new wee(n,i,l),this._transitionEngine.onRemovalComplete=(h,p)=>this.onRemovalComplete(h,p)}registerTrigger(n,i,l,h,p){const y=n+"-"+h;let b=this._triggerCache[y];if(!b){const C=[],I=MZ(this._driver,p,C,[]);if(C.length)throw function SJ(a,n){return new fe(3404,!1)}();b=function gee(a,n,i){return new mee(a,n,i)}(h,I,this._normalizer),this._triggerCache[y]=b}this._transitionEngine.registerTrigger(i,h,b)}register(n,i){this._transitionEngine.register(n,i)}destroy(n,i){this._transitionEngine.destroy(n,i)}onInsert(n,i,l,h){this._transitionEngine.insertNode(n,i,l,h)}onRemove(n,i,l){this._transitionEngine.removeNode(n,i,l)}disableAnimations(n,i){this._transitionEngine.markElementAsDisabled(n,i)}process(n,i,l,h){if("@"==l.charAt(0)){const[p,y]=_Q(l);this._timelineEngine.command(p,i,y,h)}else this._transitionEngine.trigger(n,i,l,h)}listen(n,i,l,h,p){if("@"==l.charAt(0)){const[y,b]=_Q(l);return this._timelineEngine.listen(y,i,b,p)}return this._transitionEngine.listen(n,i,l,h,p)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let Nee=(()=>{class a{static#e=this.initialStylesByElement=new WeakMap;constructor(i,l,h){this._element=i,this._startStyles=l,this._endStyles=h,this._state=0;let p=a.initialStylesByElement.get(i);p||a.initialStylesByElement.set(i,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&Oh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oh(this._element,this._initialStyles),this._endStyles&&(Oh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(a.initialStylesByElement.delete(this._element),this._startStyles&&(Z_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Z_(this._element,this._endStyles),this._endStyles=null),Oh(this._element,this._initialStyles),this._state=3)}}return a})();function VZ(a){let n=null;return a.forEach((i,l)=>{(function Fee(a){return"display"===a||"position"===a})(l)&&(n=n||new Map,n.set(l,i))}),n}class jQ{constructor(n,i,l,h){this.element=n,this.keyframes=i,this.options=l,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=l.duration,this._delay=l.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const i=[];return n.forEach(l=>{i.push(Object.fromEntries(l))}),i}_triggerWebAnimation(n,i,l){return n.animate(this._convertKeyframesToObject(i),l)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((l,h)=>{"offset"!==h&&n.set(h,this._finished?l:EQ(this.element,h))}),this.currentSnapshot=n}triggerCallback(n){const i="start"===n?this._onStartFns:this._onDoneFns;i.forEach(l=>l()),i.length=0}}class Vee{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,i){return!1}containsElement(n,i){return bQ(n,i)}getParentElement(n){return wZ(n)}query(n,i,l){return SQ(n,i,l)}computeStyle(n,i,l){return window.getComputedStyle(n)[i]}animate(n,i,l,h,p,y=[]){const C={duration:l,delay:h,fill:0==h?"both":"forwards"};p&&(C.easing=p);const M=new Map,I=y.filter(G=>G instanceof jQ);(function WJ(a,n){return 0===a||0===n})(l,h)&&I.forEach(G=>{G.currentSnapshot.forEach(($,Z)=>M.set(Z,$))});let R=function GJ(a){return a.length?a[0]instanceof Map?a:a.map(n=>TQ(n)):[]}(i).map(G=>zg(G));R=function $J(a,n,i){if(i.size&&n.length){let l=n[0],h=[];if(i.forEach((p,y)=>{l.has(y)||h.push(y),l.set(y,p)}),h.length)for(let p=1;p<n.length;p++){let y=n[p];h.forEach(b=>y.set(b,EQ(a,b)))}}return n}(n,R,M);const V=function Oee(a,n){let i=null,l=null;return Array.isArray(n)&&n.length?(i=VZ(n[0]),n.length>1&&(l=VZ(n[n.length-1]))):n instanceof Map&&(i=VZ(n)),i||l?new Nee(a,i,l):null}(n,R);return new jQ(n,R,C,V)}}let Bee=(()=>{class a extends iH{constructor(i,l){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(l.body,{id:"0",encapsulation:Fr.None,styles:[],data:{animation:[]}})}build(i){const l=this._nextAnimationId.toString();this._nextAnimationId++;const h=Array.isArray(i)?aH(i):i;return WQ(this._renderer,null,l,"register",[h]),new zee(l,this._renderer)}static#e=this.\u0275fac=function(l){return new(l||a)(Se(Ri),Se(wr))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();class zee extends J2{constructor(n,i){super(),this._id=n,this._renderer=i}create(n,i){return new Hee(this._id,n,i||{},this._renderer)}}class Hee{constructor(n,i,l,h){this.id=n,this.element=i,this._renderer=h,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",l)}_listen(n,i){return this._renderer.listen(this.element,`@@${this.id}:${n}`,i)}_command(n,...i){return WQ(this._renderer,this.element,this.id,n,i)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WQ(a,n,i,l,h){return a.setProperty(n,`@@${i}:${l}`,h)}const $Q="@.disabled";let Gee=(()=>{class a{constructor(i,l,h){this.delegate=i,this.engine=l,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,l.onRemovalComplete=(p,y)=>{const b=y?.parentNode(p);b&&y.removeChild(b,p)}}createRenderer(i,l){const p=this.delegate.createRenderer(i,l);if(!(i&&l&&l.data&&l.data.animation)){let I=this._rendererCache.get(p);return I||(I=new qQ("",p,this.engine,()=>this._rendererCache.delete(p)),this._rendererCache.set(p,I)),I}const y=l.id,b=l.id+"-"+this._currentId;this._currentId++,this.engine.register(b,i);const C=I=>{Array.isArray(I)?I.forEach(C):this.engine.registerTrigger(y,b,i,I.name,I)};return l.data.animation.forEach(C),new Uee(this,b,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,l,h){i>=0&&i<this._microtaskId?this._zone.run(()=>l(h)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[y,b]=p;y(b)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([l,h]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(l){return new(l||a)(Se(Ri),Se(zH),Se(pn))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();class qQ{constructor(n,i,l,h){this.namespaceId=n,this.delegate=i,this.engine=l,this._onDestroy=h}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,i){return this.delegate.createElement(n,i)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,i){this.delegate.appendChild(n,i),this.engine.onInsert(this.namespaceId,i,n,!1)}insertBefore(n,i,l,h=!0){this.delegate.insertBefore(n,i,l),this.engine.onInsert(this.namespaceId,i,n,h)}removeChild(n,i,l){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(n,i){return this.delegate.selectRootElement(n,i)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,i,l,h){this.delegate.setAttribute(n,i,l,h)}removeAttribute(n,i,l){this.delegate.removeAttribute(n,i,l)}addClass(n,i){this.delegate.addClass(n,i)}removeClass(n,i){this.delegate.removeClass(n,i)}setStyle(n,i,l,h){this.delegate.setStyle(n,i,l,h)}removeStyle(n,i,l){this.delegate.removeStyle(n,i,l)}setProperty(n,i,l){"@"==i.charAt(0)&&i==$Q?this.disableAnimations(n,!!l):this.delegate.setProperty(n,i,l)}setValue(n,i){this.delegate.setValue(n,i)}listen(n,i,l){return this.delegate.listen(n,i,l)}disableAnimations(n,i){this.engine.disableAnimations(n,i)}}class Uee extends qQ{constructor(n,i,l,h,p){super(i,l,h,p),this.factory=n,this.namespaceId=i}setProperty(n,i,l){"@"==i.charAt(0)?"."==i.charAt(1)&&i==$Q?this.disableAnimations(n,l=void 0===l||!!l):this.engine.process(this.namespaceId,n,i.slice(1),l):this.delegate.setProperty(n,i,l)}listen(n,i,l){if("@"==i.charAt(0)){const h=function jee(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(n);let p=i.slice(1),y="";return"@"!=p.charAt(0)&&([p,y]=function Wee(a){const n=a.indexOf(".");return[a.substring(0,n),a.slice(n+1)]}(p)),this.engine.listen(this.namespaceId,h,p,y,b=>{this.factory.scheduleListenerCallback(b._data||-1,l,b)})}return this.delegate.listen(n,i,l)}}let $ee=(()=>{class a extends zH{constructor(i,l,h,p){super(i.body,l,h)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(l){return new(l||a)(Se(wr),Se(bZ),Se(LZ),Se(ll))};static#t=this.\u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();const ZQ=[{provide:iH,useClass:Bee},{provide:LZ,useFactory:function qee(){return new fee}},{provide:zH,useClass:$ee},{provide:Ri,useFactory:function Zee(a,n,i){return new Gee(a,n,i)},deps:[AE,zH,pn]}],BZ=[{provide:bZ,useFactory:()=>new Vee},{provide:oy,useValue:"BrowserAnimations"},...ZQ],YQ=[{provide:bZ,useClass:CQ},{provide:oy,useValue:"NoopAnimations"},...ZQ];let Yee=(()=>{class a{static withConfig(i){return{ngModule:a,providers:i.disableAnimations?YQ:BZ}}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a});static#n=this.\u0275inj=fr({providers:BZ,imports:[FE]})}return a})();const zZ=new ke("@sweetalert2/ngx-sweetalert2#swalProvider"),XQ=new ke("@sweetalert2/ngx-sweetalert2#fireOnInit"),KQ=new ke("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let QQ=(()=>{class a{swalProvider;swalPromiseCache;constructor(i){this.swalProvider=i}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const i=function l(p){return"function"==typeof p&&void 0===p.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=i.then(p=>function h(p){return"function"==typeof p}(p)?p:p.default)}static \u0275fac=function(l){return new(l||a)(Se(zZ))};static \u0275prov=Pe({token:a,factory:a.\u0275fac})}return a})();function Xee(){return Promise.resolve().then(Gt.t.bind(Gt,519,19))}let Kee=(()=>{class a{static forRoot(i={}){return{ngModule:a,providers:[QQ,{provide:zZ,useValue:i.provideSwal||Xee},{provide:XQ,useValue:i.fireOnInit||!1},{provide:KQ,useValue:i.dismissOnDestroy||!0}]}}static forChild(i={}){return{ngModule:a,providers:[...i.provideSwal?[QQ,{provide:zZ,useValue:i.provideSwal}]:[],...void 0!==i.fireOnInit?[{provide:XQ,useValue:i.fireOnInit}]:[],...void 0!==i.dismissOnDestroy?[{provide:KQ,useValue:i.dismissOnDestroy}]:[]]}}static \u0275fac=function(l){return new(l||a)};static \u0275mod=ir({type:a});static \u0275inj=fr({imports:[bC]})}return a})(),Qee=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=ir({type:a,bootstrap:[$n]});static#n=this.\u0275inj=fr({imports:[Hi.forRoot({echarts:()=>Promise.resolve().then(Gt.bind(Gt,707))}),Zq.forRoot(),FE,st,eq,u6,l6,Yee,gH.forRoot(),Kee.forRoot(),L7.forRoot({domain:"dev-9dwis1b5.us.auth0.com",clientId:"ZPC0D1oqk4hw2tEpd6SsQzBPuIvuVf9Q",authorizationParams:{redirect_uri:window.location.origin}})]})}return a})();_V().bootstrapModule(Qee).catch(a=>console.error(a))},707:(J_,Ts,Gt)=>{"use strict";Gt.r(Ts),Gt.d(Ts,{Axis:()=>Ia,ChartView:()=>vn,ComponentModel:()=>Lt,ComponentView:()=>Bn,List:()=>oo,Model:()=>Sn,PRIORITY:()=>WO,SeriesModel:()=>Mn,color:()=>oc,connect:()=>Cj,dataTool:()=>aN,dependencies:()=>HO,disConnect:()=>Kf,disconnect:()=>Kn,dispose:()=>nN,env:()=>Pt,extendChartView:()=>y4,extendComponentModel:()=>v4,extendComponentView:()=>g4,extendSeriesModel:()=>m4,format:()=>Gg,getCoordinateSystemDimensions:()=>rN,getInstanceByDom:()=>zM,getInstanceById:()=>IY,getMap:()=>oN,graphic:()=>kl,helper:()=>Vt,init:()=>BM,innerDrawElementOnCanvas:()=>SM,matrix:()=>Fh,number:()=>Xd,parseGeoJSON:()=>RN,parseGeoJson:()=>RN,registerAction:()=>Oo,registerCoordinateSystem:()=>DS,registerLayout:()=>UM,registerLoading:()=>$M,registerLocale:()=>yT,registerMap:()=>iN,registerPostInit:()=>GM,registerPostUpdate:()=>CS,registerPreprocessor:()=>t0,registerProcessor:()=>HM,registerTheme:()=>e0,registerTransform:()=>Dj,registerUpdateLifecycle:()=>xS,registerVisual:()=>Lu,setCanvasCreator:()=>xj,setPlatformAPI:()=>Ox,throttle:()=>sS,time:()=>Na,use:()=>ft,util:()=>ve,vector:()=>ic,version:()=>zO,zrUtil:()=>Tt,zrender:()=>Wr});var Tt={};Gt.r(Tt),Gt.d(Tt,{HashMap:()=>Xg,RADIAN_TO_DEGREE:()=>Bl,assert:()=>_n,bind:()=>Me,clone:()=>Ge,concatArray:()=>hc,createCanvas:()=>Nx,createHashMap:()=>Re,createObject:()=>fc,curry:()=>Je,defaults:()=>Ve,disableUserSelect:()=>Kg,each:()=>H,eqNaN:()=>cc,extend:()=>ce,filter:()=>Wt,find:()=>qg,guid:()=>ri,hasOwn:()=>Ee,indexOf:()=>ot,inherits:()=>Ba,isArray:()=>ge,isArrayLike:()=>$r,isBuiltInObject:()=>Zg,isDom:()=>Nl,isFunction:()=>Ne,isGradientObject:()=>Hh,isImagePatternObject:()=>aw,isNumber:()=>kt,isObject:()=>Ue,isPrimitive:()=>Vl,isRegExp:()=>la,isString:()=>xe,isStringSafe:()=>kr,isTypedArray:()=>Ut,keys:()=>pt,logError:()=>ep,map:()=>me,merge:()=>tt,mergeAll:()=>uc,mixin:()=>Zn,noop:()=>Mt,normalizeCssArray:()=>Fl,reduce:()=>Ei,retrieve:()=>$t,retrieve2:()=>Qe,retrieve3:()=>Gn,setAsPrimitive:()=>za,slice:()=>tp,trim:()=>Ii});var ic={};Gt.r(ic),Gt.d(ic,{add:()=>Ha,applyTransform:()=>Or,clone:()=>ua,copy:()=>gi,create:()=>hr,dist:()=>Os,distSquare:()=>Gl,distance:()=>ks,distanceSquare:()=>Pe,div:()=>yL,dot:()=>mo,len:()=>op,lenSquare:()=>rm,length:()=>zl,lengthSquare:()=>Bx,lerp:()=>Ns,max:()=>Ga,min:()=>ca,mul:()=>Uh,negate:()=>fr,normalize:()=>Hl,scale:()=>at,scaleAndAdd:()=>nm,set:()=>dc,sub:()=>Rs});var Fh={};Gt.r(Fh),Gt.d(Fh,{clone:()=>gw,copy:()=>Se,create:()=>dr,identity:()=>yc,invert:()=>Bo,mul:()=>_o,rotate:()=>wo,scale:()=>Fs,translate:()=>Ie});var oc={};Gt.r(oc),Gt.d(oc,{fastLerp:()=>Dm,fastMapToColor:()=>GZ,lerp:()=>qx,lift:()=>vp,lum:()=>Iw,mapToColor:()=>WH,modifyAlpha:()=>Ew,modifyHSL:()=>Tm,parse:()=>Tr,random:()=>UZ,stringify:()=>Hs,toHex:()=>jH});var Wr={};Gt.r(Wr),Gt.d(Wr,{dispose:()=>zL,disposeAll:()=>tG,getInstance:()=>nG,init:()=>gD,registerPainter:()=>Gw,version:()=>mD});var Ms={};Gt.r(Ms),Gt.d(Ms,{Arc:()=>Jb,BezierCurve:()=>Un,BoundingRect:()=>Xe,Circle:()=>rs,CompoundPath:()=>te,Ellipse:()=>Xb,Group:()=>Ze,Image:()=>bn,IncrementalDisplayable:()=>He,Line:()=>zr,LinearGradient:()=>cv,OrientedBoundingRect:()=>zn,Path:()=>mt,Point:()=>nt,Polygon:()=>to,Polyline:()=>Ni,RadialGradient:()=>Vf,Rect:()=>Ot,Ring:()=>Ff,Sector:()=>eo,Text:()=>Nt,applyTransform:()=>Da,clipPointsByRect:()=>sM,clipRectByRect:()=>aS,createIcon:()=>Ta,extendPath:()=>Oe,extendShape:()=>aM,getShapeClass:()=>Py,getTransform:()=>Au,groupTransition:()=>Oy,initProps:()=>On,isElementRemoved:()=>Gp,lineLineIntersect:()=>uO,linePolygonIntersect:()=>zf,makeImage:()=>rS,makePath:()=>hv,mergePath:()=>Po,registerShape:()=>xa,removeElement:()=>es,removeElementWithFadeOut:()=>pu,resizePath:()=>oS,setTooltipConfig:()=>Fy,subPixelOptimize:()=>Ly,subPixelOptimizeLine:()=>Bf,subPixelOptimizeRect:()=>lO,transformDirection:()=>Ry,traverseElements:()=>Wc,updateProps:()=>Yt});var Vt={};Gt.r(Vt),Gt.d(Vt,{createDimensions:()=>il,createList:()=>Qj,createScale:()=>BY,createSymbol:()=>ar,createTextStyle:()=>zY,dataStack:()=>Jj,enableHoverEmphasis:()=>du,getECData:()=>et,getLayoutRect:()=>Ar,mixinAxisModelCommonMethods:()=>PN});var Xd={};Gt.r(Xd),Gt.d(Xd,{MAX_SAFE_INTEGER:()=>ru,asc:()=>Co,getPercentWithPrecision:()=>iG,getPixelPrecision:()=>Vm,getPrecision:()=>ga,getPrecisionSafe:()=>_D,isNumeric:()=>bp,isRadianAroundZero:()=>Bm,linearMap:()=>on,nice:()=>jw,numericToNumber:()=>Ws,parseDate:()=>jo,quantile:()=>ef,quantity:()=>GL,quantityExponent:()=>zm,reformIntervals:()=>js,remRadian:()=>Xn,round:()=>Yn});var Na={};Gt.r(Na),Gt.d(Na,{format:()=>ry,parse:()=>jo});var kl={};Gt.r(kl),Gt.d(kl,{Arc:()=>Jb,BezierCurve:()=>Un,BoundingRect:()=>Xe,Circle:()=>rs,CompoundPath:()=>te,Ellipse:()=>Xb,Group:()=>Ze,Image:()=>bn,IncrementalDisplayable:()=>He,Line:()=>zr,LinearGradient:()=>cv,Polygon:()=>to,Polyline:()=>Ni,RadialGradient:()=>Vf,Rect:()=>Ot,Ring:()=>Ff,Sector:()=>eo,Text:()=>Nt,clipPointsByRect:()=>sM,clipRectByRect:()=>aS,createIcon:()=>Ta,extendPath:()=>Oe,extendShape:()=>aM,getShapeClass:()=>Py,getTransform:()=>Au,initProps:()=>On,makeImage:()=>rS,makePath:()=>hv,mergePath:()=>Po,registerShape:()=>xa,resizePath:()=>oS,updateProps:()=>Yt});var Gg={};Gt.r(Gg),Gt.d(Gg,{addCommas:()=>Pc,capitalFirst:()=>CT,encodeHTML:()=>Nr,formatTime:()=>iY,formatTpl:()=>cy,getTextRect:()=>o4,getTooltipMarker:()=>hy,normalizeCssArray:()=>yu,toCamelCase:()=>ly,truncateText:()=>pG});var ve={};Gt.r(ve),Gt.d(ve,{bind:()=>Me,clone:()=>Ge,curry:()=>Je,defaults:()=>Ve,each:()=>H,extend:()=>ce,filter:()=>Wt,indexOf:()=>ot,inherits:()=>Ba,isArray:()=>ge,isFunction:()=>Ne,isObject:()=>Ue,isString:()=>xe,map:()=>me,merge:()=>tt,reduce:()=>Ei});var ew=function(r,t){return(ew=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])})(r,t)};function ae(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}ew(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var As=function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},hn=new function r(){this.browser=new As,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(hn.wxa=!0,hn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?hn.worker=!0:typeof navigator>"u"?(hn.node=!0,hn.svgSupported=!0):function Ln(r,t){var e=t.browser,o=r.match(/Firefox\/([\d.]+)/),s=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),u=r.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(r);o&&(e.firefox=!0,e.version=o[1]),s&&(e.ie=!0,e.version=s[1]),u&&(e.edge=!0,e.version=u[1],e.newEdge=+u[1].split(".")[0]>18),c&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var f=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in f||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,hn);const Pt=hn;var r,t,jt=12,lc="sans-serif",Es=jt+"px "+lc,po=function kx(r){var t={};if(typeof JSON>"u")return t;for(var e=0;e<r.length;e++){var o=String.fromCharCode(e+32),s=(r.charCodeAt(e)-20)/100;t[o]=s}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),Lr={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(e,o){if(!r){var s=Lr.createCanvas();r=s&&s.getContext("2d")}if(r)return t!==o&&(t=r.font=o||Es),r.measureText(e);e=e||"";var u=/(\d+)px/.exec(o=o||Es),c=u&&+u[1]||jt,f=0;if(o.indexOf("mono")>=0)f=c*e.length;else for(var d=0;d<e.length;d++){var v=po[e[d]];f+=null==v?c:v*c}return{width:f}},loadImage:function(r,t,e){var o=new Image;return o.onload=t,o.onerror=e,o.src=r,o}};function Ox(r){for(var t in Lr)r[t]&&(Lr[t]=r[t])}var vo=Ei(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),Bh=Ei(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),Is=Object.prototype.toString,zh=Array.prototype,tn=zh.forEach,sa=zh.filter,go=zh.slice,Ps=zh.map,Rr=function(){}.constructor,Dr=Rr?Rr.prototype:null,Jd="__proto__",Vo=2311;function ri(){return Vo++}function ep(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function Ge(r){if(null==r||"object"!=typeof r)return r;var t=r,e=Is.call(r);if("[object Array]"===e){if(!Vl(r)){t=[];for(var o=0,s=r.length;o<s;o++)t[o]=Ge(r[o])}}else if(Bh[e]){if(!Vl(r)){var u=r.constructor;if(u.from)t=u.from(r);else for(t=new u(r.length),o=0,s=r.length;o<s;o++)t[o]=r[o]}}else if(!vo[e]&&!Vl(r)&&!Nl(r))for(var c in t={},r)r.hasOwnProperty(c)&&c!==Jd&&(t[c]=Ge(r[c]));return t}function tt(r,t,e){if(!Ue(t)||!Ue(r))return e?Ge(t):r;for(var o in t)if(t.hasOwnProperty(o)&&o!==Jd){var s=r[o],u=t[o];!Ue(u)||!Ue(s)||ge(u)||ge(s)||Nl(u)||Nl(s)||Zg(u)||Zg(s)||Vl(u)||Vl(s)?(e||!(o in r))&&(r[o]=Ge(t[o])):tt(s,u,e)}return r}function uc(r,t){for(var e=r[0],o=1,s=r.length;o<s;o++)e=tt(e,r[o],t);return e}function ce(r,t){if(Object.assign)Object.assign(r,t);else for(var e in t)t.hasOwnProperty(e)&&e!==Jd&&(r[e]=t[e]);return r}function Ve(r,t,e){for(var o=pt(t),s=0;s<o.length;s++){var u=o[s];(e?null!=t[u]:null==r[u])&&(r[u]=t[u])}return r}var Nx=Lr.createCanvas;function ot(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var e=0,o=r.length;e<o;e++)if(r[e]===t)return e}return-1}function Ba(r,t){var e=r.prototype;function o(){}for(var s in o.prototype=t.prototype,r.prototype=new o,e)e.hasOwnProperty(s)&&(r.prototype[s]=e[s]);r.prototype.constructor=r,r.superClass=t}function Zn(r,t,e){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(t),s=0;s<o.length;s++){var u=o[s];"constructor"!==u&&(e?null!=t[u]:null==r[u])&&(r[u]=t[u])}else Ve(r,t,e)}function $r(r){return!(!r||"string"==typeof r)&&"number"==typeof r.length}function H(r,t,e){if(r&&t)if(r.forEach&&r.forEach===tn)r.forEach(t,e);else if(r.length===+r.length)for(var o=0,s=r.length;o<s;o++)t.call(e,r[o],o,r);else for(var u in r)r.hasOwnProperty(u)&&t.call(e,r[u],u,r)}function me(r,t,e){if(!r)return[];if(!t)return tp(r);if(r.map&&r.map===Ps)return r.map(t,e);for(var o=[],s=0,u=r.length;s<u;s++)o.push(t.call(e,r[s],s,r));return o}function Ei(r,t,e,o){if(r&&t){for(var s=0,u=r.length;s<u;s++)e=t.call(o,e,r[s],s,r);return e}}function Wt(r,t,e){if(!r)return[];if(!t)return tp(r);if(r.filter&&r.filter===sa)return r.filter(t,e);for(var o=[],s=0,u=r.length;s<u;s++)t.call(e,r[s],s,r)&&o.push(r[s]);return o}function qg(r,t,e){if(r&&t)for(var o=0,s=r.length;o<s;o++)if(t.call(e,r[o],o,r))return r[o]}function pt(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}var Me=Dr&&Ne(Dr.bind)?Dr.call.bind(Dr.bind):function Ls(r,t){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return function(){return r.apply(t,e.concat(go.call(arguments)))}};function Je(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return r.apply(this,t.concat(go.call(arguments)))}}function ge(r){return Array.isArray?Array.isArray(r):"[object Array]"===Is.call(r)}function Ne(r){return"function"==typeof r}function xe(r){return"string"==typeof r}function kr(r){return"[object String]"===Is.call(r)}function kt(r){return"number"==typeof r}function Ue(r){var t=typeof r;return"function"===t||!!r&&"object"===t}function Zg(r){return!!vo[Is.call(r)]}function Ut(r){return!!Bh[Is.call(r)]}function Nl(r){return"object"==typeof r&&"number"==typeof r.nodeType&&"object"==typeof r.ownerDocument}function Hh(r){return null!=r.colorStops}function aw(r){return null!=r.image}function la(r){return"[object RegExp]"===Is.call(r)}function cc(r){return r!=r}function $t(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0,o=r.length;e<o;e++)if(null!=r[e])return r[e]}function Qe(r,t){return r??t}function Gn(r,t,e){return r??t??e}function tp(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return go.apply(r,t)}function Fl(r){if("number"==typeof r)return[r,r,r,r];var t=r.length;return 2===t?[r[0],r[1],r[0],r[1]]:3===t?[r[0],r[1],r[2],r[1]]:r}function _n(r,t){if(!r)throw new Error(t)}function Ii(r){return null==r?null:"function"==typeof r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var np="__ec_primitive__";function za(r){r[np]=!0}function Vl(r){return r[np]}var sw=function(){function r(){this.data={}}return r.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,e){return this.data[t]=e,this},r.prototype.keys=function(){return pt(this.data)},r.prototype.forEach=function(t){var e=this.data;for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)},r}(),Yg="function"==typeof Map,Xg=function(){function r(t){var e=ge(t);this.data=function Fx(){return Yg?new Map:new sw}();var o=this;function s(u,c){e?o.set(u,c):o.set(c,u)}t instanceof r?t.each(s):t&&H(t,s)}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,e){return this.data.set(t,e),e},r.prototype.each=function(t,e){this.data.forEach(function(o,s){t.call(e,o,s)})},r.prototype.keys=function(){var t=this.data.keys();return Yg?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r}();function Re(r){return new Xg(r)}function hc(r,t){for(var e=new r.constructor(r.length+t.length),o=0;o<r.length;o++)e[o]=r[o];var s=r.length;for(o=0;o<t.length;o++)e[o+s]=t[o];return e}function fc(r,t){var e;if(Object.create)e=Object.create(r);else{var o=function(){};o.prototype=r,e=new o}return t&&ce(e,t),e}function Kg(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Ee(r,t){return r.hasOwnProperty(t)}function Mt(){}var Bl=180/Math.PI,rr=function(r,t){return(rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])})(r,t)};function Le(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}rr(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function hr(r,t){return null==r&&(r=0),null==t&&(t=0),[r,t]}function gi(r,t){return r[0]=t[0],r[1]=t[1],r}function ua(r){return[r[0],r[1]]}function dc(r,t,e){return r[0]=t,r[1]=e,r}function Ha(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function nm(r,t,e,o){return r[0]=t[0]+e[0]*o,r[1]=t[1]+e[1]*o,r}function Rs(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function op(r){return Math.sqrt(rm(r))}var zl=op;function rm(r){return r[0]*r[0]+r[1]*r[1]}var Bx=rm;function Uh(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}function yL(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}function mo(r,t){return r[0]*t[0]+r[1]*t[1]}function at(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function Hl(r,t){var e=op(t);return 0===e?(r[0]=0,r[1]=0):(r[0]=t[0]/e,r[1]=t[1]/e),r}function ks(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var Os=ks;function Pe(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var Gl=Pe;function fr(r,t){return r[0]=-t[0],r[1]=-t[1],r}function Ns(r,t,e,o){return r[0]=t[0]+o*(e[0]-t[0]),r[1]=t[1]+o*(e[1]-t[1]),r}function Or(r,t,e){var o=t[0],s=t[1];return r[0]=e[0]*o+e[2]*s+e[4],r[1]=e[1]*o+e[3]*s+e[5],r}function ca(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function Ga(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}var Ua=function r(t,e){this.target=t,this.topTarget=e&&e.topTarget},ap=function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Ua(e,t),"dragstart",t.event))},r.prototype._drag=function(t){var e=this._draggingTarget;if(e){var o=t.offsetX,s=t.offsetY,u=o-this._x,c=s-this._y;this._x=o,this._y=s,e.drift(u,c,t),this.handler.dispatchToElement(new Ua(e,t),"drag",t.event);var f=this.handler.findHover(o,s,e).target,d=this._dropTarget;this._dropTarget=f,e!==f&&(d&&f!==d&&this.handler.dispatchToElement(new Ua(d,t),"dragleave",t.event),f&&f!==d&&this.handler.dispatchToElement(new Ua(f,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Ua(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Ua(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r}();const pc=ap;var im=function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,e,o,s){this._$handlers||(this._$handlers={});var u=this._$handlers;if("function"==typeof e&&(s=o,o=e,e=null),!o||!t)return this;var c=this._$eventProcessor;null!=e&&c&&c.normalizeQuery&&(e=c.normalizeQuery(e)),u[t]||(u[t]=[]);for(var f=0;f<u[t].length;f++)if(u[t][f].h===o)return this;var d={h:o,query:e,ctx:s||this,callAtLast:o.zrEventfulCallAtLast},v=u[t].length-1,g=u[t][v];return g&&g.callAtLast?u[t].splice(v,0,d):u[t].push(d),this},r.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},r.prototype.off=function(t,e){var o=this._$handlers;if(!o)return this;if(!t)return this._$handlers={},this;if(e){if(o[t]){for(var s=[],u=0,c=o[t].length;u<c;u++)o[t][u].h!==e&&s.push(o[t][u]);o[t]=s}o[t]&&0===o[t].length&&delete o[t]}else delete o[t];return this},r.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[t],u=this._$eventProcessor;if(s)for(var c=e.length,f=s.length,d=0;d<f;d++){var v=s[d];if(!u||!u.filter||null==v.query||u.filter(t,v.query))switch(c){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,e[0]);break;case 2:v.h.call(v.ctx,e[0],e[1]);break;default:v.h.apply(v.ctx,e)}}return u&&u.afterTrigger&&u.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[t],u=this._$eventProcessor;if(s)for(var c=e.length,f=e[c-1],d=s.length,v=0;v<d;v++){var g=s[v];if(!u||!u.filter||null==g.query||u.filter(t,g.query))switch(c){case 0:g.h.call(f);break;case 1:g.h.call(f,e[0]);break;case 2:g.h.call(f,e[0],e[1]);break;default:g.h.apply(f,e.slice(1,c-1))}}return u&&u.afterTrigger&&u.afterTrigger(t),this},r}();const yo=im;var Kt=Math.log(2);function jh(r,t,e,o,s,u){var c=o+"-"+s,f=r.length;if(u.hasOwnProperty(c))return u[c];if(1===t){var d=Math.round(Math.log((1<<f)-1&~s)/Kt);return r[e][d]}for(var v=o|1<<e,g=e+1;o&1<<g;)g++;for(var m=0,_=0,w=0;_<f;_++){var S=1<<_;S&s||(m+=(w%2?-1:1)*r[e][_]*jh(r,t-1,g,v,s|S,u),w++)}return u[c]=m,m}function sp(r,t){var e=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],o={},s=jh(e,8,0,0,0,o);if(0!==s){for(var u=[],c=0;c<8;c++)for(var f=0;f<8;f++)null==u[f]&&(u[f]=0),u[f]+=((c+f)%2?-1:1)*jh(e,7,0===c?1:0,1<<c,1<<f,o)/s*t[c];return function(d,v,g){var m=v*u[6]+g*u[7]+1;d[0]=(v*u[0]+g*u[1]+u[2])/m,d[1]=(v*u[3]+g*u[4]+u[5])/m}}}var mi="___zrEVENTSAVED",vc=[];function wn(r,t,e,o,s){if(t.getBoundingClientRect&&Pt.domSupported&&!lp(t)){var u=t[mi]||(t[mi]={}),c=function fw(r,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var o=["left","right"],s=["top","bottom"],u=0;u<4;u++){var c=document.createElement("div"),d=u%2,v=(u>>1)%2;c.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",s[v]+":0",o[1-d]+":auto",s[1-v]+":auto",""].join("!important;"),r.appendChild(c),e.push(c)}return e}(t,u),f=function om(r,t,e){for(var o=e?"invTrans":"trans",s=t[o],u=t.srcCoords,c=[],f=[],d=!0,v=0;v<4;v++){var g=r[v].getBoundingClientRect(),m=2*v,_=g.left,w=g.top;c.push(_,w),d=d&&u&&_===u[m]&&w===u[m+1],f.push(r[v].offsetLeft,r[v].offsetTop)}return d&&s?s:(t.srcCoords=c,t[o]=e?sp(f,c):sp(c,f))}(c,u,s);if(f)return f(r,e,o),!0}return!1}function lp(r){return"CANVAS"===r.nodeName.toUpperCase()}var up=/([&<>"'])/g,am={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nr(r){return null==r?"":(r+"").replace(up,function(t,e){return am[e]})}var dw=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,gc=[],Hx=Pt.browser.firefox&&+Pt.browser.version.split(".")[0]<39;function sm(r,t,e,o){return e=e||{},o?pw(r,t,e):Hx&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):pw(r,t,e),e}function pw(r,t,e){if(Pt.domSupported&&r.getBoundingClientRect){var o=t.clientX,s=t.clientY;if(lp(r)){var u=r.getBoundingClientRect();return e.zrX=o-u.left,void(e.zrY=s-u.top)}if(wn(gc,r,o,s))return e.zrX=gc[0],void(e.zrY=gc[1])}e.zrX=e.zrY=0}function lm(r){return r||window.event}function ii(r,t,e){if(null!=(t=lm(t)).zrX)return t;var o=t.type;if(o&&o.indexOf("touch")>=0){var c="touchend"!==o?t.targetTouches[0]:t.changedTouches[0];c&&sm(r,c,t,e)}else{sm(r,t,t,e);var u=function Wh(r){var t=r.wheelDelta;if(t)return t;var e=r.deltaX,o=r.deltaY;return null==e||null==o?t:3*Math.abs(0!==o?o:e)*(o>0?-1:o<0?1:e>0?-1:1)}(t);t.zrDelta=u?u/120:-(t.detail||0)/3}var f=t.button;return null==t.which&&void 0!==f&&dw.test(t.type)&&(t.which=1&f?1:2&f?3:4&f?2:0),t}function $h(r,t,e,o){r.addEventListener(t,e,o)}function cp(r,t,e,o){r.removeEventListener(t,e,o)}var ha=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function um(r){return 2===r.which||3===r.which}var vw=function(){function r(){this._track=[]}return r.prototype.recognize=function(t,e,o){return this._doTrack(t,e,o),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,e,o){var s=t.touches;if(s){for(var u={points:[],touches:[],target:e,event:t},c=0,f=s.length;c<f;c++){var d=s[c],v=sm(o,d,{});u.points.push([v.zrX,v.zrY]),u.touches.push(d)}this._track.push(u)}},r.prototype._recognize=function(t){for(var e in hm)if(hm.hasOwnProperty(e)){var o=hm[e](this._track,t);if(o)return o}},r}();function cm(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}var hm={pinch:function(r,t){var e=r.length;if(e){var o=(r[e-1]||{}).points,s=(r[e-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var u=cm(o)/cm(s);!isFinite(u)&&(u=1),t.pinchScale=u;var c=function mc(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}(o);return t.pinchX=c[0],t.pinchY=c[1],{type:"pinch",target:r[0].target,event:t}}}}};function dr(){return[1,0,0,1,0,0]}function yc(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function Se(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function _o(r,t,e){var s=t[1]*e[0]+t[3]*e[1],u=t[0]*e[2]+t[2]*e[3],c=t[1]*e[2]+t[3]*e[3],f=t[0]*e[4]+t[2]*e[5]+t[4],d=t[1]*e[4]+t[3]*e[5]+t[5];return r[0]=t[0]*e[0]+t[2]*e[1],r[1]=s,r[2]=u,r[3]=c,r[4]=f,r[5]=d,r}function Ie(r,t,e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+e[0],r[5]=t[5]+e[1],r}function wo(r,t,e){var o=t[0],s=t[2],u=t[4],c=t[1],f=t[3],d=t[5],v=Math.sin(e),g=Math.cos(e);return r[0]=o*g+c*v,r[1]=-o*v+c*g,r[2]=s*g+f*v,r[3]=-s*v+g*f,r[4]=g*u+v*d,r[5]=g*d-v*u,r}function Fs(r,t,e){var o=e[0],s=e[1];return r[0]=t[0]*o,r[1]=t[1]*s,r[2]=t[2]*o,r[3]=t[3]*s,r[4]=t[4]*o,r[5]=t[5]*s,r}function Bo(r,t){var e=t[0],o=t[2],s=t[4],u=t[1],c=t[3],f=t[5],d=e*c-u*o;return d?(r[0]=c*(d=1/d),r[1]=-u*d,r[2]=-o*d,r[3]=e*d,r[4]=(o*f-c*s)*d,r[5]=(u*s-e*f)*d,r):null}function gw(r){var t=[1,0,0,1,0,0];return Se(t,r),t}var Gx=function(){function r(t,e){this.x=t||0,this.y=e||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,e){return this.x=t,this.y=e,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var e=this.x-t.x,o=this.y-t.y;return Math.sqrt(e*e+o*o)},r.prototype.distanceSquare=function(t){var e=this.x-t.x,o=this.y-t.y;return e*e+o*o},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var e=this.x,o=this.y;return this.x=t[0]*e+t[2]*o+t[4],this.y=t[1]*e+t[3]*o+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,e,o){t.x=e,t.y=o},r.copy=function(t,e){t.x=e.x,t.y=e.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.add=function(t,e,o){t.x=e.x+o.x,t.y=e.y+o.y},r.sub=function(t,e,o){t.x=e.x-o.x,t.y=e.y-o.y},r.scale=function(t,e,o){t.x=e.x*o,t.y=e.y*o},r.scaleAndAdd=function(t,e,o,s){t.x=e.x+o.x*s,t.y=e.y+o.y*s},r.lerp=function(t,e,o,s){var u=1-s;t.x=u*e.x+s*o.x,t.y=u*e.y+s*o.y},r}();const nt=Gx;var yi=Math.min,Ul=Math.max,Fr=new nt,oi=new nt,qt=new nt,zo=new nt,jl=new nt,Wl=new nt,mw=function(){function r(t,e,o,s){o<0&&(t+=o,o=-o),s<0&&(e+=s,s=-s),this.x=t,this.y=e,this.width=o,this.height=s}return r.prototype.union=function(t){var e=yi(t.x,this.x),o=yi(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Ul(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?Ul(t.y+t.height,this.y+this.height)-o:t.height,this.x=e,this.y=o},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var e=this,o=t.width/e.width,s=t.height/e.height,u=[1,0,0,1,0,0];return Ie(u,u,[-e.x,-e.y]),Fs(u,u,[o,s]),Ie(u,u,[t.x,t.y]),u},r.prototype.intersect=function(t,e){if(!t)return!1;t instanceof r||(t=r.create(t));var o=this,s=o.x,u=o.x+o.width,c=o.y,f=o.y+o.height,d=t.x,v=t.x+t.width,g=t.y,m=t.y+t.height,_=!(u<d||v<s||f<g||m<c);if(e){var w=1/0,S=0,x=Math.abs(u-d),D=Math.abs(v-s),T=Math.abs(f-g),A=Math.abs(m-c),E=Math.min(x,D),P=Math.min(T,A);u<d||v<s?E>S&&(S=E,nt.set(Wl,x<D?-x:D,0)):E<w&&(w=E,nt.set(jl,x<D?x:-D,0)),f<g||m<c?P>S&&(S=P,nt.set(Wl,0,T<A?-T:A)):E<w&&(w=E,nt.set(jl,0,T<A?T:-A))}return e&&nt.copy(e,_?jl:Wl),_},r.prototype.contain=function(t,e){var o=this;return t>=o.x&&t<=o.x+o.width&&e>=o.y&&e<=o.y+o.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return 0===this.width||0===this.height},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},r.applyTransform=function(t,e,o){if(o){if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var s=o[0],u=o[3],f=o[5];return t.x=e.x*s+o[4],t.y=e.y*u+f,t.width=e.width*s,t.height=e.height*u,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Fr.x=qt.x=e.x,Fr.y=zo.y=e.y,oi.x=zo.x=e.x+e.width,oi.y=qt.y=e.y+e.height,Fr.transform(o),zo.transform(o),oi.transform(o),qt.transform(o),t.x=yi(Fr.x,oi.x,qt.x,zo.x),t.y=yi(Fr.y,oi.y,qt.y,zo.y);var d=Ul(Fr.x,oi.x,qt.x,zo.x),v=Ul(Fr.y,oi.y,qt.y,zo.y);t.width=d-t.x,t.height=v-t.y}else t!==e&&r.copy(t,e)},r}();const Xe=mw;var $l="silent";function yw(){ha(this.event)}var dm=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.handler=null,e}return Le(t,r),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(yo),_c=function r(t,e){this.x=t,this.y=e},pm=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ja=new Xe(0,0,0,0),vm=function(r){function t(e,o,s,u,c){var f=r.call(this)||this;return f._hovered=new _c(0,0),f.storage=e,f.painter=o,f.painterRoot=u,f._pointerSize=c,s=s||new dm,f.proxy=null,f.setHandlerProxy(s),f._draggingMgr=new pc(f),f}return Le(t,r),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(H(pm,function(o){e.on&&e.on(o,this[o],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var o=e.zrX,s=e.zrY,u=gm(this,o,s),c=this._hovered,f=c.target;f&&!f.__zr&&(f=(c=this.findHover(c.x,c.y)).target);var d=this._hovered=u?new _c(o,s):this.findHover(o,s),v=d.target,g=this.proxy;g.setCursor&&g.setCursor(v?v.cursor:"default"),f&&v!==f&&this.dispatchToElement(c,"mouseout",e),this.dispatchToElement(d,"mousemove",e),v&&v!==f&&this.dispatchToElement(d,"mouseover",e)},t.prototype.mouseout=function(e){var o=e.zrEventControl;"only_globalout"!==o&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==o&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new _c(0,0)},t.prototype.dispatch=function(e,o){var s=this[e];s&&s.call(this,o)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var o=this.proxy;o.setCursor&&o.setCursor(e)},t.prototype.dispatchToElement=function(e,o,s){var u=(e=e||{}).target;if(!u||!u.silent){for(var c="on"+o,f=function fm(r,t,e){return{type:r,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:yw}}(o,e,s);u&&(u[c]&&(f.cancelBubble=!!u[c].call(u,f)),u.trigger(o,f),u=u.__hostTarget?u.__hostTarget:u.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(o,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){"function"==typeof d[c]&&d[c].call(d,f),d.trigger&&d.trigger(o,f)}))}},t.prototype.findHover=function(e,o,s){var u=this.storage.getDisplayList(),c=new _c(e,o);if(ww(u,c,e,o,s),this._pointerSize&&!c.target){for(var f=[],d=this._pointerSize,v=d/2,g=new Xe(e-v,o-v,d,d),m=u.length-1;m>=0;m--){var _=u[m];_!==s&&!_.ignore&&!_.ignoreCoarsePointer&&(!_.parent||!_.parent.ignoreCoarsePointer)&&(ja.copy(_.getBoundingRect()),_.transform&&ja.applyTransform(_.transform),ja.intersect(g)&&f.push(_))}if(f.length)for(var S=Math.PI/12,x=2*Math.PI,D=0;D<v;D+=4)for(var T=0;T<x;T+=S)if(ww(f,c,e+D*Math.cos(T),o+D*Math.sin(T),s),c.target)return c}return c},t.prototype.processGesture=function(e,o){this._gestureMgr||(this._gestureMgr=new vw);var s=this._gestureMgr;"start"===o&&s.clear();var u=s.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===o&&s.clear(),u){var c=u.type;e.gestureEvent=c;var f=new _c;f.target=u.target,this.dispatchToElement(f,c,u.event)}},t}(yo);function _w(r,t,e){if(r[r.rectHover?"rectContain":"contain"](t,e)){for(var o=r,s=void 0,u=!1;o;){if(o.ignoreClip&&(u=!0),!u){var c=o.getClipPath();if(c&&!c.contain(t,e))return!1;o.silent&&(s=!0)}o=o.__hostTarget||o.parent}return!s||$l}return!1}function ww(r,t,e,o,s){for(var u=r.length-1;u>=0;u--){var c=r[u],f=void 0;if(c!==s&&!c.ignore&&(f=_w(c,e,o))&&(!t.topTarget&&(t.topTarget=c),f!==$l)){t.target=c;break}}}function gm(r,t,e){var o=r.painter;return t<0||t>o.getWidth()||e<0||e>o.getHeight()}H(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){vm.prototype[r]=function(t){var u,c,e=t.zrX,o=t.zrY,s=gm(this,e,o);if(("mouseup"!==r||!s)&&(c=(u=this.findHover(e,o)).target),"mousedown"===r)this._downEl=c,this._downPoint=[t.zrX,t.zrY],this._upEl=c;else if("mouseup"===r)this._upEl=c;else if("click"===r){if(this._downEl!==this._upEl||!this._downPoint||Os(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,r,t)}});const bw=vm;var _i=7;function Dw(r,t,e,o){var s=t+1;if(s===e)return 1;if(o(r[s++],r[t])<0){for(;s<e&&o(r[s],r[s-1])<0;)s++;!function Ux(r,t,e){for(e--;t<e;){var o=r[t];r[t++]=r[e],r[e--]=o}}(r,t,s)}else for(;s<e&&o(r[s],r[s-1])>=0;)s++;return s-t}function Tw(r,t,e,o,s){for(o===t&&o++;o<e;o++){for(var d,u=r[o],c=t,f=o;c<f;)s(u,r[d=c+f>>>1])<0?f=d:c=d+1;var v=o-c;switch(v){case 3:r[c+3]=r[c+2];case 2:r[c+2]=r[c+1];case 1:r[c+1]=r[c];break;default:for(;v>0;)r[c+v]=r[c+v-1],v--}r[c]=u}}function mm(r,t,e,o,s,u){var c=0,f=0,d=1;if(u(r,t[e+s])>0){for(f=o-s;d<f&&u(r,t[e+s+d])>0;)c=d,(d=1+(d<<1))<=0&&(d=f);d>f&&(d=f),c+=s,d+=s}else{for(f=s+1;d<f&&u(r,t[e+s-d])<=0;)c=d,(d=1+(d<<1))<=0&&(d=f);d>f&&(d=f);var v=c;c=s-d,d=s-v}for(c++;c<d;){var g=c+(d-c>>>1);u(r,t[e+g])>0?c=g+1:d=g}return d}function hp(r,t,e,o,s,u){var c=0,f=0,d=1;if(u(r,t[e+s])<0){for(f=s+1;d<f&&u(r,t[e+s-d])<0;)c=d,(d=1+(d<<1))<=0&&(d=f);d>f&&(d=f);var v=c;c=s-d,d=s-v}else{for(f=o-s;d<f&&u(r,t[e+s+d])>=0;)c=d,(d=1+(d<<1))<=0&&(d=f);d>f&&(d=f),c+=s,d+=s}for(c++;c<d;){var g=c+(d-c>>>1);u(r,t[e+g])<0?d=g:c=g+1}return d}function qh(r,t,e,o){e||(e=0),o||(o=r.length);var s=o-e;if(!(s<2)){var u=0;if(s<32)return void Tw(r,e,o,e+(u=Dw(r,e,o,t)),t);var c=function ql(r,t){var c,f,e=_i,d=0,v=[];function w(D){var T=c[D],A=f[D],E=c[D+1],P=f[D+1];f[D]=A+P,D===d-3&&(c[D+1]=c[D+2],f[D+1]=f[D+2]),d--;var N=hp(r[E],r,T,A,0,t);T+=N,0!=(A-=N)&&0!==(P=mm(r[T+A-1],r,E,P,P-1,t))&&(A<=P?function S(D,T,A,E){var P=0;for(P=0;P<T;P++)v[P]=r[D+P];var N=0,k=A,F=D;if(r[F++]=r[k++],0!=--E)if(1!==T){for(var z,j,W,B=e;;){z=0,j=0,W=!1;do{if(t(r[k],v[N])<0){if(r[F++]=r[k++],j++,z=0,0==--E){W=!0;break}}else if(r[F++]=v[N++],z++,j=0,1==--T){W=!0;break}}while((z|j)<B);if(W)break;do{if(0!==(z=hp(r[k],v,N,T,0,t))){for(P=0;P<z;P++)r[F+P]=v[N+P];if(F+=z,N+=z,(T-=z)<=1){W=!0;break}}if(r[F++]=r[k++],0==--E){W=!0;break}if(0!==(j=mm(v[N],r,k,E,0,t))){for(P=0;P<j;P++)r[F+P]=r[k+P];if(F+=j,k+=j,0==(E-=j)){W=!0;break}}if(r[F++]=v[N++],1==--T){W=!0;break}B--}while(z>=_i||j>=_i);if(W)break;B<0&&(B=0),B+=2}if((e=B)<1&&(e=1),1===T){for(P=0;P<E;P++)r[F+P]=r[k+P];r[F+E]=v[N]}else{if(0===T)throw new Error;for(P=0;P<T;P++)r[F+P]=v[N+P]}}else{for(P=0;P<E;P++)r[F+P]=r[k+P];r[F+E]=v[N]}else for(P=0;P<T;P++)r[F+P]=v[N+P]}(T,A,E,P):function x(D,T,A,E){var P=0;for(P=0;P<E;P++)v[P]=r[A+P];var N=D+T-1,k=E-1,F=A+E-1,B=0,z=0;if(r[F--]=r[N--],0!=--T)if(1!==E){for(var j=e;;){var W=0,q=0,Y=!1;do{if(t(v[k],r[N])<0){if(r[F--]=r[N--],W++,q=0,0==--T){Y=!0;break}}else if(r[F--]=v[k--],q++,W=0,1==--E){Y=!0;break}}while((W|q)<j);if(Y)break;do{if(0!=(W=T-hp(v[k],r,D,T,T-1,t))){for(T-=W,z=1+(F-=W),B=1+(N-=W),P=W-1;P>=0;P--)r[z+P]=r[B+P];if(0===T){Y=!0;break}}if(r[F--]=v[k--],1==--E){Y=!0;break}if(0!=(q=E-mm(r[N],v,0,E,E-1,t))){for(E-=q,z=1+(F-=q),B=1+(k-=q),P=0;P<q;P++)r[z+P]=v[B+P];if(E<=1){Y=!0;break}}if(r[F--]=r[N--],0==--T){Y=!0;break}j--}while(W>=_i||q>=_i);if(Y)break;j<0&&(j=0),j+=2}if((e=j)<1&&(e=1),1===E){for(z=1+(F-=T),B=1+(N-=T),P=T-1;P>=0;P--)r[z+P]=r[B+P];r[F]=v[k]}else{if(0===E)throw new Error;for(B=F-(E-1),P=0;P<E;P++)r[B+P]=v[P]}}else{for(z=1+(F-=T),B=1+(N-=T),P=T-1;P>=0;P--)r[z+P]=r[B+P];r[F]=v[k]}else for(B=F-(E-1),P=0;P<E;P++)r[B+P]=v[P]}(T,A,E,P))}return c=[],f=[],{mergeRuns:function m(){for(;d>1;){var D=d-2;if(D>=1&&f[D-1]<=f[D]+f[D+1]||D>=2&&f[D-2]<=f[D]+f[D-1])f[D-1]<f[D+1]&&D--;else if(f[D]>f[D+1])break;w(D)}},forceMergeRuns:function _(){for(;d>1;){var D=d-2;D>0&&f[D-1]<f[D+1]&&D--,w(D)}},pushRun:function g(D,T){c[d]=D,f[d]=T,d+=1}}}(r,t),f=function xw(r){for(var t=0;r>=32;)t|=1&r,r>>=1;return r+t}(s);do{if((u=Dw(r,e,o,t))<f){var d=s;d>f&&(d=f),Tw(r,e,e+d,e+u,t),u=d}c.pushRun(e,u),c.mergeRuns(),s-=u,e+=u}while(0!==s);c.forceMergeRuns()}}var Ui=1,wc=4,Mw=!1;function ym(){Mw||(Mw=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function ir(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var jx=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=ir}return r.prototype.traverse=function(t,e){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(t,e)},r.prototype.getDisplayList=function(t,e){e=e||!1;var o=this._displayList;return(t||!o.length)&&this.updateDisplayList(e),o},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,o=this._displayList,s=0,u=e.length;s<u;s++)this._updateAndAddDisplayable(e[s],null,t);o.length=this._displayListLen,qh(o,ir)},r.prototype._updateAndAddDisplayable=function(t,e,o){if(!t.ignore||o){t.beforeUpdate(),t.update(),t.afterUpdate();var s=t.getClipPath();if(t.ignoreClip)e=null;else if(s){e=e?e.slice():[];for(var u=s,c=t;u;)u.parent=c,u.updateTransform(),e.push(u),c=u,u=u.getClipPath()}if(t.childrenRef){for(var f=t.childrenRef(),d=0;d<f.length;d++){var v=f[d];t.__dirty&&(v.__dirty|=Ui),this._updateAndAddDisplayable(v,e,o)}t.__dirty=0}else{var g=t;e&&e.length?g.__clipPaths=e:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(ym(),g.z=0),isNaN(g.z2)&&(ym(),g.z2=0),isNaN(g.zlevel)&&(ym(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var m=t.getDecalElement&&t.getDecalElement();m&&this._updateAndAddDisplayable(m,e,o);var _=t.getTextGuideLine();_&&this._updateAndAddDisplayable(_,e,o);var w=t.getTextContent();w&&this._updateAndAddDisplayable(w,e,o)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,o=t.length;e<o;e++)this.delRoot(t[e]);else{var s=ot(this._roots,t);s>=0&&this._roots.splice(s,1)}},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}();const Aw=jx;var ht;ht=Pt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};const Nn=ht;var Bt={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return.5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return 0===r?0:Math.pow(1024,r-1)},exponentialOut:function(r){return 1===r?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return 0===r?0:1===r?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(2-Math.pow(2,-10*(r-1)))},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,e=.1;return 0===r?0:1===r?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/.4))},elasticOut:function(r){var t,e=.1;return 0===r?0:1===r?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(r){var t,e=.1;return 0===r?0:1===r?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(r*=2)<1?e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?r*r*((t+1)*r-t)*.5:.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-Bt.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?.5*Bt.bounceIn(2*r):.5*Bt.bounceOut(2*r-1)+.5}};const Zt=Bt;var Vr=Math.pow,ji=Math.sqrt,ai=1e-8,_m=1e-4,wm=ji(3),Zl=1/3,fa=hr(),wi=hr(),L=hr();function O(r){return r>-ai&&r<ai}function U(r){return r>ai||r<-ai}function X(r,t,e,o,s){var u=1-s;return u*u*(u*r+3*s*t)+s*s*(s*o+3*u*e)}function pe(r,t,e,o,s){var u=1-s;return 3*(((t-r)*u+2*(e-t)*s)*u+(o-e)*s*s)}function qe(r,t,e,o,s,u){var c=o+3*(t-e)-r,f=3*(e-2*t+r),d=3*(t-r),v=r-s,g=f*f-3*c*d,m=f*d-9*c*v,_=d*d-3*f*v,w=0;if(O(g)&&O(m))O(f)?u[0]=0:(S=-d/f)>=0&&S<=1&&(u[w++]=S);else{var x=m*m-4*g*_;if(O(x)){var D=m/g,T=-D/2;(S=-f/c+D)>=0&&S<=1&&(u[w++]=S),T>=0&&T<=1&&(u[w++]=T)}else if(x>0){var A=ji(x),E=g*f+1.5*c*(-m+A),P=g*f+1.5*c*(-m-A);(S=(-f-((E=E<0?-Vr(-E,Zl):Vr(E,Zl))+(P=P<0?-Vr(-P,Zl):Vr(P,Zl))))/(3*c))>=0&&S<=1&&(u[w++]=S)}else{var N=(2*g*f-3*c*m)/(2*ji(g*g*g)),k=Math.acos(N)/3,F=ji(g),B=Math.cos(k),S=(-f-2*F*B)/(3*c),z=(T=(-f+F*(B+wm*Math.sin(k)))/(3*c),(-f+F*(B-wm*Math.sin(k)))/(3*c));S>=0&&S<=1&&(u[w++]=S),T>=0&&T<=1&&(u[w++]=T),z>=0&&z<=1&&(u[w++]=z)}}return w}function vt(r,t,e,o,s){var u=6*e-12*t+6*r,c=9*t+3*o-3*r-9*e,f=3*t-3*r,d=0;if(O(c))U(u)&&(v=-f/u)>=0&&v<=1&&(s[d++]=v);else{var g=u*u-4*c*f;if(O(g))s[0]=-u/(2*c);else if(g>0){var v,m=ji(g),_=(-u-m)/(2*c);(v=(-u+m)/(2*c))>=0&&v<=1&&(s[d++]=v),_>=0&&_<=1&&(s[d++]=_)}}return d}function Qt(r,t,e,o,s,u){var c=(t-r)*s+r,f=(e-t)*s+t,d=(o-e)*s+e,v=(f-c)*s+c,g=(d-f)*s+f,m=(g-v)*s+v;u[0]=r,u[1]=c,u[2]=v,u[3]=m,u[4]=m,u[5]=g,u[6]=d,u[7]=o}function At(r,t,e,o,s,u,c,f,d,v,g){var m,S,x,D,T,_=.005,w=1/0;fa[0]=d,fa[1]=v;for(var A=0;A<1;A+=.05)wi[0]=X(r,e,s,c,A),wi[1]=X(t,o,u,f,A),(D=Gl(fa,wi))<w&&(m=A,w=D);w=1/0;for(var E=0;E<32&&!(_<_m);E++)x=m+_,wi[0]=X(r,e,s,c,S=m-_),wi[1]=X(t,o,u,f,S),D=Gl(wi,fa),S>=0&&D<w?(m=S,w=D):(L[0]=X(r,e,s,c,x),L[1]=X(t,o,u,f,x),T=Gl(L,fa),x<=1&&T<w?(m=x,w=T):_*=.5);return g&&(g[0]=X(r,e,s,c,m),g[1]=X(t,o,u,f,m)),ji(w)}function Wi(r,t,e,o,s,u,c,f,d){for(var v=r,g=t,m=0,_=1/d,w=1;w<=d;w++){var S=w*_,x=X(r,e,s,c,S),D=X(t,o,u,f,S),T=x-v,A=D-g;m+=Math.sqrt(T*T+A*A),v=x,g=D}return m}function Fn(r,t,e,o){var s=1-o;return s*(s*r+2*o*t)+o*o*e}function St(r,t,e,o){return 2*((1-o)*(t-r)+o*(e-t))}function Wx(r,t,e){var o=r+e-2*t;return 0===o?.5:(r-t)/o}function Vs(r,t,e,o,s){var u=(t-r)*o+r,c=(e-t)*o+t,f=(c-u)*o+u;s[0]=r,s[1]=u,s[2]=f,s[3]=f,s[4]=c,s[5]=e}function pr(r,t,e,o,s,u,c,f,d){var v,g=.005,m=1/0;fa[0]=c,fa[1]=f;for(var _=0;_<1;_+=.05)wi[0]=Fn(r,e,s,_),wi[1]=Fn(t,o,u,_),(w=Gl(fa,wi))<m&&(v=_,m=w);m=1/0;for(var S=0;S<32&&!(g<_m);S++){var x=v-g,D=v+g;wi[0]=Fn(r,e,s,x),wi[1]=Fn(t,o,u,x);var w=Gl(wi,fa);if(x>=0&&w<m)v=x,m=w;else{L[0]=Fn(r,e,s,D),L[1]=Fn(t,o,u,D);var T=Gl(L,fa);D<=1&&T<m?(v=D,m=T):g*=.5}}return d&&(d[0]=Fn(r,e,s,v),d[1]=Fn(t,o,u,v)),ji(m)}function Sm(r,t,e,o,s,u,c){for(var f=r,d=t,v=0,g=1/c,m=1;m<=c;m++){var _=m*g,w=Fn(r,e,s,_),S=Fn(t,o,u,_),x=w-f,D=S-d;v+=Math.sqrt(x*x+D*D),f=w,d=S}return v}var fp=/cubic-bezier\(([0-9,\.e ]+)\)/;function da(r){var t=r&&fp.exec(r);if(t){var e=t[1].split(","),o=+Ii(e[0]),s=+Ii(e[1]),u=+Ii(e[2]),c=+Ii(e[3]);if(isNaN(o+s+u+c))return;var f=[];return function(d){return d<=0?0:d>=1?1:qe(0,o,u,1,d,f)&&X(0,s,c,1,f[0])}}}var Cm=function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Mt,this.ondestroy=t.ondestroy||Mt,this.onrestart=t.onrestart||Mt,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var o=this._life,s=t-this._startTime-this._pausedTime,u=s/o;u<0&&(u=0),u=Math.min(u,1);var c=this.easingFunc,f=c?c(u):u;if(this.onframe(f),1===u){if(!this.loop)return!0;this._startTime=t-s%o,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Ne(t)?t:Zt[t]||da(t)},r}();const _L=Cm;var Yl=function r(t){this.value=t},Xl=function(){function r(){this._len=0}return r.prototype.insert=function(t){var e=new Yl(t);return this.insertEntry(e),e},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var e=t.prev,o=t.next;e?e.next=o:this.head=o,o?o.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),xm=function(){function r(t){this._list=new Xl,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,e){var o=this._list,s=this._map,u=null;if(null==s[t]){var c=o.len(),f=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var d=o.head;o.remove(d),delete s[d.key],u=d.value,this._lastRemovedEntry=d}f?f.value=e:f=new Yl(e),f.key=t,o.insertEntry(f),s[t]=f}return u},r.prototype.get=function(t){var e=this._map[t],o=this._list;if(null!=e)return e!==o.tail&&(o.remove(e),o.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();const Kl=xm;var Jt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Bs(r){return(r=Math.round(r))<0?0:r>255?255:r}function dp(r){return r<0?0:r>1?1:r}function pa(r){var t=r;return t.length&&"%"===t.charAt(t.length-1)?Bs(parseFloat(t)/100*255):Bs(parseInt(t,10))}function zs(r){var t=r;return t.length&&"%"===t.charAt(t.length-1)?dp(parseFloat(t)/100):dp(parseFloat(t))}function bc(r,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?r+(t-r)*e*6:2*e<1?t:3*e<2?r+(t-r)*(2/3-e)*6:r}function va(r,t,e){return r+(t-r)*e}function kn(r,t,e,o,s){return r[0]=t,r[1]=e,r[2]=o,r[3]=s,r}function wL(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var $i=new Kl(20),si=null;function Sc(r,t){si&&wL(si,t),si=$i.put(r,si||t.slice())}function Tr(r,t){if(r){t=t||[];var e=$i.get(r);if(e)return wL(t,e);var o=(r+="").replace(/ /g,"").toLowerCase();if(o in Jt)return wL(t,Jt[o]),Sc(r,t),t;var u,s=o.length;if("#"===o.charAt(0))return 4===s||5===s?(u=parseInt(o.slice(1,4),16))>=0&&u<=4095?(kn(t,(3840&u)>>4|(3840&u)>>8,240&u|(240&u)>>4,15&u|(15&u)<<4,5===s?parseInt(o.slice(4),16)/15:1),Sc(r,t),t):void kn(t,0,0,0,1):7===s||9===s?(u=parseInt(o.slice(1,7),16))>=0&&u<=16777215?(kn(t,(16711680&u)>>16,(65280&u)>>8,255&u,9===s?parseInt(o.slice(7),16)/255:1),Sc(r,t),t):void kn(t,0,0,0,1):void 0;var c=o.indexOf("("),f=o.indexOf(")");if(-1!==c&&f+1===s){var d=o.substr(0,c),v=o.substr(c+1,f-(c+1)).split(","),g=1;switch(d){case"rgba":if(4!==v.length)return 3===v.length?kn(t,+v[0],+v[1],+v[2],1):kn(t,0,0,0,1);g=zs(v.pop());case"rgb":return v.length>=3?(kn(t,pa(v[0]),pa(v[1]),pa(v[2]),3===v.length?g:zs(v[3])),Sc(r,t),t):void kn(t,0,0,0,1);case"hsla":return 4!==v.length?void kn(t,0,0,0,1):(v[3]=zs(v[3]),pp(v,t),Sc(r,t),t);case"hsl":return 3!==v.length?void kn(t,0,0,0,1):(pp(v,t),Sc(r,t),t);default:return}}kn(t,0,0,0,1)}}function pp(r,t){var e=(parseFloat(r[0])%360+360)%360/360,o=zs(r[1]),s=zs(r[2]),u=s<=.5?s*(o+1):s+o-s*o,c=2*s-u;return kn(t=t||[],Bs(255*bc(c,u,e+1/3)),Bs(255*bc(c,u,e)),Bs(255*bc(c,u,e-1/3)),1),4===r.length&&(t[3]=r[3]),t}function vp(r,t){var e=Tr(r);if(e){for(var o=0;o<3;o++)e[o]=t<0?e[o]*(1-t)|0:(255-e[o])*t+e[o]|0,e[o]>255?e[o]=255:e[o]<0&&(e[o]=0);return Hs(e,4===e.length?"rgba":"rgb")}}function jH(r){var t=Tr(r);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Dm(r,t,e){if(t&&t.length&&r>=0&&r<=1){e=e||[];var o=r*(t.length-1),s=Math.floor(o),u=Math.ceil(o),c=t[s],f=t[u],d=o-s;return e[0]=Bs(va(c[0],f[0],d)),e[1]=Bs(va(c[1],f[1],d)),e[2]=Bs(va(c[2],f[2],d)),e[3]=dp(va(c[3],f[3],d)),e}}var GZ=Dm;function qx(r,t,e){if(t&&t.length&&r>=0&&r<=1){var o=r*(t.length-1),s=Math.floor(o),u=Math.ceil(o),c=Tr(t[s]),f=Tr(t[u]),d=o-s,v=Hs([Bs(va(c[0],f[0],d)),Bs(va(c[1],f[1],d)),Bs(va(c[2],f[2],d)),dp(va(c[3],f[3],d))],"rgba");return e?{color:v,leftIndex:s,rightIndex:u,value:o}:v}}var WH=qx;function Tm(r,t,e,o){var s=Tr(r);if(r)return s=function Wa(r){if(r){var d,v,t=r[0]/255,e=r[1]/255,o=r[2]/255,s=Math.min(t,e,o),u=Math.max(t,e,o),c=u-s,f=(u+s)/2;if(0===c)d=0,v=0;else{v=f<.5?c/(u+s):c/(2-u-s);var g=((u-t)/6+c/2)/c,m=((u-e)/6+c/2)/c,_=((u-o)/6+c/2)/c;t===u?d=_-m:e===u?d=1/3+g-_:o===u&&(d=2/3+m-g),d<0&&(d+=1),d>1&&(d-=1)}var w=[360*d,v,f];return null!=r[3]&&w.push(r[3]),w}}(s),null!=t&&(s[0]=function $x(r){return(r=Math.round(r))<0?0:r>360?360:r}(t)),null!=e&&(s[1]=zs(e)),null!=o&&(s[2]=zs(o)),Hs(pp(s),"rgba")}function Ew(r,t){var e=Tr(r);if(e&&null!=t)return e[3]=dp(t),Hs(e,"rgba")}function Hs(r,t){if(r&&r.length){var e=r[0]+","+r[1]+","+r[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(e+=","+r[3]),t+"("+e+")"}}function Iw(r,t){var e=Tr(r);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function UZ(){return Hs([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var Pw=Math.round;function Lw(r){var t;if(r&&"transparent"!==r){if("string"==typeof r&&r.indexOf("rgba")>-1){var e=Tr(r);e&&(r="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else r="none";return{color:r,opacity:t??1}}var $H=1e-4;function Zh(r){return r<$H&&r>-$H}function Zx(r){return Pw(1e3*r)/1e3}function bL(r){return Pw(1e4*r)/1e4}var CL={left:"start",right:"end",center:"middle",middle:"middle"};function Ql(r){return r&&!!r.image}function xL(r){return Ql(r)||function qZ(r){return r&&!!r.svgElement}(r)}function li(r){return"linear"===r.type}function Mm(r){return"radial"===r.type}function Ho(r){return r&&("linear"===r.type||"radial"===r.type)}function Am(r){return"url(#"+r+")"}function Yx(r){var t=r.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function Xx(r){var t=r.x||0,e=r.y||0,o=(r.rotation||0)*Bl,s=Qe(r.scaleX,1),u=Qe(r.scaleY,1),c=r.skewX||0,f=r.skewY||0,d=[];return(t||e)&&d.push("translate("+t+"px,"+e+"px)"),o&&d.push("rotate("+o+")"),(1!==s||1!==u)&&d.push("scale("+s+","+u+")"),(c||f)&&d.push("skew("+Pw(c*Bl)+"deg, "+Pw(f*Bl)+"deg)"),d.join(" ")}var DL=Pt.hasGlobalWindow&&Ne(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null},Em=Array.prototype.slice;function Gs(r,t,e){return(t-r)*e+r}function Im(r,t,e,o){for(var s=t.length,u=0;u<s;u++)r[u]=Gs(t[u],e[u],o);return r}function Pm(r,t,e,o){for(var s=t.length,u=0;u<s;u++)r[u]=t[u]+e[u]*o;return r}function Qx(r,t,e,o){for(var s=t.length,u=s&&t[0].length,c=0;c<s;c++){r[c]||(r[c]=[]);for(var f=0;f<u;f++)r[c][f]=t[c][f]+e[c][f]*o}return r}function TL(r,t){for(var e=r.length,o=t.length,s=e>o?t:r,u=Math.min(e,o),c=s[u-1]||{color:[0,0,0,0],offset:0},f=u;f<Math.max(e,o);f++)s.push({offset:c.offset,color:c.color.slice()})}function Rw(r,t,e){var o=r,s=t;if(o.push&&s.push){var u=o.length,c=s.length;if(u!==c)if(u>c)o.length=c;else for(var d=u;d<c;d++)o.push(1===e?s[d]:Em.call(s[d]));var v=o[0]&&o[0].length;for(d=0;d<o.length;d++)if(1===e)isNaN(o[d])&&(o[d]=s[d]);else for(var g=0;g<v;g++)isNaN(o[d][g])&&(o[d][g]=s[d][g])}}function Jl(r){if($r(r)){var t=r.length;if($r(r[0])){for(var e=[],o=0;o<t;o++)e.push(Em.call(r[o]));return e}return Em.call(r)}return r}function eu(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=null==r[3]?1:r[3],"rgba("+r.join(",")+")"}function kw(r){return 4===r||5===r}function Ow(r){return 1===r||2===r}var Yh=[0,0,0,0],ZZ=function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,e,o){this._needsSort=!0;var s=this.keyframes,u=s.length,c=!1,f=6,d=e;if($r(e)){var v=function ML(r){return $r(r&&r[0])?2:1}(e);f=v,(1===v&&!kt(e[0])||2===v&&!kt(e[0][0]))&&(c=!0)}else if(kt(e)&&!cc(e))f=0;else if(xe(e))if(isNaN(+e)){var g=Tr(e);g&&(d=g,f=3)}else f=0;else if(Hh(e)){var m=ce({},d);m.colorStops=me(e.colorStops,function(w){return{offset:w.offset,color:Tr(w.color)}}),li(e)?f=4:Mm(e)&&(f=5),d=m}0===u?this.valType=f:(f!==this.valType||6===f)&&(c=!0),this.discrete=this.discrete||c;var _={time:t,value:d,rawValue:e,percent:0};return o&&(_.easing=o,_.easingFunc=Ne(o)?o:Zt[o]||da(o)),s.push(_),_},r.prototype.prepare=function(t,e){var o=this.keyframes;this._needsSort&&o.sort(function(x,D){return x.time-D.time});for(var s=this.valType,u=o.length,c=o[u-1],f=this.discrete,d=Ow(s),v=kw(s),g=0;g<u;g++){var m=o[g],_=m.value,w=c.value;m.percent=m.time/t,f||(d&&g!==u-1?Rw(_,w,s):v&&TL(_.colorStops,w.colorStops))}if(!f&&5!==s&&e&&this.needsAnimate()&&e.needsAnimate()&&s===e.valType&&!e._finished){this._additiveTrack=e;var S=o[0].value;for(g=0;g<u;g++)0===s?o[g].additiveValue=o[g].value-S:3===s?o[g].additiveValue=Pm([],o[g].value,S,-1):Ow(s)&&(o[g].additiveValue=1===s?Pm([],o[g].value,S,-1):Qx([],o[g].value,S,-1))}},r.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var g,w,S,o=null!=this._additiveTrack,s=o?"additiveValue":"value",u=this.valType,c=this.keyframes,f=c.length,d=this.propName,v=3===u,m=this._lastFr,_=Math.min;if(1===f)w=S=c[0];else{if(e<0)g=0;else if(e<this._lastFrP){for(g=_(m+1,f-1);g>=0&&!(c[g].percent<=e);g--);g=_(g,f-2)}else{for(g=m;g<f&&!(c[g].percent>e);g++);g=_(g-1,f-2)}S=c[g+1],w=c[g]}if(w&&S){this._lastFr=g,this._lastFrP=e;var D=S.percent-w.percent,T=0===D?1:_((e-w.percent)/D,1);S.easingFunc&&(T=S.easingFunc(T));var A=o?this._additiveValue:v?Yh:t[d];if((Ow(u)||v)&&!A&&(A=this._additiveValue=[]),this.discrete)t[d]=T<1?w.rawValue:S.rawValue;else if(Ow(u))1===u?Im(A,w[s],S[s],T):function Kx(r,t,e,o){for(var s=t.length,u=s&&t[0].length,c=0;c<s;c++){r[c]||(r[c]=[]);for(var f=0;f<u;f++)r[c][f]=Gs(t[c][f],e[c][f],o)}}(A,w[s],S[s],T);else if(kw(u)){var E=w[s],P=S[s],N=4===u;t[d]={type:N?"linear":"radial",x:Gs(E.x,P.x,T),y:Gs(E.y,P.y,T),colorStops:me(E.colorStops,function(F,B){var z=P.colorStops[B];return{offset:Gs(F.offset,z.offset,T),color:eu(Im([],F.color,z.color,T))}}),global:P.global},N?(t[d].x2=Gs(E.x2,P.x2,T),t[d].y2=Gs(E.y2,P.y2,T)):t[d].r=Gs(E.r,P.r,T)}else if(v)Im(A,w[s],S[s],T),o||(t[d]=eu(A));else{var k=Gs(w[s],S[s],T);o?this._additiveValue=k:t[d]=k}o&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var e=this.valType,o=this.propName,s=this._additiveValue;0===e?t[o]=t[o]+s:3===e?(Tr(t[o],Yh),Pm(Yh,Yh,s,1),t[o]=eu(Yh)):1===e?Pm(t[o],t[o],s,1):2===e&&Qx(t[o],t[o],s,1)},r}(),YZ=function(){function r(t,e,o,s){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&s?ep("Can' use additive animation on looped animation."):(this._additiveAnimators=s,this._allowDiscrete=o)}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,e,o){return this.whenWithKeys(t,e,pt(e),o)},r.prototype.whenWithKeys=function(t,e,o,s){for(var u=this._tracks,c=0;c<o.length;c++){var f=o[c],d=u[f];if(!d){d=u[f]=new ZZ(f);var v=void 0,g=this._getAdditiveTrack(f);if(g){var m=g.keyframes,_=m[m.length-1];v=_&&_.value,3===g.valType&&v&&(v=eu(v))}else v=this._target[f];if(null==v)continue;t>0&&d.addKeyframe(0,Jl(v),s),this._trackKeys.push(f)}d.addKeyframe(t,Jl(e[f]),s)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,o=0;o<e;o++)t[o].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var o=0;o<e.length;o++)e[o].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,o=0;o<e.length;o++)t[e[o]].setFinished()},r.prototype._getAdditiveTrack=function(t){var e,o=this._additiveAnimators;if(o)for(var s=0;s<o.length;s++){var u=o[s].getTrack(t);u&&(e=u)}return e},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,o=[],s=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var c=this._trackKeys[u],f=this._tracks[c],d=this._getAdditiveTrack(c),v=f.keyframes,g=v.length;if(f.prepare(s,d),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var m=v[g-1];m&&(e._target[f.propName]=m.rawValue),f.setFinished()}else o.push(f)}if(o.length||this._force){var _=new _L({life:s,loop:this._loop,delay:this._delay||0,onframe:function(w){e._started=2;var S=e._additiveAnimators;if(S){for(var x=!1,D=0;D<S.length;D++)if(S[D]._clip){x=!0;break}x||(e._additiveAnimators=null)}for(D=0;D<o.length;D++)o[D].step(e._target,w);var T=e._onframeCbs;if(T)for(D=0;D<T.length;D++)T[D](e._target,w)},ondestroy:function(){e._doneCallback()}});this._clip=_,this.animation&&this.animation.addClip(_),t&&_.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return me(this._trackKeys,function(e){return t._tracks[e]})},r.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var o=this._tracks,s=this._trackKeys,u=0;u<t.length;u++){var c=o[t[u]];c&&!c.isFinished()&&(e?c.step(this._target,1):1===this._started&&c.step(this._target,0),c.setFinished())}var f=!0;for(u=0;u<s.length;u++)if(!o[s[u]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},r.prototype.saveTo=function(t,e,o){if(t){e=e||this._trackKeys;for(var s=0;s<e.length;s++){var u=e[s],c=this._tracks[u];if(c&&!c.isFinished()){var f=c.keyframes,d=f[o?0:f.length-1];d&&(t[u]=Jl(d.rawValue))}}}},r.prototype.__changeFinalValue=function(t,e){e=e||pt(t);for(var o=0;o<e.length;o++){var s=e[o],u=this._tracks[s];if(u){var c=u.keyframes;if(c.length>1){var f=c.pop();u.addKeyframe(f.time,t[s]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},r}();const rD=YZ;function Xh(){return(new Date).getTime()}var EL=function(r){function t(e){var o=r.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,o.stage=(e=e||{}).stage||{},o}return Le(t,r),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var o=e.getClip();o&&this.addClip(o)},t.prototype.removeClip=function(e){if(e.animation){var o=e.prev,s=e.next;o?o.next=s:this._head=s,s?s.prev=o:this._tail=o,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var o=e.getClip();o&&this.removeClip(o),e.animation=null},t.prototype.update=function(e){for(var o=Xh()-this._pausedTime,s=o-this._time,u=this._head;u;){var c=u.next;u.step(o,s)&&(u.ondestroy(),this.removeClip(u)),u=c}this._time=o,e||(this.trigger("frame",s),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,Nn(function o(){e._running&&(Nn(o),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=Xh(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Xh(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Xh()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var o=e.next;e.prev=e.next=e.animation=null,e=o}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,o){o=o||{},this.start();var s=new rD(e,o.loop);return this.addAnimator(s),s},t}(yo);const ZH=EL;var iD=Pt.domSupported,Nw=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:r,touch:["touchstart","touchend","touchmove"],pointer:me(r,function(s){var u=s.replace("mouse","pointer");return e.hasOwnProperty(u)?u:s})}}(),IL_mouse=["mousemove","mouseup"],IL_pointer=["pointermove","pointerup"],oD=!1;function aD(r){var t=r.pointerType;return"pen"===t||"touch"===t}function sD(r){r&&(r.zrByTouch=!0)}function lD(r,t){for(var e=t,o=!1;e&&9!==e.nodeType&&!(o=e.domBelongToZr||e!==t&&e===r.painterRoot);)e=e.parentNode;return o}var XH=function r(t,e){this.stopPropagation=Mt,this.stopImmediatePropagation=Mt,this.preventDefault=Mt,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},$a={mousedown:function(r){r=ii(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=ii(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=ii(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){lD(this,(r=ii(this.dom,r)).toElement||r.relatedTarget)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){oD=!0,r=ii(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){oD||(r=ii(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){sD(r=ii(this.dom,r)),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),$a.mousemove.call(this,r),$a.mousedown.call(this,r)},touchmove:function(r){sD(r=ii(this.dom,r)),this.handler.processGesture(r,"change"),$a.mousemove.call(this,r)},touchend:function(r){sD(r=ii(this.dom,r)),this.handler.processGesture(r,"end"),$a.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<300&&$a.click.call(this,r)},pointerdown:function(r){$a.mousedown.call(this,r)},pointermove:function(r){aD(r)||$a.mousemove.call(this,r)},pointerup:function(r){$a.mouseup.call(this,r)},pointerout:function(r){aD(r)||$a.mouseout.call(this,r)}};H(["click","dblclick","contextmenu"],function(r){$a[r]=function(t){t=ii(this.dom,t),this.trigger(r,t)}});var Fw={pointermove:function(r){aD(r)||Fw.mousemove.call(this,r)},pointerup:function(r){Fw.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mp(r,t,e,o){r.mounted[t]=e,r.listenerOpts[t]=o,$h(r.domTarget,t,e,o)}function uD(r){var t=r.mounted;for(var e in t)t.hasOwnProperty(e)&&cp(r.domTarget,e,t[e],r.listenerOpts[e]);r.mounted={}}var qa=function r(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},LL=function(r){function t(e,o){var s=r.call(this)||this;return s.__pointerCapturing=!1,s.dom=e,s.painterRoot=o,s._localHandlerScope=new qa(e,$a),iD&&(s._globalHandlerScope=new qa(document,Fw)),function PL(r,t){var e=t.domHandlers;Pt.pointerEventsSupported?H(Nw.pointer,function(o){mp(t,o,function(s){e[o].call(r,s)})}):(Pt.touchEventsSupported&&H(Nw.touch,function(o){mp(t,o,function(s){e[o].call(r,s),function XZ(r){r.touching=!0,null!=r.touchTimer&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}(t)})}),H(Nw.mouse,function(o){mp(t,o,function(s){s=lm(s),t.touching||e[o].call(r,s)})}))}(s,s._localHandlerScope),s}return Le(t,r),t.prototype.dispose=function(){uD(this._localHandlerScope),iD&&uD(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,iD&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var o=this._globalHandlerScope;e?function KH(r,t){function e(o){mp(t,o,function s(u){u=lm(u),lD(r,u.target)||(u=function Go(r,t){return ii(r.dom,new XH(r,t),!0)}(r,u),t.domHandlers[o].call(r,u))},{capture:!0})}Pt.pointerEventsSupported?H(IL_pointer,e):Pt.touchEventsSupported||H(IL_mouse,e)}(this,o):uD(o)}},t}(yo);const RL=LL;var Vn=1;Pt.hasGlobalWindow&&(Vn=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Kh=Vn,cD="#333",Vw="#ccc",bo=yc;function Qh(r){return r>5e-5||r<-5e-5}var Jh=[],Uo=[],Bw=[1,0,0,1,0,0],hD=Math.abs,NL=function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return Qh(this.rotation)||Qh(this.x)||Qh(this.y)||Qh(this.scaleX-1)||Qh(this.scaleY-1)||Qh(this.skewX)||Qh(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),o=this.transform;e||t?(o=o||[1,0,0,1,0,0],e?this.getLocalTransform(o):bo(o),t&&(e?_o(o,t,o):Se(o,t)),this.transform=o,this._resolveGlobalScaleRatio(o)):o&&(bo(o),this.invTransform=null)},r.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Jh);var o=Jh[0]<0?-1:1,s=Jh[1]<0?-1:1,u=((Jh[0]-o)*e+o)/Jh[0]||0,c=((Jh[1]-s)*e+s)/Jh[1]||0;t[0]*=u,t[1]*=u,t[2]*=c,t[3]*=c}this.invTransform=this.invTransform||[1,0,0,1,0,0],Bo(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],o=t[2]*t[2]+t[3]*t[3],s=Math.atan2(t[1],t[0]),u=Math.PI/2+s-Math.atan2(t[3],t[2]);o=Math.sqrt(o)*Math.cos(u),e=Math.sqrt(e),this.skewX=u,this.skewY=0,this.rotation=-s,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=o,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(_o(Uo,t.invTransform,e),e=Uo);var o=this.originX,s=this.originY;(o||s)&&(Bw[4]=o,Bw[5]=s,_o(Uo,e,Bw),Uo[4]-=o,Uo[5]-=s,e=Uo),this.setLocalTransform(e)}},r.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,e){var o=[t,e],s=this.invTransform;return s&&Or(o,o,s),o},r.prototype.transformCoordToGlobal=function(t,e){var o=[t,e],s=this.transform;return s&&Or(o,o,s),o},r.prototype.getLineScale=function(){var t=this.transform;return t&&hD(t[0]-1)>1e-10&&hD(t[3]-1)>1e-10?Math.sqrt(hD(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){fD(this,t)},r.getLocalTransform=function(t,e){e=e||[];var o=t.originX||0,s=t.originY||0,u=t.scaleX,c=t.scaleY,f=t.anchorX,d=t.anchorY,v=t.rotation||0,g=t.x,m=t.y,_=t.skewX?Math.tan(t.skewX):0,w=t.skewY?Math.tan(-t.skewY):0;if(o||s||f||d){var S=o+f,x=s+d;e[4]=-S*u-_*x*c,e[5]=-x*c-w*S*u}else e[4]=e[5]=0;return e[0]=u,e[3]=c,e[1]=w*u,e[2]=_*c,v&&wo(e,e,v),e[4]+=o+g,e[5]+=s+m,e},r.initDefaultProps=function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),r}(),Za=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function fD(r,t){for(var e=0;e<Za.length;e++){var o=Za[e];r[o]=t[o]}}const tu=NL;var gt={};function So(r,t){var e=gt[t=t||Es];e||(e=gt[t]=new Kl(500));var o=e.get(r);return null==o&&(o=Lr.measureText(r,t).width,e.put(r,o)),o}function QH(r,t,e,o){var s=So(r,t),u=Om(t),c=km(0,s,e),f=_p(0,u,o);return new Xe(c,f,s,u)}function Rm(r,t,e,o){var s=((r||"")+"").split("\n");if(1===s.length)return QH(s[0],t,e,o);for(var c=new Xe(0,0,0,0),f=0;f<s.length;f++){var d=QH(s[f],t,e,o);0===f?c.copy(d):c.union(d)}return c}function km(r,t,e){return"right"===e?r-=t:"center"===e&&(r-=t/2),r}function _p(r,t,e){return"middle"===e?r-=t/2:"bottom"===e&&(r-=t),r}function Om(r){return So("\u56fd",r)}function Ya(r,t){return"string"==typeof r?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function zw(r,t,e){var o=t.position||"inside",s=null!=t.distance?t.distance:5,u=e.height,c=e.width,f=u/2,d=e.x,v=e.y,g="left",m="top";if(o instanceof Array)d+=Ya(o[0],e.width),v+=Ya(o[1],e.height),g=null,m=null;else switch(o){case"left":d-=s,v+=f,g="right",m="middle";break;case"right":d+=s+c,v+=f,m="middle";break;case"top":d+=c/2,v-=s,g="center",m="bottom";break;case"bottom":d+=c/2,v+=u+s,g="center";break;case"inside":d+=c/2,v+=f,g="center",m="middle";break;case"insideLeft":d+=s,v+=f,m="middle";break;case"insideRight":d+=c-s,v+=f,g="right",m="middle";break;case"insideTop":d+=c/2,v+=s,g="center";break;case"insideBottom":d+=c/2,v+=u-s,g="center",m="bottom";break;case"insideTopLeft":d+=s,v+=s;break;case"insideTopRight":d+=c-s,v+=s,g="right";break;case"insideBottomLeft":d+=s,v+=u-s,m="bottom";break;case"insideBottomRight":d+=c-s,v+=u-s,g="right",m="bottom"}return(r=r||{}).x=d,r.y=v,r.align=g,r.verticalAlign=m,r}var dD="__zr_normal__",pD=Za.concat(["ignore"]),JH=Ei(Za,function(r,t){return r[t]=!0,r},{ignore:!1}),_e={},un=new Xe(0,0,0,0),rt=function(){function r(t){this.id=ri(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,e,o){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=t,s[5]+=e,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var o=this.textConfig,s=o.local,u=e.innerTransformable,c=void 0,f=void 0,d=!1;u.parent=s?this:null;var v=!1;if(u.copyTransform(e),null!=o.position){var g=un;g.copy(o.layoutRect?o.layoutRect:this.getBoundingRect()),s||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(_e,o,g):zw(_e,o,g),u.x=_e.x,u.y=_e.y,c=_e.align,f=_e.verticalAlign;var m=o.origin;if(m&&null!=o.rotation){var _=void 0,w=void 0;"center"===m?(_=.5*g.width,w=.5*g.height):(_=Ya(m[0],g.width),w=Ya(m[1],g.height)),v=!0,u.originX=-u.x+_+(s?0:g.x),u.originY=-u.y+w+(s?0:g.y)}}null!=o.rotation&&(u.rotation=o.rotation);var S=o.offset;S&&(u.x+=S[0],u.y+=S[1],v||(u.originX=-S[0],u.originY=-S[1]));var x=null==o.inside?"string"==typeof o.position&&o.position.indexOf("inside")>=0:o.inside,D=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),T=void 0,A=void 0,E=void 0;x&&this.canBeInsideText()?(A=o.insideStroke,(null==(T=o.insideFill)||"auto"===T)&&(T=this.getInsideTextFill()),(null==A||"auto"===A)&&(A=this.getInsideTextStroke(T),E=!0)):(A=o.outsideStroke,(null==(T=o.outsideFill)||"auto"===T)&&(T=this.getOutsideFill()),(null==A||"auto"===A)&&(A=this.getOutsideStroke(T),E=!0)),((T=T||"#000")!==D.fill||A!==D.stroke||E!==D.autoStroke||c!==D.align||f!==D.verticalAlign)&&(d=!0,D.fill=T,D.stroke=A,D.autoStroke=E,D.align=c,D.verticalAlign=f,e.setDefaultTextStyle(D)),e.__dirty|=Ui,d&&e.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Vw:cD},r.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),o="string"==typeof e&&Tr(e);o||(o=[255,255,255,1]);for(var s=o[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)o[c]=o[c]*s+(u?0:255)*(1-s);return o[3]=1,Hs(o,"rgba")},r.prototype.traverse=function(t,e){},r.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},ce(this.extra,e)):this[t]=e},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(Ue(t))for(var s=pt(t),u=0;u<s.length;u++){var c=s[u];this.attrKV(c,t[c])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,o=0;o<this.animators.length;o++){var s=this.animators[o],u=s.__fromStateTransition;if(!(s.getLoop()||u&&u!==dD)){var c=s.targetName;s.saveTo(c?e[c]:e)}}},r.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,pD)},r.prototype._savePrimaryToNormal=function(t,e,o){for(var s=0;s<o.length;s++){var u=o[s];null!=t[u]&&!(u in e)&&(e[u]=this[u])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},r.prototype.clearStates=function(t){this.useState(dD,!1,t)},r.prototype.useState=function(t,e,o,s){var u=t===dD;if(this.hasState()||!u){var f=this.currentStates,d=this.stateTransition;if(!(ot(f,t)>=0)||!e&&1!==f.length){var v;if(this.stateProxy&&!u&&(v=this.stateProxy(t)),v||(v=this.states&&this.states[t]),!v&&!u)return void ep("State "+t+" not exists.");u||this.saveCurrentToNormalState(v);var g=!!(v&&v.hoverLayer||s);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,v,this._normalState,e,!o&&!this.__inHover&&d&&d.duration>0,d);var m=this._textContent,_=this._textGuide;return m&&m.useState(t,e,o,g),_&&_.useState(t,e,o,g),u?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ui),v}}},r.prototype.useStates=function(t,e,o){if(t.length){var s=[],u=this.currentStates,c=t.length,f=c===u.length;if(f)for(var d=0;d<c;d++)if(t[d]!==u[d]){f=!1;break}if(f)return;for(d=0;d<c;d++){var v=t[d],g=void 0;this.stateProxy&&(g=this.stateProxy(v,t)),g||(g=this.states[v]),g&&s.push(g)}var m=s[c-1],_=!!(m&&m.hoverLayer||o);_&&this._toggleHoverLayerFlag(!0);var w=this._mergeStates(s),S=this.stateTransition;this.saveCurrentToNormalState(w),this._applyStateObj(t.join(","),w,this._normalState,!1,!e&&!this.__inHover&&S&&S.duration>0,S);var x=this._textContent,D=this._textGuide;x&&x.useStates(t,e,_),D&&D.useStates(t,e,_),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!_&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ui)}else this.clearStates()},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},r.prototype.removeState=function(t){var e=ot(this.currentStates,t);if(e>=0){var o=this.currentStates.slice();o.splice(e,1),this.useStates(o)}},r.prototype.replaceState=function(t,e,o){var s=this.currentStates.slice(),u=ot(s,t),c=ot(s,e)>=0;u>=0?c?s.splice(u,1):s[u]=e:o&&!c&&s.push(e),this.useStates(s)},r.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var o,e={},s=0;s<t.length;s++){var u=t[s];ce(e,u),u.textConfig&&ce(o=o||{},u.textConfig)}return o&&(e.textConfig=o),e},r.prototype._applyStateObj=function(t,e,o,s,u,c){var f=!(e&&s);e&&e.textConfig?(this.textConfig=ce({},s?this.textConfig:o.textConfig),ce(this.textConfig,e.textConfig)):f&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},v=!1,g=0;g<pD.length;g++){var m=pD[g],_=u&&JH[m];e&&null!=e[m]?_?(v=!0,d[m]=e[m]):this[m]=e[m]:f&&null!=o[m]&&(_?(v=!0,d[m]=o[m]):this[m]=o[m])}if(!u)for(g=0;g<this.animators.length;g++){var w=this.animators[g],S=w.targetName;w.getLoop()||w.__changeFinalValue(S?(e||o)[S]:e||o)}v&&this._transitionState(t,d,c)},r.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new tu,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),ce(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Ui;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,o=this._textGuide;e&&(e.__inHover=t),o&&(o.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var o=0;o<e.length;o++)t.animation.addAnimator(e[o]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var o=0;o<e.length;o++)t.animation.removeAnimator(e[o]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,e,o){var u=new rD(t?this[t]:this,e,o);return t&&(u.targetName=t),this.addAnimator(u,t),u},r.prototype.addAnimator=function(t,e){var o=this.__zr,s=this;t.during(function(){s.updateDuringAnimation(e)}).done(function(){var u=s.animators,c=ot(u,t);c>=0&&u.splice(c,1)}),this.animators.push(t),o&&o.animation.addAnimator(t),o&&o.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,e){for(var o=this.animators,s=o.length,u=[],c=0;c<s;c++){var f=o[c];t&&t!==f.scope?u.push(f):f.stop(e)}return this.animators=u,this},r.prototype.animateTo=function(t,e,o){it(this,t,e,o)},r.prototype.animateFrom=function(t,e,o){it(this,t,e,o,!0)},r.prototype._transitionState=function(t,e,o,s){for(var u=it(this,e,o,s),c=0;c<u.length;c++)u[c].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var t=r.prototype;function s(u,c,f,d){function v(g,m){Object.defineProperty(m,0,{get:function(){return g[f]},set:function(_){g[f]=_}}),Object.defineProperty(m,1,{get:function(){return g[d]},set:function(_){g[d]=_}})}Object.defineProperty(t,u,{get:function(){return this[c]||v(this,this[c]=[]),this[c]},set:function(g){this[f]=g[0],this[d]=g[1],this[c]=g,v(this,g)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Ui,Object.defineProperty&&(s("position","_legacyPos","x","y"),s("scale","_legacyScale","scaleX","scaleY"),s("origin","_legacyOrigin","originX","originY"))}(),r}();function it(r,t,e,o,s){var u=[];Hw(r,"",r,t,e=e||{},o,u,s);var c=u.length,f=!1,d=e.done,v=e.aborted,g=function(){f=!0,--c<=0&&(f?d&&d():v&&v())},m=function(){--c<=0&&(f?d&&d():v&&v())};c||d&&d(),u.length>0&&e.during&&u[0].during(function(S,x){e.during(x)});for(var _=0;_<u.length;_++){var w=u[_];g&&w.done(g),m&&w.aborted(m),e.force&&w.duration(e.duration),w.start(e.easing)}return u}function Zr(r,t,e){for(var o=0;o<e;o++)r[o]=t[o]}function Fm(r,t,e){if($r(t[e]))if($r(r[e])||(r[e]=[]),Ut(t[e])){var o=t[e].length;r[e].length!==o&&(r[e]=new t[e].constructor(o),Zr(r[e],t[e],o))}else{var s=t[e],u=r[e],c=s.length;if(function FL(r){return $r(r[0])}(s))for(var f=s[0].length,d=0;d<c;d++)u[d]?Zr(u[d],s[d],f):u[d]=Array.prototype.slice.call(s[d]);else Zr(u,s,c);u.length=s.length}else r[e]=t[e]}function Hw(r,t,e,o,s,u,c,f){for(var d=pt(o),v=s.duration,g=s.delay,m=s.additive,_=s.setToFinal,w=!Ue(u),S=r.animators,x=[],D=0;D<d.length;D++){var A=o[T=d[D]];if(null!=A&&null!=e[T]&&(w||u[T]))if(!Ue(A)||$r(A)||Hh(A))x.push(T);else{if(t){f||(e[T]=A,r.updateDuringAnimation(t));continue}Hw(r,T,e[T],A,s,u&&u[T],c,f)}else f||(e[T]=A,r.updateDuringAnimation(t),x.push(T))}var E=x.length;if(!m&&E)for(var P=0;P<S.length;P++)if((N=S[P]).targetName===t&&N.stopTracks(x)){var F=ot(S,N);S.splice(F,1)}if(s.force||(x=Wt(x,function(W){return!function Us(r,t){return r===t||$r(r)&&$r(t)&&function vD(r,t){var e=r.length;if(e!==t.length)return!1;for(var o=0;o<e;o++)if(r[o]!==t[o])return!1;return!0}(r,t)}(o[W],e[W])}),E=x.length),E>0||s.force&&!c.length){var N,B=void 0,z=void 0,j=void 0;if(f)for(z={},_&&(B={}),P=0;P<E;P++)z[T=x[P]]=e[T],_?B[T]=o[T]:e[T]=o[T];else if(_)for(j={},P=0;P<E;P++){var T;j[T=x[P]]=Jl(e[T]),Fm(e,o,T)}(N=new rD(e,!1,!1,m?Wt(S,function(q){return q.targetName===t}):null)).targetName=t,s.scope&&(N.scope=s.scope),_&&B&&N.whenWithKeys(0,B,x),j&&N.whenWithKeys(0,j,x),N.whenWithKeys(v??500,f?z:o,x).delay(g||0),r.addAnimator(N,t),c.push(N)}}Zn(rt,yo),Zn(rt,tu);const VL=rt;var eG=function(r){function t(e){var o=r.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(e),o}return Le(t,r),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var o=this._children,s=0;s<o.length;s++)if(o[s].name===e)return o[s]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,o){if(e&&e!==this&&e.parent!==this&&o&&o.parent===this){var s=this._children,u=s.indexOf(o);u>=0&&(s.splice(u,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,o){var s=ot(this._children,e);return s>=0&&this.replaceAt(o,s),this},t.prototype.replaceAt=function(e,o){var s=this._children,u=s[o];if(e&&e!==this&&e.parent!==this&&e!==u){s[o]=e,u.parent=null;var c=this.__zr;c&&u.removeSelfFromZr(c),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var o=this.__zr;o&&o!==e.__zr&&e.addSelfToZr(o),o&&o.refresh()},t.prototype.remove=function(e){var o=this.__zr,s=this._children,u=ot(s,e);return u<0||(s.splice(u,1),e.parent=null,o&&e.removeSelfFromZr(o),o&&o.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,o=this.__zr,s=0;s<e.length;s++){var u=e[s];o&&u.removeSelfFromZr(o),u.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,o){for(var s=this._children,u=0;u<s.length;u++)e.call(o,s[u],u);return this},t.prototype.traverse=function(e,o){for(var s=0;s<this._children.length;s++){var u=this._children[s],c=e.call(o,u);u.isGroup&&!c&&u.traverse(e,o)}return this},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var o=new Xe(0,0,0,0),s=e||this._children,u=[],c=null,f=0;f<s.length;f++){var d=s[f];if(!d.ignore&&!d.invisible){var v=d.getBoundingRect(),g=d.getLocalTransform(u);g?(Xe.applyTransform(o,v,g),(c=c||o.clone()).union(o)):(c=c||v.clone()).union(v)}}return c||o},t}(VL);eG.prototype.type="group";const Ze=eG;var ui={},qi={},nu=function(){function r(t,e,o){var s=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=e,this.id=t;var u=new Aw,c=o.renderer||"canvas";ui[c]||(c=pt(ui)[0]),o.useDirtyRect=null!=o.useDirtyRect&&o.useDirtyRect;var f=new ui[c](e,u,o,t),d=o.ssr||f.ssrOnly;this.storage=u,this.painter=f;var w,v=Pt.node||Pt.worker||d?null:new RL(f.getViewportRoot(),f.root),g=o.useCoarsePointer;(null==g||"auto"===g?Pt.touchEventsSupported:!!g)&&(w=Qe(o.pointerSize,44)),this.handler=new bw(u,f,v,f.root,w),this.animation=new ZH({stage:{update:d?null:function(){return s._flush(!0)}}}),d||this.animation.start()}return r.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},r.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function wp(r){if(!r)return!1;if("string"==typeof r)return Iw(r,1)<.4;if(r.colorStops){for(var t=r.colorStops,e=0,o=t.length,s=0;s<o;s++)e+=Iw(t[s].color,1);return(e/=o)<.4}return!1}(t)},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},r.prototype.flush=function(){this._flush(!1)},r.prototype._flush=function(t){var e,o=Xh();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var s=Xh();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},r.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},r.prototype.on=function(t,e,o){return this.handler.on(t,e,o),this},r.prototype.off=function(t,e){this.handler.off(t,e)},r.prototype.trigger=function(t,e){this.handler.trigger(t,e)},r.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ze&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function BL(r){delete qi[r]}(this.id)},r}();function gD(r,t){var e=new nu(ri(),r,t);return qi[e.id]=e,e}function zL(r){r.dispose()}function tG(){for(var r in qi)qi.hasOwnProperty(r)&&qi[r].dispose();qi={}}function nG(r){return qi[r]}function Gw(r,t){ui[r]=t}var mD="5.4.4",yD=1e-4,Uw=20;function on(r,t,e,o){var s=t[0],u=t[1],c=e[0],f=e[1],d=u-s,v=f-c;if(0===d)return 0===v?c:(c+f)/2;if(o)if(d>0){if(r<=s)return c;if(r>=u)return f}else{if(r>=s)return c;if(r<=u)return f}else{if(r===s)return c;if(r===u)return f}return(r-s)/d*v+c}function Ce(r,t){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%"}return xe(r)?function rG(r){return r.replace(/^\s+|\s+$/g,"")}(r).match(/%$/)?parseFloat(r)/100*t:parseFloat(r):null==r?NaN:+r}function Yn(r,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),Uw),r=(+r).toFixed(t),e?r:+r}function Co(r){return r.sort(function(t,e){return t-e}),r}function ga(r){if(r=+r,isNaN(r))return 0;if(r>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(r*t)/t===r)return e;return _D(r)}function _D(r){var t=r.toString().toLowerCase(),e=t.indexOf("e"),o=e>0?+t.slice(e+1):0,s=e>0?e:t.length,u=t.indexOf(".");return Math.max(0,(u<0?0:s-1-u)-o)}function Vm(r,t){var e=Math.log,o=Math.LN10,s=Math.floor(e(r[1]-r[0])/o),u=Math.round(e(Math.abs(t[1]-t[0]))/o),c=Math.min(Math.max(-s+u,0),20);return isFinite(c)?c:20}function iG(r,t,e){return r[t]&&HL(r,e)[t]||0}function HL(r,t){var e=Ei(r,function(w,S){return w+(isNaN(S)?0:S)},0);if(0===e)return[];for(var o=Math.pow(10,t),s=me(r,function(w){return(isNaN(w)?0:w)/e*o*100}),u=100*o,c=me(s,function(w){return Math.floor(w)}),f=Ei(c,function(w,S){return w+S},0),d=me(s,function(w,S){return w-c[S]});f<u;){for(var v=Number.NEGATIVE_INFINITY,g=null,m=0,_=d.length;m<_;++m)d[m]>v&&(v=d[m],g=m);++c[g],d[g]=0,++f}return me(c,function(w){return w/o})}function Zi(r,t){var e=Math.max(ga(r),ga(t)),o=r+t;return e>Uw?o:Yn(o,e)}var ru=9007199254740991;function Xn(r){var t=2*Math.PI;return(r%t+t)%t}function Bm(r){return r>-yD&&r<yD}var oG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function jo(r){if(r instanceof Date)return r;if(xe(r)){var t=oG.exec(r);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==r?new Date(NaN):new Date(Math.round(r))}function GL(r){return Math.pow(10,zm(r))}function zm(r){if(0===r)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function jw(r,t){var e=zm(r),o=Math.pow(10,e),s=r/o;return r=(t?s<1.5?1:s<2.5?2:s<4?3:s<7?5:10:s<1?1:s<2?2:s<3?3:s<5?5:10)*o,e>=-20?+r.toFixed(e<0?-e:0):r}function ef(r,t){var e=(r.length-1)*t+1,o=Math.floor(e),s=+r[o-1],u=e-o;return u?s+u*(r[o]-s):s}function js(r){r.sort(function(d,v){return f(d,v,0)?-1:1});for(var t=-1/0,e=1,o=0;o<r.length;){for(var s=r[o].interval,u=r[o].close,c=0;c<2;c++)s[c]<=t&&(s[c]=t,u[c]=c?1:1-e),t=s[c],e=u[c];s[0]===s[1]&&u[0]*u[1]!=1?r.splice(o,1):o++}return r;function f(d,v,g){return d.interval[g]<v.interval[g]||d.interval[g]===v.interval[g]&&(d.close[g]-v.close[g]==(g?-1:1)||!g&&f(d,v,1))}}function Ws(r){var t=parseFloat(r);return t==r&&(0!==t||!xe(r)||r.indexOf("x")<=0)?t:NaN}function bp(r){return!isNaN(Ws(r))}function Hm(){return Math.round(9*Math.random())}function Gm(r,t){return 0===t?r:Gm(t,r%t)}function Ww(r,t){return null==r?t:null==t?r:r*t/Gm(r,t)}function wD(r,t,e){return(t-r)*e+r}var bD="series\0",UL="\0_ec_\0";function nn(r){return r instanceof Array?r:null==r?[]:[r]}function Xa(r,t,e){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var o=0,s=e.length;o<s;o++){var u=e[o];!r.emphasis[t].hasOwnProperty(u)&&r[t].hasOwnProperty(u)&&(r.emphasis[t][u]=r[t][u])}}}var jL=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Um(r){return!Ue(r)||ge(r)||r instanceof Date?r:r.value}function SD(r){return Ue(r)&&!(r instanceof Array)}function aG(r,t,e){var o="normalMerge"===e,s="replaceMerge"===e,u="replaceAll"===e;r=r||[],t=(t||[]).slice();var c=Re();H(t,function(d,v){Ue(d)||(t[v]=null)});var f=function sG(r,t,e){var o=[];if("replaceAll"===e)return o;for(var s=0;s<r.length;s++){var u=r[s];u&&null!=u.id&&t.set(u.id,s),o.push({existing:"replaceMerge"===e||Sp(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return o}(r,c,e);return(o||s)&&function lG(r,t,e,o){H(o,function(s,u){if(s&&null!=s.id){var c=iu(s.id),f=e.get(c);if(null!=f){var d=r[f];_n(!d.newOption,'Duplicated option on id "'+c+'".'),d.newOption=s,d.existing=t[f],o[u]=null}}})}(f,r,c,t),o&&function KZ(r,t){H(t,function(e,o){if(e&&null!=e.name)for(var s=0;s<r.length;s++){var u=r[s].existing;if(!r[s].newOption&&u&&(null==u.id||null==e.id)&&!Sp(e)&&!Sp(u)&&WL("name",u,e))return r[s].newOption=e,void(t[o]=null)}})}(f,t),o||s?function QZ(r,t,e){H(t,function(o){if(o){for(var s,u=0;(s=r[u])&&(s.newOption||Sp(s.existing)||s.existing&&null!=o.id&&!WL("id",o,s.existing));)u++;s?(s.newOption=o,s.brandNew=e):r.push({newOption:o,brandNew:e,existing:null,keyInfo:null}),u++}})}(f,t,s):u&&function CD(r,t){H(t,function(e){r.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}(f,t),function jm(r){var t=Re();H(r,function(e){var o=e.existing;o&&t.set(o.id,e)}),H(r,function(e){var o=e.newOption;_n(!o||null==o.id||!t.get(o.id)||t.get(o.id)===e,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&t.set(o.id,e),!e.keyInfo&&(e.keyInfo={})}),H(r,function(e,o){var s=e.existing,u=e.newOption,c=e.keyInfo;if(Ue(u)){if(c.name=null!=u.name?iu(u.name):s?s.name:bD+o,s)c.id=iu(s.id);else if(null!=u.id)c.id=iu(u.id);else{var f=0;do{c.id="\0"+c.name+"\0"+f++}while(t.get(c.id))}t.set(c.id,e)}})}(f),f}function WL(r,t,e){var o=vr(t[r],null),s=vr(e[r],null);return null!=o&&null!=s&&o===s}function iu(r){return vr(r,"")}function vr(r,t){return null==r?t:xe(r)?r:kt(r)||kr(r)?r+"":t}function $w(r){var t=r.name;return!(!t||!t.indexOf(bD))}function Sp(r){return r&&null!=r.id&&0===iu(r.id).indexOf(UL)}function ou(r,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?ge(t.dataIndex)?me(t.dataIndex,function(e){return r.indexOfRawIndex(e)}):r.indexOfRawIndex(t.dataIndex):null!=t.name?ge(t.name)?me(t.name,function(e){return r.indexOfName(e)}):r.indexOfName(t.name):void 0}function zt(){var r="__ec_inner_"+Zw++;return function(t){return t[r]||(t[r]={})}}var Zw=Hm();function tf(r,t,e){var o=DD(t,e),u=o.queryOptionMap,f=o.others,d=e?e.defaultMainType:null;return!o.mainTypeSpecified&&d&&u.set(d,{}),u.each(function(v,g){var m=Cp(r,g,v,{useDefault:d===g,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});f[g+"Models"]=m.models,f[g+"Model"]=m.models[0]}),f}function DD(r,t){var e;if(xe(r)){var o={};o[r+"Index"]=0,e=o}else e=r;var s=Re(),u={},c=!1;return H(e,function(f,d){if("dataIndex"!==d&&"dataIndexInside"!==d){var v=d.match(/^(\w+)(Index|Id|Name)$/)||[],g=v[1],m=(v[2]||"").toLowerCase();!g||!m||t&&t.includeMainTypes&&ot(t.includeMainTypes,g)<0||(c=c||!!g,(s.get(g)||s.set(g,{}))[m]=f)}else u[d]=f}),{mainTypeSpecified:c,queryOptionMap:s,others:u}}var gr={useDefault:!0,enableAll:!1,enableNone:!1},$L={useDefault:!1,enableAll:!0,enableNone:!0};function Cp(r,t,e,o){o=o||gr;var s=e.index,u=e.id,c=e.name,f={models:null,specified:null!=s||null!=u||null!=c};if(!f.specified){var d=void 0;return f.models=o.useDefault&&(d=r.getComponent(t))?[d]:[],f}return"none"===s||!1===s?(_n(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):("all"===s&&(_n(o.enableAll,'`"all"` is not a valid value on index option.'),s=u=c=null),f.models=r.queryComponents({mainType:t,index:s,id:u,name:c}),f)}function TD(r,t,e){r.setAttribute?r.setAttribute(t,e):r[t]=e}function au(r,t){var e=Re(),o=[];return H(r,function(s){var u=t(s);(e.get(u)||(o.push(u),e.set(u,[]))).push(s)}),{keys:o,buckets:e}}function qL(r,t,e,o,s){var u=null==t||"auto"===t;if(null==o)return o;if(kt(o))return Yn(c=wD(e||0,o,s),u?Math.max(ga(e||0),ga(o)):t);if(xe(o))return s<1?e:o;for(var f=[],d=e,v=o,g=Math.max(d?d.length:0,v.length),m=0;m<g;++m){var _=r.getDimensionInfo(m);if(_&&"ordinal"===_.type)f[m]=(s<1&&d?d:v)[m];else{var w=d&&d[m]?d[m]:0,S=v[m],c=wD(w,S,s);f[m]=Yn(c,u?Math.max(ga(w),ga(S)):t)}}return f}var ZL=".",Cc="___EC__COMPONENT__CONTAINER___",xp="___EC__EXTENDED_CLASS___";function qs(r){var t={main:"",sub:""};if(r){var e=r.split(ZL);t.main=e[0]||"",t.sub=e[1]||""}return t}function Yr(r,t){r.$constructor=r,r.extend=function(e){var s,o=this;return function MD(r){return Ne(r)&&/^class\s/.test(Function.prototype.toString.call(r))}(o)?s=function(u){function c(){return u.apply(this,arguments)||this}return ae(c,u),c}(o):(s=function(){(e.$constructor||o).apply(this,arguments)},Ba(s,this)),ce(s.prototype,e),s[xp]=!0,s.extend=this.extend,s.superCall=Dp,s.superApply=Tp,s.superClass=o,s}}function YL(r,t){r.extend=t.extend}var XL=Math.round(10*Math.random());function Dp(r,t){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return this.superClass.prototype[t].apply(r,e)}function Tp(r,t,e){return this.superClass.prototype[t].apply(r,e)}function su(r){var t={};r.registerClass=function(o){var s=o.type||o.prototype.type;if(s){(function Yi(r){_n(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')})(s),o.prototype.type=s;var u=qs(s);if(u.sub){if(u.sub!==Cc){var c=function e(o){var s=t[o.main];return(!s||!s[Cc])&&((s=t[o.main]={})[Cc]=!0),s}(u);c[u.sub]=o}}else t[u.main]=o}return o},r.getClass=function(o,s,u){var c=t[o];if(c&&c[Cc]&&(c=s?c[s]:null),u&&!c)throw new Error(s?"Component "+o+"."+(s||"")+" is used but not imported.":o+".type should be specified.");return c},r.getClassesByMainType=function(o){var s=qs(o),u=[],c=t[s.main];return c&&c[Cc]?H(c,function(f,d){d!==Cc&&u.push(f)}):u.push(c),u},r.hasClass=function(o){var s=qs(o);return!!t[s.main]},r.getAllClassMainTypes=function(){var o=[];return H(t,function(s,u){o.push(u)}),o},r.hasSubTypes=function(o){var s=qs(o),u=t[s.main];return u&&u[Cc]}}function xc(r,t){for(var e=0;e<r.length;e++)r[e][1]||(r[e][1]=r[e][0]);return t=t||!1,function(o,s,u){for(var c={},f=0;f<r.length;f++){var d=r[f][1];if(!(s&&ot(s,d)>=0||u&&ot(u,d)<0)){var v=o.getShallow(d,t);null!=v&&(c[r[f][0]]=v)}}return c}}var Mp=xc([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),JZ=function(){function r(){}return r.prototype.getAreaStyle=function(t,e){return Mp(this,t,e)},r}(),ED=new Kl(50);function eY(r){if("string"==typeof r){var t=ED.get(r);return t&&t.image}return r}function KL(r,t,e,o,s){if(r){if("string"==typeof r){if(t&&t.__zrImageSrc===r||!e)return t;var u=ED.get(r),c={hostEl:e,cb:o,cbPayload:s};return u?!ID(t=u.image)&&u.pending.push(c):((t=Lr.loadImage(r,dG,dG)).__zrImageSrc=r,ED.put(r,t.__cachedImgObj={image:t,pending:[c]})),t}return r}return t}function dG(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var e=r.pending[t],o=e.cb;o&&o(this,e.cbPayload),e.hostEl.dirty()}r.pending.length=0}function ID(r){return r&&r.width&&r.height}var QL=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function pG(r,t,e,o,s){if(!t)return"";var u=(r+"").split("\n");s=nf(t,e,o,s);for(var c=0,f=u.length;c<f;c++)u[c]=JL(u[c],s);return u.join("\n")}function nf(r,t,e,o){var s=ce({},o=o||{});s.font=t,e=Qe(e,"..."),s.maxIterations=Qe(o.maxIterations,2);var u=s.minChar=Qe(o.minChar,0);s.cnCharWidth=So("\u56fd",t);var c=s.ascCharWidth=So("a",t);s.placeholder=Qe(o.placeholder,"");for(var f=r=Math.max(0,r-1),d=0;d<u&&f>=c;d++)f-=c;var v=So(e,t);return v>f&&(e="",v=0),f=r-v,s.ellipsis=e,s.ellipsisWidth=v,s.contentWidth=f,s.containerWidth=r,s}function JL(r,t){var e=t.containerWidth,o=t.font,s=t.contentWidth;if(!e)return"";var u=So(r,o);if(u<=e)return r;for(var c=0;;c++){if(u<=s||c>=t.maxIterations){r+=t.ellipsis;break}var f=0===c?vG(r,s,t.ascCharWidth,t.cnCharWidth):u>0?Math.floor(r.length*s/u):0;u=So(r=r.substr(0,f),o)}return""===r&&(r=t.placeholder),r}function vG(r,t,e,o){for(var s=0,u=0,c=r.length;u<c&&s<t;u++){var f=r.charCodeAt(u);s+=0<=f&&f<=127?e:o}return u}var gG=function r(){},Ap=function r(t){this.tokens=[],t&&(this.tokens=t)},mG=function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Dc(r,t,e,o,s){var g,m,u=""===t,c=s&&e.rich[s]||{},f=r.lines,d=c.font||e.font,v=!1;if(o){var _=c.padding,w=_?_[1]+_[3]:0;if(null!=c.width&&"auto"!==c.width){var S=Ya(c.width,o.width)+w;f.length>0&&S+o.accumWidth>o.width&&(g=t.split("\n"),v=!0),o.accumWidth=S}else{var x=tR(t,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=x.accumWidth+w,m=x.linesWidths,g=x.lines}}else g=t.split("\n");for(var D=0;D<g.length;D++){var T=g[D],A=new gG;if(A.styleName=s,A.text=T,A.isLineHolder=!T&&!u,A.width="number"==typeof c.width?c.width:m?m[D]:So(T,d),D||v)f.push(new Ap([A]));else{var E=(f[f.length-1]||(f[0]=new Ap)).tokens,P=E.length;1===P&&E[0].isLineHolder?E[0]=A:(T||!P||u)&&E.push(A)}}}var Kw=Ei(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function Wm(r){return!function eR(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}(r)||!!Kw[r]}function tR(r,t,e,o,s){for(var u=[],c=[],f="",d="",v=0,g=0,m=0;m<r.length;m++){var _=r.charAt(m);if("\n"!==_){var w=So(_,t),S=!o&&!Wm(_);(u.length?g+w>e:s+g+w>e)?g?(f||d)&&(S?(f||(f=d,d="",g=v=0),u.push(f),c.push(g-v),d+=_,f="",g=v+=w):(d&&(f+=d,d="",v=0),u.push(f),c.push(g),f=_,g=w)):S?(u.push(d),c.push(v),d=_,v=w):(u.push(_),c.push(w)):(g+=w,S?(d+=_,v+=w):(d&&(f+=d,d="",v=0),f+=_))}else d&&(f+=d,g+=v),u.push(f),c.push(g),f="",d="",v=0,g=0}return!u.length&&!f&&(f=r,d="",v=0),d&&(f+=d),f&&(u.push(f),c.push(g)),1===u.length&&(g+=s),{accumWidth:g,lines:u,linesWidths:c}}var nR="__zr_style_"+Math.round(10*Math.random()),rf={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},PD={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};rf[nR]=!0;var xo=["z","z2","invisible"],LD=["invisible"],Ep=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype._init=function(e){for(var o=pt(e),s=0;s<o.length;s++){var u=o[s];"style"===u?this.useStyle(e[u]):r.prototype.attrKV.call(this,u,e[u])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,o,s,u){var c=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function yG(r,t,e){return rR.copy(r.getBoundingRect()),r.transform&&rR.applyTransform(r.transform),Qw.width=t,Qw.height=e,!rR.intersect(Qw)}(this,e,o)||c&&!c[0]&&!c[3])return!1;if(s&&this.__clipPaths)for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1;if(u&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},t.prototype.contain=function(e,o){return this.rectContain(e,o)},t.prototype.traverse=function(e,o){e.call(o,this)},t.prototype.rectContain=function(e,o){var s=this.transformCoordToLocal(e,o);return this.getBoundingRect().contain(s[0],s[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,s=this.getBoundingRect(),u=this.style,c=u.shadowBlur||0,f=u.shadowOffsetX||0,d=u.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Xe(0,0,0,0)),o?Xe.applyTransform(e,s,o):e.copy(s),(c||f||d)&&(e.width+=2*c+Math.abs(f),e.height+=2*c+Math.abs(d),e.x=Math.min(e.x,e.x+f-c),e.y=Math.min(e.y,e.y+d-c));var v=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-v),e.y=Math.floor(e.y-v),e.width=Math.ceil(e.width+1+2*v),e.height=Math.ceil(e.height+1+2*v))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Xe(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,o){"style"!==e?r.prototype.attrKV.call(this,e,o):this.style?this.setStyle(o):this.useStyle(o)},t.prototype.setStyle=function(e,o){return"string"==typeof e?this.style[e]=o:ce(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return fc(rf,e)},t.prototype.useStyle=function(e){e[nR]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[nR]},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var o=this._normalState;e.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,o,xo)},t.prototype._applyStateObj=function(e,o,s,u,c,f){r.prototype._applyStateObj.call(this,e,o,s,u,c,f);var v,d=!(o&&u);if(o&&o.style?c?u?v=o.style:(v=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(v,o.style)):(v=this._mergeStyle(this.createStyle(),u?this.style:s.style),this._mergeStyle(v,o.style)):d&&(v=s.style),v)if(c){var g=this.style;if(this.style=this.createStyle(d?{}:g),d)for(var m=pt(g),_=0;_<m.length;_++)(w=m[_])in v&&(v[w]=v[w],this.style[w]=g[w]);var S=pt(v);for(_=0;_<S.length;_++)this.style[w=S[_]]=this.style[w];this._transitionState(e,{style:v},f,this.getAnimationStyleProps())}else this.useStyle(v);var x=this.__inHover?LD:xo;for(_=0;_<x.length;_++){var w=x[_];o&&null!=o[w]?this[w]=o[w]:d&&null!=s[w]&&(this[w]=s[w])}},t.prototype._mergeStates=function(e){for(var s,o=r.prototype._mergeStates.call(this,e),u=0;u<e.length;u++){var c=e[u];c.style&&this._mergeStyle(s=s||{},c.style)}return s&&(o.style=s),o},t.prototype._mergeStyle=function(e,o){return ce(e,o),e},t.prototype.getAnimationStyleProps=function(){return PD},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=2|Ui)),t;var e}(VL),rR=new Xe(0,0,0,0),Qw=new Xe(0,0,0,0);const ya=Ep;var Do=Math.min,To=Math.max,RD=Math.sin,kD=Math.cos,lu=2*Math.PI,af=hr(),Jw=hr(),sf=hr();function eb(r,t,e){if(0!==r.length){for(var o=r[0],s=o[0],u=o[0],c=o[1],f=o[1],d=1;d<r.length;d++)s=Do(s,(o=r[d])[0]),u=To(u,o[0]),c=Do(c,o[1]),f=To(f,o[1]);t[0]=s,t[1]=c,e[0]=u,e[1]=f}}function $m(r,t,e,o,s,u){s[0]=Do(r,e),s[1]=Do(t,o),u[0]=To(r,e),u[1]=To(t,o)}var iR=[],OD=[];function ND(r,t,e,o,s,u,c,f,d,v){var g=vt,m=X,_=g(r,e,s,c,iR);d[0]=1/0,d[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var w=0;w<_;w++){var S=m(r,e,s,c,iR[w]);d[0]=Do(S,d[0]),v[0]=To(S,v[0])}for(_=g(t,o,u,f,OD),w=0;w<_;w++){var x=m(t,o,u,f,OD[w]);d[1]=Do(x,d[1]),v[1]=To(x,v[1])}d[0]=Do(r,d[0]),v[0]=To(r,v[0]),d[0]=Do(c,d[0]),v[0]=To(c,v[0]),d[1]=Do(t,d[1]),v[1]=To(t,v[1]),d[1]=Do(f,d[1]),v[1]=To(f,v[1])}function tb(r,t,e,o,s,u,c,f){var d=Wx,v=Fn,g=To(Do(d(r,e,s),1),0),m=To(Do(d(t,o,u),1),0),_=v(r,e,s,g),w=v(t,o,u,m);c[0]=Do(r,s,_),c[1]=Do(t,u,w),f[0]=To(r,s,_),f[1]=To(t,u,w)}function oR(r,t,e,o,s,u,c,f,d){var v=ca,g=Ga,m=Math.abs(s-u);if(m%lu<1e-4&&m>1e-4)return f[0]=r-e,f[1]=t-o,d[0]=r+e,void(d[1]=t+o);if(af[0]=kD(s)*e+r,af[1]=RD(s)*o+t,Jw[0]=kD(u)*e+r,Jw[1]=RD(u)*o+t,v(f,af,Jw),g(d,af,Jw),(s%=lu)<0&&(s+=lu),(u%=lu)<0&&(u+=lu),s>u&&!c?u+=lu:s<u&&c&&(s+=lu),c){var _=u;u=s,s=_}for(var w=0;w<u;w+=Math.PI/2)w>s&&(sf[0]=kD(w)*e+r,sf[1]=RD(w)*o+t,v(f,sf,f),g(d,sf,d))}var Dn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},lf=[],_a=[],Mo=[],Tc=[],uu=[],Ka=[],FD=Math.min,aR=Math.max,uf=Math.cos,cf=Math.sin,cu=Math.abs,Ip=Math.PI,hu=2*Ip,VD=typeof Float32Array<"u",Pp=[];function sR(r){return Math.round(r/Ip*1e8)/1e8%2*Ip}function BD(r,t){var e=sR(r[0]);e<0&&(e+=hu);var s=r[1];s+=e-r[0],!t&&s-e>=hu?s=e+hu:t&&e-s>=hu?s=e-hu:!t&&e>s?s=e+(hu-sR(e-s)):t&&e<s&&(s=e-(hu-sR(s-e))),r[0]=e,r[1]=s}var tY=function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,e,o){(o=o||0)>0&&(this._ux=cu(o/Kh/t)||0,this._uy=cu(o/Kh/e)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Dn.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},r.prototype.lineTo=function(t,e){var o=cu(t-this._xi),s=cu(e-this._yi),u=o>this._ux||s>this._uy;if(this.addData(Dn.L,t,e),this._ctx&&u&&this._ctx.lineTo(t,e),u)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var c=o*o+s*s;c>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=c)}return this},r.prototype.bezierCurveTo=function(t,e,o,s,u,c){return this._drawPendingPt(),this.addData(Dn.C,t,e,o,s,u,c),this._ctx&&this._ctx.bezierCurveTo(t,e,o,s,u,c),this._xi=u,this._yi=c,this},r.prototype.quadraticCurveTo=function(t,e,o,s){return this._drawPendingPt(),this.addData(Dn.Q,t,e,o,s),this._ctx&&this._ctx.quadraticCurveTo(t,e,o,s),this._xi=o,this._yi=s,this},r.prototype.arc=function(t,e,o,s,u,c){return this._drawPendingPt(),Pp[0]=s,Pp[1]=u,BD(Pp,c),this.addData(Dn.A,t,e,o,o,s=Pp[0],(u=Pp[1])-s,0,c?0:1),this._ctx&&this._ctx.arc(t,e,o,s,u,c),this._xi=uf(u)*o+t,this._yi=cf(u)*o+e,this},r.prototype.arcTo=function(t,e,o,s,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,o,s,u),this},r.prototype.rect=function(t,e,o,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,o,s),this.addData(Dn.R,t,e,o,s),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(Dn.Z);var t=this._ctx,e=this._x0,o=this._y0;return t&&t.closePath(),this._xi=e,this._yi=o,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){var e=t.length;(!this.data||this.data.length!==e)&&VD&&(this.data=new Float32Array(e));for(var o=0;o<e;o++)this.data[o]=t[o];this._len=e},r.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,o=0,s=this._len,u=0;u<e;u++)o+=t[u].len();for(VD&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+o)),u=0;u<e;u++)for(var c=t[u].data,f=0;f<c.length;f++)this.data[s++]=c[f];this._len=s},r.prototype.addData=function(t,e,o,s,u,c,f,d,v){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var m=0;m<arguments.length;m++)g[this._len++]=arguments[m]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,VD&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){Mo[0]=Mo[1]=uu[0]=uu[1]=Number.MAX_VALUE,Tc[0]=Tc[1]=Ka[0]=Ka[1]=-Number.MAX_VALUE;var c,t=this.data,e=0,o=0,s=0,u=0;for(c=0;c<this._len;){var f=t[c++],d=1===c;switch(d&&(s=e=t[c],u=o=t[c+1]),f){case Dn.M:e=s=t[c++],o=u=t[c++],uu[0]=s,uu[1]=u,Ka[0]=s,Ka[1]=u;break;case Dn.L:$m(e,o,t[c],t[c+1],uu,Ka),e=t[c++],o=t[c++];break;case Dn.C:ND(e,o,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],uu,Ka),e=t[c++],o=t[c++];break;case Dn.Q:tb(e,o,t[c++],t[c++],t[c],t[c+1],uu,Ka),e=t[c++],o=t[c++];break;case Dn.A:var v=t[c++],g=t[c++],m=t[c++],_=t[c++],w=t[c++],S=t[c++]+w;c+=1;var x=!t[c++];d&&(s=uf(w)*m+v,u=cf(w)*_+g),oR(v,g,m,_,w,S,x,uu,Ka),e=uf(S)*m+v,o=cf(S)*_+g;break;case Dn.R:$m(s=e=t[c++],u=o=t[c++],s+t[c++],u+t[c++],uu,Ka);break;case Dn.Z:e=s,o=u}ca(Mo,Mo,uu),Ga(Tc,Tc,Ka)}return 0===c&&(Mo[0]=Mo[1]=Tc[0]=Tc[1]=0),new Xe(Mo[0],Mo[1],Tc[0]-Mo[0],Tc[1]-Mo[1])},r.prototype._calculateLength=function(){var t=this.data,e=this._len,o=this._ux,s=this._uy,u=0,c=0,f=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,g=0,m=0,_=0;_<e;){var w=t[_++],S=1===_;S&&(f=u=t[_],d=c=t[_+1]);var x=-1;switch(w){case Dn.M:u=f=t[_++],c=d=t[_++];break;case Dn.L:var D=t[_++],E=(T=t[_++])-c;(cu(A=D-u)>o||cu(E)>s||_===e-1)&&(x=Math.sqrt(A*A+E*E),u=D,c=T);break;case Dn.C:var P=t[_++],N=t[_++],T=(D=t[_++],t[_++]),k=t[_++],F=t[_++];x=Wi(u,c,P,N,D,T,k,F,10),u=k,c=F;break;case Dn.Q:x=Sm(u,c,P=t[_++],N=t[_++],D=t[_++],T=t[_++],10),u=D,c=T;break;case Dn.A:var B=t[_++],z=t[_++],j=t[_++],W=t[_++],q=t[_++],Y=t[_++],K=Y+q;_+=1,_++,S&&(f=uf(q)*j+B,d=cf(q)*W+z),x=aR(j,W)*FD(hu,Math.abs(Y)),u=uf(K)*j+B,c=cf(K)*W+z;break;case Dn.R:f=u=t[_++],d=c=t[_++],x=2*t[_++]+2*t[_++];break;case Dn.Z:var A=f-u;E=d-c,x=Math.sqrt(A*A+E*E),u=f,c=d}x>=0&&(v[m++]=x,g+=x)}return this._pathLen=g,g},r.prototype.rebuildPath=function(t,e){var f,d,v,g,m,_,S,A,P,N,o=this.data,s=this._ux,u=this._uy,c=this._len,w=e<1,D=0,T=0,E=0;if(!w||(this._pathSegLen||this._calculateLength(),S=this._pathSegLen,A=e*this._pathLen))e:for(var k=0;k<c;){var F=o[k++],B=1===k;switch(B&&(f=v=o[k],d=g=o[k+1]),F!==Dn.L&&E>0&&(t.lineTo(P,N),E=0),F){case Dn.M:f=v=o[k++],d=g=o[k++],t.moveTo(v,g);break;case Dn.L:m=o[k++],_=o[k++];var z=cu(m-v),j=cu(_-g);if(z>s||j>u){if(w){if(D+(W=S[T++])>A){t.lineTo(v*(1-(q=(A-D)/W))+m*q,g*(1-q)+_*q);break e}D+=W}t.lineTo(m,_),v=m,g=_,E=0}else{var Y=z*z+j*j;Y>E&&(P=m,N=_,E=Y)}break;case Dn.C:var K=o[k++],Q=o[k++],re=o[k++],le=o[k++],se=o[k++],de=o[k++];if(w){if(D+(W=S[T++])>A){Qt(v,K,re,se,q=(A-D)/W,lf),Qt(g,Q,le,de,q,_a),t.bezierCurveTo(lf[1],_a[1],lf[2],_a[2],lf[3],_a[3]);break e}D+=W}t.bezierCurveTo(K,Q,re,le,se,de),v=se,g=de;break;case Dn.Q:if(K=o[k++],Q=o[k++],re=o[k++],le=o[k++],w){if(D+(W=S[T++])>A){Vs(v,K,re,q=(A-D)/W,lf),Vs(g,Q,le,q,_a),t.quadraticCurveTo(lf[1],_a[1],lf[2],_a[2]);break e}D+=W}t.quadraticCurveTo(K,Q,re,le),v=re,g=le;break;case Dn.A:var be=o[k++],De=o[k++],Fe=o[k++],$e=o[k++],We=o[k++],dt=o[k++],Rt=o[k++],yt=!o[k++],Ke=Fe>$e?Fe:$e,_t=cu(Fe-$e)>.001,st=We+dt,Be=!1;if(w&&(D+(W=S[T++])>A&&(st=We+dt*(A-D)/W,Be=!0),D+=W),_t&&t.ellipse?t.ellipse(be,De,Fe,$e,Rt,We,st,yt):t.arc(be,De,Ke,We,st,yt),Be)break e;B&&(f=uf(We)*Fe+be,d=cf(We)*$e+De),v=uf(st)*Fe+be,g=cf(st)*$e+De;break;case Dn.R:f=v=o[k],d=g=o[k+1],m=o[k++],_=o[k++];var lt=o[k++],$n=o[k++];if(w){if(D+(W=S[T++])>A){var Xt=A-D;t.moveTo(m,_),t.lineTo(m+FD(Xt,lt),_),(Xt-=lt)>0&&t.lineTo(m+lt,_+FD(Xt,$n)),(Xt-=$n)>0&&t.lineTo(m+aR(lt-Xt,0),_+$n),(Xt-=lt)>0&&t.lineTo(m,_+aR($n-Xt,0));break e}D+=W}t.rect(m,_,lt,$n);break;case Dn.Z:if(w){var W;if(D+(W=S[T++])>A){var q;t.lineTo(v*(1-(q=(A-D)/W))+f*q,g*(1-q)+d*q);break e}D+=W}t.closePath(),v=f,g=d}}},r.prototype.clone=function(){var t=new r,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},r.CMD=Dn,r.initDefaultProps=function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),r}();const Zs=tY;function Mc(r,t,e,o,s,u,c){if(0===s)return!1;var d,f=s;if(c>t+f&&c>o+f||c<t-f&&c<o-f||u>r+f&&u>e+f||u<r-f&&u<e-f)return!1;if(r===e)return Math.abs(u-r)<=f/2;var g=(d=(t-o)/(r-e))*u-c+(r*o-e*t)/(r-e);return g*g/(d*d+1)<=f/2*f/2}function zD(r,t,e,o,s,u,c,f,d,v,g){if(0===d)return!1;var m=d;return!(g>t+m&&g>o+m&&g>u+m&&g>f+m||g<t-m&&g<o-m&&g<u-m&&g<f-m||v>r+m&&v>e+m&&v>s+m&&v>c+m||v<r-m&&v<e-m&&v<s-m&&v<c-m)&&At(r,t,e,o,s,u,c,f,v,g,null)<=m/2}function _G(r,t,e,o,s,u,c,f,d){if(0===c)return!1;var v=c;return!(d>t+v&&d>o+v&&d>u+v||d<t-v&&d<o-v&&d<u-v||f>r+v&&f>e+v&&f>s+v||f<r-v&&f<e-v&&f<s-v)&&pr(r,t,e,o,s,u,f,d,null)<=v/2}var wG=2*Math.PI;function Wo(r){return(r%=wG)<0&&(r+=wG),r}var nb=2*Math.PI;function nY(r,t,e,o,s,u,c,f,d){if(0===c)return!1;var v=c;f-=r,d-=t;var g=Math.sqrt(f*f+d*d);if(g-v>e||g+v<e)return!1;if(Math.abs(o-s)%nb<1e-4)return!0;if(u){var m=o;o=Wo(s),s=Wo(m)}else o=Wo(o),s=Wo(s);o>s&&(s+=nb);var _=Math.atan2(d,f);return _<0&&(_+=nb),_>=o&&_<=s||_+nb>=o&&_+nb<=s}function Ac(r,t,e,o,s,u){if(u>t&&u>o||u<t&&u<o||o===t)return 0;var c=(u-t)/(o-t),f=o<t?1:-1;(1===c||0===c)&&(f=o<t?.5:-.5);var d=c*(e-r)+r;return d===s?1/0:d>s?f:0}var hf=Zs.CMD,Lp=2*Math.PI,ci=[-1,-1,-1],$o=[-1,-1];function lR(){var r=$o[0];$o[0]=$o[1],$o[1]=r}function uR(r,t,e,o,s,u,c,f,d,v){if(v>t&&v>o&&v>u&&v>f||v<t&&v<o&&v<u&&v<f)return 0;var g=qe(t,o,u,f,v,ci);if(0===g)return 0;for(var m=0,_=-1,w=void 0,S=void 0,x=0;x<g;x++){var D=ci[x],T=0===D||1===D?.5:1;X(r,e,s,c,D)<d||(_<0&&(_=vt(t,o,u,f,$o),$o[1]<$o[0]&&_>1&&lR(),w=X(t,o,u,f,$o[0]),_>1&&(S=X(t,o,u,f,$o[1]))),m+=2===_?D<$o[0]?w<t?T:-T:D<$o[1]?S<w?T:-T:f<S?T:-T:D<$o[0]?w<t?T:-T:f<w?T:-T)}return m}function Rp(r,t,e,o,s,u,c,f){if(f>t&&f>o&&f>u||f<t&&f<o&&f<u)return 0;var d=function bm(r,t,e,o,s){var u=r-2*t+e,c=2*(t-r),f=r-o,d=0;if(O(u))U(c)&&(v=-f/c)>=0&&v<=1&&(s[d++]=v);else{var g=c*c-4*u*f;if(O(g))(v=-c/(2*u))>=0&&v<=1&&(s[d++]=v);else if(g>0){var v,m=ji(g),_=(-c-m)/(2*u);(v=(-c+m)/(2*u))>=0&&v<=1&&(s[d++]=v),_>=0&&_<=1&&(s[d++]=_)}}return d}(t,o,u,f,ci);if(0===d)return 0;var v=Wx(t,o,u);if(v>=0&&v<=1){for(var g=0,m=Fn(t,o,u,v),_=0;_<d;_++){var w=0===ci[_]||1===ci[_]?.5:1;Fn(r,e,s,ci[_])<c||(g+=ci[_]<v?m<t?w:-w:u<m?w:-w)}return g}return w=0===ci[0]||1===ci[0]?.5:1,Fn(r,e,s,ci[0])<c?0:u<t?w:-w}function cR(r,t,e,o,s,u,c,f){if((f-=t)>e||f<-e)return 0;var d=Math.sqrt(e*e-f*f);ci[0]=-d,ci[1]=d;var v=Math.abs(o-s);if(v<1e-4)return 0;if(v>=Lp-1e-4){o=0,s=Lp;var g=u?1:-1;return c>=ci[0]+r&&c<=ci[1]+r?g:0}if(o>s){var m=o;o=s,s=m}o<0&&(o+=Lp,s+=Lp);for(var _=0,w=0;w<2;w++){var S=ci[w];if(S+r>c){var x=Math.atan2(f,S);g=u?1:-1,x<0&&(x=Lp+x),(x>=o&&x<=s||x+Lp>=o&&x+Lp<=s)&&(x>Math.PI/2&&x<1.5*Math.PI&&(g=-g),_+=g)}}return _}function HD(r,t,e,o,s){for(var _,w,u=r.data,c=r.len(),f=0,d=0,v=0,g=0,m=0,S=0;S<c;){var x=u[S++],D=1===S;switch(x===hf.M&&S>1&&(e||(f+=Ac(d,v,g,m,o,s))),D&&(g=d=u[S],m=v=u[S+1]),x){case hf.M:d=g=u[S++],v=m=u[S++];break;case hf.L:if(e){if(Mc(d,v,u[S],u[S+1],t,o,s))return!0}else f+=Ac(d,v,u[S],u[S+1],o,s)||0;d=u[S++],v=u[S++];break;case hf.C:if(e){if(zD(d,v,u[S++],u[S++],u[S++],u[S++],u[S],u[S+1],t,o,s))return!0}else f+=uR(d,v,u[S++],u[S++],u[S++],u[S++],u[S],u[S+1],o,s)||0;d=u[S++],v=u[S++];break;case hf.Q:if(e){if(_G(d,v,u[S++],u[S++],u[S],u[S+1],t,o,s))return!0}else f+=Rp(d,v,u[S++],u[S++],u[S],u[S+1],o,s)||0;d=u[S++],v=u[S++];break;case hf.A:var T=u[S++],A=u[S++],E=u[S++],P=u[S++],N=u[S++],k=u[S++];S+=1;var F=!!(1-u[S++]);_=Math.cos(N)*E+T,w=Math.sin(N)*P+A,D?(g=_,m=w):f+=Ac(d,v,_,w,o,s);var B=(o-T)*P/E+T;if(e){if(nY(T,A,P,N,N+k,F,t,B,s))return!0}else f+=cR(T,A,P,N,N+k,F,B,s);d=Math.cos(N+k)*E+T,v=Math.sin(N+k)*P+A;break;case hf.R:if(g=d=u[S++],m=v=u[S++],_=g+u[S++],w=m+u[S++],e){if(Mc(g,m,_,m,t,o,s)||Mc(_,m,_,w,t,o,s)||Mc(_,w,g,w,t,o,s)||Mc(g,w,g,m,t,o,s))return!0}else f+=Ac(_,m,_,w,o,s),f+=Ac(g,w,g,m,o,s);break;case hf.Z:if(e){if(Mc(d,v,g,m,t,o,s))return!0}else f+=Ac(d,v,g,m,o,s);d=g,v=m}}return!e&&!function rb(r,t){return Math.abs(r-t)<1e-4}(v,m)&&(f+=Ac(d,v,g,m,o,s)||0),0!==f}var Qa=Ve({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},rf),SG={style:Ve({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},PD.style)},GD=Za.concat(["invisible","culling","z","z2","zlevel","parent"]),CG=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.update=function(){var e=this;r.prototype.update.call(this);var o=this.style;if(o.decal){var s=this._decalEl=this._decalEl||new t;s.buildPath===t.prototype.buildPath&&(s.buildPath=function(d){e.buildPath(d,e.shape)}),s.silent=!0;var u=s.style;for(var c in o)u[c]!==o[c]&&(u[c]=o[c]);u.fill=o.fill?o.decal:null,u.decal=null,u.shadowColor=null,o.strokeFirst&&(u.stroke=null);for(var f=0;f<GD.length;++f)s[GD[f]]=this[GD[f]];s.__dirty|=Ui}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var o=pt(e);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var u=0;u<o.length;u++){var c=o[u],f=e[c];"style"===c?this.style?ce(this.style,f):this.useStyle(f):"shape"===c?ce(this.shape,f):r.prototype.attrKV.call(this,c,f)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(xe(e)){var o=Iw(e,0);return o>.5?cD:o>.2?"#eee":Vw}if(e)return Vw}return cD},t.prototype.getInsideTextStroke=function(e){var o=this.style.fill;if(xe(o)){var s=this.__zr;if(!(!s||!s.isDarkMode())==Iw(e,0)<.4)return o}},t.prototype.buildPath=function(e,o,s){},t.prototype.pathUpdated=function(){this.__dirty&=~wc},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Zs(!1)},t.prototype.hasStroke=function(){var e=this.style,o=e.stroke;return!(null==o||"none"===o||!(e.lineWidth>0))},t.prototype.hasFill=function(){var o=this.style.fill;return null!=o&&"none"!==o},t.prototype.getBoundingRect=function(){var e=this._rect,o=this.style,s=!e;if(s){var u=!1;this.path||(u=!0,this.createPathProxy());var c=this.path;(u||this.__dirty&wc)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),e=c.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||s){f.copy(e);var d=o.strokeNoScale?this.getLineScale():1,v=o.lineWidth;this.hasFill()||(v=Math.max(v,this.strokeContainThreshold??4)),d>1e-10&&(f.width+=v/d,f.height+=v/d,f.x-=v/d/2,f.y-=v/d/2)}return f}return e},t.prototype.contain=function(e,o){var s=this.transformCoordToLocal(e,o),u=this.getBoundingRect(),c=this.style;if(u.contain(e=s[0],o=s[1])){var f=this.path;if(this.hasStroke()){var d=c.lineWidth,v=c.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),function ob(r,t,e,o){return HD(r,t,!0,e,o)}(f,d/v,e,o)))return!0}if(this.hasFill())return function ib(r,t,e){return HD(r,0,!1,t,e)}(f,e,o)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=wc,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,o){"shape"===e?this.setShape(o):r.prototype.attrKV.call(this,e,o)},t.prototype.setShape=function(e,o){var s=this.shape;return s||(s=this.shape={}),"string"==typeof e?s[e]=o:ce(s,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&wc)},t.prototype.createStyle=function(e){return fc(Qa,e)},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var o=this._normalState;e.shape&&!o.shape&&(o.shape=ce({},this.shape))},t.prototype._applyStateObj=function(e,o,s,u,c,f){r.prototype._applyStateObj.call(this,e,o,s,u,c,f);var v,d=!(o&&u);if(o&&o.shape?c?u?v=o.shape:(v=ce({},s.shape),ce(v,o.shape)):(v=ce({},u?this.shape:s.shape),ce(v,o.shape)):d&&(v=s.shape),v)if(c){this.shape=ce({},this.shape);for(var g={},m=pt(v),_=0;_<m.length;_++){var w=m[_];"object"==typeof v[w]?this.shape[w]=v[w]:g[w]=v[w]}this._transitionState(e,{shape:g},f)}else this.shape=v,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var s,o=r.prototype._mergeStates.call(this,e),u=0;u<e.length;u++){var c=e[u];c.shape&&this._mergeStyle(s=s||{},c.shape)}return s&&(o.shape=s),o},t.prototype.getAnimationStyleProps=function(){return SG},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var o=function(u){function c(f){var d=u.call(this,f)||this;return e.init&&e.init.call(d,f),d}return Le(c,u),c.prototype.getDefaultStyle=function(){return Ge(e.style)},c.prototype.getDefaultShape=function(){return Ge(e.shape)},c}(t);for(var s in e)"function"==typeof e[s]&&(o.prototype[s]=e[s]);return o},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=2|Ui|wc)),t;var e}(ya);const mt=CG;var UD=Ve({strokeFirst:!0,font:Es,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Qa),hR=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Le(t,r),t.prototype.hasStroke=function(){var e=this.style,o=e.stroke;return null!=o&&"none"!==o&&e.lineWidth>0},t.prototype.hasFill=function(){var o=this.style.fill;return null!=o&&"none"!==o},t.prototype.createStyle=function(e){return fc(UD,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var o=e.text;null!=o?o+="":o="";var s=Rm(o,e.font,e.textAlign,e.textBaseline);if(s.x+=e.x||0,s.y+=e.y||0,this.hasStroke()){var u=e.lineWidth;s.x-=u/2,s.y-=u/2,s.width+=u,s.height+=u}this._rect=s}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(ya);hR.prototype.type="tspan";const qm=hR;var xG=Ve({x:0,y:0},rf),fR={style:Ve({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},PD.style)},dR=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Le(t,r),t.prototype.createStyle=function(e){return fc(xG,e)},t.prototype._getSize=function(e){var o=this.style,s=o[e];if(null!=s)return s;var u=function DG(r){return!!(r&&"string"!=typeof r&&r.width&&r.height)}(o.image)?o.image:this.__image;if(!u)return 0;var c="width"===e?"height":"width",f=o[c];return null==f?u[e]:u[e]/u[c]*f},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return fR},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Xe(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(ya);dR.prototype.type="image";const bn=dR;var ff=Math.round;function ab(r,t,e){if(t){var o=t.x1,s=t.x2,u=t.y1,c=t.y2;r.x1=o,r.x2=s,r.y1=u,r.y2=c;var f=e&&e.lineWidth;return f&&(ff(2*o)===ff(2*s)&&(r.x1=r.x2=Ja(o,f,!0)),ff(2*u)===ff(2*c)&&(r.y1=r.y2=Ja(u,f,!0))),r}}function bi(r,t,e){if(t){var o=t.x,s=t.y,u=t.width,c=t.height;r.x=o,r.y=s,r.width=u,r.height=c;var f=e&&e.lineWidth;return f&&(r.x=Ja(o,f,!0),r.y=Ja(s,f,!0),r.width=Math.max(Ja(o+u,f,!1)-r.x,0===u?0:1),r.height=Math.max(Ja(s+c,f,!1)-r.y,0===c?0:1)),r}}function Ja(r,t,e){if(!t)return r;var o=ff(2*r);return(o+ff(t))%2==0?o/2:(o+(e?1:-1))/2}var pR=function r(){this.x=0,this.y=0,this.width=0,this.height=0},vR={},gR=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultShape=function(){return new pR},t.prototype.buildPath=function(e,o){var s,u,c,f;if(this.subPixelOptimize){var d=bi(vR,o,this.style);s=d.x,u=d.y,c=d.width,f=d.height,d.r=o.r,o=d}else s=o.x,u=o.y,c=o.width,f=o.height;o.r?function jD(r,t){var f,d,v,g,m,e=t.x,o=t.y,s=t.width,u=t.height,c=t.r;s<0&&(e+=s,s=-s),u<0&&(o+=u,u=-u),"number"==typeof c?f=d=v=g=c:c instanceof Array?1===c.length?f=d=v=g=c[0]:2===c.length?(f=v=c[0],d=g=c[1]):3===c.length?(f=c[0],d=g=c[1],v=c[2]):(f=c[0],d=c[1],v=c[2],g=c[3]):f=d=v=g=0,f+d>s&&(f*=s/(m=f+d),d*=s/m),v+g>s&&(v*=s/(m=v+g),g*=s/m),d+v>u&&(d*=u/(m=d+v),v*=u/m),f+g>u&&(f*=u/(m=f+g),g*=u/m),r.moveTo(e+f,o),r.lineTo(e+s-d,o),0!==d&&r.arc(e+s-d,o+d,d,-Math.PI/2,0),r.lineTo(e+s,o+u-v),0!==v&&r.arc(e+s-v,o+u-v,v,0,Math.PI/2),r.lineTo(e+g,o+u),0!==g&&r.arc(e+g,o+u-g,g,Math.PI/2,Math.PI),r.lineTo(e,o+f),0!==f&&r.arc(e+f,o+f,f,Math.PI,1.5*Math.PI)}(e,o):e.rect(s,u,c,f)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(mt);gR.prototype.type="rect";const Ot=gR;var mR={fill:"#000"},TG={style:Ve({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},PD.style)},$D=function(r){function t(e){var o=r.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=mR,o.attr(e),o}return Le(t,r),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var o=this._children[e];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var o=this.innerTransformable;return o?o.getLocalTransform(e):r.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,function EG(r){_R(r),H(r.rich,_R)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=e},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Xe(0,0,0,0),o=this._children,s=[],u=null,c=0;c<o.length;c++){var f=o[c],d=f.getBoundingRect(),v=f.getLocalTransform(s);v?(e.copy(d),e.applyTransform(v),(u=u||e.clone()).union(e)):(u=u||d.clone()).union(d)}this._rect=u||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||mR},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,o){if(!o)return e;var s=o.rich,u=e.rich||s&&{};return ce(e,o),s&&u?(this._mergeRich(u,s),e.rich=u):u&&(e.rich=u),e},t.prototype._mergeRich=function(e,o){for(var s=pt(o),u=0;u<s.length;u++){var c=s[u];e[c]=e[c]||{},ce(e[c],o[c])}},t.prototype.getAnimationStyleProps=function(){return TG},t.prototype._getOrCreateChild=function(e){var o=this._children[this._childCursor];return(!o||!(o instanceof e))&&(o=new e),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},t.prototype._updatePlainTexts=function(){var e=this.style,o=e.font||Es,s=e.padding,c=function Xr(r,t){null!=r&&(r+="");var m,e=t.overflow,o=t.padding,s=t.font,u="truncate"===e,c=Om(s),f=Qe(t.lineHeight,c),d=!!t.backgroundColor,v="truncate"===t.lineOverflow,g=t.width,_=(m=null==g||"break"!==e&&"breakAll"!==e?r?r.split("\n"):[]:r?tR(r,t.font,g,"breakAll"===e,0).lines:[]).length*f,w=Qe(t.height,_);if(_>w&&v){var S=Math.floor(w/f);m=m.slice(0,S)}if(r&&u&&null!=g)for(var x=nf(g,s,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),D=0;D<m.length;D++)m[D]=JL(m[D],x);var T=w,A=0;for(D=0;D<m.length;D++)A=Math.max(So(m[D],s),A);null==g&&(g=A);var E=A;return o&&(T+=o[0]+o[2],E+=o[1]+o[3],g+=o[1]+o[3]),d&&(E=g),{lines:m,height:w,outerWidth:E,outerHeight:T,lineHeight:f,calculatedLineHeight:c,contentWidth:A,contentHeight:_,width:g}}(df(e),e),f=Op(e),d=!!e.backgroundColor,v=c.outerHeight,g=c.outerWidth,m=c.contentWidth,_=c.lines,w=c.lineHeight,S=this._defaultStyle,x=e.x||0,D=e.y||0,T=e.align||S.align||"left",A=e.verticalAlign||S.verticalAlign||"top",E=x,P=_p(D,c.contentHeight,A);if(f||s){var N=km(x,g,T),k=_p(D,v,A);f&&this._renderBackground(e,e,N,k,g,v)}P+=w/2,s&&(E=YD(x,T,s),"top"===A?P+=s[0]:"bottom"===A&&(P-=s[2]));for(var F=0,B=!1,z=(ZD("fill"in e?e.fill:(B=!0,S.fill))),j=(qD("stroke"in e?e.stroke:d||S.autoStroke&&!B?null:(F=2,S.stroke))),W=e.textShadowBlur>0,q=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),Y=c.calculatedLineHeight,K=0;K<_.length;K++){var Q=this._getOrCreateChild(qm),re=Q.createStyle();Q.useStyle(re),re.text=_[K],re.x=E,re.y=P,T&&(re.textAlign=T),re.textBaseline="middle",re.opacity=e.opacity,re.strokeFirst=!0,W&&(re.shadowBlur=e.textShadowBlur||0,re.shadowColor=e.textShadowColor||"transparent",re.shadowOffsetX=e.textShadowOffsetX||0,re.shadowOffsetY=e.textShadowOffsetY||0),re.stroke=j,re.fill=z,j&&(re.lineWidth=e.lineWidth||F,re.lineDash=e.lineDash,re.lineDashOffset=e.lineDashOffset||0),re.font=o,yR(re,e),P+=w,q&&Q.setBoundingRect(new Xe(km(re.x,e.width,re.textAlign),_p(re.y,Y,re.textBaseline),m,Y))}},t.prototype._updateRichTexts=function(){var e=this.style,s=function ma(r,t){var e=new mG;if(null!=r&&(r+=""),!r)return e;for(var d,o=t.width,s=t.height,u=t.overflow,c="break"!==u&&"breakAll"!==u||null==o?null:{width:o,accumWidth:0,breakAll:"breakAll"===u},f=QL.lastIndex=0;null!=(d=QL.exec(r));){var v=d.index;v>f&&Dc(e,r.substring(f,v),t,c),Dc(e,d[2],t,c,d[1]),f=QL.lastIndex}f<r.length&&Dc(e,r.substring(f,r.length),t,c);var g=[],m=0,_=0,w=t.padding,S="truncate"===u,x="truncate"===t.lineOverflow;function D(se,de,be){se.width=de,se.lineHeight=be,m+=be,_=Math.max(_,de)}e:for(var T=0;T<e.lines.length;T++){for(var A=e.lines[T],E=0,P=0,N=0;N<A.tokens.length;N++){var F=(k=A.tokens[N]).styleName&&t.rich[k.styleName]||{},B=k.textPadding=F.padding,z=B?B[1]+B[3]:0,j=k.font=F.font||t.font;k.contentHeight=Om(j);var W=Qe(F.height,k.contentHeight);if(k.innerHeight=W,B&&(W+=B[0]+B[2]),k.height=W,k.lineHeight=Gn(F.lineHeight,t.lineHeight,W),k.align=F&&F.align||t.align,k.verticalAlign=F&&F.verticalAlign||"middle",x&&null!=s&&m+k.lineHeight>s){N>0?(A.tokens=A.tokens.slice(0,N),D(A,P,E),e.lines=e.lines.slice(0,T+1)):e.lines=e.lines.slice(0,T);break e}var q=F.width,Y=null==q||"auto"===q;if("string"==typeof q&&"%"===q.charAt(q.length-1))k.percentWidth=q,g.push(k),k.contentWidth=So(k.text,j);else{if(Y){var K=F.backgroundColor,Q=K&&K.image;Q&&ID(Q=eY(Q))&&(k.width=Math.max(k.width,Q.width*W/Q.height))}var re=S&&null!=o?o-P:null;null!=re&&re<k.width?!Y||re<z?(k.text="",k.width=k.contentWidth=0):(k.text=pG(k.text,re-z,j,t.ellipsis,{minChar:t.truncateMinChar}),k.width=k.contentWidth=So(k.text,j)):k.contentWidth=So(k.text,j)}k.width+=z,P+=k.width,F&&(E=Math.max(E,k.lineHeight))}D(A,P,E)}for(e.outerWidth=e.width=Qe(o,_),e.outerHeight=e.height=Qe(s,m),e.contentHeight=m,e.contentWidth=_,w&&(e.outerWidth+=w[1]+w[3],e.outerHeight+=w[0]+w[2]),T=0;T<g.length;T++){var k;(k=g[T]).width=parseInt(k.percentWidth,10)/100*e.width}return e}(df(e),e),u=s.width,c=s.outerWidth,f=s.outerHeight,d=e.padding,g=e.y||0,m=this._defaultStyle,w=e.verticalAlign||m.verticalAlign,S=km(e.x||0,c,e.align||m.align),x=_p(g,f,w),D=S,T=x;d&&(D+=d[3],T+=d[0]);var A=D+u;Op(e)&&this._renderBackground(e,e,S,x,c,f);for(var E=!!e.backgroundColor,P=0;P<s.lines.length;P++){for(var N=s.lines[P],k=N.tokens,F=k.length,B=N.lineHeight,z=N.width,j=0,W=D,q=A,Y=F-1,K=void 0;j<F&&(!(K=k[j]).align||"left"===K.align);)this._placeToken(K,e,B,T,W,"left",E),z-=K.width,W+=K.width,j++;for(;Y>=0&&"right"===(K=k[Y]).align;)this._placeToken(K,e,B,T,q,"right",E),z-=K.width,q-=K.width,Y--;for(W+=(u-(W-D)-(A-q)-z)/2;j<=Y;)this._placeToken(K=k[j],e,B,T,W+K.width/2,"center",E),W+=K.width,j++;T+=B}},t.prototype._placeToken=function(e,o,s,u,c,f,d){var v=o.rich[e.styleName]||{};v.text=e.text;var g=e.verticalAlign,m=u+s/2;"top"===g?m=u+e.height/2:"bottom"===g&&(m=u+s-e.height/2),!e.isLineHolder&&Op(v)&&this._renderBackground(v,o,"right"===f?c-e.width:"center"===f?c-e.width/2:c,m-e.height/2,e.width,e.height);var w=!!v.backgroundColor,S=e.textPadding;S&&(c=YD(c,f,S),m-=e.height/2-S[0]-e.innerHeight/2);var x=this._getOrCreateChild(qm),D=x.createStyle();x.useStyle(D);var T=this._defaultStyle,A=!1,E=0,P=ZD("fill"in v?v.fill:"fill"in o?o.fill:(A=!0,T.fill)),N=qD("stroke"in v?v.stroke:"stroke"in o?o.stroke:w||d||T.autoStroke&&!A?null:(E=2,T.stroke)),k=v.textShadowBlur>0||o.textShadowBlur>0;D.text=e.text,D.x=c,D.y=m,k&&(D.shadowBlur=v.textShadowBlur||o.textShadowBlur||0,D.shadowColor=v.textShadowColor||o.textShadowColor||"transparent",D.shadowOffsetX=v.textShadowOffsetX||o.textShadowOffsetX||0,D.shadowOffsetY=v.textShadowOffsetY||o.textShadowOffsetY||0),D.textAlign=f,D.textBaseline="middle",D.font=e.font||Es,D.opacity=Gn(v.opacity,o.opacity,1),yR(D,v),N&&(D.lineWidth=Gn(v.lineWidth,o.lineWidth,E),D.lineDash=Qe(v.lineDash,o.lineDash),D.lineDashOffset=o.lineDashOffset||0,D.stroke=N),P&&(D.fill=P);var F=e.contentWidth,B=e.contentHeight;x.setBoundingRect(new Xe(km(D.x,F,D.textAlign),_p(D.y,B,D.textBaseline),F,B))},t.prototype._renderBackground=function(e,o,s,u,c,f){var x,D,A,d=e.backgroundColor,v=e.borderWidth,g=e.borderColor,m=d&&d.image,_=d&&!m,w=e.borderRadius,S=this;if(_||e.lineHeight||v&&g){(x=this._getOrCreateChild(Ot)).useStyle(x.createStyle()),x.style.fill=null;var T=x.shape;T.x=s,T.y=u,T.width=c,T.height=f,T.r=w,x.dirtyShape()}if(_)(A=x.style).fill=d||null,A.fillOpacity=Qe(e.fillOpacity,1);else if(m){(D=this._getOrCreateChild(bn)).onload=function(){S.dirtyStyle()};var E=D.style;E.image=d.image,E.x=s,E.y=u,E.width=c,E.height=f}v&&g&&((A=x.style).lineWidth=v,A.stroke=g,A.strokeOpacity=Qe(e.strokeOpacity,1),A.lineDash=e.borderDash,A.lineDashOffset=e.borderDashOffset||0,x.strokeContainThreshold=0,x.hasFill()&&x.hasStroke()&&(A.strokeFirst=!0,A.lineWidth*=2));var P=(x||D).style;P.shadowBlur=e.shadowBlur||0,P.shadowColor=e.shadowColor||"transparent",P.shadowOffsetX=e.shadowOffsetX||0,P.shadowOffsetY=e.shadowOffsetY||0,P.opacity=Gn(e.opacity,o.opacity,1)},t.makeFont=function(e){var o="";return kp(e)&&(o=[e.fontStyle,e.fontWeight,lb(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),o&&Ii(o)||e.textFont||e.font},t}(ya),MG={left:!0,right:1,center:1},AG={top:1,bottom:1,middle:1},sb=["fontStyle","fontWeight","fontSize","fontFamily"];function lb(r){return"string"!=typeof r||-1===r.indexOf("px")&&-1===r.indexOf("rem")&&-1===r.indexOf("em")?isNaN(+r)?jt+"px":r+"px":r}function yR(r,t){for(var e=0;e<sb.length;e++){var o=sb[e],s=t[o];null!=s&&(r[o]=s)}}function kp(r){return null!=r.fontSize||r.fontFamily||r.fontWeight}function _R(r){if(r){r.font=$D.makeFont(r);var t=r.align;"middle"===t&&(t="center"),r.align=null==t||MG[t]?t:"left";var e=r.verticalAlign;"center"===e&&(e="middle"),r.verticalAlign=null==e||AG[e]?e:"top",r.padding&&(r.padding=Fl(r.padding))}}function qD(r,t){return null==r||t<=0||"transparent"===r||"none"===r?null:r.image||r.colorStops?"#000":r}function ZD(r){return null==r||"none"===r?null:r.image||r.colorStops?"#000":r}function YD(r,t,e){return"right"===t?r-e[1]:"center"===t?r+e[3]/2-e[1]/2:r+e[3]}function df(r){var t=r.text;return null!=t&&(t+=""),t}function Op(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}const Nt=$D;var et=zt(),Np=function(r,t,e,o){if(o){var s=et(o);s.dataIndex=e,s.dataType=t,s.seriesIndex=r,"group"===o.type&&o.traverse(function(u){var c=et(u);c.seriesIndex=r,c.dataIndex=e,c.dataType=t})}},wR=1,bR={},SR=zt(),XD=zt(),KD=0,Zm=1,Ym=2,hi=["emphasis","blur","select"],pf=["normal","emphasis","blur","select"],Ec=10,IG=9,vf="highlight",Fp="downplay",Vp="select",Ys="unselect",Bp="toggleSelect";function gf(r){return null!=r&&"none"!==r}var CR=new Kl(100);function PG(r){if(xe(r)){var t=CR.get(r);return t||(t=vp(r,-.1),CR.put(r,t)),t}if(Hh(r)){var e=ce({},r);return e.colorStops=me(r.colorStops,function(o){return{offset:o.offset,color:vp(o.color,-.1)}}),e}return r}function mf(r,t,e){r.onHoverStateChange&&(r.hoverState||0)!==e&&r.onHoverStateChange(t),r.hoverState=e}function xR(r){mf(r,"emphasis",Ym)}function QD(r){r.hoverState===Ym&&mf(r,"normal",KD)}function ub(r){mf(r,"blur",Zm)}function JD(r){r.hoverState===Zm&&mf(r,"normal",KD)}function eT(r){r.selected=!0}function DR(r){r.selected=!1}function Xm(r,t,e){t(r,e)}function qo(r,t,e){Xm(r,t,e),r.isGroup&&r.traverse(function(o){Xm(o,t,e)})}function Km(r,t){switch(t){case"emphasis":r.hoverState=Ym;break;case"normal":r.hoverState=KD;break;case"blur":r.hoverState=Zm;break;case"select":r.selected=!0}}function nT(r,t){var e=this.states[r];if(this.style){if("emphasis"===r)return function MR(r,t,e,o){var s=e&&ot(e,"select")>=0,u=!1;if(r instanceof mt){var c=SR(r),f=s&&c.selectFill||c.normalFill,d=s&&c.selectStroke||c.normalStroke;if(gf(f)||gf(d)){var v=(o=o||{}).style||{};"inherit"===v.fill?(u=!0,o=ce({},o),(v=ce({},v)).fill=f):!gf(v.fill)&&gf(f)?(u=!0,o=ce({},o),(v=ce({},v)).fill=PG(f)):!gf(v.stroke)&&gf(d)&&(u||(o=ce({},o),v=ce({},v)),v.stroke=PG(d)),o.style=v}}return o&&null==o.z2&&(u||(o=ce({},o)),o.z2=r.z2+(r.z2EmphasisLift??Ec)),o}(this,0,t,e);if("blur"===r)return function Qm(r,t,e){var o=ot(r.currentStates,t)>=0,s=r.style.opacity,u=o?null:function cb(r,t,e,o){for(var s=r.style,u={},c=0;c<t.length;c++){var f=t[c];u[f]=s[f]??(o&&o[f])}for(c=0;c<r.animators.length;c++){var v=r.animators[c];v.__fromStateTransition&&v.__fromStateTransition.indexOf(e)<0&&"style"===v.targetName&&v.saveTo(u,t)}return u}(r,["opacity"],t,{opacity:1}),c=(e=e||{}).style||{};return null==c.opacity&&(e=ce({},e),c=ce({opacity:o?s:.1*u.opacity},c),e.style=c),e}(this,r,e);if("select"===r)return function tT(r,t,e){return e&&null==e.z2&&((e=ce({},e)).z2=r.z2+(r.z2SelectLift??IG)),e}(this,0,e)}return e}function Ic(r){r.stateProxy=nT;var t=r.getTextContent(),e=r.getTextGuideLine();t&&(t.stateProxy=nT),e&&(e.stateProxy=nT)}function AR(r,t){!IR(r,t)&&!r.__highByOuter&&qo(r,xR)}function ER(r,t){!IR(r,t)&&!r.__highByOuter&&qo(r,QD)}function fu(r,t){r.__highByOuter|=1<<(t||0),qo(r,xR)}function Xs(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&qo(r,QD)}function rT(r){qo(r,ub)}function zp(r){qo(r,JD)}function hb(r){qo(r,eT)}function yf(r){qo(r,DR)}function IR(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function PR(r){var t=r.getModel(),e=[],o=[];t.eachComponent(function(s,u){var c=XD(u),f="series"===s,d=f?r.getViewOfSeriesModel(u):r.getViewOfComponentModel(u);!f&&o.push(d),c.isBlured&&(d.group.traverse(function(v){JD(v)}),f&&e.push(u)),c.isBlured=!1}),H(o,function(s){s&&s.toggleBlurSeries&&s.toggleBlurSeries(e,!1,t)})}function LR(r,t,e,o){var s=o.getModel();function u(v,g){for(var m=0;m<g.length;m++){var _=v.getItemGraphicEl(g[m]);_&&zp(_)}}if(e=e||"coordinateSystem",null!=r&&t&&"none"!==t){var c=s.getSeriesByIndex(r),f=c.coordinateSystem;f&&f.master&&(f=f.master);var d=[];s.eachSeries(function(v){var g=c===v,m=v.coordinateSystem;if(m&&m.master&&(m=m.master),!("series"===e&&!g||"coordinateSystem"===e&&!(m&&f?m===f:g)||"series"===t&&g)){if(o.getViewOfSeriesModel(v).group.traverse(function(D){D.__highByOuter&&g&&"self"===t||ub(D)}),$r(t))u(v.getData(),t);else if(Ue(t))for(var S=pt(t),x=0;x<S.length;x++)u(v.getData(S[x]),t[S[x]]);d.push(v),XD(v).isBlured=!0}}),s.eachComponent(function(v,g){if("series"!==v){var m=o.getViewOfComponentModel(g);m&&m.toggleBlurSeries&&m.toggleBlurSeries(d,!0,s)}})}}function iT(r,t,e){if(null!=r&&null!=t){var o=e.getModel().getComponent(r,t);if(o){XD(o).isBlured=!0;var s=e.getViewOfComponentModel(o);!s||!s.focusBlurEnabled||s.group.traverse(function(u){ub(u)})}}}function aT(r,t,e,o){var s={focusSelf:!1,dispatchers:null};if(null==r||"series"===r||null==t||null==e)return s;var u=o.getModel().getComponent(r,t);if(!u)return s;var c=o.getViewOfComponentModel(u);if(!c||!c.findHighDownDispatchers)return s;for(var d,f=c.findHighDownDispatchers(e),v=0;v<f.length;v++)if("self"===et(f[v]).focus){d=!0;break}return{focusSelf:d,dispatchers:f}}function lT(r){H(r.getAllData(),function(e){var s=e.type;e.data.eachItemGraphicEl(function(u,c){r.isSelected(c,s)?hb(u):yf(u)})})}function RR(r){var t=[];return r.eachSeries(function(e){H(e.getAllData(),function(s){var c=s.type,f=e.getSelectedDataIndices();if(f.length>0){var d={dataIndex:f,seriesIndex:e.seriesIndex};null!=c&&(d.dataType=c),t.push(d)}})}),t}function du(r,t,e){Kr(r,!0),qo(r,Ic),uT(r,t,e)}function Jn(r,t,e,o){o?function _f(r){Kr(r,!1)}(r):du(r,t,e)}function uT(r,t,e){var o=et(r);null!=t?(o.focus=t,o.blurScope=e):o.focus&&(o.focus=null)}var kR=["emphasis","blur","select"],LG={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Si(r,t,e,o){e=e||"itemStyle";for(var s=0;s<kR.length;s++){var u=kR[s],c=t.getModel([u,e]);r.ensureState(u).style=o?o(c):c[LG[e]]()}}function Kr(r,t){var e=!1===t,o=r;r.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!e||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!e)}function Ao(r){return!(!r||!r.__highDownDispatcher)}function cT(r){var t=r.type;return t===Vp||t===Ys||t===Bp}function OR(r){var t=r.type;return t===vf||t===Fp}var NR=zt();function wf(r,t,e,o,s){var u;if(t&&t.ecModel){var c=t.ecModel.getUpdatePayload();u=c&&c.animation}var d="update"===r;if(t&&t.isAnimationEnabled()){var v=void 0,g=void 0,m=void 0;return o?(v=Qe(o.duration,200),g=Qe(o.easing,"cubicOut"),m=0):(v=t.getShallow(d?"animationDurationUpdate":"animationDuration"),g=t.getShallow(d?"animationEasingUpdate":"animationEasing"),m=t.getShallow(d?"animationDelayUpdate":"animationDelay")),u&&(null!=u.duration&&(v=u.duration),null!=u.easing&&(g=u.easing),null!=u.delay&&(m=u.delay)),Ne(m)&&(m=m(e,s)),Ne(v)&&(v=v(e)),{duration:v||0,delay:m,easing:g}}return null}function hT(r,t,e,o,s,u,c){var d,f=!1;Ne(s)?(c=u,u=s,s=null):Ue(s)&&(u=s.cb,c=s.during,f=s.isFrom,d=s.removeOpt,s=s.dataIndex);var v="leave"===r;v||t.stopAnimation("leave");var g=wf(r,o,s,v?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(t,s):null);if(g&&g.duration>0){var S={duration:g.duration,delay:g.delay||0,easing:g.easing,done:u,force:!!u||!!c,setToFinal:!v,scope:r,during:c};f?t.animateFrom(e,S):t.animateTo(e,S)}else t.stopAnimation(),!f&&t.attr(e),c&&c(1),u&&u()}function Yt(r,t,e,o,s,u){hT("update",r,t,e,o,s,u)}function On(r,t,e,o,s,u){hT("enter",r,t,e,o,s,u)}function Gp(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++)if("leave"===r.animators[t].scope)return!0;return!1}function es(r,t,e,o,s,u){Gp(r)||hT("leave",r,t,e,o,s,u)}function Ks(r,t,e,o){r.removeTextContent(),r.removeTextGuideLine(),es(r,{style:{opacity:0}},t,e,o)}function pu(r,t,e){function o(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(s){s.isGroup||Ks(s,t,e,o)}):Ks(r,t,e,o)}function wa(r){NR(r).oldStyle=r.style}var Jm={};function NG(r,t){for(var e=0;e<hi.length;e++){var o=hi[e],s=t[o],u=r.ensureState(o);u.style=u.style||{},u.style.text=s}var c=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(c,!0)}function VR(r,t,e){var f,o=r.labelFetcher,s=r.labelDataIndex,u=r.labelDimIndex,c=t.normal;o&&(f=o.getFormattedLabel(s,"normal",null,u,c&&c.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==f&&(f=Ne(r.defaultText)?r.defaultText(s,r,e):r.defaultText);for(var d={normal:f},v=0;v<hi.length;v++){var g=hi[v],m=t[g];d[g]=Qe(o?o.getFormattedLabel(s,g,null,u,m&&m.get("formatter")):null,f)}return d}function Li(r,t,e,o){e=e||Jm;for(var s=r instanceof Nt,u=!1,c=0;c<pf.length;c++)if((f=t[pf[c]])&&f.getShallow("show")){u=!0;break}var d=s?r:r.getTextContent();if(u){s||(d||(d=new Nt,r.setTextContent(d)),r.stateProxy&&(d.stateProxy=r.stateProxy));var v=VR(e,t),g=t.normal,m=!!g.getShallow("show"),_=gn(g,o&&o.normal,e,!1,!s);for(_.text=v.normal,s||r.setTextConfig(fT(g,e,!1)),c=0;c<hi.length;c++){var f,w=hi[c];if(f=t[w]){var S=d.ensureState(w),x=!!Qe(f.getShallow("show"),m);x!==m&&(S.ignore=!x),S.style=gn(f,o&&o[w],e,!0,!s),S.style.text=v[w],s||(r.ensureState(w).textConfig=fT(f,e,!0))}}d.silent=!!g.getShallow("silent"),null!=d.style.x&&(_.x=d.style.x),null!=d.style.y&&(_.y=d.style.y),d.ignore=!m,d.useStyle(_),d.dirty(),e.enableTextSetter&&(vu(d).setLabelText=function(T){var A=VR(e,t,T);NG(d,A)})}else d&&(d.ignore=!0);r.dirty()}function Mr(r,t){for(var e={normal:r.getModel(t=t||"label")},o=0;o<hi.length;o++){var s=hi[o];e[s]=r.getModel([s,t])}return e}function gn(r,t,e,o,s){var u={};return function rY(r,t,e,o,s){e=e||Jm;var d,u=t.ecModel,c=u&&u.option.textStyle,f=function BR(r){for(var t;r&&r!==r.ecModel;){var e=(r.option||Jm).rich;if(e){t=t||{};for(var o=pt(e),s=0;s<o.length;s++)t[o[s]]=1}r=r.parentModel}return t}(t);if(f)for(var v in d={},f)if(f.hasOwnProperty(v)){var g=t.getModel(["rich",v]);UR(d[v]={},g,c,e,o,s,!1,!0)}d&&(r.rich=d);var m=t.get("overflow");m&&(r.overflow=m);var _=t.get("minMargin");null!=_&&(r.margin=_),UR(r,t,c,e,o,s,!0,!1)}(u,r,e,o,s),t&&ce(u,t),u}function fT(r,t,e){t=t||{};var s,o={},u=r.getShallow("rotate"),c=Qe(r.getShallow("distance"),e?null:5),f=r.getShallow("offset");return"outside"===(s=r.getShallow("position")||(e?null:"inside"))&&(s=t.defaultOutsidePosition||"top"),null!=s&&(o.position=s),null!=f&&(o.offset=f),null!=u&&(u*=Math.PI/180,o.rotation=u),null!=c&&(o.distance=c),o.outsideFill="inherit"===r.get("color")?t.inheritColor||null:"auto",o}var zR=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],HR=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],GR=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function UR(r,t,e,o,s,u,c,f){e=!s&&e||Jm;var d=o&&o.inheritColor,v=t.getShallow("color"),g=t.getShallow("textBorderColor"),m=Qe(t.getShallow("opacity"),e.opacity);("inherit"===v||"auto"===v)&&(v=d||null),("inherit"===g||"auto"===g)&&(g=d||null),u||(v=v||e.color,g=g||e.textBorderColor),null!=v&&(r.fill=v),null!=g&&(r.stroke=g);var _=Qe(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=_&&(r.lineWidth=_);var w=Qe(t.getShallow("textBorderType"),e.textBorderType);null!=w&&(r.lineDash=w);var S=Qe(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=S&&(r.lineDashOffset=S),!s&&null==m&&!f&&(m=o&&o.defaultOpacity),null!=m&&(r.opacity=m),!s&&!u&&null==r.fill&&o.inheritColor&&(r.fill=o.inheritColor);for(var x=0;x<zR.length;x++)null!=(T=Qe(t.getShallow(D=zR[x]),e[D]))&&(r[D]=T);for(x=0;x<HR.length;x++)null!=(T=t.getShallow(D=HR[x]))&&(r[D]=T);if(null==r.verticalAlign){var A=t.getShallow("baseline");null!=A&&(r.verticalAlign=A)}if(!c||!o.disableBox){for(x=0;x<GR.length;x++){var D,T;null!=(T=t.getShallow(D=GR[x]))&&(r[D]=T)}var E=t.getShallow("borderType");null!=E&&(r.borderDash=E),("auto"===r.backgroundColor||"inherit"===r.backgroundColor)&&d&&(r.backgroundColor=d),("auto"===r.borderColor||"inherit"===r.borderColor)&&d&&(r.borderColor=d)}}function dT(r,t){var e=t&&t.getModel("textStyle");return Ii([r.fontStyle||e&&e.getShallow("fontStyle")||"",r.fontWeight||e&&e.getShallow("fontWeight")||"",(r.fontSize||e&&e.getShallow("fontSize")||12)+"px",r.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var vu=zt();function pT(r,t,e,o){if(r){var s=vu(r);s.prevValue=s.value,s.value=e;var u=t.normal;s.valueAnimation=u.get("valueAnimation"),s.valueAnimation&&(s.precision=u.get("precision"),s.defaultInterpolatedText=o,s.statesModels=t)}}function db(r,t,e,o,s){var u=vu(r);if(u.valueAnimation&&u.prevValue!==u.value){var c=u.defaultInterpolatedText,f=Qe(u.interpolatedValue,u.prevValue),d=u.value;r.percent=0,(null==u.prevValue?On:Yt)(r,{percent:1},o,t,null,function v(g){var m=qL(e,u.precision,f,d,g);u.interpolatedValue=1===g?null:m;var _=VR({labelDataIndex:t,labelFetcher:s,defaultText:c?c(m):m+""},u.statesModels,m);NG(r,_)})}}var FG=["textStyle","color"],Xi=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],ey=new Nt,VG=function(){function r(){}return r.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(FG):null)},r.prototype.getFont=function(){return dT({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<Xi.length;o++)e[Xi[o]]=this.getShallow(Xi[o]);return ey.useStyle(e),ey.update(),ey.getBoundingRect()},r}();const vT=VG;var gT=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],BG=xc(gT),zG=function(){function r(){}return r.prototype.getLineStyle=function(t){return BG(this,t)},r}(),jR=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],HG=xc(jR),WR=function(){function r(){}return r.prototype.getItemStyle=function(t,e){return HG(this,t,e)},r}(),Up=function(){function r(t,e,o){this.parentModel=e,this.ecModel=o,this.option=t}return r.prototype.init=function(t,e,o){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u]},r.prototype.mergeOption=function(t,e){tt(this.option,t,!0)},r.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},r.prototype.getShallow=function(t,e){var o=this.option,s=null==o?o:o[t];if(null==s&&!e){var u=this.parentModel;u&&(s=u.getShallow(t))}return s},r.prototype.getModel=function(t,e){var o=null!=t,s=o?this.parsePath(t):null;return new r(o?this._doGet(s):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(s)),this.ecModel)},r.prototype.isEmpty=function(){return null==this.option},r.prototype.restoreData=function(){},r.prototype.clone=function(){return new(0,this.constructor)(Ge(this.option))},r.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!Pt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,e){var o=this.option;if(!t)return o;for(var s=0;s<t.length&&(!t[s]||null!=(o=o&&"object"==typeof o?o[t[s]]:null));s++);return null==o&&e&&(o=e._doGet(this.resolveParentPath(t),e.parentModel)),o},r}();Yr(Up),function Xw(r){var t=["__\0is_clz",XL++].join("_");r.prototype[t]=!0,r.isInstance=function(e){return!(!e||!e[t])}}(Up),Zn(Up,zG),Zn(Up,WR),Zn(Up,JZ),Zn(Up,vT);const Sn=Up;var ty=Math.round(10*Math.random());function ke(r){return[r||"",ty++].join("_")}function gu(r,t){return tt(tt({},r,!0),t,!0)}var jp="EN",bf={},qR={},mb=Pt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":jp;function yT(r,t){r=r.toUpperCase(),qR[r]=new Sn(t),bf[r]=t}function yb(r){return qR[r]}yT("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),yT("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Sf=36e5,Ki=24*Sf,YR=365*Ki,Cf={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},xf="{yyyy}-{MM}-{dd}",Eo={year:"{yyyy}",month:"{yyyy}-{MM}",day:xf,hour:xf+" "+Cf.hour,minute:xf+" "+Cf.minute,second:xf+" "+Cf.second,millisecond:Cf.none},Wp=["year","month","day","hour","minute","second","millisecond"],_b=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Qi(r,t){return"0000".substr(0,t-(r+="").length)+r}function $p(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function XR(r){return r===$p(r)}function ry(r,t,e,o){var s=jo(r),u=s[Zp(e)](),c=s[Yp(e)]()+1,f=Math.floor((c-1)/3)+1,d=s[iy(e)](),v=s["get"+(e?"UTC":"")+"Day"](),g=s[Zo(e)](),m=(g-1)%12+1,_=s[bT(e)](),w=s[oy(e)](),S=s[ay(e)](),D=(o instanceof Sn?o:yb(o||mb)||function ZR(){return qR[jp]}()).getModel("time"),T=D.get("month"),A=D.get("monthAbbr"),E=D.get("dayOfWeek"),P=D.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,Qi(u%100+"",2)).replace(/{Q}/g,f+"").replace(/{MMMM}/g,T[c-1]).replace(/{MMM}/g,A[c-1]).replace(/{MM}/g,Qi(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,Qi(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,E[v]).replace(/{ee}/g,P[v]).replace(/{e}/g,v+"").replace(/{HH}/g,Qi(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,Qi(m+"",2)).replace(/{h}/g,m+"").replace(/{mm}/g,Qi(_,2)).replace(/{m}/g,_+"").replace(/{ss}/g,Qi(w,2)).replace(/{s}/g,w+"").replace(/{SSS}/g,Qi(S,3)).replace(/{S}/g,S+"")}function KR(r,t){var e=jo(r),o=e[Yp(t)]()+1,s=e[iy(t)](),u=e[Zo(t)](),c=e[bT(t)](),f=e[oy(t)](),v=0===e[ay(t)](),g=v&&0===f,m=g&&0===c,_=m&&0===u,w=_&&1===s;return w&&1===o?"year":w?"month":_?"day":m?"hour":g?"minute":v?"second":"millisecond"}function wb(r,t,e){var o=kt(r)?jo(r):r;switch(t=t||KR(r,e)){case"year":return o[Zp(e)]();case"half-year":return o[Yp(e)]()>=6?1:0;case"quarter":return Math.floor((o[Yp(e)]()+1)/4);case"month":return o[Yp(e)]();case"day":return o[iy(e)]();case"half-day":return o[Zo(e)]()/24;case"hour":return o[Zo(e)]();case"minute":return o[bT(e)]();case"second":return o[oy(e)]();case"millisecond":return o[ay(e)]()}}function Zp(r){return r?"getUTCFullYear":"getFullYear"}function Yp(r){return r?"getUTCMonth":"getMonth"}function iy(r){return r?"getUTCDate":"getDate"}function Zo(r){return r?"getUTCHours":"getHours"}function bT(r){return r?"getUTCMinutes":"getMinutes"}function oy(r){return r?"getUTCSeconds":"getSeconds"}function ay(r){return r?"getUTCMilliseconds":"getMilliseconds"}function UG(r){return r?"setUTCFullYear":"setFullYear"}function jG(r){return r?"setUTCMonth":"setMonth"}function WG(r){return r?"setUTCDate":"setDate"}function sy(r){return r?"setUTCHours":"setHours"}function QR(r){return r?"setUTCMinutes":"setMinutes"}function bb(r){return r?"setUTCSeconds":"setSeconds"}function Sb(r){return r?"setUTCMilliseconds":"setMilliseconds"}function Pc(r){if(!bp(r))return xe(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function ly(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(e,o){return o.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var yu=Fl;function Df(r,t,e){function s(g){return g&&Ii(g)?g:"-"}function u(g){return!(null==g||isNaN(g)||!isFinite(g))}var c="time"===t,f=r instanceof Date;if(c||f){var d=c?jo(r):r;if(!isNaN(+d))return ry(d,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(f)return"-"}if("ordinal"===t)return kr(r)?s(r):kt(r)&&u(r)?r+"":"-";var v=Ws(r);return u(v)?Pc(v):kr(r)?s(r):"boolean"==typeof r?r+"":"-"}var uy=["a","b","c","d","e","f","g"],Lc=function(r,t){return"{"+r+(t??"")+"}"};function cy(r,t,e){ge(t)||(t=[t]);var o=t.length;if(!o)return"";for(var s=t[0].$vars||[],u=0;u<s.length;u++){var c=uy[u];r=r.replace(Lc(c),Lc(c,0))}for(var f=0;f<o;f++)for(var d=0;d<s.length;d++){var v=t[f][s[d]];r=r.replace(Lc(uy[d],f),e?Nr(v):v)}return r}function hy(r,t){var e=xe(r)?{color:r,extraCssText:t}:r||{},o=e.color,s=e.type;t=e.extraCssText;var u=e.renderMode||"html";return o?"html"===u?"subItem"===s?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Nr(o)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Nr(o)+";"+(t||"")+'"></span>':{renderMode:u,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===s?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}:""}function iY(r,t,e){("week"===r||"month"===r||"quarter"===r||"half-year"===r||"year"===r)&&(r="MM-dd\nyyyy");var o=jo(t),s=e?"getUTC":"get",u=o[s+"FullYear"](),c=o[s+"Month"]()+1,f=o[s+"Date"](),d=o[s+"Hours"](),v=o[s+"Minutes"](),g=o[s+"Seconds"](),m=o[s+"Milliseconds"]();return r.replace("MM",Qi(c,2)).replace("M",c).replace("yyyy",u).replace("yy",Qi(u%100+"",2)).replace("dd",Qi(f,2)).replace("d",f).replace("hh",Qi(d,2)).replace("h",d).replace("mm",Qi(v,2)).replace("m",v).replace("ss",Qi(g,2)).replace("s",g).replace("SSS",Qi(m,3))}function CT(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function ts(r,t){return t=t||"transparent",xe(r)?r:Ue(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}function Cb(r,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=r}else window.open(r,t)}var fy=H,JR=["left","right","top","bottom","width","height"],Tf=[["width","left","right"],["height","top","bottom"]];function dy(r,t,e,o,s){var u=0,c=0;null==o&&(o=1/0),null==s&&(s=1/0);var f=0;t.eachChild(function(d,v){var w,S,g=d.getBoundingRect(),m=t.childAt(v+1),_=m&&m.getBoundingRect();if("horizontal"===r){var x=g.width+(_?-_.x+g.x:0);(w=u+x)>o||d.newline?(u=0,w=x,c+=f+e,f=g.height):f=Math.max(f,g.height)}else{var D=g.height+(_?-_.y+g.y:0);(S=c+D)>s||d.newline?(u+=f+e,c=0,S=D,f=g.width):f=Math.max(f,g.width)}d.newline||(d.x=u,d.y=c,d.markRedraw(),"horizontal"===r?u=w+e:c=S+e)})}var Rc=dy;function Ar(r,t,e){e=yu(e||0);var o=t.width,s=t.height,u=Ce(r.left,o),c=Ce(r.top,s),f=Ce(r.right,o),d=Ce(r.bottom,s),v=Ce(r.width,o),g=Ce(r.height,s),m=e[2]+e[0],_=e[1]+e[3],w=r.aspect;switch(isNaN(v)&&(v=o-f-_-u),isNaN(g)&&(g=s-d-m-c),null!=w&&(isNaN(v)&&isNaN(g)&&(w>o/s?v=.8*o:g=.8*s),isNaN(v)&&(v=w*g),isNaN(g)&&(g=v/w)),isNaN(u)&&(u=o-f-v-_),isNaN(c)&&(c=s-d-g-m),r.left||r.right){case"center":u=o/2-v/2-e[3];break;case"right":u=o-v-_}switch(r.top||r.bottom){case"middle":case"center":c=s/2-g/2-e[0];break;case"bottom":c=s-g-m}u=u||0,c=c||0,isNaN(v)&&(v=o-_-u-(f||0)),isNaN(g)&&(g=s-m-c-(d||0));var S=new Xe(u+e[3],c+e[0],v,g);return S.margin=e,S}function Mf(r,t,e,o,s,u){var v,c=!s||!s.hv||s.hv[0],f=!s||!s.hv||s.hv[1],d=s&&s.boundingMode||"all";if((u=u||r).x=r.x,u.y=r.y,!c&&!f)return!1;if("raw"===d)v="group"===r.type?new Xe(0,0,+t.width||0,+t.height||0):r.getBoundingRect();else if(v=r.getBoundingRect(),r.needLocalTransform()){var g=r.getLocalTransform();(v=v.clone()).applyTransform(g)}var m=Ar(Ve({width:v.width,height:v.height},t),e,o),_=c?m.x-v.x:0,w=f?m.y-v.y:0;return"raw"===d?(u.x=_,u.y=w):(u.x+=_,u.y+=w),u===r&&r.markRedraw(),!0}function py(r){var t=r.layoutMode||r.constructor.layoutMode;return Ue(t)?t:t?{type:t}:null}function _u(r,t,e){var o=e&&e.ignoreSize;!ge(o)&&(o=[o,o]);var s=c(Tf[0],0),u=c(Tf[1],1);function c(g,m){var _={},w=0,S={},x=0;if(fy(g,function(E){S[E]=r[E]}),fy(g,function(E){f(t,E)&&(_[E]=S[E]=t[E]),d(_,E)&&w++,d(S,E)&&x++}),o[m])return d(t,g[1])?S[g[2]]=null:d(t,g[2])&&(S[g[1]]=null),S;if(2===x||!w)return S;if(w>=2)return _;for(var T=0;T<g.length;T++){var A=g[T];if(!f(_,A)&&f(r,A)){_[A]=r[A];break}}return _}function f(g,m){return g.hasOwnProperty(m)}function d(g,m){return null!=g[m]&&"auto"!==g[m]}function v(g,m,_){fy(g,function(w){m[w]=_[w]})}v(Tf[0],r,s),v(Tf[1],r,u)}function kc(r){return vy({},r)}function vy(r,t){return t&&r&&fy(JR,function(e){t.hasOwnProperty(e)&&(r[e]=t[e])}),r}Je(dy,"vertical"),Je(dy,"horizontal");var $G=zt(),Af=function(r){function t(e,o,s){var u=r.call(this,e,o,s)||this;return u.uid=ke("ec_cpt_model"),u}return ae(t,r),t.prototype.init=function(e,o,s){this.mergeDefaultAndTheme(e,s)},t.prototype.mergeDefaultAndTheme=function(e,o){var s=py(this),u=s?kc(e):{};tt(e,o.getTheme().get(this.mainType)),tt(e,this.getDefaultOption()),s&&_u(e,u,s)},t.prototype.mergeOption=function(e,o){tt(this.option,e,!0);var s=py(this);s&&_u(this.option,e,s)},t.prototype.optionUpdated=function(e,o){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function fG(r){return!(!r||!r[xp])}(e))return e.defaultOption;var o=$G(this);if(!o.defaultOption){for(var s=[],u=e;u;){var c=u.prototype.defaultOption;c&&s.push(c),u=u.superClass}for(var f={},d=s.length-1;d>=0;d--)f=tt(f,s[d],!0);o.defaultOption=f}return o.defaultOption},t.prototype.getReferringComponents=function(e,o){var u=e+"Id";return Cp(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(u,!0)},o)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Sn);YL(Af,Sn),su(Af),function ny(r){var t={};r.registerSubTypeDefaulter=function(e,o){var s=qs(e);t[s.main]=o},r.determineSubType=function(e,o){var s=o.type;if(!s){var u=qs(e).main;r.hasSubTypes(e)&&t[u]&&(s=t[u](o))}return s}}(Af),function $R(r,t){function o(u,c){return u[c]||(u[c]={predecessor:[],successor:[]}),u[c]}r.topologicalTravel=function(u,c,f,d){if(u.length){var v=function e(u){var c={},f=[];return H(u,function(d){var v=o(c,d),m=function s(u,c){var f=[];return H(u,function(d){ot(c,d)>=0&&f.push(d)}),f}(v.originalDeps=t(d),u);v.entryCount=m.length,0===v.entryCount&&f.push(d),H(m,function(_){ot(v.predecessor,_)<0&&v.predecessor.push(_);var w=o(c,_);ot(w.successor,_)<0&&w.successor.push(d)})}),{graph:c,noEntryList:f}}(c),g=v.graph,m=v.noEntryList,_={};for(H(u,function(A){_[A]=!0});m.length;){var w=m.pop(),S=g[w],x=!!_[w];x&&(f.call(d,w,S.originalDeps.slice()),delete _[w]),H(S.successor,x?T:D)}H(_,function(){throw new Error("")})}function D(A){g[A].entryCount--,0===g[A].entryCount&&m.push(A)}function T(A){_[A]=!0,D(A)}}}(Af,function qG(r){var t=[];return H(Af.getClassesByMainType(r),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=me(t,function(e){return qs(e).main}),"dataset"!==r&&ot(t,"dataset")<=0&&t.unshift("dataset"),t});const Lt=Af;var ZG="";typeof navigator<"u"&&(ZG=navigator.platform||"");var Xp="rgba(0, 0, 0, 0.2)";const Kp={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Xp,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Xp,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Xp,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Xp,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Xp,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Xp,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ZG.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var ek=Re(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Ci="original",dn="arrayRows",ba="objectRows",Ri="keyedColumns",Qr="typedArray",tk="unknown",Qs="column",Js="row",fi={Must:1,Might:2,Not:3},xb=zt();function Db(r,t,e){var o={},s=DT(t);if(!s||!r)return o;var g,m,u=[],c=[],d=xb(t.ecModel).datasetMap,v=s.uid+"_"+e.seriesLayoutBy;H(r=r.slice(),function(x,D){var T=Ue(x)?x:r[D]={name:x};"ordinal"===T.type&&null==g&&(g=D,m=S(T)),o[T.name]=[]});var _=d.get(v)||d.set(v,{categoryWayDim:m,valueWayDim:0});function w(x,D,T){for(var A=0;A<T;A++)x.push(D+A)}function S(x){var D=x.dimsDef;return D?D.length:1}return H(r,function(x,D){var T=x.name,A=S(x);if(null==g)w(o[T],E=_.valueWayDim,A),w(c,E,A),_.valueWayDim+=A;else if(g===D)w(o[T],0,A),w(u,0,A);else{var E;w(o[T],E=_.categoryWayDim,A),w(c,E,A),_.categoryWayDim+=A}}),u.length&&(o.itemName=u),c.length&&(o.seriesName=c),o}function Tb(r,t,e){var o={};if(!DT(r))return o;var f,u=t.sourceFormat,c=t.dimensionsDefine;(u===ba||u===Ri)&&H(c,function(g,m){"name"===(Ue(g)?g.name:g)&&(f=m)});var d=function(){for(var g={},m={},_=[],w=0,S=Math.min(5,e);w<S;w++){var x=nk(t.data,u,t.seriesLayoutBy,c,t.startIndex,w);_.push(x);var D=x===fi.Not;if(D&&null==g.v&&w!==f&&(g.v=w),(null==g.n||g.n===g.v||!D&&_[g.n]===fi.Not)&&(g.n=w),T(g)&&_[g.n]!==fi.Not)return g;D||(x===fi.Might&&null==m.v&&w!==f&&(m.v=w),(null==m.n||m.n===m.v)&&(m.n=w))}function T(A){return null!=A.v&&null!=A.n}return T(g)?g:T(m)?m:null}();if(d){o.value=[d.v];var v=f??d.n;o.itemName=[v],o.seriesName=[v]}return o}function DT(r){if(!r.get("data",!0))return Cp(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},gr).models[0]}function TT(r,t){return nk(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function nk(r,t,e,o,s,u){var c,d,v;if(Ut(r))return fi.Not;if(o){var g=o[u];Ue(g)?(d=g.name,v=g.type):xe(g)&&(d=g)}if(null!=v)return"ordinal"===v?fi.Must:fi.Not;if(t===dn){var m=r;if(e===Js){for(var _=m[u],w=0;w<(_||[]).length&&w<5;w++)if(null!=(c=P(_[s+w])))return c}else for(w=0;w<m.length&&w<5;w++){var S=m[s+w];if(S&&null!=(c=P(S[u])))return c}}else if(t===ba){var x=r;if(!d)return fi.Not;for(w=0;w<x.length&&w<5;w++)if((D=x[w])&&null!=(c=P(D[d])))return c}else if(t===Ri){if(!d)return fi.Not;if(!(_=r[d])||Ut(_))return fi.Not;for(w=0;w<_.length&&w<5;w++)if(null!=(c=P(_[w])))return c}else if(t===Ci){var A=r;for(w=0;w<A.length&&w<5;w++){var D,E=Um(D=A[w]);if(!ge(E))return fi.Not;if(null!=(c=P(E[u])))return c}}function P(N){var k=xe(N);return null!=N&&isFinite(N)&&""!==N?k?fi.Might:fi.Not:k&&"-"!==N?fi.Must:void 0}return fi.Not}var Mb=Re(),QG=zt(),rk=zt(),Ab=function(){function r(){}return r.prototype.getColorFromPalette=function(t,e,o){var s=nn(this.get("color",!0)),u=this.get("colorLayer",!0);return JG(this,QG,s,u,t,e,o)},r.prototype.clearColorPalette=function(){!function MT(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}(this,QG)},r}();function mr(r,t,e,o){var s=nn(r.get(["aria","decal","decals"]));return JG(r,rk,s,null,t,e,o)}function JG(r,t,e,o,s,u,c){var f=t(u=u||r),d=f.paletteIdx||0,v=f.paletteNameMap=f.paletteNameMap||{};if(v.hasOwnProperty(s))return v[s];var g=null!=c&&o?function ik(r,t){for(var e=r.length,o=0;o<e;o++)if(r[o].length>t)return r[o];return r[e-1]}(o,c):e;if((g=g||e)&&g.length){var m=g[d];return s&&(v[s]=m),f.paletteIdx=(d+1)%g.length,m}}var Sa,Ef,ok,eU="\0_ec_inner",nU=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.init=function(e,o,s,u,c,f){u=u||{},this.option=null,this._theme=new Sn(u),this._locale=new Sn(c),this._optionManager=f},t.prototype.setOption=function(e,o,s){var u=sk(o);this._optionManager.setOption(e,s,u),this._resetOption(null,u)},t.prototype.resetOption=function(e,o){return this._resetOption(e,sk(o))},t.prototype._resetOption=function(e,o){var s=!1,u=this._optionManager;if(!e||"recreate"===e){var c=u.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(c,o)):ok(this,c),s=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var f=u.getTimelineOption(this);f&&(s=!0,this._mergeOption(f,o))}if(!e||"recreate"===e||"media"===e){var d=u.getMediaOption(this);d.length&&H(d,function(v){s=!0,this._mergeOption(v,o)},this)}return s},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,o){var s=this.option,u=this._componentsMap,c=this._componentsCount,f=[],d=Re(),v=o&&o.replaceMergeMainTypeMap;(function lY(r){xb(r).datasetMap=Re()})(this),H(e,function(m,_){null!=m&&(Lt.hasClass(_)?_&&(f.push(_),d.set(_,!0)):s[_]=null==s[_]?Ge(m):tt(s[_],m,!0))}),v&&v.each(function(m,_){Lt.hasClass(_)&&!d.get(_)&&(f.push(_),d.set(_,!0))}),Lt.topologicalTravel(f,Lt.getAllClassMainTypes(),function g(m){var _=function KG(r,t,e){var o=Mb.get(t);if(!o)return e;var s=o(r);return s?e.concat(s):e}(this,m,nn(e[m])),w=u.get(m),x=aG(w,_,w?v&&v.get(m)?"replaceMerge":"normalMerge":"replaceAll");(function $s(r,t,e){H(r,function(o){var s=o.newOption;Ue(s)&&(o.keyInfo.mainType=t,o.keyInfo.subType=function cG(r,t,e,o){return t.type?t.type:e?e.subType:o.determineSubType(r,t)}(t,s,o.existing,e))})})(x,m,Lt),s[m]=null,u.set(m,null),c.set(m,0);var E,D=[],T=[],A=0;H(x,function(N,k){var F=N.existing,B=N.newOption;if(B){var j=Lt.getClass(m,N.keyInfo.subType,!("series"===m));if(!j)return;if("tooltip"===m){if(E)return;E=!0}if(F&&F.constructor===j)F.name=N.keyInfo.name,F.mergeOption(B,this),F.optionUpdated(B,!1);else{var Y=ce({componentIndex:k},N.keyInfo);ce(F=new j(B,this,this,Y),Y),N.brandNew&&(F.__requireNewView=!0),F.init(B,this,this),F.optionUpdated(null,!0)}}else F&&(F.mergeOption({},this),F.optionUpdated({},!1));F?(D.push(F.option),T.push(F),A++):(D.push(void 0),T.push(void 0))},this),s[m]=D,u.set(m,T),c.set(m,A),"series"===m&&Sa(this)},this),this._seriesIndices||Sa(this)},t.prototype.getOption=function(){var e=Ge(this.option);return H(e,function(o,s){if(Lt.hasClass(s)){for(var u=nn(o),c=u.length,f=!1,d=c-1;d>=0;d--)u[d]&&!Sp(u[d])?f=!0:(u[d]=null,!f&&c--);u.length=c,e[s]=u}}),delete e[eU],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,o){var s=this._componentsMap.get(e);if(s){var u=s[o||0];if(u)return u;if(null==o)for(var c=0;c<s.length;c++)if(s[c])return s[c]}},t.prototype.queryComponents=function(e){var o=e.mainType;if(!o)return[];var d,s=e.index,u=e.id,c=e.name,f=this._componentsMap.get(o);return f&&f.length?(null!=s?(d=[],H(nn(s),function(v){f[v]&&d.push(f[v])})):d=null!=u?Eb("id",u,f):null!=c?Eb("name",c,f):Wt(f,function(v){return!!v}),ak(d,e)):[]},t.prototype.findComponents=function(e){var s=e.mainType,u=function f(v){var g=s+"Index",m=s+"Id",_=s+"Name";return!v||null==v[g]&&null==v[m]&&null==v[_]?null:{mainType:s,index:v[g],id:v[m],name:v[_]}}(e.query);return function d(v){return e.filter?Wt(v,e.filter):v}(ak(u?this.queryComponents(u):Wt(this._componentsMap.get(s),function(v){return!!v}),e))},t.prototype.eachComponent=function(e,o,s){var u=this._componentsMap;if(Ne(e)){var c=o,f=e;u.each(function(m,_){for(var w=0;m&&w<m.length;w++){var S=m[w];S&&f.call(c,_,S,S.componentIndex)}})}else for(var d=xe(e)?u.get(e):Ue(e)?this.findComponents(e):null,v=0;d&&v<d.length;v++){var g=d[v];g&&o.call(s,g,g.componentIndex)}},t.prototype.getSeriesByName=function(e){var o=vr(e,null);return Wt(this._componentsMap.get("series"),function(s){return!!s&&null!=o&&s.name===o})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Wt(this._componentsMap.get("series"),function(o){return!!o&&o.subType===e})},t.prototype.getSeries=function(){return Wt(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,o){Ef(this),H(this._seriesIndices,function(s){var u=this._componentsMap.get("series")[s];e.call(o,u,s)},this)},t.prototype.eachRawSeries=function(e,o){H(this._componentsMap.get("series"),function(s){s&&e.call(o,s,s.componentIndex)})},t.prototype.eachSeriesByType=function(e,o,s){Ef(this),H(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];c.subType===e&&o.call(s,c,u)},this)},t.prototype.eachRawSeriesByType=function(e,o,s){return H(this.getSeriesByType(e),o,s)},t.prototype.isSeriesFiltered=function(e){return Ef(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,o){Ef(this);var s=[];H(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];e.call(o,c,u)&&s.push(u)},this),this._seriesIndices=s,this._seriesIndicesMap=Re(s)},t.prototype.restoreData=function(e){Sa(this);var o=this._componentsMap,s=[];o.each(function(u,c){Lt.hasClass(c)&&s.push(c)}),Lt.topologicalTravel(s,Lt.getAllClassMainTypes(),function(u){H(o.get(u),function(c){c&&("series"!==u||!function pn(r,t){if(t){var e=t.seriesIndex,o=t.seriesId,s=t.seriesName;return null!=e&&r.componentIndex!==e||null!=o&&r.id!==o||null!=s&&r.name!==s}}(c,e))&&c.restoreData()})})},t.internalField=(Sa=function(e){var o=e._seriesIndices=[];H(e._componentsMap.get("series"),function(s){s&&o.push(s.componentIndex)}),e._seriesIndicesMap=Re(o)},Ef=function(e){},void(ok=function(e,o){e.option={},e.option[eU]=1,e._componentsMap=Re({series:[]}),e._componentsCount=Re();var s=o.aria;Ue(s)&&null==s.enabled&&(s.enabled=!0),function rU(r,t){var e=r.color&&!r.colorLayer;H(t,function(o,s){"colorLayer"===s&&e||Lt.hasClass(s)||("object"==typeof o?r[s]=r[s]?tt(r[s],o,!1):Ge(o):null==r[s]&&(r[s]=o))})}(o,e._theme.option),tt(o,Kp,!1),e._mergeOption(o,null)})),t}(Sn);function Eb(r,t,e){if(ge(t)){var o=Re();return H(t,function(u){null!=u&&null!=vr(u,null)&&o.set(u,!0)}),Wt(e,function(u){return u&&o.get(u[r])})}var s=vr(t,null);return Wt(e,function(u){return u&&null!=s&&u[r]===s})}function ak(r,t){return t.hasOwnProperty("subType")?Wt(r,function(e){return e&&e.subType===t.subType}):r}function sk(r){var t=Re();return r&&H(nn(r.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Zn(nU,Ab);const Ib=nU;var lk=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const ck=function r(t){H(lk,function(e){this[e]=Me(t[e],t)},this)};var Pb={},hk=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(t,e){var o=[];H(Pb,function(s,u){var c=s.create(t,e);o=o.concat(c||[])}),this._coordinateSystems=o},r.prototype.update=function(t,e){H(this._coordinateSystems,function(o){o.update&&o.update(t,e)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(t,e){Pb[t]=e},r.get=function(t){return Pb[t]},r}();const Qp=hk;var IT=/^(min|max)?(.+)$/,iU=function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,e,o){t&&(H(nn(t.series),function(c){c&&c.data&&Ut(c.data)&&za(c.data)}),H(nn(t.dataset),function(c){c&&c.source&&Ut(c.source)&&za(c.source)})),t=Ge(t);var s=this._optionBackup,u=function fk(r,t,e){var s,u,o=[],c=r.baseOption,f=r.timeline,d=r.options,v=r.media,g=!!r.media,m=!!(d||f||c&&c.timeline);function _(w){H(t,function(S){S(w,e)})}return c?(u=c).timeline||(u.timeline=f):((m||g)&&(r.options=r.media=null),u=r),g&&ge(v)&&H(v,function(w){w&&w.option&&(w.query?o.push(w):s||(s=w))}),_(u),H(d,function(w){return _(w)}),H(o,function(w){return _(w.option)}),{baseOption:u,timelineOptions:d||[],mediaDefault:s,mediaList:o}}(t,e,!s);this._newBaseOption=u.baseOption,s?(u.timelineOptions.length&&(s.timelineOptions=u.timelineOptions),u.mediaList.length&&(s.mediaList=u.mediaList),u.mediaDefault&&(s.mediaDefault=u.mediaDefault)):this._optionBackup=u},r.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Ge(t?e.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var e,o=this._timelineOptions;if(o.length){var s=t.getComponent("timeline");s&&(e=Ge(o[s.getCurrentIndex()]))}return e},r.prototype.getMediaOption=function(t){var e=this._api.getWidth(),o=this._api.getHeight(),s=this._mediaList,u=this._mediaDefault,c=[],f=[];if(!s.length&&!u)return f;for(var d=0,v=s.length;d<v;d++)Jp(s[d].query,e,o)&&c.push(d);return!c.length&&u&&(c=[-1]),c.length&&!function ev(r,t){return r.join(",")===t.join(",")}(c,this._currentMediaIndices)&&(f=me(c,function(g){return Ge(-1===g?u.option:s[g].option)})),this._currentMediaIndices=c,f},r}();function Jp(r,t,e){var o={width:t,height:e,aspectratio:t/e},s=!0;return H(r,function(u,c){var f=c.match(IT);if(f&&f[1]&&f[2]){var d=f[1],v=f[2].toLowerCase();(function wu(r,t,e){return"min"===e?r>=t:"max"===e?r<=t:r===t})(o[v],u,d)||(s=!1)}}),s}const oU=iU;var ns=H,tv=Ue,PT=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function gy(r){var t=r&&r.itemStyle;if(t)for(var e=0,o=PT.length;e<o;e++){var s=PT[e],u=t.normal,c=t.emphasis;u&&u[s]&&(r[s]=r[s]||{},r[s].normal?tt(r[s].normal,u[s]):r[s].normal=u[s],u[s]=null),c&&c[s]&&(r[s]=r[s]||{},r[s].emphasis?tt(r[s].emphasis,c[s]):r[s].emphasis=c[s],c[s]=null)}}function Br(r,t,e){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var o=r[t].normal,s=r[t].emphasis;o&&(e?(r[t].normal=r[t].emphasis=null,Ve(r[t],o)):r[t]=o),s&&(r.emphasis=r.emphasis||{},r.emphasis[t]=s,s.focus&&(r.emphasis.focus=s.focus),s.blurScope&&(r.emphasis.blurScope=s.blurScope))}}function Oc(r){Br(r,"itemStyle"),Br(r,"lineStyle"),Br(r,"areaStyle"),Br(r,"label"),Br(r,"labelLine"),Br(r,"upperLabel"),Br(r,"edgeLabel")}function yr(r,t){var e=tv(r)&&r[t],o=tv(e)&&e.textStyle;if(o)for(var s=0,u=jL.length;s<u;s++){var c=jL[s];o.hasOwnProperty(c)&&(e[c]=o[c])}}function Yo(r){r&&(Oc(r),yr(r,"label"),r.emphasis&&yr(r.emphasis,"label"))}function bu(r){return ge(r)?r:r?[r]:[]}function dk(r){return(ge(r)?r[0]:r)||{}}function vk(r){r&&H(hY,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var hY=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],fY=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Lb=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function nv(r){var t=r&&r.itemStyle;if(t)for(var e=0;e<Lb.length;e++){var o=Lb[e][1];null!=t[o]&&(t[Lb[e][0]]=t[o])}}function lU(r){r&&"edge"===r.alignTo&&null!=r.margin&&null==r.edgeDistance&&(r.edgeDistance=r.margin)}function my(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function LT(r,t){if(r)for(var e=0;e<r.length;e++)t(r[e]),r[e]&&LT(r[e].children,t)}function RT(r,t){(function sU(r,t){ns(bu(r.series),function(o){tv(o)&&function aU(r){if(tv(r)){gy(r),Oc(r),yr(r,"label"),yr(r,"upperLabel"),yr(r,"edgeLabel"),r.emphasis&&(yr(r.emphasis,"label"),yr(r.emphasis,"upperLabel"),yr(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(gy(t),Yo(t));var e=r.markLine;e&&(gy(e),Yo(e));var o=r.markArea;o&&Yo(o);var s=r.data;if("graph"===r.type){s=s||r.nodes;var u=r.links||r.edges;if(u&&!Ut(u))for(var c=0;c<u.length;c++)Yo(u[c]);H(r.categories,function(v){Oc(v)})}if(s&&!Ut(s))for(c=0;c<s.length;c++)Yo(s[c]);if((t=r.markPoint)&&t.data){var f=t.data;for(c=0;c<f.length;c++)Yo(f[c])}if((e=r.markLine)&&e.data){var d=e.data;for(c=0;c<d.length;c++)ge(d[c])?(Yo(d[c][0]),Yo(d[c][1])):Yo(d[c])}"gauge"===r.type?(yr(r,"axisLabel"),yr(r,"title"),yr(r,"detail")):"treemap"===r.type?(Br(r.breadcrumb,"itemStyle"),H(r.levels,function(v){Oc(v)})):"tree"===r.type&&Oc(r.leaves)}}(o)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),ns(e,function(o){ns(bu(r[o]),function(s){s&&(yr(s,"axisLabel"),yr(s.axisPointer,"label"))})}),ns(bu(r.parallel),function(o){var s=o&&o.parallelAxisDefault;yr(s,"axisLabel"),yr(s&&s.axisPointer,"label")}),ns(bu(r.calendar),function(o){Br(o,"itemStyle"),yr(o,"dayLabel"),yr(o,"monthLabel"),yr(o,"yearLabel")}),ns(bu(r.radar),function(o){yr(o,"name"),o.name&&null==o.axisName&&(o.axisName=o.name,delete o.name),null!=o.nameGap&&null==o.axisNameGap&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),ns(bu(r.geo),function(o){tv(o)&&(Yo(o),ns(bu(o.regions),function(s){Yo(s)}))}),ns(bu(r.timeline),function(o){Yo(o),Br(o,"label"),Br(o,"itemStyle"),Br(o,"controlStyle",!0);var s=o.data;ge(s)&&H(s,function(u){Ue(u)&&(Br(u,"label"),Br(u,"itemStyle"))})}),ns(bu(r.toolbox),function(o){Br(o,"iconStyle"),ns(o.feature,function(s){Br(s,"iconStyle")})}),yr(dk(r.axisPointer),"label"),yr(dk(r.tooltip).axisPointer,"label")})(r,t),r.series=nn(r.series),H(r.series,function(e){if(Ue(e)){var o=e.type;if("line"===o)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===o||"gauge"===o){if(null!=e.clockWise&&(e.clockwise=e.clockWise),lU(e.label),(s=e.data)&&!Ut(s))for(var u=0;u<s.length;u++)lU(s[u]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===o){var c=function pk(r,t){for(var e=t.split(","),o=r,s=0;s<e.length&&null!=(o=o&&o[e[s]]);s++);return o}(e,"pointer.color");null!=c&&function cY(r,t,e,o){for(var c,s=t.split(","),u=r,f=0;f<s.length-1;f++)null==u[c=s[f]]&&(u[c]={}),u=u[c];(o||null==u[s[f]])&&(u[s[f]]=e)}(e,"itemStyle.color",c)}else if("bar"===o){var s;if(nv(e),nv(e.backgroundStyle),nv(e.emphasis),(s=e.data)&&!Ut(s))for(u=0;u<s.length;u++)"object"==typeof s[u]&&(nv(s[u]),nv(s[u]&&s[u].emphasis))}else if("sunburst"===o){var f=e.highlightPolicy;f&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=f)),my(e),LT(e.data,my)}else"graph"===o||"sankey"===o?function dY(r){r&&null!=r.focusNodeAdjacency&&(r.emphasis=r.emphasis||{},null==r.emphasis.focus&&(r.emphasis.focus="adjacency"))}(e):"map"===o&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ve(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),vk(e)}}),r.dataRange&&(r.visualMap=r.dataRange),H(fY,function(e){var o=r[e];o&&(ge(o)||(o=[o]),H(o,function(s){vk(s)}))})}function gk(r){H(r,function(t,e){var o=[],s=[NaN,NaN],u=[t.stackResultDimension,t.stackedOverDimension],c=t.data,f=t.isStackedByIndex,d=t.seriesModel.get("stackStrategy")||"samesign";c.modify(u,function(v,g,m){var w,S,_=c.get(t.stackedDimension,m);if(isNaN(_))return s;f?S=c.getRawIndex(m):w=c.get(t.stackedByDimension,m);for(var x=NaN,D=e-1;D>=0;D--){var T=r[D];if(f||(S=T.data.rawIndexOf(T.stackedByDimension,w)),S>=0){var A=T.data.getByRawIndex(T.stackResultDimension,S);if("all"===d||"positive"===d&&A>0||"negative"===d&&A<0||"samesign"===d&&_>=0&&A>0||"samesign"===d&&_<=0&&A<0){_=Zi(_,A),x=A;break}}}return o[0]=_,o[1]=x,o})})}var yy=function r(t){this.data=t.data||(t.sourceFormat===Ri?{}:[]),this.sourceFormat=t.sourceFormat||tk,this.seriesLayoutBy=t.seriesLayoutBy||Qs,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var o=0;o<e.length;o++){var s=e[o];null==s.type&&TT(this,o)===fi.Must&&(s.type="ordinal")}};function Et(r){return r instanceof yy}function ue(r,t,e){e=e||kT(r);var o=t.seriesLayoutBy,s=function cU(r,t,e,o,s){var u,c;if(!r)return{dimensionsDefine:If(s),startIndex:c,dimensionsDetectedCount:u};if(t===dn){var f=r;"auto"===o||null==o?Ob(function(v){null!=v&&"-"!==v&&(xe(v)?null==c&&(c=1):c=0)},e,f,10):c=kt(o)?o:o?1:0,!s&&1===c&&(s=[],Ob(function(v,g){s[g]=null!=v?v+"":""},e,f,1/0)),u=s?s.length:e===Js?f.length:f[0]?f[0].length:null}else if(t===ba)s||(s=function kb(r){for(var e,t=0;t<r.length&&!(e=r[t++]););if(e)return pt(e)}(r));else if(t===Ri)s||(s=[],H(r,function(v,g){s.push(g)}));else if(t===Ci){var d=Um(r[0]);u=ge(d)&&d.length||1}return{startIndex:c,dimensionsDefine:If(s),dimensionsDetectedCount:u}}(r,e,o,t.sourceHeader,t.dimensions);return new yy({data:r,sourceFormat:e,seriesLayoutBy:o,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:Ge(t)})}function Rb(r){return new yy({data:r,sourceFormat:Ut(r)?Qr:Ci})}function he(r){return new yy({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:Ge(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function kT(r){var t=tk;if(Ut(r))t=Qr;else if(ge(r)){0===r.length&&(t=dn);for(var e=0,o=r.length;e<o;e++){var s=r[e];if(null!=s){if(ge(s)){t=dn;break}if(Ue(s)){t=ba;break}}}}else if(Ue(r))for(var u in r)if(Ee(r,u)&&$r(r[u])){t=Ri;break}return t}function If(r){if(r){var t=Re();return me(r,function(e,o){var s={name:(e=Ue(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==s.name)return s;s.name+="",null==s.displayName&&(s.displayName=s.name);var u=t.get(s.name);return u?s.name+="-"+u.count++:t.set(s.name,{count:1}),s})}}function Ob(r,t,e,o){if(t===Js)for(var s=0;s<e.length&&s<o;s++)r(e[s]?e[s][0]:null,s);else{var u=e[0]||[];for(s=0;s<u.length&&s<o;s++)r(u[s],s)}}function rv(r){var t=r.sourceFormat;return t===ba||t===Ri}var Nc,Su,Cu,Nb,OT,Fb=function(){function r(t,e){var o=Et(t)?t:Rb(t);this._source=o;var s=this._data=o.data;o.sourceFormat===Qr&&(this._offset=0,this._dimSize=e,this._data=s),OT(this,s,o)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,e){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=function(){var t=r.prototype;t.pure=!1,t.persistent=!0}(),r.internalField=function(){var t;OT=function(c,f,d){var v=d.sourceFormat,g=d.seriesLayoutBy,m=d.startIndex,_=d.dimensionsDefine;if(ce(c,Nb[Vb(v,g)]),v===Qr)c.getItem=e,c.count=s,c.fillStorage=o;else{var S=yk(v,g);c.getItem=Me(S,null,f,m,_);var x=_k(v,g);c.count=Me(x,null,f,m,_)}};var e=function(c,f){f=f||[];for(var d=this._data,v=this._dimSize,g=v*(c-=this._offset),m=0;m<v;m++)f[m]=d[g+m];return f},o=function(c,f,d,v){for(var g=this._data,m=this._dimSize,_=0;_<m;_++){for(var w=v[_],S=null==w[0]?1/0:w[0],x=null==w[1]?-1/0:w[1],D=f-c,T=d[_],A=0;A<D;A++){var E=g[A*m+_];T[c+A]=E,E<S&&(S=E),E>x&&(x=E)}w[0]=S,w[1]=x}},s=function(){return this._data?this._data.length/this._dimSize:0};function u(c){for(var f=0;f<c.length;f++)this._data.push(c[f])}(t={})[dn+"_"+Qs]={pure:!0,appendData:u},t[dn+"_"+Js]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[ba]={pure:!0,appendData:u},t[Ri]={pure:!0,appendData:function(c){var f=this._data;H(c,function(d,v){for(var g=f[v]||(f[v]=[]),m=0;m<(d||[]).length;m++)g.push(d[m])})}},t[Ci]={appendData:u},t[Qr]={persistent:!1,pure:!0,appendData:function(c){this._data=c},clean:function(){this._offset+=this.count(),this._data=null}},Nb=t}(),r}(),mk=function(r,t,e,o){return r[o]},hU=((Nc={})[dn+"_"+Qs]=function(r,t,e,o){return r[o+t]},Nc[dn+"_"+Js]=function(r,t,e,o,s){o+=t;for(var u=s||[],c=r,f=0;f<c.length;f++){var d=c[f];u[f]=d?d[o]:null}return u},Nc[ba]=mk,Nc[Ri]=function(r,t,e,o,s){for(var u=s||[],c=0;c<e.length;c++){var d=r[e[c].name];u[c]=d?d[o]:null}return u},Nc[Ci]=mk,Nc);function yk(r,t){return hU[Vb(r,t)]}var NT=function(r,t,e){return r.length},fU=((Su={})[dn+"_"+Qs]=function(r,t,e){return Math.max(0,r.length-t)},Su[dn+"_"+Js]=function(r,t,e){var o=r[0];return o?Math.max(0,o.length-t):0},Su[ba]=NT,Su[Ri]=function(r,t,e){var s=r[e[0].name];return s?s.length:0},Su[Ci]=NT,Su);function _k(r,t){return fU[Vb(r,t)]}var FT=function(r,t,e){return r[t]},dU=((Cu={})[dn]=FT,Cu[ba]=function(r,t,e){return r[e]},Cu[Ri]=FT,Cu[Ci]=function(r,t,e){var o=Um(r);return o instanceof Array?o[t]:o},Cu[Qr]=FT,Cu);function VT(r){return dU[r]}function Vb(r,t){return r===dn?r+"_"+t:r}function iv(r,t,e){if(r){var o=r.getRawDataItem(t);if(null!=o){var s=r.getStore(),u=s.getSource().sourceFormat;if(null!=e){var c=r.getDimensionIndex(e),f=s.getDimensionProperty(c);return VT(u)(o,c,f)}var d=o;return u===Ci&&(d=Um(o)),d}}}var Xo=/\{@(.+?)\}/g,BT=function(){function r(){}return r.prototype.getDataParams=function(t,e){var o=this.getData(e),s=this.getRawValue(t,e),u=o.getRawIndex(t),c=o.getName(t),f=o.getRawDataItem(t),d=o.getItemVisual(t,"style"),v=d&&d[o.getItemVisual(t,"drawType")||"fill"],g=d&&d.stroke,m=this.mainType,_="series"===m,w=o.userOutput&&o.userOutput.get();return{componentType:m,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:_?this.subType:null,seriesIndex:this.seriesIndex,seriesId:_?this.id:null,seriesName:_?this.name:null,name:c,dataIndex:u,data:f,dataType:e,value:s,color:v,borderColor:g,dimensionNames:w?w.fullDimensions:null,encode:w?w.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,e,o,s,u,c){e=e||"normal";var f=this.getData(o),d=this.getDataParams(t,o);return c&&(d.value=c.interpolatedValue),null!=s&&ge(d.value)&&(d.value=d.value[s]),u||(u=f.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),Ne(u)?(d.status=e,d.dimensionIndex=s,u(d)):xe(u)?cy(u,d).replace(Xo,function(m,_){var w=_.length,S=_;"["===S.charAt(0)&&"]"===S.charAt(w-1)&&(S=+S.slice(1,w-1));var x=iv(f,t,S);if(c&&ge(c.interpolatedValue)){var D=f.getDimensionIndex(S);D>=0&&(x=c.interpolatedValue[D])}return null!=x?x+"":""}):void 0},r.prototype.getRawValue=function(t,e){return iv(this.getData(e),t)},r.prototype.formatTooltip=function(t,e,o){},r}();function wk(r){var t,e;return Ue(r)?r.type&&(e=r):t=r,{text:t,frag:e}}function Bb(r){return new zT(r)}var zT=function(){function r(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var u,e=this._upstream,o=t&&t.skip;if(this._dirty&&e){var s=this.context;s.data=s.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!o&&(u=this._plan(this.context));var m,c=g(this._modBy),f=this._modDataCount||0,d=g(t&&t.modBy),v=t&&t.modDataCount||0;function g(A){return!(A>=1)&&(A=1),A}(c!==d||f!==v)&&(u="reset"),(this._dirty||"reset"===u)&&(this._dirty=!1,m=this._doReset(o)),this._modBy=d,this._modDataCount=v;var _=t&&t.step;if(this._dueEnd=e?e._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var w=this._dueIndex,S=Math.min(null!=_?this._dueIndex+_:1/0,this._dueEnd);if(!o&&(m||w<S)){var x=this._progress;if(ge(x))for(var D=0;D<x.length;D++)this._doProgress(x[D],w,S,d,v);else this._doProgress(x,w,S,d,v)}this._dueIndex=S,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:S}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,e,o,s,u){HT.reset(e,o,s,u),this._callingProgress=t,this._callingProgress({start:e,end:o,count:o-e,next:HT.next},this.context)},r.prototype._doReset=function(t){var e,o;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(o=e.forceFirstProgress,e=e.progress),ge(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var s=this._downstream;return s&&s.dirty(),o},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r}(),HT=function(){var r,t,e,o,s,u={reset:function(d,v,g,m){t=d,r=v,e=g,o=m,s=Math.ceil(o/e),u.next=e>1&&o>0?f:c}};return u;function c(){return t<r?t++:null}function f(){var d=t%s*e+Math.ceil(t/s),v=t>=r?null:d<o?d:t;return t++,v}}();function an(r){throw new Error(r)}function Fc(r,t){var e=t&&t.type;return"ordinal"===e?r:("time"===e&&!kt(r)&&null!=r&&"-"!==r&&(r=+jo(r)),null==r||""===r?NaN:+r)}typeof console<"u"&&console.warn&&console;var el=Re({number:function(r){return parseFloat(r)},time:function(r){return+jo(r)},trim:function(r){return xe(r)?Ii(r):r}});function Hb(r){return el.get(r)}var Ck={lt:function(r,t){return r<t},lte:function(r,t){return r<=t},gt:function(r,t){return r>t},gte:function(r,t){return r>=t}},xk=function(){function r(t,e){kt(e)||an(""),this._opFn=Ck[t],this._rvalFloat=Ws(e)}return r.prototype.evaluate=function(t){return kt(t)?this._opFn(t,this._rvalFloat):this._opFn(Ws(t),this._rvalFloat)},r}(),Dk=function(){function r(t,e){var o="desc"===t;this._resultLT=o?1:-1,null==e&&(e=o?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return r.prototype.evaluate=function(t,e){var o=kt(t)?t:Ws(t),s=kt(e)?e:Ws(e),u=isNaN(o),c=isNaN(s);if(u&&(o=this._incomparable),c&&(s=this._incomparable),u&&c){var f=xe(t),d=xe(e);f&&(o=d?t:0),d&&(s=f?e:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},r}(),Tk=function(){function r(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Ws(e)}return r.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var o=typeof t;o!==this._rvalTypeof&&("number"===o||"number"===this._rvalTypeof)&&(e=Ws(t)===this._rvalFloat)}return this._isEQ?e:!e},r}();function Mk(r,t){return"eq"===r||"ne"===r?new Tk("eq"===r,t):Ee(Ck,r)?new xk(r,t):null}var Gb=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,e){},r.prototype.retrieveValueFromItem=function(t,e){},r.prototype.convertValue=function(t,e){return Fc(t,e)},r}();function _Y(r){return WT(r.sourceFormat)||an(""),r.data}function Ak(r){var t=r.sourceFormat,e=r.data;if(WT(t)||an(""),t===dn){for(var s=[],u=0,c=e.length;u<c;u++)s.push(e[u].slice());return s}if(t===ba){for(s=[],u=0,c=e.length;u<c;u++)s.push(ce({},e[u]));return s}}function Ek(r,t,e){if(null!=e){if(kt(e)||!isNaN(e)&&!Ee(t,e))return r[e];if(Ee(t,e))return t[e]}}function Ik(r){return Ge(r)}var UT=Re();function mU(r,t,e,o){t.length||an(""),Ue(r)||an("");var c=UT.get(r.type);c||an("");var f=me(t,function(g){return function GT(r,t){var e=new Gb,o=r.data,s=e.sourceFormat=r.sourceFormat,u=r.startIndex;r.seriesLayoutBy!==Qs&&an("");var f=[],d={},v=r.dimensionsDefine;if(v)H(v,function(x,D){var T=x.name,A={index:D,name:T,displayName:x.displayName};f.push(A),null!=T&&(Ee(d,T)&&an(""),d[T]=A)});else for(var g=0;g<r.dimensionsDetectedCount;g++)f.push({index:g});var m=yk(s,Qs);t.__isBuiltIn&&(e.getRawDataItem=function(x){return m(o,u,f,x)},e.getRawData=Me(_Y,null,r)),e.cloneRawData=Me(Ak,null,r);var _=_k(s,Qs);e.count=Me(_,null,o,u,f);var w=VT(s);e.retrieveValue=function(x,D){var T=m(o,u,f,x);return S(T,D)};var S=e.retrieveValueFromItem=function(x,D){if(null!=x){var T=f[D];if(T)return w(x,D,T.name)}};return e.getDimensionInfo=Me(Ek,null,f,d),e.cloneAllDimensionInfo=Me(Ik,null,f),e}(g,c)});return me(nn(c.transform({upstream:f[0],upstreamList:f,config:Ge(r.config)})),function(g,m){Ue(g)||an(""),g.data||an(""),WT(kT(g.data))||an("");var S,x=t[0];if(x&&0===m&&!g.dimensions){var D=x.startIndex;D&&(g.data=x.data.slice(0,D).concat(g.data)),S={seriesLayoutBy:Qs,sourceHeader:D,dimensions:x.metaRawOption.dimensions}}else S={seriesLayoutBy:Qs,sourceHeader:0,dimensions:g.dimensions};return ue(g.data,S,null)})}function WT(r){return r===dn||r===ba}var Ub,ov="undefined",yU=typeof Uint32Array===ov?Array:Uint32Array,Pk=typeof Uint16Array===ov?Array:Uint16Array,Lk=typeof Int32Array===ov?Array:Int32Array,_y=typeof Float64Array===ov?Array:Float64Array,av={float:_y,int:Lk,ordinal:Array,number:Array,time:_y};function Vc(r){return r>65535?yU:Pk}function _U(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function $T(r,t,e,o,s){var u=av[e||"float"];if(s){var c=r[t],f=c&&c.length;if(f!==o){for(var d=new u(o),v=0;v<f;v++)d[v]=c[v];r[t]=d}}else r[t]=new u(o)}var Rk=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Re()}return r.prototype.initData=function(t,e,o){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=t.getSource(),u=this.defaultDimValueGetter=Ub[s.sourceFormat];this._dimValueGetter=o||u,this._rawExtent=[],rv(s),this._dimensions=me(e,function(f){return{type:f.type,property:f.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,e){var o=this._calcDimNameToIdx,s=this._dimensions,u=o.get(t);if(null!=u){if(s[u].type===e)return u}else u=s.length;return s[u]={type:e},o.set(t,u),this._chunks[u]=new av[e||"float"](this._rawCount),this._rawExtent[u]=[1/0,-1/0],u},r.prototype.collectOrdinalMeta=function(t,e){var o=this._chunks[t],s=this._dimensions[t],u=this._rawExtent,c=s.ordinalOffset||0,f=o.length;0===c&&(u[t]=[1/0,-1/0]);for(var d=u[t],v=c;v<f;v++){var g=o[v]=e.parseAndCollect(o[v]);isNaN(g)||(d[0]=Math.min(g,d[0]),d[1]=Math.max(g,d[1]))}s.ordinalMeta=e,s.ordinalOffset=f,s.type="ordinal"},r.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},r.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},r.prototype.appendData=function(t){var e=this._provider,o=this.count();e.appendData(t);var s=e.count();return e.persistent||(s+=o),o<s&&this._initDataFromProvider(o,s,!0),[o,s]},r.prototype.appendValues=function(t,e){for(var o=this._chunks,s=this._dimensions,u=s.length,c=this._rawExtent,f=this.count(),d=f+Math.max(t.length,e||0),v=0;v<u;v++)$T(o,v,s[v].type,d,!0);for(var m=[],_=f;_<d;_++)for(var w=_-f,S=0;S<u;S++){var x=Ub.arrayRows.call(this,t[w]||m,s[S].property,w,S);o[S][_]=x;var D=c[S];x<D[0]&&(D[0]=x),x>D[1]&&(D[1]=x)}return this._rawCount=this._count=d,{start:f,end:d}},r.prototype._initDataFromProvider=function(t,e,o){for(var s=this._provider,u=this._chunks,c=this._dimensions,f=c.length,d=this._rawExtent,v=me(c,function(A){return A.property}),g=0;g<f;g++){var m=c[g];d[g]||(d[g]=[1/0,-1/0]),$T(u,g,m.type,e,o)}if(s.fillStorage)s.fillStorage(t,e,u,d);else for(var _=[],w=t;w<e;w++){_=s.getItem(w,_);for(var S=0;S<f;S++){var x=u[S],D=this._dimValueGetter(_,v[S],w,S);x[w]=D;var T=d[S];D<T[0]&&(T[0]=D),D>T[1]&&(T[1]=D)}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=e,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var o=this._chunks[t];return o?o[this.getRawIndex(e)]:NaN},r.prototype.getValues=function(t,e){var o=[],s=[];if(null==e){e=t,t=[];for(var u=0;u<this._dimensions.length;u++)s.push(u)}else s=t;u=0;for(var c=s.length;u<c;u++)o.push(this.get(s[u],e));return o},r.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var o=this._chunks[t];return o?o[e]:NaN},r.prototype.getSum=function(t){var o=0;if(this._chunks[t])for(var s=0,u=this.count();s<u;s++){var c=this.get(t,s);isNaN(c)||(o+=c)}return o},r.prototype.getMedian=function(t){var e=[];this.each([t],function(u){isNaN(u)||e.push(u)});var o=e.sort(function(u,c){return u-c}),s=this.count();return 0===s?0:s%2==1?o[(s-1)/2]:(o[s/2]+o[s/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,o=e[t];if(null!=o&&o<this._count&&o===t)return t;for(var s=0,u=this._count-1;s<=u;){var c=(s+u)/2|0;if(e[c]<t)s=c+1;else{if(!(e[c]>t))return c;u=c-1}}return-1},r.prototype.indicesOfNearest=function(t,e,o){var u=this._chunks[t],c=[];if(!u)return c;null==o&&(o=1/0);for(var f=1/0,d=-1,v=0,g=0,m=this.count();g<m;g++){var w=e-u[this.getRawIndex(g)],S=Math.abs(w);S<=o&&((S<f||S===f&&w>=0&&d<0)&&(f=S,d=w,v=0),w===d&&(c[v++]=g))}return c.length=v,c},r.prototype.getIndices=function(){var t,e=this._indices;if(e){var s=this._count;if((o=e.constructor)===Array){t=new o(s);for(var u=0;u<s;u++)t[u]=e[u]}else t=new o(e.buffer,0,s)}else{var o;for(t=new(o=Vc(this._rawCount))(this.count()),u=0;u<t.length;u++)t[u]=u}return t},r.prototype.filter=function(t,e){if(!this._count)return this;for(var o=this.clone(),s=o.count(),c=new(Vc(o._rawCount))(s),f=[],d=t.length,v=0,g=t[0],m=o._chunks,_=0;_<s;_++){var w=void 0,S=o.getRawIndex(_);if(0===d)w=e(_);else if(1===d)w=e(m[g][S],_);else{for(var D=0;D<d;D++)f[D]=m[t[D]][S];f[D]=_,w=e.apply(null,f)}w&&(c[v++]=S)}return v<s&&(o._indices=c),o._count=v,o._extent=[],o._updateGetRawIdx(),o},r.prototype.selectRange=function(t){var e=this.clone(),o=e._count;if(!o)return this;var s=pt(t),u=s.length;if(!u)return this;var c=e.count(),d=new(Vc(e._rawCount))(c),v=0,g=s[0],m=t[g][0],_=t[g][1],w=e._chunks,S=!1;if(!e._indices){var x=0;if(1===u){for(var D=w[s[0]],T=0;T<o;T++)((A=D[T])>=m&&A<=_||isNaN(A))&&(d[v++]=x),x++;S=!0}else if(2===u){D=w[s[0]];var E=w[s[1]],P=t[s[1]][0],N=t[s[1]][1];for(T=0;T<o;T++){var k=E[T];((A=D[T])>=m&&A<=_||isNaN(A))&&(k>=P&&k<=N||isNaN(k))&&(d[v++]=x),x++}S=!0}}if(!S)if(1===u)for(T=0;T<c;T++){var F=e.getRawIndex(T);((A=w[s[0]][F])>=m&&A<=_||isNaN(A))&&(d[v++]=F)}else for(T=0;T<c;T++){for(var B=!0,z=(F=e.getRawIndex(T),0);z<u;z++){var A,j=s[z];((A=w[j][F])<t[j][0]||A>t[j][1])&&(B=!1)}B&&(d[v++]=e.getRawIndex(T))}return v<c&&(e._indices=d),e._count=v,e._extent=[],e._updateGetRawIdx(),e},r.prototype.map=function(t,e){var o=this.clone(t);return this._updateDims(o,t,e),o},r.prototype.modify=function(t,e){this._updateDims(this,t,e)},r.prototype._updateDims=function(t,e,o){for(var s=t._chunks,u=[],c=e.length,f=t.count(),d=[],v=t._rawExtent,g=0;g<e.length;g++)v[e[g]]=[1/0,-1/0];for(var m=0;m<f;m++){for(var _=t.getRawIndex(m),w=0;w<c;w++)d[w]=s[e[w]][_];d[c]=m;var S=o&&o.apply(null,d);if(null!=S)for("object"!=typeof S&&(u[0]=S,S=u),g=0;g<S.length;g++){var x=e[g],D=S[g],T=v[x],A=s[x];A&&(A[_]=D),D<T[0]&&(T[0]=D),D>T[1]&&(T[1]=D)}}},r.prototype.lttbDownSample=function(t,e){var g,m,_,o=this.clone([t],!0),u=o._chunks[t],c=this.count(),f=0,d=Math.floor(1/e),v=this.getRawIndex(0),w=new(Vc(this._rawCount))(Math.min(2*(Math.ceil(c/d)+2),c));w[f++]=v;for(var S=1;S<c-1;S+=d){for(var x=Math.min(S+d,c-1),D=Math.min(S+2*d,c),T=(D+x)/2,A=0,E=x;E<D;E++){var N=u[P=this.getRawIndex(E)];isNaN(N)||(A+=N)}A/=D-x;var k=S,F=Math.min(S+d,c),B=S-1,z=u[v];g=-1,_=k;var j=-1,W=0;for(E=k;E<F;E++){var P;N=u[P=this.getRawIndex(E)],isNaN(N)?(W++,j<0&&(j=P)):(m=Math.abs((B-T)*(N-z)-(B-E)*(A-z)))>g&&(g=m,_=P)}W>0&&W<F-k&&(w[f++]=Math.min(j,_),_=Math.max(j,_)),w[f++]=_,v=_}return w[f++]=this.getRawIndex(c-1),o._count=f,o._indices=w,o.getRawIndex=this._getRawIdx,o},r.prototype.downSample=function(t,e,o,s){for(var u=this.clone([t],!0),c=u._chunks,f=[],d=Math.floor(1/e),v=c[t],g=this.count(),m=u._rawExtent[t]=[1/0,-1/0],_=new(Vc(this._rawCount))(Math.ceil(g/d)),w=0,S=0;S<g;S+=d){d>g-S&&(f.length=d=g-S);for(var x=0;x<d;x++){var D=this.getRawIndex(S+x);f[x]=v[D]}var T=o(f),A=this.getRawIndex(Math.min(S+s(f,T)||0,g-1));v[A]=T,T<m[0]&&(m[0]=T),T>m[1]&&(m[1]=T),_[w++]=A}return u._count=w,u._indices=_,u._updateGetRawIdx(),u},r.prototype.each=function(t,e){if(this._count)for(var o=t.length,s=this._chunks,u=0,c=this.count();u<c;u++){var f=this.getRawIndex(u);switch(o){case 0:e(u);break;case 1:e(s[t[0]][f],u);break;case 2:e(s[t[0]][f],s[t[1]][f],u);break;default:for(var d=0,v=[];d<o;d++)v[d]=s[t[d]][f];v[d]=u,e.apply(null,v)}}},r.prototype.getDataExtent=function(t){var e=this._chunks[t],o=[1/0,-1/0];if(!e)return o;var c,s=this.count();if(!this._indices)return this._rawExtent[t].slice();if(c=this._extent[t])return c.slice();for(var f=(c=o)[0],d=c[1],v=0;v<s;v++){var m=e[this.getRawIndex(v)];m<f&&(f=m),m>d&&(d=m)}return this._extent[t]=c=[f,d],c},r.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var o=[],s=this._chunks,u=0;u<s.length;u++)o.push(s[u][e]);return o},r.prototype.clone=function(t,e){var o=new r,s=this._chunks,u=t&&Ei(t,function(f,d){return f[d]=!0,f},{});if(u)for(var c=0;c<s.length;c++)o._chunks[c]=u[c]?_U(s[c]):s[c];else o._chunks=s;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Ge(this._extent),t._rawExtent=Ge(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var o=this._indices.length;e=new t(o);for(var s=0;s<o;s++)e[s]=this._indices[s]}else e=new t(this._indices);return e}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function t(e,o,s,u){return Fc(e[u],this._dimensions[u])}Ub={arrayRows:t,objectRows:function(e,o,s,u){return Fc(e[o],this._dimensions[u])},keyedColumns:t,original:function(e,o,s,u){var c=e&&(null==e.value?e:e.value);return Fc(c instanceof Array?c[u]:c,this._dimensions[u])},typedArray:function(e,o,s,u){return e[u]}}}(),r}();const qT=Rk;var kk=function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var s,u,t=this._sourceHost,e=this._getUpstreamSourceManagers(),o=!!e.length;if(by(t)){var c=t,f=void 0,d=void 0,v=void 0;if(o){var g=e[0];g.prepareSource(),f=(v=g.getSource()).data,d=v.sourceFormat,u=[g._getVersionSign()]}else d=Ut(f=c.get("data",!0))?Qr:Ci,u=[];var m=this._getSourceMetaRawOption()||{},_=v&&v.metaRawOption||{},w=Qe(m.seriesLayoutBy,_.seriesLayoutBy)||null,S=Qe(m.sourceHeader,_.sourceHeader),x=Qe(m.dimensions,_.dimensions);s=w!==_.seriesLayoutBy||!!S!=!!_.sourceHeader||x?[ue(f,{seriesLayoutBy:w,sourceHeader:S,dimensions:x},d)]:[]}else{var T=t;if(o){var A=this._applyTransform(e);s=A.sourceList,u=A.upstreamSignList}else s=[ue(T.get("source",!0),this._getSourceMetaRawOption(),null)],u=[]}this._setLocalSource(s,u)},r.prototype._applyTransform=function(t){var e=this._sourceHost,o=e.get("transform",!0),s=e.get("fromTransformResult",!0);null!=s&&1!==t.length&&sv("");var c,f=[],d=[];return H(t,function(v){v.prepareSource();var g=v.getSource(s||0);null!=s&&!g&&sv(""),f.push(g),d.push(v._getVersionSign())}),o?c=function xu(r,t,e){var o=nn(r),s=o.length;s||an("");for(var c=0,f=s;c<f;c++)t=mU(o[c],t),c!==f-1&&(t.length=Math.max(t.length,1));return t}(o,f):null!=s&&(c=[he(f[0])]),{sourceList:c,upstreamSignList:d}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var o=t[e];if(o._isDirty()||this._upstreamSignList[e]!==o._getVersionSign())return!0}},r.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(t)}return e},r.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},r.prototype._innerGetDataStore=function(t,e,o){var u=this._storeList,c=u[0];c||(c=u[0]={});var f=c[o];if(!f){var d=this._getUpstreamSourceManagers()[0];by(this._sourceHost)&&d?f=d._innerGetDataStore(t,e,o):(f=new qT).initData(new Fb(e,t.length),t),c[o]=f}return f},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(by(t)){var e=DT(t);return e?[e.getSourceManager()]:[]}return me(function YG(r){return r.get("transform",!0)||r.get("fromTransformResult",!0)?Cp(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},gr).models:[]}(t),function(o){return o.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var e,o,s,t=this._sourceHost;if(by(t))e=t.get("seriesLayoutBy",!0),o=t.get("sourceHeader",!0),s=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=t;e=u.get("seriesLayoutBy",!0),o=u.get("sourceHeader",!0),s=u.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:o,dimensions:s}},r}();function ZT(r){r.option.transform&&za(r.option.transform)}function by(r){return"series"===r.mainType}function sv(r){throw new Error(r)}var Ok="line-height:1";function YT(r,t){var e=r.color||"#6e7079",o=r.fontSize||12,s=r.fontWeight||"400",u=r.color||"#464646",c=r.fontSize||14,f=r.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+Nr(o+"")+"px;color:"+Nr(e)+";font-weight:"+Nr(s+""),valueStyle:"font-size:"+Nr(c+"")+"px;color:"+Nr(u)+";font-weight:"+Nr(f+"")}:{nameStyle:{fontSize:o,fill:e,fontWeight:s},valueStyle:{fontSize:c,fill:u,fontWeight:f}}}var Nk=[0,10,20,30],wU=["","\n","\n\n","\n\n\n"];function Jr(r,t){return t.type=r,t}function Pf(r){return"section"===r.type}function Fk(r){return Pf(r)?bU:SU}function Vk(r){if(Pf(r)){var t=0,e=r.blocks.length,o=e>1||e>0&&!r.noHeader;return H(r.blocks,function(s){var u=Vk(s);u>=t&&(t=u+ +(o&&(!u||Pf(s)&&!s.noHeader)))}),t}return 0}function bU(r,t,e,o){var s=t.noHeader,u=function CU(r){return{html:Nk[r],richText:wU[r]}}(Vk(t)),c=[],f=t.blocks||[];_n(!f||ge(f)),f=f||[];var d=r.orderMode;if(t.sortBlocks&&d){f=f.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(Ee(v,d)){var g=new Dk(v[d],null);f.sort(function(S,x){return g.evaluate(S.sortParam,x.sortParam)})}else"seriesDesc"===d&&f.reverse()}H(f,function(S,x){var D=t.valueFormatter,T=Fk(S)(D?ce(ce({},r),{valueFormatter:D}):r,S,x>0?u.html:0,o);null!=T&&c.push(T)});var m="richText"===r.renderMode?c.join(u.richText):XT(c.join(""),s?e:u.html);if(s)return m;var _=Df(t.header,"ordinal",r.useUTC),w=YT(o,r.renderMode).nameStyle;return"richText"===r.renderMode?Tn(r,_,w)+u.richText+m:XT('<div style="'+w+";"+Ok+';">'+Nr(_)+"</div>"+m,e)}function SU(r,t,e,o){var s=r.renderMode,u=t.noName,c=t.noValue,f=!t.markerType,d=t.name,v=r.useUTC,g=t.valueFormatter||r.valueFormatter||function(P){return me(P=ge(P)?P:[P],function(N,k){return Df(N,ge(w)?w[k]:w,v)})};if(!u||!c){var m=f?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",s),_=u?"":Df(d,"ordinal",v),w=t.valueType,S=c?[]:g(t.value),x=!f||!u,D=!f&&u,T=YT(o,s),A=T.nameStyle,E=T.valueStyle;return"richText"===s?(f?"":m)+(u?"":Tn(r,_,A))+(c?"":function DU(r,t,e,o,s){var u=[s];return e&&u.push({padding:[0,0,0,o?10:20],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(ge(t)?t.join("  "):t,u)}(r,S,x,D,E)):XT((f?"":m)+(u?"":function xU(r,t,e){return'<span style="'+e+";"+(t?"margin-left:2px":"")+'">'+Nr(r)+"</span>"}(_,!f,A))+(c?"":function zk(r,t,e,o){return'<span style="'+(t?"float:right;margin-left:"+(e?"10px":"20px"):"")+";"+o+'">'+me(r=ge(r)?r:[r],function(c){return Nr(c)}).join("&nbsp;&nbsp;")+"</span>"}(S,x,D,E)),e)}}function Bk(r,t,e,o,s,u){if(r)return Fk(r)({useUTC:s,renderMode:e,orderMode:o,markupStyleCreator:t,valueFormatter:r.valueFormatter},r,0,u)}function XT(r,t){return'<div style="margin: '+t+"px 0 0;"+Ok+';">'+r+'<div style="clear:both"></div></div>'}function Tn(r,t,e){return r.markupStyleCreator.wrapRichTextStyle(t,e)}function Sy(r,t){return ts(r.getData().getItemVisual(t,"style")[r.visualDrawType])}function Hk(r,t){return r.get("padding")??("richText"===t?[8,10]:10)}var KT=function(){function r(){this.richTextStyles={},this._nextStyleNameId=Hm()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,e,o){var s="richText"===o?this._generateStyleName():null,u=hy({color:e,type:t,renderMode:o,markerId:s});return xe(u)?u:(this.richTextStyles[s]=u.style,u.content)},r.prototype.wrapRichTextStyle=function(t,e){var o={};ge(e)?H(e,function(u){return ce(o,u)}):ce(o,e);var s=this._generateStyleName();return this.richTextStyles[s]=o,"{"+s+"|"+t+"}"},r}();function Gk(r){var g,m,_,w,t=r.series,e=r.dataIndex,o=r.multipleSeries,s=t.getData(),u=s.mapDimensionsAll("defaultedTooltip"),c=u.length,f=t.getRawValue(e),d=ge(f),v=Sy(t,e);if(c>1||d&&!c){var S=function TU(r,t,e,o,s){var u=t.getData(),c=Ei(r,function(m,_,w){var S=u.getDimensionInfo(w);return m||S&&!1!==S.tooltip&&null!=S.displayName},!1),f=[],d=[],v=[];function g(m,_){var w=u.getDimensionInfo(_);!w||!1===w.otherDims.tooltip||(c?v.push(Jr("nameValue",{markerType:"subItem",markerColor:s,name:w.displayName,value:m,valueType:w.type})):(f.push(m),d.push(w.type)))}return o.length?H(o,function(m){g(iv(u,e,m),m)}):H(r,g),{inlineValues:f,inlineValueTypes:d,blocks:v}}(f,t,e,u,v);g=S.inlineValues,m=S.inlineValueTypes,_=S.blocks,w=S.inlineValues[0]}else if(c){var x=s.getDimensionInfo(u[0]);w=g=iv(s,e,u[0]),m=x.type}else w=g=d?f[0]:f;var D=$w(t),T=D&&t.name||"",A=s.getName(e),E=o?T:A;return Jr("section",{header:T,noHeader:o||!D,sortParam:w,blocks:[Jr("nameValue",{markerType:"item",markerColor:v,name:E,noName:!Ii(E),value:g,valueType:m})].concat(_||[])})}var Bc=zt();function jb(r,t){return r.getName(t)||r.getId(t)}var Wb="__universalTransitionEnabled",Cy=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return ae(t,r),t.prototype.init=function(e,o,s){this.seriesIndex=this.componentIndex,this.dataTask=Bb({count:wY,reset:Uk}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,s),(Bc(this).sourceManager=new kk(this)).prepareSource();var c=this.getInitialData(e,s);AU(c,this),this.dataTask.context.data=c,Bc(this).dataBeforeProcessed=c,QT(this),this._initSelectedMapFromData(c)},t.prototype.mergeDefaultAndTheme=function(e,o){var s=py(this),u=s?kc(e):{},c=this.subType;Lt.hasClass(c)&&(c+="Series"),tt(e,o.getTheme().get(this.subType)),tt(e,this.getDefaultOption()),Xa(e,"label",["show"]),this.fillDataTextStyle(e.data),s&&_u(e,u,s)},t.prototype.mergeOption=function(e,o){e=tt(this.option,e,!0),this.fillDataTextStyle(e.data);var s=py(this);s&&_u(this.option,e,s);var u=Bc(this).sourceManager;u.dirty(),u.prepareSource();var c=this.getInitialData(e,o);AU(c,this),this.dataTask.dirty(),this.dataTask.context.data=c,Bc(this).dataBeforeProcessed=c,QT(this),this._initSelectedMapFromData(c)},t.prototype.fillDataTextStyle=function(e){if(e&&!Ut(e))for(var o=["show"],s=0;s<e.length;s++)e[s]&&e[s].label&&Xa(e[s],"label",o)},t.prototype.getInitialData=function(e,o){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var o=JT(this);if(o){var s=o.context.data;return null==e?s:s.getLinkedData(e)}return Bc(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var o=JT(this);if(o){var s=o.context;s.outputData=e,o!==this.dataTask&&(s.data=e)}Bc(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Re(e)},t.prototype.getSourceManager=function(){return Bc(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Bc(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,o,s){return Gk({series:this,dataIndex:e,multipleSeries:o})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Pt.node&&(!e||!e.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,o,s){var u=this.ecModel,c=Ab.prototype.getColorFromPalette.call(this,e,o,s);return c||(c=u.getColorFromPalette(e,o,s)),c},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,o){this._innerSelect(this.getData(o),e)},t.prototype.unselect=function(e,o){var s=this.option.selectedMap;if(s){var u=this.option.selectedMode,c=this.getData(o);if("series"===u||"all"===s)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var f=0;f<e.length;f++){var v=jb(c,e[f]);s[v]=!1,this._selectedDataIndicesMap[v]=-1}}},t.prototype.toggleSelect=function(e,o){for(var s=[],u=0;u<e.length;u++)s[0]=e[u],this.isSelected(e[u],o)?this.unselect(s,o):this.select(s,o)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,o=pt(e),s=[],u=0;u<o.length;u++){var c=e[o[u]];c>=0&&s.push(c)}return s},t.prototype.isSelected=function(e,o){var s=this.option.selectedMap;if(!s)return!1;var u=this.getData(o);return("all"===s||s[jb(u,e)])&&!u.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[Wb])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,o){var s,u,c=this.option,f=c.selectedMode,d=o.length;if(f&&d)if("series"===f)c.selectedMap="all";else if("multiple"===f){Ue(c.selectedMap)||(c.selectedMap={});for(var v=c.selectedMap,g=0;g<d;g++){var m=o[g];v[_=jb(e,m)]=!0,this._selectedDataIndicesMap[_]=e.getRawIndex(m)}}else if("single"===f||!0===f){var w=o[d-1],_=jb(e,w);c.selectedMap=((s={})[_]=!0,s),this._selectedDataIndicesMap=((u={})[_]=e.getRawIndex(w),u)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var o=[];e.hasItemOption&&e.each(function(s){var u=e.getRawDataItem(s);u&&u.selected&&o.push(s)}),o.length>0&&this._innerSelect(e,o)}},t.registerClass=function(e){return Lt.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(Lt);function QT(r){var t=r.name;$w(r)||(r.name=function MU(r){var t=r.getRawData(),e=t.mapDimensionsAll("seriesName"),o=[];return H(e,function(s){var u=t.getDimensionInfo(s);u.displayName&&o.push(u.displayName)}),o.join(" ")}(r)||t)}function wY(r){return r.model.getRawData().count()}function Uk(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),jk}function jk(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function AU(r,t){H(hc(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(e){r.wrapMethod(e,Je($b,t))})}function $b(r,t){var e=JT(r);return e&&e.setOutputEnd((t||this).count()),t}function JT(r){var t=(r.ecModel||{}).scheduler,e=t&&t.getPipeline(r.uid);if(e){var o=e.currentTask;if(o){var s=o.agentStubMap;s&&(o=s.get(r.uid))}return o}}Zn(Cy,BT),Zn(Cy,Ab),YL(Cy,Lt);const Mn=Cy;var xy=function(){function r(){this.group=new Ze,this.uid=ke("viewComponent")}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,o,s){},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,o,s){},r.prototype.updateLayout=function(t,e,o,s){},r.prototype.updateVisual=function(t,e,o,s){},r.prototype.toggleBlurSeries=function(t,e,o){},r.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},r}();Yr(xy),su(xy);const Bn=xy;function Ji(){var r=zt();return function(t){var e=r(t),o=t.pipelineContext,s=!!e.large,u=!!e.progressiveRender,c=e.large=!(!o||!o.large),f=e.progressiveRender=!(!o||!o.progressiveRender);return(s!==c||u!==f)&&"reset"}}var tl=Zs.CMD,ki=[[],[],[]],zc=Math.sqrt,qb=Math.atan2;function Ko(r,t){if(t){var s,u,c,f,d,v,e=r.data,o=r.len(),g=tl.M,m=tl.C,_=tl.L,w=tl.R,S=tl.A,x=tl.Q;for(c=0,f=0;c<o;){switch(s=e[c++],f=c,u=0,s){case g:case _:u=1;break;case m:u=3;break;case x:u=2;break;case S:var D=t[4],T=t[5],A=zc(t[0]*t[0]+t[1]*t[1]),E=zc(t[2]*t[2]+t[3]*t[3]),P=qb(-t[1]/E,t[0]/A);e[c]*=A,e[c++]+=D,e[c]*=E,e[c++]+=T,e[c++]*=A,e[c++]*=E,e[c++]+=P,e[c++]+=P,f=c+=2;break;case w:v[0]=e[c++],v[1]=e[c++],Or(v,v,t),e[f++]=v[0],e[f++]=v[1],v[0]+=e[c++],v[1]+=e[c++],Or(v,v,t),e[f++]=v[0],e[f++]=v[1]}for(d=0;d<u;d++){var N=ki[d];N[0]=e[c++],N[1]=e[c++],Or(N,N,t),e[f++]=N[0],e[f++]=N[1]}}r.increaseVersion()}}var xi=Math.sqrt,Du=Math.sin,Tu=Math.cos,nl=Math.PI;function Lf(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Hc(r,t){return(r[0]*t[0]+r[1]*t[1])/(Lf(r)*Lf(t))}function Rf(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(Hc(r,t))}function kf(r,t,e,o,s,u,c,f,d,v,g){var m=d*(nl/180),_=Tu(m)*(r-e)/2+Du(m)*(t-o)/2,w=-1*Du(m)*(r-e)/2+Tu(m)*(t-o)/2,S=_*_/(c*c)+w*w/(f*f);S>1&&(c*=xi(S),f*=xi(S));var x=(s===u?-1:1)*xi((c*c*(f*f)-c*c*(w*w)-f*f*(_*_))/(c*c*(w*w)+f*f*(_*_)))||0,D=x*c*w/f,T=x*-f*_/c,A=(r+e)/2+Tu(m)*D-Du(m)*T,E=(t+o)/2+Du(m)*D+Tu(m)*T,P=Rf([1,0],[(_-D)/c,(w-T)/f]),N=[(_-D)/c,(w-T)/f],k=[(-1*_-D)/c,(-1*w-T)/f],F=Rf(N,k);if(Hc(N,k)<=-1&&(F=nl),Hc(N,k)>=1&&(F=0),F<0){var B=Math.round(F/nl*1e6)/1e6;F=2*nl+B%2*nl}g.addData(v,A,E,c,f,P,F,m,u)}var lv=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,uv=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,eM=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Le(t,r),t.prototype.applyTransform=function(e){},t}(mt);function tM(r){return null!=r.setData}function nM(r,t){var e=function Wk(r){var t=new Zs;if(!r)return t;var c,e=0,o=0,s=e,u=o,f=Zs.CMD,d=r.match(lv);if(!d)return t;for(var v=0;v<d.length;v++){for(var g=d[v],m=g.charAt(0),_=void 0,w=g.match(uv)||[],S=w.length,x=0;x<S;x++)w[x]=parseFloat(w[x]);for(var D=0;D<S;){var T=void 0,A=void 0,E=void 0,P=void 0,N=void 0,k=void 0,F=void 0,B=e,z=o,j=void 0,W=void 0;switch(m){case"l":e+=w[D++],o+=w[D++],t.addData(_=f.L,e,o);break;case"L":e=w[D++],o=w[D++],t.addData(_=f.L,e,o);break;case"m":e+=w[D++],o+=w[D++],t.addData(_=f.M,e,o),s=e,u=o,m="l";break;case"M":e=w[D++],o=w[D++],t.addData(_=f.M,e,o),s=e,u=o,m="L";break;case"h":e+=w[D++],t.addData(_=f.L,e,o);break;case"H":e=w[D++],t.addData(_=f.L,e,o);break;case"v":o+=w[D++],t.addData(_=f.L,e,o);break;case"V":o=w[D++],t.addData(_=f.L,e,o);break;case"C":t.addData(_=f.C,w[D++],w[D++],w[D++],w[D++],w[D++],w[D++]),e=w[D-2],o=w[D-1];break;case"c":t.addData(_=f.C,w[D++]+e,w[D++]+o,w[D++]+e,w[D++]+o,w[D++]+e,w[D++]+o),e+=w[D-2],o+=w[D-1];break;case"S":T=e,A=o,j=t.len(),W=t.data,c===f.C&&(T+=e-W[j-4],A+=o-W[j-3]),B=w[D++],z=w[D++],e=w[D++],o=w[D++],t.addData(_=f.C,T,A,B,z,e,o);break;case"s":T=e,A=o,j=t.len(),W=t.data,c===f.C&&(T+=e-W[j-4],A+=o-W[j-3]),B=e+w[D++],z=o+w[D++],e+=w[D++],o+=w[D++],t.addData(_=f.C,T,A,B,z,e,o);break;case"Q":B=w[D++],z=w[D++],e=w[D++],o=w[D++],t.addData(_=f.Q,B,z,e,o);break;case"q":B=w[D++]+e,z=w[D++]+o,e+=w[D++],o+=w[D++],t.addData(_=f.Q,B,z,e,o);break;case"T":T=e,A=o,j=t.len(),W=t.data,c===f.Q&&(T+=e-W[j-4],A+=o-W[j-3]),e=w[D++],o=w[D++],t.addData(_=f.Q,T,A,e,o);break;case"t":T=e,A=o,j=t.len(),W=t.data,c===f.Q&&(T+=e-W[j-4],A+=o-W[j-3]),e+=w[D++],o+=w[D++],t.addData(_=f.Q,T,A,e,o);break;case"A":E=w[D++],P=w[D++],N=w[D++],k=w[D++],F=w[D++],kf(B=e,z=o,e=w[D++],o=w[D++],k,F,E,P,N,_=f.A,t);break;case"a":E=w[D++],P=w[D++],N=w[D++],k=w[D++],F=w[D++],kf(B=e,z=o,e+=w[D++],o+=w[D++],k,F,E,P,N,_=f.A,t)}}("z"===m||"Z"===m)&&(t.addData(_=f.Z),e=s,o=u),c=_}return t.toStatic(),t}(r),o=ce({},t);return o.buildPath=function(s){var u;tM(s)?(s.setData(e.data),(u=s.getContext())&&s.rebuildPath(u,1)):e.rebuildPath(u=s,1)},o.applyTransform=function(s){Ko(e,s),this.dirtyShape()},o}function rM(r,t){return new eM(nM(r,t))}function Zb(r,t){t=t||{};var e=new mt;return r.shape&&e.setShape(r.shape),e.setStyle(r.style),t.bakeTransform?Ko(e.path,r.getComputedTransform()):t.toLocal?e.setLocalTransform(r.getComputedTransform()):e.copyTransform(r),e.buildPath=r.buildPath,e.applyTransform=e.applyTransform,e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e}var Zk=function r(){this.cx=0,this.cy=0,this.r=0},Yb=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultShape=function(){return new Zk},t.prototype.buildPath=function(e,o){e.moveTo(o.cx+o.r,o.cy),e.arc(o.cx,o.cy,o.r,0,2*Math.PI)},t}(mt);Yb.prototype.type="circle";const rs=Yb;var bY=function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},EU=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultShape=function(){return new bY},t.prototype.buildPath=function(e,o){var s=.5522848,u=o.cx,c=o.cy,f=o.rx,d=o.ry,v=f*s,g=d*s;e.moveTo(u-f,c),e.bezierCurveTo(u-f,c-g,u-v,c-d,u,c-d),e.bezierCurveTo(u+v,c-d,u+f,c-g,u+f,c),e.bezierCurveTo(u+f,c+g,u+v,c+d,u,c+d),e.bezierCurveTo(u-v,c+d,u-f,c+g,u-f,c),e.closePath()},t}(mt);EU.prototype.type="ellipse";const Xb=EU;var Yk=Math.PI,Xk=2*Yk,Of=Math.sin,Dy=Math.cos,IU=Math.acos,Oi=Math.atan2,Kk=Math.abs,Nf=Math.sqrt,Mu=Math.max,Ca=Math.min,Io=1e-4;function Gc(r,t,e,o,s,u,c){var f=r-e,d=t-o,v=(c?u:-u)/Nf(f*f+d*d),g=v*d,m=-v*f,_=r+g,w=t+m,S=e+g,x=o+m,D=(_+S)/2,T=(w+x)/2,A=S-_,E=x-w,P=A*A+E*E,N=s-u,k=_*x-S*w,F=(E<0?-1:1)*Nf(Mu(0,N*N*P-k*k)),B=(k*E-A*F)/P,z=(-k*A-E*F)/P,j=(k*E+A*F)/P,W=(-k*A+E*F)/P,q=B-D,Y=z-T,K=j-D,Q=W-T;return q*q+Y*Y>K*K+Q*Q&&(B=j,z=W),{cx:B,cy:z,x0:-g,y0:-m,x1:B*(s/N-1),y1:z*(s/N-1)}}var Ty=function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},eO=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultShape=function(){return new Ty},t.prototype.buildPath=function(e,o){!function PU(r,t){var e,o=Mu(t.r,0),s=Mu(t.r0||0,0),u=o>0;if(u||s>0){if(u||(o=s,s=0),s>o){var f=o;o=s,s=f}var d=t.startAngle,v=t.endAngle;if(!isNaN(d)&&!isNaN(v)){var g=t.cx,m=t.cy,_=!!t.clockwise,w=Kk(v-d),S=w>Xk&&w%Xk;if(S>Io&&(w=S),o>Io)if(w>Xk-Io)r.moveTo(g+o*Dy(d),m+o*Of(d)),r.arc(g,m,o,d,v,!_),s>Io&&(r.moveTo(g+s*Dy(v),m+s*Of(v)),r.arc(g,m,s,v,d,_));else{var x=void 0,D=void 0,T=void 0,A=void 0,E=void 0,P=void 0,N=void 0,k=void 0,F=void 0,B=void 0,z=void 0,j=void 0,W=void 0,q=void 0,Y=void 0,K=void 0,Q=o*Dy(d),re=o*Of(d),le=s*Dy(v),se=s*Of(v),de=w>Io;if(de){var be=t.cornerRadius;be&&(e=function Jk(r){var t;if(ge(r)){var e=r.length;if(!e)return r;t=1===e?[r[0],r[0],0,0]:2===e?[r[0],r[0],r[1],r[1]]:3===e?r.concat(r[2]):r}else t=[r,r,r,r];return t}(be),x=e[0],D=e[1],T=e[2],A=e[3]);var De=Kk(o-s)/2;if(E=Ca(De,T),P=Ca(De,A),N=Ca(De,x),k=Ca(De,D),z=F=Mu(E,P),j=B=Mu(N,k),(F>Io||B>Io)&&(W=o*Dy(v),q=o*Of(v),Y=s*Dy(d),K=s*Of(d),w<Yk)){var Fe=function Qk(r,t,e,o,s,u,c,f){var d=e-r,v=o-t,g=c-s,m=f-u,_=m*d-g*v;if(!(_*_<Io))return[r+(_=(g*(t-u)-m*(r-s))/_)*d,t+_*v]}(Q,re,Y,K,W,q,le,se);if(Fe){var $e=Q-Fe[0],We=re-Fe[1],dt=W-Fe[0],Rt=q-Fe[1],yt=1/Of(IU(($e*dt+We*Rt)/(Nf($e*$e+We*We)*Nf(dt*dt+Rt*Rt)))/2),Ke=Nf(Fe[0]*Fe[0]+Fe[1]*Fe[1]);z=Ca(F,(o-Ke)/(yt+1)),j=Ca(B,(s-Ke)/(yt-1))}}}if(de)if(z>Io){var _t=Ca(T,z),st=Ca(A,z),Be=Gc(Y,K,Q,re,o,_t,_),lt=Gc(W,q,le,se,o,st,_);r.moveTo(g+Be.cx+Be.x0,m+Be.cy+Be.y0),z<F&&_t===st?r.arc(g+Be.cx,m+Be.cy,z,Oi(Be.y0,Be.x0),Oi(lt.y0,lt.x0),!_):(_t>0&&r.arc(g+Be.cx,m+Be.cy,_t,Oi(Be.y0,Be.x0),Oi(Be.y1,Be.x1),!_),r.arc(g,m,o,Oi(Be.cy+Be.y1,Be.cx+Be.x1),Oi(lt.cy+lt.y1,lt.cx+lt.x1),!_),st>0&&r.arc(g+lt.cx,m+lt.cy,st,Oi(lt.y1,lt.x1),Oi(lt.y0,lt.x0),!_))}else r.moveTo(g+Q,m+re),r.arc(g,m,o,d,v,!_);else r.moveTo(g+Q,m+re);s>Io&&de?j>Io?(_t=Ca(x,j),Be=Gc(le,se,W,q,s,-(st=Ca(D,j)),_),lt=Gc(Q,re,Y,K,s,-_t,_),r.lineTo(g+Be.cx+Be.x0,m+Be.cy+Be.y0),j<B&&_t===st?r.arc(g+Be.cx,m+Be.cy,j,Oi(Be.y0,Be.x0),Oi(lt.y0,lt.x0),!_):(st>0&&r.arc(g+Be.cx,m+Be.cy,st,Oi(Be.y0,Be.x0),Oi(Be.y1,Be.x1),!_),r.arc(g,m,s,Oi(Be.cy+Be.y1,Be.cx+Be.x1),Oi(lt.cy+lt.y1,lt.cx+lt.x1),_),_t>0&&r.arc(g+lt.cx,m+lt.cy,_t,Oi(lt.y1,lt.x1),Oi(lt.y0,lt.x0),!_))):(r.lineTo(g+le,m+se),r.arc(g,m,s,v,d,_)):r.lineTo(g+le,m+se)}else r.moveTo(g,m);r.closePath()}}}(e,o)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(mt);eO.prototype.type="sector";const eo=eO;var LU=function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0},tO=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultShape=function(){return new LU},t.prototype.buildPath=function(e,o){var s=o.cx,u=o.cy,c=2*Math.PI;e.moveTo(s+o.r,u),e.arc(s,u,o.r,0,c,!1),e.moveTo(s+o.r0,u),e.arc(s,u,o.r0,0,c,!0)},t}(mt);tO.prototype.type="ring";const Ff=tO;function My(r,t,e){var o=t.smooth,s=t.points;if(s&&s.length>=2){if(o){var u=function Kb(r,t,e,o){var d,v,g,m,s=[],u=[],c=[],f=[];if(o){g=[1/0,1/0],m=[-1/0,-1/0];for(var _=0,w=r.length;_<w;_++)ca(g,g,r[_]),Ga(m,m,r[_]);ca(g,g,o[0]),Ga(m,m,o[1])}for(_=0,w=r.length;_<w;_++){var S=r[_];if(e)d=r[_?_-1:w-1],v=r[(_+1)%w];else{if(0===_||_===w-1){s.push(ua(r[_]));continue}d=r[_-1],v=r[_+1]}Rs(u,v,d),at(u,u,t);var x=ks(S,d),D=ks(S,v),T=x+D;0!==T&&(x/=T,D/=T),at(c,u,-x),at(f,u,D);var A=Ha([],S,c),E=Ha([],S,f);o&&(Ga(A,A,g),ca(A,A,m),Ga(E,E,g),ca(E,E,m)),s.push(A),s.push(E)}return e&&s.push(s.shift()),s}(s,o,e,t.smoothConstraint);r.moveTo(s[0][0],s[0][1]);for(var c=s.length,f=0;f<(e?c:c-1);f++){var d=u[2*f],v=u[2*f+1],g=s[(f+1)%c];r.bezierCurveTo(d[0],d[1],v[0],v[1],g[0],g[1])}}else{r.moveTo(s[0][0],s[0][1]),f=1;for(var m=s.length;f<m;f++)r.lineTo(s[f][0],s[f][1])}e&&r.closePath()}}var SY=function r(){this.points=null,this.smooth=0,this.smoothConstraint=null},nO=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultShape=function(){return new SY},t.prototype.buildPath=function(e,o){My(e,o,!0)},t}(mt);nO.prototype.type="polygon";const to=nO;var iM=function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},rO=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new iM},t.prototype.buildPath=function(e,o){My(e,o,!1)},t}(mt);rO.prototype.type="polyline";const Ni=rO;var RU={},kU=function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},ze=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kU},t.prototype.buildPath=function(e,o){var s,u,c,f;if(this.subPixelOptimize){var d=ab(RU,o,this.style);s=d.x1,u=d.y1,c=d.x2,f=d.y2}else s=o.x1,u=o.y1,c=o.x2,f=o.y2;var v=o.percent;0!==v&&(e.moveTo(s,u),v<1&&(c=s*(1-v)+c*v,f=u*(1-v)+f*v),e.lineTo(c,f))},t.prototype.pointAt=function(e){var o=this.shape;return[o.x1*(1-e)+o.x2*e,o.y1*(1-e)+o.y2*e]},t}(mt);ze.prototype.type="line";const zr=ze;var no=[],OU=function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function iO(r,t,e){return null!=r.cpx2||null!=r.cpy2?[(e?pe:X)(r.x1,r.cpx1,r.cpx2,r.x2,t),(e?pe:X)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(e?St:Fn)(r.x1,r.cpx1,r.x2,t),(e?St:Fn)(r.y1,r.cpy1,r.y2,t)]}var oO=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new OU},t.prototype.buildPath=function(e,o){var s=o.x1,u=o.y1,c=o.x2,f=o.y2,d=o.cpx1,v=o.cpy1,g=o.cpx2,m=o.cpy2,_=o.percent;0!==_&&(e.moveTo(s,u),null==g||null==m?(_<1&&(Vs(s,d,c,_,no),d=no[1],c=no[2],Vs(u,v,f,_,no),v=no[1],f=no[2]),e.quadraticCurveTo(d,v,c,f)):(_<1&&(Qt(s,d,g,c,_,no),d=no[1],g=no[2],c=no[3],Qt(u,v,m,f,_,no),v=no[1],m=no[2],f=no[3]),e.bezierCurveTo(d,v,g,m,c,f)))},t.prototype.pointAt=function(e){return iO(this.shape,e,!1)},t.prototype.tangentAt=function(e){var o=iO(this.shape,e,!0);return Hl(o,o)},t}(mt);oO.prototype.type="bezier-curve";const Un=oO;var Ae=function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Qb=function(r){function t(e){return r.call(this,e)||this}return Le(t,r),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Ae},t.prototype.buildPath=function(e,o){var s=o.cx,u=o.cy,c=Math.max(o.r,0),f=o.startAngle,d=o.endAngle,v=o.clockwise,g=Math.cos(f),m=Math.sin(f);e.moveTo(g*c+s,m*c+u),e.arc(s,u,c,f,d,!v)},t}(mt);Qb.prototype.type="arc";const Jb=Qb;var J=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="compound",e}return Le(t,r),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,o=this.shapeChanged(),s=0;s<e.length;s++)o=o||e[s].shapeChanged();o&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],o=this.getGlobalScale(),s=0;s<e.length;s++)e[s].path||e[s].createPathProxy(),e[s].path.setScale(o[0],o[1],e[s].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,o){for(var s=o.paths||[],u=0;u<s.length;u++)s[u].buildPath(e,s[u].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],o=0;o<e.length;o++)e[o].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),mt.prototype.getBoundingRect.call(this)},t}(mt);const te=J;var Ct=function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},r}();const oM=Ct;var NU=function(r){function t(e,o,s,u,c,f){var d=r.call(this,c)||this;return d.x=e??0,d.y=o??0,d.x2=s??1,d.y2=u??0,d.type="linear",d.global=f||!1,d}return Le(t,r),t}(oM);const cv=NU;var FU=function(r){function t(e,o,s,u,c){var f=r.call(this,u)||this;return f.x=e??.5,f.y=o??.5,f.r=s??.5,f.type="radial",f.global=c||!1,f}return Le(t,r),t}(oM);const Vf=FU;var is=[0,0],Uc=[0,0],Ay=new nt,eS=new nt,VU=function(){function r(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new nt;for(o=0;o<2;o++)this._axes[o]=new nt;t&&this.fromBoundingRect(t,e)}return r.prototype.fromBoundingRect=function(t,e){var o=this._corners,s=this._axes,u=t.x,c=t.y,f=u+t.width,d=c+t.height;if(o[0].set(u,c),o[1].set(f,c),o[2].set(f,d),o[3].set(u,d),e)for(var v=0;v<4;v++)o[v].transform(e);for(nt.sub(s[0],o[1],o[0]),nt.sub(s[1],o[3],o[0]),s[0].normalize(),s[1].normalize(),v=0;v<2;v++)this._origin[v]=s[v].dot(o[0])},r.prototype.intersect=function(t,e){var o=!0,s=!e;return Ay.set(1/0,1/0),eS.set(0,0),!this._intersectCheckOneSide(this,t,Ay,eS,s,1)&&(o=!1,s)||!this._intersectCheckOneSide(t,this,Ay,eS,s,-1)&&(o=!1,s)||s||nt.copy(e,o?Ay:eS),o},r.prototype._intersectCheckOneSide=function(t,e,o,s,u,c){for(var f=!0,d=0;d<2;d++){var v=this._axes[d];if(this._getProjMinMaxOnAxis(d,t._corners,is),this._getProjMinMaxOnAxis(d,e._corners,Uc),is[1]<Uc[0]||is[0]>Uc[1]){if(f=!1,u)return f;var g=Math.abs(Uc[0]-is[1]),m=Math.abs(is[0]-Uc[1]);Math.min(g,m)>s.len()&&nt.scale(s,v,g<m?-g*c:m*c)}else o&&(g=Math.abs(Uc[0]-is[1]),m=Math.abs(is[0]-Uc[1]),Math.min(g,m)<o.len()&&nt.scale(o,v,g<m?g*c:-m*c))}return f},r.prototype._getProjMinMaxOnAxis=function(t,e,o){for(var s=this._axes[t],u=this._origin,c=e[0].dot(s)+u[t],f=c,d=c,v=1;v<e.length;v++){var g=e[v].dot(s)+u[t];f=Math.min(g,f),d=Math.max(g,d)}o[0]=f,o[1]=d},r}();const zn=VU;var Ey=[],aO=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Le(t,r),t.prototype.traverse=function(e,o){e.call(o,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,o){o?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,o){o=o||!1;for(var s=0;s<e.length;s++)this.addDisplayable(e[s],o)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var o=this._cursor;o<this._displayables.length;o++)e&&e(this._displayables[o]);for(o=0;o<this._temporaryDisplayables.length;o++)e&&e(this._temporaryDisplayables[o])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(o=this._displayables[e]).parent=this,o.update(),o.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var o;(o=this._temporaryDisplayables[e]).parent=this,o.update(),o.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Xe(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var s=this._displayables[o],u=s.getBoundingRect().clone();s.needLocalTransform()&&u.applyTransform(s.getLocalTransform(Ey)),e.union(u)}this._rect=e}return this._rect},t.prototype.contain=function(e,o){var s=this.transformCoordToLocal(e,o);if(this.getBoundingRect().contain(s[0],s[1]))for(var c=0;c<this._displayables.length;c++)if(this._displayables[c].contain(e,o))return!0;return!1},t}(ya);const He=aO;var Iy=Math.max,tS=Math.min,nS={};function aM(r){return mt.extend(r)}var sO=function $k(r,t){var e=nM(r,t);return function(s){function u(c){var f=s.call(this,c)||this;return f.applyTransform=e.applyTransform,f.buildPath=e.buildPath,f}return Le(u,s),u}(eM)};function Oe(r,t){return sO(r,t)}function xa(r,t){nS[r]=t}function Py(r){if(nS.hasOwnProperty(r))return nS[r]}function hv(r,t,e,o){var s=rM(r,t);return e&&("center"===o&&(e=iS(e,s.getBoundingRect())),oS(s,e)),s}function rS(r,t,e){var o=new bn({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(s){"center"===e&&o.setStyle(iS(t,{width:s.width,height:s.height}))}});return o}function iS(r,t){var s,e=t.width/t.height,o=r.height*e;return s=o<=r.width?r.height:(o=r.width)/e,{x:r.x+r.width/2-o/2,y:r.y+r.height/2-s/2,width:o,height:s}}var Po=function qk(r,t){for(var e=[],o=r.length,s=0;s<o;s++)e.push(r[s].getUpdatedPathProxy(!0));var c=new mt(t);return c.createPathProxy(),c.buildPath=function(f){if(tM(f)){f.appendPath(e);var d=f.getContext();d&&f.rebuildPath(d,1)}},c};function oS(r,t){if(r.applyTransform){var o=r.getBoundingRect().calculateTransform(t);r.applyTransform(o)}}function Bf(r,t){return ab(r,r,{lineWidth:t}),r}function lO(r){return bi(r.shape,r.shape,r.style),r}var Ly=Ja;function Au(r,t){for(var e=yc([]);r&&r!==t;)_o(e,r.getLocalTransform(),e),r=r.parent;return e}function Da(r,t,e){return t&&!$r(t)&&(t=tu.getLocalTransform(t)),e&&(t=Bo([],t)),Or([],r,t)}function Ry(r,t,e){var o=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),s=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),u=["left"===r?-o:"right"===r?o:0,"top"===r?-s:"bottom"===r?s:0];return u=Da(u,t,e),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function ky(r){return!r.isGroup}function Oy(r,t,e){if(r&&t){var u=function o(c){var f={};return c.traverse(function(d){ky(d)&&d.anid&&(f[d.anid]=d)}),f}(r);t.traverse(function(c){if(ky(c)&&c.anid){var f=u[c.anid];if(f){var d=s(c);c.attr(s(f)),Yt(c,d,e,et(c).dataIndex)}}})}function s(c){var f={x:c.x,y:c.y,rotation:c.rotation};return function jc(r){return null!=r.shape}(c)&&(f.shape=ce({},c.shape)),f}}function sM(r,t){return me(r,function(e){var o=e[0];o=Iy(o,t.x),o=tS(o,t.x+t.width);var s=e[1];return s=Iy(s,t.y),[o,s=tS(s,t.y+t.height)]})}function aS(r,t){var e=Iy(r.x,t.x),o=tS(r.x+r.width,t.x+t.width),s=Iy(r.y,t.y),u=tS(r.y+r.height,t.y+t.height);if(o>=e&&u>=s)return{x:e,y:s,width:o-e,height:u-s}}function Ta(r,t,e){var o=ce({rectHover:!0},t),s=o.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},r)return 0===r.indexOf("image://")?(s.image=r.slice(8),Ve(s,e),new bn(o)):hv(r.replace("path://",""),o,e,"center")}function zf(r,t,e,o,s){for(var u=0,c=s[s.length-1];u<s.length;u++){var f=s[u];if(uO(r,t,e,o,f[0],f[1],c[0],c[1]))return!0;c=f}}function uO(r,t,e,o,s,u,c,f){var d=e-r,v=o-t,g=c-s,m=f-u,_=Ny(g,m,d,v);if(function CY(r){return r<=1e-6&&r>=-1e-6}(_))return!1;var w=r-s,S=t-u,x=Ny(w,S,d,v)/_;if(x<0||x>1)return!1;var D=Ny(w,S,g,m)/_;return!(D<0||D>1)}function Ny(r,t,e,o){return r*o-e*t}function Fy(r){var t=r.itemTooltipOption,e=r.componentModel,o=r.itemName,s=xe(t)?{formatter:t}:t,u=e.mainType,c=e.componentIndex,f={componentType:u,name:o,$vars:["name"]};f[u+"Index"]=c;var d=r.formatterParamsExtra;d&&H(pt(d),function(g){Ee(f,g)||(f[g]=d[g],f.$vars.push(g))});var v=et(r.el);v.componentMainType=u,v.componentIndex=c,v.tooltipConfig={name:o,option:Ve({content:o,formatterParams:f},s)}}function cO(r,t){var e;r.isGroup&&(e=t(r)),e||r.traverse(t)}function Wc(r,t){if(r)if(ge(r))for(var e=0;e<r.length;e++)cO(r[e],t);else cO(r,t)}xa("circle",rs),xa("ellipse",Xb),xa("sector",eo),xa("ring",Ff),xa("polygon",to),xa("polyline",Ni),xa("rect",Ot),xa("line",zr),xa("bezierCurve",Un),xa("arc",Jb);var lM=zt(),BU=Ji(),Er=function(){function r(){this.group=new Ze,this.uid=ke("viewChart"),this.renderTask=Bb({plan:zU,reset:fO}),this.renderTask.context={view:this}}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,o,s){},r.prototype.highlight=function(t,e,o,s){var u=t.getData(s&&s.dataType);u&&hO(u,s,"emphasis")},r.prototype.downplay=function(t,e,o,s){var u=t.getData(s&&s.dataType);u&&hO(u,s,"normal")},r.prototype.remove=function(t,e){this.group.removeAll()},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,o,s){this.render(t,e,o,s)},r.prototype.updateLayout=function(t,e,o,s){this.render(t,e,o,s)},r.prototype.updateVisual=function(t,e,o,s){this.render(t,e,o,s)},r.prototype.eachRendered=function(t){Wc(this.group,t)},r.markUpdateMethod=function(t,e){lM(t).updateMethod=e},r.protoInitialize=void(r.prototype.type="chart"),r}();function uM(r,t,e){r&&Ao(r)&&("emphasis"===t?fu:Xs)(r,e)}function hO(r,t,e){var o=ou(r,t),s=t&&null!=t.highlightKey?function kG(r){var t=bR[r];return null==t&&wR<=32&&(t=bR[r]=wR++),t}(t.highlightKey):null;null!=o?H(nn(o),function(u){uM(r.getItemGraphicEl(u),e,s)}):r.eachItemGraphicEl(function(u){uM(u,e,s)})}function zU(r){return BU(r.model)}function fO(r){var t=r.model,e=r.ecModel,o=r.api,s=r.payload,u=t.pipelineContext.progressiveRender,c=r.view,f=s&&lM(s).updateMethod,d=u?"incrementalPrepareRender":f&&c[f]?f:"render";return"render"!==d&&c[d](t,e,o,s),HU[d]}Yr(Er),su(Er);var HU={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const vn=Er;var Vy="\0__throttleOriginMethod",Hf="\0__throttleRate",dO="\0__throttleType";function sS(r,t,e){var o,f,d,v,g,s=0,u=0,c=null;function m(){u=(new Date).getTime(),c=null,r.apply(d,v||[])}t=t||0;var _=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];o=(new Date).getTime(),d=this,v=w;var x=g||t,D=g||e;g=null,f=o-(D?s:u)-x,clearTimeout(c),D?c=setTimeout(m,x):f>=0?m():c=setTimeout(m,-f),s=o};return _.clear=function(){c&&(clearTimeout(c),c=null)},_.debounceNextCall=function(w){g=w},_}function Gf(r,t,e,o){var s=r[t];if(s){var u=s[Vy]||s;if(s[Hf]!==e||s[dO]!==o){if(null==e||!o)return r[t]=u;(s=r[t]=sS(u,e,"debounce"===o))[Vy]=u,s[dO]=o,s[Hf]=e}return s}}function By(r,t){var e=r[t];e&&e[Vy]&&(e.clear&&e.clear(),r[t]=e[Vy])}var cM=zt(),GU={itemStyle:xc(jR,!0),lineStyle:xc(gT,!0)},fv={lineStyle:"stroke",itemStyle:"fill"};function jn(r,t){return r.visualStyleMapper||GU[t]||(console.warn("Unknown style type '"+t+"'."),GU.itemStyle)}function os(r,t){return r.visualDrawType||fv[t]||(console.warn("Unknown style type '"+t+"'."),"fill")}var UU={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData(),o=r.visualStyleAccessPath||"itemStyle",s=r.getModel(o),c=jn(r,o)(s),f=s.getShallow("decal");f&&(e.setVisual("decal",f),f.dirty=!0);var d=os(r,o),v=c[d],g=Ne(v)?v:null;if(!c[d]||g||"auto"===c.fill||"auto"===c.stroke){var _=r.getColorFromPalette(r.name,null,t.getSeriesCount());c[d]||(c[d]=_,e.setVisual("colorFromPalette",!0)),c.fill="auto"===c.fill||Ne(c.fill)?_:c.fill,c.stroke="auto"===c.stroke||Ne(c.stroke)?_:c.stroke}if(e.setVisual("style",c),e.setVisual("drawType",d),!t.isSeriesFiltered(r)&&g)return e.setVisual("colorFromPalette",!1),{dataEach:function(w,S){var x=r.getDataParams(S),D=ce({},c);D[d]=g(x),w.setItemVisual(S,"style",D)}}}},Lo=new Sn,rl={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.ignoreStyleOnData&&!t.isSeriesFiltered(r)){var e=r.getData(),o=r.visualStyleAccessPath||"itemStyle",s=jn(r,o),u=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(c,f){var d=c.getRawDataItem(f);if(d&&d[o]){Lo.option=d[o];var v=s(Lo);ce(c.ensureUniqueItemVisual(f,"style"),v),Lo.option.decal&&(c.setItemVisual(f,"decal",Lo.option.decal),Lo.option.decal.dirty=!0),u in v&&c.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},as={performRawSeries:!0,overallReset:function(r){var t=Re();r.eachSeries(function(e){var o=e.getColorBy();if(!e.isColorBySeries()){var s=e.type+"-"+o,u=t.get(s);u||t.set(s,u={}),cM(e).scope=u}}),r.eachSeries(function(e){if(!e.isColorBySeries()&&!r.isSeriesFiltered(e)){var o=e.getRawData(),s={},u=e.getData(),c=cM(e).scope,d=os(e,e.visualStyleAccessPath||"itemStyle");u.each(function(v){var g=u.getRawIndex(v);s[g]=v}),o.each(function(v){var g=s[v];if(u.getItemVisual(g,"colorFromPalette")){var _=u.ensureUniqueItemVisual(g,"style"),w=o.getName(v)||v+"",S=o.count();_[d]=e.getColorFromPalette(w,c,S)}})}})}},Ro=Math.PI,vO=function(){function r(t,e,o,s){this._stageTaskMap=Re(),this.ecInstance=t,this.api=e,o=this._dataProcessorHandlers=o.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=o.concat(s)}return r.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(o){var s=o.overallTask;s&&s.dirty()})},r.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var o=this._pipelineMap.get(t.__pipeline.id),s=o.context,c=!e&&o.progressiveEnabled&&(!s||s.progressiveRender)&&t.__idxInPipeline>o.blockIndex?o.step:null,f=s&&s.modDataCount;return{step:c,modBy:null!=f?Math.ceil(f/c):null,modDataCount:f}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,e){var o=this._pipelineMap.get(t.uid),u=t.getData().count(),c=o.progressiveEnabled&&e.incrementalPrepareRender&&u>=o.threshold,f=t.get("large")&&u>=t.get("largeThreshold"),d="mod"===t.get("progressiveChunkMode")?u:null;t.pipelineContext=o.context={progressiveRender:c,modDataCount:d,large:f}},r.prototype.restorePipelines=function(t){var e=this,o=e._pipelineMap=Re();t.eachSeries(function(s){var u=s.getProgressive(),c=s.uid;o.set(c,{id:c,head:null,tail:null,threshold:s.getProgressiveThreshold(),progressiveEnabled:u&&!(s.preventIncremental&&s.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),e._pipe(s,s.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),o=this.api;H(this._allHandlers,function(s){var u=t.get(s.uid)||t.set(s.uid,{});_n(!(s.reset&&s.overallReset),""),s.reset&&this._createSeriesStageTask(s,u,e,o),s.overallReset&&this._createOverallStageTask(s,u,e,o)},this)},r.prototype.prepareView=function(t,e,o,s){var u=t.renderTask,c=u.context;c.model=e,c.ecModel=o,c.api=s,u.__block=!t.incrementalPrepareRender,this._pipe(e,u)},r.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},r.prototype.performVisualTasks=function(t,e,o){this._performStageTasks(this._visualHandlers,t,e,o)},r.prototype._performStageTasks=function(t,e,o,s){s=s||{};var u=!1,c=this;function f(d,v){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(v.__pipeline.id))}H(t,function(d,v){if(!s.visualType||s.visualType===d.visualType){var g=c._stageTaskMap.get(d.uid),m=g.seriesTaskMap,_=g.overallTask;if(_){var w,S=_.agentStubMap;S.each(function(D){f(s,D)&&(D.dirty(),w=!0)}),w&&_.dirty(),c.updatePayload(_,o);var x=c.getPerformArgs(_,s.block);S.each(function(D){D.perform(x)}),_.perform(x)&&(u=!0)}else m&&m.each(function(D,T){f(s,D)&&D.dirty();var A=c.getPerformArgs(D,s.block);A.skip=!d.performRawSeries&&e.isSeriesFiltered(D.context.model),c.updatePayload(D,o),D.perform(A)&&(u=!0)})}}),this.unfinished=u||this.unfinished},r.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(o){e=o.dataTask.perform()||e}),this.unfinished=e||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},r.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},r.prototype._createSeriesStageTask=function(t,e,o,s){var u=this,c=e.seriesTaskMap,f=e.seriesTaskMap=Re(),d=t.seriesType,v=t.getTargetSeries;function g(m){var _=m.uid,w=f.set(_,c&&c.get(_)||Bb({plan:hM,reset:zy,count:YU}));w.context={model:m,ecModel:o,api:s,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:u},u._pipe(m,w)}t.createOnAllSeries?o.eachRawSeries(g):d?o.eachRawSeriesByType(d,g):v&&v(o,s).each(g)},r.prototype._createOverallStageTask=function(t,e,o,s){var u=this,c=e.overallTask=e.overallTask||Bb({reset:jU});c.context={ecModel:o,api:s,overallReset:t.overallReset,scheduler:u};var f=c.agentStubMap,d=c.agentStubMap=Re(),v=t.seriesType,g=t.getTargetSeries,m=!0,_=!1;function S(x){var D=x.uid,T=d.set(D,f&&f.get(D)||(_=!0,Bb({reset:WU,onDirty:qU})));T.context={model:x,overallProgress:m},T.agent=c,T.__block=m,u._pipe(x,T)}_n(!t.createOnAllSeries,""),v?o.eachRawSeriesByType(v,S):g?g(o,s).each(S):(m=!1,H(o.getSeries(),S)),_&&c.dirty()},r.prototype._pipe=function(t,e){var s=this._pipelineMap.get(t.uid);!s.head&&(s.head=e),s.tail&&s.tail.pipe(e),s.tail=e,e.__idxInPipeline=s.count++,e.__pipeline=s},r.wrapStageHandler=function(t,e){return Ne(t)&&(t={overallReset:t,seriesType:XU(t)}),t.uid=ke("stageHandler"),e&&(t.visualType=e),t},r}();function jU(r){r.overallReset(r.ecModel,r.api,r.payload)}function WU(r){return r.overallProgress&&$U}function $U(){this.agent.dirty(),this.getDownstream().dirty()}function qU(){this.agent&&this.agent.dirty()}function hM(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function zy(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=nn(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?me(t,function(e,o){return fM(o)}):ZU}var ZU=fM(0);function fM(r){return function(t,e){var o=e.data,s=e.resetDefines[r];if(s&&s.dataEach)for(var u=t.start;u<t.end;u++)s.dataEach(o,u);else s&&s.progress&&s.progress(t,o)}}function YU(r){return r.data.count()}function XU(r){Uf=null;try{r(dv,dM)}catch{}return Uf}var Uf,dv={},dM={};function gO(r,t){for(var e in t.prototype)r[e]=Mt}gO(dv,Ib),gO(dM,ck),dv.eachSeriesByType=dv.eachRawSeriesByType=function(r){Uf=r},dv.eachComponent=function(r){"series"===r.mainType&&r.subType&&(Uf=r.subType)};const pM=vO;var oe=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const mO={color:oe,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],oe]};var ro="#B9B8CE",yO="#100C2A",xt=function(){return{axisLine:{lineStyle:{color:ro}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},or=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],vM={darkMode:!0,color:or,backgroundColor:yO,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ro}},textStyle:{color:ro},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ro}},dataZoom:{borderColor:"#71708A",textStyle:{color:ro},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ro}},timeline:{lineStyle:{color:ro},label:{color:ro},controlStyle:{color:ro,borderColor:ro}},calendar:{itemStyle:{color:yO},dayLabel:{color:ro},monthLabel:{color:ro},yearLabel:{color:ro}},timeAxis:xt(),logAxis:xt(),valueAxis:xt(),categoryAxis:xt(),line:{symbol:"circle"},graph:{color:or},gauge:{title:{color:ro},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ro},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};vM.categoryAxis.splitLine.show=!1;const _O=vM;var wO=function(){function r(){}return r.prototype.normalizeQuery=function(t){var e={},o={},s={};if(xe(t)){var u=qs(t);e.mainType=u.main||null,e.subType=u.sub||null}else{var c=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};H(t,function(d,v){for(var g=!1,m=0;m<c.length;m++){var _=c[m],w=v.lastIndexOf(_);if(w>0&&w===v.length-_.length){var S=v.slice(0,w);"data"!==S&&(e.mainType=S,e[_.toLowerCase()]=d,g=!0)}}f.hasOwnProperty(v)&&(o[v]=d,g=!0),g||(s[v]=d)})}return{cptQuery:e,dataQuery:o,otherQuery:s}},r.prototype.filter=function(t,e){var o=this.eventInfo;if(!o)return!0;var s=o.targetEl,u=o.packedEvent,c=o.model,f=o.view;if(!c||!f)return!0;var d=e.cptQuery,v=e.dataQuery;return g(d,c,"mainType")&&g(d,c,"subType")&&g(d,c,"index","componentIndex")&&g(d,c,"name")&&g(d,c,"id")&&g(v,u,"name")&&g(v,u,"dataIndex")&&g(v,u,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(t,e.otherQuery,s,u));function g(m,_,w,S){return null==m[w]||_[S||w]===m[w]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),lS=["symbol","symbolSize","symbolRotate","symbolOffset"],gM=lS.concat(["symbolKeepAspect"]),bO={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData();if(r.legendIcon&&e.setVisual("legendIcon",r.legendIcon),r.hasSymbolVisual){for(var o={},s={},u=!1,c=0;c<lS.length;c++){var f=lS[c],d=r.get(f);Ne(d)?(u=!0,s[f]=d):o[f]=d}if(o.symbol=o.symbol||r.defaultSymbol,e.setVisual(ce({legendIcon:r.legendIcon||o.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},o)),!t.isSeriesFiltered(r)){var v=pt(s);return{dataEach:u?function g(m,_){for(var w=r.getRawValue(_),S=r.getDataParams(_),x=0;x<v.length;x++){var D=v[x];m.setItemVisual(_,D,s[D](w,S))}}:null}}}}},SO={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(r.hasSymbolVisual&&!t.isSeriesFiltered(r))return{dataEach:r.getData().hasItemOption?function o(s,u){for(var c=s.getItemModel(u),f=0;f<gM.length;f++){var d=gM[f],v=c.getShallow(d,!0);null!=v&&s.setItemVisual(u,d,v)}}:null}}};function uS(r,t,e){switch(e){case"color":return r.getItemVisual(t,"style")[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,e)}}function Hy(r,t){switch(t){case"color":return r.getVisual("style")[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function CO(r,t,e,o){switch(e){case"color":r.ensureUniqueItemVisual(t,"style")[r.getVisual("drawType")]=o,r.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(t,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(t,e,o)}}function xO(r,t){function e(o,s){var u=[];return o.eachComponent({mainType:"series",subType:r,query:s},function(c){u.push(c.seriesIndex)}),u}H([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(o){t(o[0],function(s,u,c){s=ce({},s),c.dispatchAction(ce(s,{type:o[1],seriesIndex:e(u,s)}))})})}function pv(r,t,e,o,s){var u=r+t;e.isSilent(u)||o.eachComponent({mainType:"series",subType:"pie"},function(c){for(var f=c.seriesIndex,d=c.option.selectedMap,v=s.selected,g=0;g<v.length;g++)if(v[g].seriesIndex===f){var m=c.getData(),_=ou(m,s.fromActionPayload);e.trigger(u,{type:u,seriesId:c.id,name:ge(_)?m.getName(_[0]):m.getName(_),selected:xe(d)?d:ce({},d)})}})}function jf(r,t,e){for(var o;r&&(!t(r)||(o=r,!e));)r=r.__hostTarget||r.parent;return o}var QU=Math.round(9*Math.random()),JU="function"==typeof Object.defineProperty,ej=function(){function r(){this._id="__ec_inner_"+QU++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,e){var o=this._guard(t);return JU?Object.defineProperty(o,this._id,{value:e,enumerable:!1,configurable:!0}):o[this._id]=e,this},r.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r}();const tj=ej;var nj=mt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,o=t.cy,s=t.width/2,u=t.height/2;r.moveTo(e,o-u),r.lineTo(e+s,o+u),r.lineTo(e-s,o+u),r.closePath()}}),rj=mt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,o=t.cy,s=t.width/2,u=t.height/2;r.moveTo(e,o-u),r.lineTo(e+s,o),r.lineTo(e,o+u),r.lineTo(e-s,o),r.closePath()}}),ij=mt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.x,o=t.y,s=t.width/5*3,u=Math.max(s,t.height),c=s/2,f=c*c/(u-c),d=o-u+c+f,v=Math.asin(f/c),g=Math.cos(v)*c,m=Math.sin(v),_=Math.cos(v),w=.6*c,S=.7*c;r.moveTo(e-g,d+f),r.arc(e,d,c,Math.PI-v,2*Math.PI+v),r.bezierCurveTo(e+g-m*w,d+f+_*w,e,o-S,e,o),r.bezierCurveTo(e,o-S,e-g+m*w,d+f+_*w,e-g,d+f),r.closePath()}}),oj=mt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.height,s=t.x,u=t.y,c=t.width/3*2;r.moveTo(s,u),r.lineTo(s+c,u+e),r.lineTo(s,u+e/4*3),r.lineTo(s-c,u+e),r.lineTo(s,u),r.closePath()}}),sj={line:function(r,t,e,o,s){s.x1=r,s.y1=t+o/2,s.x2=r+e,s.y2=t+o/2},rect:function(r,t,e,o,s){s.x=r,s.y=t,s.width=e,s.height=o},roundRect:function(r,t,e,o,s){s.x=r,s.y=t,s.width=e,s.height=o,s.r=Math.min(e,o)/4},square:function(r,t,e,o,s){var u=Math.min(e,o);s.x=r,s.y=t,s.width=u,s.height=u},circle:function(r,t,e,o,s){s.cx=r+e/2,s.cy=t+o/2,s.r=Math.min(e,o)/2},diamond:function(r,t,e,o,s){s.cx=r+e/2,s.cy=t+o/2,s.width=e,s.height=o},pin:function(r,t,e,o,s){s.x=r+e/2,s.y=t+o/2,s.width=e,s.height=o},arrow:function(r,t,e,o,s){s.x=r+e/2,s.y=t+o/2,s.width=e,s.height=o},triangle:function(r,t,e,o,s){s.cx=r+e/2,s.cy=t+o/2,s.width=e,s.height=o}},cS={};H({line:zr,rect:Ot,roundRect:Ot,square:Ot,circle:rs,diamond:rj,pin:ij,arrow:oj,triangle:nj},function(r,t){cS[t]=new r});var lj=mt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,e){var o=zw(r,t,e),s=this.shape;return s&&"pin"===s.symbolType&&"inside"===t.position&&(o.y=e.y+.4*e.height),o},buildPath:function(r,t,e){var o=t.symbolType;if("none"!==o){var s=cS[o];s||(s=cS[o="rect"]),sj[o](t.x,t.y,t.width,t.height,s.shape),s.buildPath(r,s.shape,e)}}});function DO(r,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=r,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=r:e.fill=r,this.markRedraw()}}function ar(r,t,e,o,s,u,c){var d,f=0===r.indexOf("empty");return f&&(r=r.substr(5,1).toLowerCase()+r.substr(6)),(d=0===r.indexOf("image://")?rS(r.slice(8),new Xe(t,e,o,s),c?"center":"cover"):0===r.indexOf("path://")?hv(r.slice(7),{},new Xe(t,e,o,s),c?"center":"cover"):new lj({shape:{symbolType:r,x:t,y:e,width:o,height:s}})).__isEmptyBrush=f,d.setColor=DO,u&&d.setColor(u),d}function Wf(r){return ge(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function $c(r,t){if(null!=r)return ge(r)||(r=[r,r]),[Ce(r[0],t[0])||0,Ce(Qe(r[1],r[0]),t[1])||0]}function qc(r){return isFinite(r)}function hS(r,t,e){for(var o="radial"===t.type?function MO(r,t,e){var o=e.width,s=e.height,u=Math.min(o,s),c=null==t.x?.5:t.x,f=null==t.y?.5:t.y,d=null==t.r?.5:t.r;return t.global||(c=c*o+e.x,f=f*s+e.y,d*=u),c=qc(c)?c:.5,f=qc(f)?f:.5,d=d>=0&&qc(d)?d:.5,r.createRadialGradient(c,f,0,c,f,d)}(r,t,e):function TO(r,t,e){var o=null==t.x?0:t.x,s=null==t.x2?1:t.x2,u=null==t.y?0:t.y,c=null==t.y2?0:t.y2;return t.global||(o=o*e.width+e.x,s=s*e.width+e.x,u=u*e.height+e.y,c=c*e.height+e.y),o=qc(o)?o:0,s=qc(s)?s:1,u=qc(u)?u:0,c=qc(c)?c:0,r.createLinearGradient(o,u,s,c)}(r,t,e),s=t.colorStops,u=0;u<s.length;u++)o.addColorStop(s[u].offset,s[u].color);return o}function Gy(r){return parseInt(r,10)}function Zc(r,t,e){var o=["width","height"][t],s=["clientWidth","clientHeight"][t],u=["paddingLeft","paddingTop"][t],c=["paddingRight","paddingBottom"][t];if(null!=e[o]&&"auto"!==e[o])return parseFloat(e[o]);var f=document.defaultView.getComputedStyle(r);return(r[s]||Gy(f[o])||Gy(r.style[o]))-(Gy(f[u])||0)-(Gy(f[c])||0)|0}function mM(r){var t=r.style,e=t.lineDash&&t.lineWidth>0&&function $f(r,t){return r&&"solid"!==r&&t>0?"dashed"===r?[4*t,2*t]:"dotted"===r?[t]:kt(r)?[r]:ge(r)?r:null:null}(t.lineDash,t.lineWidth),o=t.lineDashOffset;if(e){var s=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;s&&1!==s&&(e=me(e,function(u){return u/s}),o/=s)}return[e,o]}var uj=new Zs(!0);function Eu(r){var t=r.stroke;return!(null==t||"none"===t||!(r.lineWidth>0))}function cj(r){return"string"==typeof r&&"none"!==r}function di(r){var t=r.fill;return null!=t&&"none"!==t}function hj(r,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=e}else r.fill()}function yM(r,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=e}else r.stroke()}function fS(r,t,e){var o=KL(t.image,t.__image,e);if(ID(o)){var s=r.createPattern(o,t.repeat||"repeat");if("function"==typeof DOMMatrix&&s&&s.setTransform){var u=new DOMMatrix;u.translateSelf(t.x||0,t.y||0),u.rotateSelf(0,0,(t.rotation||0)*Bl),u.scaleSelf(t.scaleX||1,t.scaleY||1),s.setTransform(u)}return s}}var EO=["shadowBlur","shadowOffsetX","shadowOffsetY"],IO=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function qf(r,t,e,o,s){var u=!1;if(!o&&t===(e=e||{}))return!1;if(o||t.opacity!==e.opacity){io(r,s),u=!0;var c=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(c)?rf.opacity:c}(o||t.blend!==e.blend)&&(u||(io(r,s),u=!0),r.globalCompositeOperation=t.blend||rf.blend);for(var f=0;f<EO.length;f++){var d=EO[f];(o||t[d]!==e[d])&&(u||(io(r,s),u=!0),r[d]=r.dpr*(t[d]||0))}return(o||t.shadowColor!==e.shadowColor)&&(u||(io(r,s),u=!0),r.shadowColor=t.shadowColor||rf.shadowColor),u}function PO(r,t,e,o,s){var u=vv(t,s.inHover),c=o?null:e&&vv(e,s.inHover)||{};if(u===c)return!1;var f=qf(r,u,c,o,s);if((o||u.fill!==c.fill)&&(f||(io(r,s),f=!0),cj(u.fill)&&(r.fillStyle=u.fill)),(o||u.stroke!==c.stroke)&&(f||(io(r,s),f=!0),cj(u.stroke)&&(r.strokeStyle=u.stroke)),(o||u.opacity!==c.opacity)&&(f||(io(r,s),f=!0),r.globalAlpha=null==u.opacity?1:u.opacity),t.hasStroke()){var v=u.lineWidth/(u.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==v&&(f||(io(r,s),f=!0),r.lineWidth=v)}for(var g=0;g<IO.length;g++){var m=IO[g],_=m[0];(o||u[_]!==c[_])&&(f||(io(r,s),f=!0),r[_]=u[_]||m[1])}return f}function Uy(r,t){var e=t.transform,o=r.dpr||1;e?r.setTransform(o*e[0],o*e[1],o*e[2],o*e[3],o*e[4],o*e[5]):r.setTransform(o,0,0,o,0,0)}var _M=1,wM=2,LO=3,bM=4;function io(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function vv(r,t){return t&&r.__hoverStyle||r.style}function SM(r,t){Zf(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Zf(r,t,e,o){var s=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=~Ui,void(t.__isRendered=!1);var u=t.__clipPaths,c=e.prevElClipPaths,f=!1,d=!1;if((!c||function AO(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!0;return!1}(u,c))&&(c&&c.length&&(io(r,e),r.restore(),d=f=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),u&&u.length&&(io(r,e),r.save(),function ko(r,t,e){for(var o=!1,s=0;s<r.length;s++){var u=r[s];o=o||u.isZeroArea(),Uy(t,u),t.beginPath(),u.buildPath(t,u.shape),t.clip()}e.allClipped=o}(u,r,e),f=!0),e.prevElClipPaths=u),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var v=e.prevEl;v||(d=f=!0);var g=t instanceof mt&&t.autoBatch&&function RO(r){var t=di(r),e=Eu(r);return!(r.lineDash||!(+t^+e)||t&&"string"!=typeof r.fill||e&&"string"!=typeof r.stroke||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}(t.style);f||function DY(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}(s,v.transform)?(io(r,e),Uy(r,t)):g||io(r,e);var m=vv(t,e.inHover);t instanceof mt?(e.lastDrawType!==_M&&(d=!0,e.lastDrawType=_M),PO(r,t,v,d,e),(!g||!e.batchFill&&!e.batchStroke)&&r.beginPath(),function xY(r,t,e,o){var s,u=Eu(e),c=di(e),f=e.strokePercent,d=f<1,v=!t.path;(!t.silent||d)&&v&&t.createPathProxy();var g=t.path||uj,m=t.__dirty;if(!o){var _=e.fill,w=e.stroke,S=c&&!!_.colorStops,x=u&&!!w.colorStops,D=c&&!!_.image,T=u&&!!w.image,A=void 0,E=void 0,P=void 0,N=void 0,k=void 0;(S||x)&&(k=t.getBoundingRect()),S&&(A=m?hS(r,_,k):t.__canvasFillGradient,t.__canvasFillGradient=A),x&&(E=m?hS(r,w,k):t.__canvasStrokeGradient,t.__canvasStrokeGradient=E),D&&(P=m||!t.__canvasFillPattern?fS(r,_,t):t.__canvasFillPattern,t.__canvasFillPattern=P),T&&(N=m||!t.__canvasStrokePattern?fS(r,w,t):t.__canvasStrokePattern,t.__canvasStrokePattern=P),S?r.fillStyle=A:D&&(P?r.fillStyle=P:c=!1),x?r.strokeStyle=E:T&&(N?r.strokeStyle=N:u=!1)}var B,z,F=t.getGlobalScale();g.setScale(F[0],F[1],t.segmentIgnoreThreshold),r.setLineDash&&e.lineDash&&(B=(s=mM(t))[0],z=s[1]);var j=!0;(v||m&wc)&&(g.setDPR(r.dpr),d?g.setContext(null):(g.setContext(r),j=!1),g.reset(),t.buildPath(g,t.shape,o),g.toStatic(),t.pathUpdated()),j&&g.rebuildPath(r,d?f:1),B&&(r.setLineDash(B),r.lineDashOffset=z),o||(e.strokeFirst?(u&&yM(r,e),c&&hj(r,e)):(c&&hj(r,e),u&&yM(r,e))),B&&r.setLineDash([])}(r,t,m,g),g&&(e.batchFill=m.fill||"",e.batchStroke=m.stroke||"")):t instanceof qm?(e.lastDrawType!==LO&&(d=!0,e.lastDrawType=LO),PO(r,t,v,d,e),function fj(r,t,e){var o,s=e.text;if(null!=s&&(s+=""),s){r.font=e.font||Es,r.textAlign=e.textAlign,r.textBaseline=e.textBaseline;var u=void 0,c=void 0;r.setLineDash&&e.lineDash&&(u=(o=mM(t))[0],c=o[1]),u&&(r.setLineDash(u),r.lineDashOffset=c),e.strokeFirst?(Eu(e)&&r.strokeText(s,e.x,e.y),di(e)&&r.fillText(s,e.x,e.y)):(di(e)&&r.fillText(s,e.x,e.y),Eu(e)&&r.strokeText(s,e.x,e.y)),u&&r.setLineDash([])}}(r,t,m)):t instanceof bn?(e.lastDrawType!==wM&&(d=!0,e.lastDrawType=wM),function dS(r,t,e,o,s){qf(r,vv(t,s.inHover),e&&vv(e,s.inHover),o,s)}(r,t,v,d,e),function Wn(r,t,e){var o=t.__image=KL(e.image,t.__image,t,t.onload);if(o&&ID(o)){var s=e.x||0,u=e.y||0,c=t.getWidth(),f=t.getHeight(),d=o.width/o.height;if(null==c&&null!=f?c=f*d:null==f&&null!=c?f=c/d:null==c&&null==f&&(c=o.width,f=o.height),e.sWidth&&e.sHeight)r.drawImage(o,v=e.sx||0,g=e.sy||0,e.sWidth,e.sHeight,s,u,c,f);else if(e.sx&&e.sy){var v,g;r.drawImage(o,v=e.sx,g=e.sy,c-v,f-g,s,u,c,f)}else r.drawImage(o,s,u,c,f)}}(r,t,m)):t.getTemporalDisplayables&&(e.lastDrawType!==bM&&(d=!0,e.lastDrawType=bM),function dj(r,t,e){var o=t.getDisplayables(),s=t.getTemporalDisplayables();r.save();var c,f,u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover};for(c=t.getCursor(),f=o.length;c<f;c++)(d=o[c]).beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),Zf(r,d,u,c===f-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d;for(var v=0,g=s.length;v<g;v++){var d;(d=s[v]).beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),Zf(r,d,u,v===g-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}(r,t,e)),g&&o&&io(r,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var Yf=new tj,kO=new Kl(100),OO=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function gv(r,t){if("none"===r)return null;var e=t.getDevicePixelRatio(),o=t.getZr(),s="svg"===o.painter.type;r.dirty&&Yf.delete(r);var u=Yf.get(r);if(u)return u;var c=Ve(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===c.backgroundColor&&(c.backgroundColor=null);var f={repeat:"repeat"};return function d(v){for(var g=[e],m=!0,_=0;_<OO.length;++_){var w=c[OO[_]];if(null!=w&&!ge(w)&&!xe(w)&&!kt(w)&&"boolean"!=typeof w){m=!1;break}g.push(w)}var S;if(m){S=g.join(",")+(s?"-svg":"");var x=kO.get(S);x&&(s?v.svgElement=x:v.image=x)}var B,D=CM(c.dashArrayX),T=function NO(r){if(!r||"object"==typeof r&&0===r.length)return[0,0];if(kt(r)){var t=Math.ceil(r);return[t,t]}var e=me(r,function(o){return Math.ceil(o)});return r.length%2?e.concat(e):e}(c.dashArrayY),A=jy(c.symbol),E=function FO(r){return me(r,function(t){return VO(t)})}(D),P=VO(T),N=!s&&Lr.createCanvas(),k=s&&{tag:"g",attrs:{},key:"dcl",children:[]},F=function z(){for(var W=1,q=0,Y=E.length;q<Y;++q)W=Ww(W,E[q]);var K=1;for(q=0,Y=A.length;q<Y;++q)K=Ww(K,A[q].length);W*=K;var Q=P*E.length*A.length;return{width:Math.max(1,Math.min(W,c.maxTileWidth)),height:Math.max(1,Math.min(Q,c.maxTileHeight))}}();N&&(N.width=F.width*e,N.height=F.height*e,B=N.getContext("2d")),function j(){B&&(B.clearRect(0,0,N.width,N.height),c.backgroundColor&&(B.fillStyle=c.backgroundColor,B.fillRect(0,0,N.width,N.height)));for(var W=0,q=0;q<T.length;++q)W+=T[q];if(!(W<=0))for(var Y=-P,K=0,Q=0,re=0;Y<F.height;){if(K%2==0){for(var le=Q/2%A.length,se=0,de=0,be=0;se<2*F.width;){var De=0;for(q=0;q<D[re].length;++q)De+=D[re][q];if(De<=0)break;if(de%2==0){var Fe=.5*(1-c.symbolSize);Ke(se+D[re][de]*Fe,Y+T[K]*Fe,D[re][de]*c.symbolSize,T[K]*c.symbolSize,A[le][be/2%A[le].length])}se+=D[re][de],++be,++de===D[re].length&&(de=0)}++re===D.length&&(re=0)}Y+=T[K],++Q,++K===T.length&&(K=0)}function Ke(_t,st,Be,lt,$n){var Xt=s?1:e,lr=ar($n,_t*Xt,st*Xt,Be*Xt,lt*Xt,c.color,c.symbolKeepAspect);if(s){var ur=o.painter.renderOneToVNode(lr);ur&&k.children.push(ur)}else SM(B,lr)}}(),m&&kO.put(S,N||k),v.image=N,v.svgElement=k,v.svgWidth=F.width,v.svgHeight=F.height}(f),f.rotation=c.rotation,f.scaleX=f.scaleY=s?1:1/e,Yf.set(r,f),r.dirty=!1,f}function jy(r){if(!r||0===r.length)return[["rect"]];if(xe(r))return[[r]];for(var t=!0,e=0;e<r.length;++e)if(!xe(r[e])){t=!1;break}if(t)return jy([r]);var o=[];for(e=0;e<r.length;++e)xe(r[e])?o.push([r[e]]):o.push(r[e]);return o}function CM(r){if(!r||0===r.length)return[[0,0]];if(kt(r))return[[t=Math.ceil(r),t]];for(var e=!0,o=0;o<r.length;++o)if(!kt(r[o])){e=!1;break}if(e)return CM([r]);var s=[];for(o=0;o<r.length;++o)if(kt(r[o])){var t=Math.ceil(r[o]);s.push([t,t])}else t=me(r[o],function(f){return Math.ceil(f)}),s.push(t.length%2==1?t.concat(t):t);return s}function VO(r){for(var t=0,e=0;e<r.length;++e)t+=r[e];return r.length%2==1?2*t:t}const ss=new yo;var BO={};function xM(r){return BO[r]}var zO="5.4.3",HO={zrender:"5.4.4"},TY=2e3,yj=1e3,qy=3e3,WO={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:yj,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:qy,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Fi="__flagInMainProcess",Qo="__pendingUpdate",DM="__needsUpdateStatus",TM=/^[a-zA-Z0-9_]+$/,MM="__connectUpdateStatus";function AM(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return EM(this,r,t)}}function qO(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return EM(this,r,t)}}function EM(r,t,e){return e[0]=e[0]&&e[0].toLowerCase(),yo.prototype[t].apply(r,e)}var ZO=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t}(yo),IM=ZO.prototype;IM.on=qO("on"),IM.off=qO("off");var mv,Xy,gS,Iu,mS,PM,LM,Ky,Xf,YO,RM,kM,XO,yS,KO,QO,Ma,JO,_S=function(r){function t(e,o,s){var u=r.call(this,new wO)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],s=s||{},xe(o)&&(o=tN[o]),u._dom=e;var m=u._zr=gD(e,{renderer:s.renderer||"canvas",devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:Qe(s.useDirtyRect,!1),useCoarsePointer:Qe(s.useCoarsePointer,"auto"),pointerSize:s.pointerSize});u._ssr=s.ssr,u._throttledZrFlush=sS(Me(m.flush,m),17),(o=Ge(o))&&RT(o,!0),u._theme=o,u._locale=function _T(r){if(xe(r)){var t=bf[r.toUpperCase()]||{};return"ZH"===r||"EN"===r?Ge(t):tt(Ge(t),Ge(bf[jp]),!1)}return tt(Ge(r),Ge(bf[jp]),!1)}(s.locale||mb),u._coordSysMgr=new Qp;var _=u._api=KO(u);function w(S,x){return S.__prio-x.__prio}return qh(SS,w),qh(OM,w),u._scheduler=new pM(u,_,OM,SS),u._messageCenter=new ZO,u._initEvents(),u.resize=Me(u.resize,u),m.animation.on("frame",u._onframe,u),YO(m,u),RM(m,u),za(u),u}return ae(t,r),t.prototype._onframe=function(){if(!this._disposed){JO(this);var e=this._scheduler;if(this[Qo]){var o=this[Qo].silent;this[Fi]=!0;try{mv(this),Iu.update.call(this,null,this[Qo].updateParams)}catch(d){throw this[Fi]=!1,this[Qo]=null,d}this._zr.flush(),this[Fi]=!1,this[Qo]=null,Ky.call(this,o),Xf.call(this,o)}else if(e.unfinished){var s=1,u=this._model,c=this._api;e.unfinished=!1;do{var f=+new Date;e.performSeriesTasks(u),e.performDataProcessorTasks(u),PM(this,u),e.performVisualTasks(u),yS(this,this._model,c,"remain",{}),s-=+new Date-f}while(s>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,o,s){if(!this[Fi]){if(this._disposed)return;var u,c,f;if(Ue(o)&&(s=o.lazyUpdate,u=o.silent,c=o.replaceMerge,f=o.transition,o=o.notMerge),this[Fi]=!0,!this._model||o){var d=new oU(this._api),v=this._theme,g=this._model=new Ib;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,v,this._locale,d)}this._model.setOption(e,{replaceMerge:c},NM);var m={seriesTransition:f,optionChanged:!0};if(s)this[Qo]={silent:u,updateParams:m},this[Fi]=!1,this.getZr().wakeUp();else{try{mv(this),Iu.update.call(this,null,m)}catch(_){throw this[Qo]=null,this[Fi]=!1,_}this._ssr||this._zr.flush(),this[Qo]=null,this[Fi]=!1,Ky.call(this,u),Xf.call(this,u)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Pt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if(Pt.svgSupported){var e=this._zr;return H(e.storage.getDisplayList(),function(s){s.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var s=this._model,u=[],c=this;H((e=e||{}).excludeComponents,function(d){s.eachComponent({mainType:d},function(v){var g=c._componentsMap[v.__viewId];g.group.ignore||(u.push(g),g.group.ignore=!0)})});var f="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return H(u,function(d){d.group.ignore=!1}),f}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var o="svg"===e.type,s=this.group,u=Math.min,c=Math.max,f=1/0;if(Jy[s]){var d=f,v=f,g=-f,m=-f,_=[],w=e&&e.pixelRatio||this.getDevicePixelRatio();H(Pu,function(E,P){if(E.group===s){var N=o?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(Ge(e)),k=E.getDom().getBoundingClientRect();d=u(k.left,d),v=u(k.top,v),g=c(k.right,g),m=c(k.bottom,m),_.push({dom:N,left:k.left,top:k.top})}});var S=(g*=w)-(d*=w),x=(m*=w)-(v*=w),D=Lr.createCanvas(),T=gD(D,{renderer:o?"svg":"canvas"});if(T.resize({width:S,height:x}),o){var A="";return H(_,function(E){A+='<g transform="translate('+(E.left-d)+","+(E.top-v)+')">'+E.dom+"</g>"}),T.painter.getSvgRoot().innerHTML=A,e.connectedBackgroundColor&&T.painter.setBackgroundColor(e.connectedBackgroundColor),T.refreshImmediately(),T.painter.toDataURL()}return e.connectedBackgroundColor&&T.add(new Ot({shape:{x:0,y:0,width:S,height:x},style:{fill:e.connectedBackgroundColor}})),H(_,function(E){var P=new bn({style:{x:E.left*w-d,y:E.top*w-v,image:E.dom}});T.add(P)}),T.refreshImmediately(),D.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,o){return mS(this,"convertToPixel",e,o)},t.prototype.convertFromPixel=function(e,o){return mS(this,"convertFromPixel",e,o)},t.prototype.containPixel=function(e,o){var u;if(!this._disposed)return H(tf(this._model,e),function(f,d){d.indexOf("Models")>=0&&H(f,function(v){var g=v.coordinateSystem;if(g&&g.containPoint)u=u||!!g.containPoint(o);else if("seriesModels"===d){var m=this._chartsMap[v.__viewId];m&&m.containPoint&&(u=u||m.containPoint(o,v))}},this)},this),!!u},t.prototype.getVisual=function(e,o){var u=tf(this._model,e,{defaultMainType:"series"}),f=u.seriesModel.getData(),d=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?f.indexOfRawIndex(u.dataIndex):null;return null!=d?uS(f,d,o):Hy(f,o)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;H(eN,function(o){var s=function(u){var d,c=e.getModel(),f=u.target;if("globalout"===o?d={}:f&&jf(f,function(S){var x=et(S);if(x&&null!=x.dataIndex){var D=x.dataModel||c.getSeriesByIndex(x.seriesIndex);return d=D&&D.getDataParams(x.dataIndex,x.dataType,f)||{},!0}if(x.eventData)return d=ce({},x.eventData),!0},!0),d){var g=d.componentType,m=d.componentIndex;("markLine"===g||"markPoint"===g||"markArea"===g)&&(g="series",m=d.seriesIndex);var _=g&&null!=m&&c.getComponent(g,m),w=_&&e["series"===_.mainType?"_chartsMap":"_componentsMap"][_.__viewId];d.event=u,d.type=o,e._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:_,view:w},e.trigger(o,d)}};s.zrEventfulCallAtLast=!0,e._zr.on(o,s,e)}),H(yv,function(o,s){e._messageCenter.on(s,function(u){this.trigger(s,u)},e)}),H(["selectchanged"],function(o){e._messageCenter.on(o,function(s){this.trigger(o,s)},e)}),function KU(r,t,e){r.on("selectchanged",function(o){var s=e.getModel();o.isFromClick?(pv("map","selectchanged",t,s,o),pv("pie","selectchanged",t,s,o)):"select"===o.fromAction?(pv("map","selected",t,s,o),pv("pie","selected",t,s,o)):"unselect"===o.fromAction&&(pv("map","unselected",t,s,o),pv("pie","unselected",t,s,o))})}(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&TD(this.getDom(),VM,"");var o=this,s=o._api,u=o._model;H(o._componentsViews,function(c){c.dispose(u,s)}),H(o._chartsViews,function(c){c.dispose(u,s)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete Pu[o.id]}},t.prototype.resize=function(e){if(!this[Fi]){if(this._disposed)return;this._zr.resize(e);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),o){var s=o.resetOption("media"),u=e&&e.silent;this[Qo]&&(null==u&&(u=this[Qo].silent),s=!0,this[Qo]=null),this[Fi]=!0;try{s&&mv(this),Iu.update.call(this,{type:"resize",animation:ce({duration:0},e&&e.animation)})}catch(c){throw this[Fi]=!1,c}this[Fi]=!1,Ky.call(this,u),Xf.call(this,u)}}},t.prototype.showLoading=function(e,o){if(!this._disposed&&(Ue(e)&&(o=e,e=""),e=e||"default",this.hideLoading(),Qy[e])){var s=Qy[e](this._api,o),u=this._zr;this._loadingFX=s,u.add(s)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var o=ce({},e);return o.type=yv[e.type],o},t.prototype.dispatchAction=function(e,o){if(!this._disposed&&(Ue(o)||(o={silent:!!o}),bS[e.type]&&this._model)){if(this[Fi])return void this._pendingActions.push(e);var s=o.silent;LM.call(this,e,s);var u=o.flush;u?this._zr.flush():!1!==u&&Pt.browser.weChat&&this._throttledZrFlush(),Ky.call(this,s),Xf.call(this,s)}},t.prototype.updateLabelLayout=function(){ss.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(!this._disposed){var o=e.seriesIndex;this.getModel().getSeriesByIndex(o).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(m){m.clearColorPalette(),m.eachSeries(function(_){_.clearColorPalette()})}function s(m){for(var _=[],w=m.currentStates,S=0;S<w.length;S++){var x=w[S];"emphasis"===x||"blur"===x||"select"===x||_.push(x)}m.selected&&m.states.select&&_.push("select"),m.hoverState===Ym&&m.states.emphasis?_.push("emphasis"):m.hoverState===Zm&&m.states.blur&&_.push("blur"),m.useStates(_)}function f(m,_){if(!m.preventAutoZ){var w=m.get("z")||0,S=m.get("zlevel")||0;_.eachRendered(function(x){return d(x,w,S,-1/0),!0})}}function d(m,_,w,S){var x=m.getTextContent(),D=m.getTextGuideLine();if(m.isGroup)for(var A=m.childrenRef(),E=0;E<A.length;E++)S=Math.max(d(A[E],_,w,S),S);else m.z=_,m.zlevel=w,S=Math.max(m.z2,S);if(x&&(x.z=_,x.zlevel=w,isFinite(S)&&(x.z2=S+2)),D){var P=m.textGuideLineConfig;D.z=_,D.zlevel=w,isFinite(S)&&(D.z2=S+(P&&P.showAbove?1:-1))}return S}function v(m,_){_.eachRendered(function(w){if(!Gp(w)){var S=w.getTextContent(),x=w.getTextGuideLine();w.stateTransition&&(w.stateTransition=null),S&&S.stateTransition&&(S.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),w.hasState()?(w.prevStates=w.currentStates,w.clearStates()):w.prevStates&&(w.prevStates=null)}})}function g(m,_){var w=m.getModel("stateAnimation"),S=m.isAnimationEnabled(),x=w.get("duration"),D=x>0?{duration:x,delay:w.get("delay"),easing:w.get("easing")}:null;_.eachRendered(function(T){if(T.states&&T.states.emphasis){if(Gp(T))return;if(T instanceof mt&&function OG(r){var t=SR(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var e=r.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}(T),T.__dirty){var A=T.prevStates;A&&T.useStates(A)}if(S){T.stateTransition=D;var E=T.getTextContent(),P=T.getTextGuideLine();E&&(E.stateTransition=D),P&&(P.stateTransition=D)}T.__dirty&&s(T)}})}mv=function(m){var _=m._scheduler;_.restorePipelines(m._model),_.prepareStageTasks(),Xy(m,!0),Xy(m,!1),_.plan()},Xy=function(m,_){for(var w=m._model,S=m._scheduler,x=_?m._componentsViews:m._chartsViews,D=_?m._componentsMap:m._chartsMap,T=m._zr,A=m._api,E=0;E<x.length;E++)x[E].__alive=!1;function P(k){var F=k.__requireNewView;k.__requireNewView=!1;var B="_ec_"+k.id+"_"+k.type,z=!F&&D[B];if(!z){var j=qs(k.type);(z=new(_?Bn.getClass(j.main,j.sub):vn.getClass(j.sub))).init(w,A),D[B]=z,x.push(z),T.add(z.group)}k.__viewId=z.__id=B,z.__alive=!0,z.__model=k,z.group.__ecComponentInfo={mainType:k.mainType,index:k.componentIndex},!_&&S.prepareView(z,k,w,A)}for(_?w.eachComponent(function(k,F){"series"!==k&&P(F)}):w.eachSeries(P),E=0;E<x.length;){var N=x[E];N.__alive?E++:(!_&&N.renderTask.dispose(),T.remove(N.group),N.dispose(w,A),x.splice(E,1),D[N.__id]===N&&delete D[N.__id],N.__id=N.group.__ecComponentInfo=null)}},gS=function(m,_,w,S,x){var D=m._model;if(D.setUpdatePayload(w),S){var T={};T[S+"Id"]=w[S+"Id"],T[S+"Index"]=w[S+"Index"],T[S+"Name"]=w[S+"Name"];var A={mainType:S,query:T};x&&(A.subType=x);var P,E=w.excludeSeriesId;null!=E&&(P=Re(),H(nn(E),function(k){var F=vr(k,null);null!=F&&P.set(F,!0)})),D&&D.eachComponent(A,function(k){if(!P||null==P.get(k.id))if(OR(w))if(k instanceof Mn)w.type===vf&&!w.notBlur&&!k.get(["emphasis","disabled"])&&function oT(r,t,e){var o=r.seriesIndex,s=r.getData(t.dataType);if(s){var u=ou(s,t);u=(ge(u)?u[0]:u)||0;var c=s.getItemGraphicEl(u);if(!c)for(var f=s.count(),d=0;!c&&d<f;)c=s.getItemGraphicEl(d++);if(c){var v=et(c);LR(o,v.focus,v.blurScope,e)}else{var g=r.get(["emphasis","focus"]),m=r.get(["emphasis","blurScope"]);null!=g&&LR(o,g,m,e)}}}(k,w,m._api);else{var B=aT(k.mainType,k.componentIndex,w.name,m._api),j=B.dispatchers;w.type===vf&&B.focusSelf&&!w.notBlur&&iT(k.mainType,k.componentIndex,m._api),j&&H(j,function(W){w.type===vf?fu(W):Xs(W)})}else cT(w)&&k instanceof Mn&&(function sT(r,t,e){if(cT(t)){var o=t.dataType,u=ou(r.getData(o),t);ge(u)||(u=[u]),r[t.type===Bp?"toggleSelect":t.type===Vp?"select":"unselect"](u,o)}}(k,w),lT(k),Ma(m))},m),D&&D.eachComponent(A,function(k){P&&null!=P.get(k.id)||N(m["series"===S?"_chartsMap":"_componentsMap"][k.__viewId])},m)}else H([].concat(m._componentsViews).concat(m._chartsViews),N);function N(k){k&&k.__alive&&k[_]&&k[_](k.__model,D,m._api,w)}},Iu={prepareAndUpdate:function(m){mv(this),Iu.update.call(this,m,{optionChanged:null!=m.newOption})},update:function(m,_){var w=this._model,S=this._api,x=this._zr,D=this._coordSysMgr,T=this._scheduler;if(w){w.setUpdatePayload(m),T.restoreData(w,m),T.performSeriesTasks(w),D.create(w,S),T.performDataProcessorTasks(w,m),PM(this,w),D.update(w,S),e(w),T.performVisualTasks(w,m),kM(this,w,S,m,_);var A=w.get("backgroundColor")||"transparent",E=w.get("darkMode");x.setBackgroundColor(A),null!=E&&"auto"!==E&&x.setDarkMode(E),ss.trigger("afterupdate",w,S)}},updateTransform:function(m){var _=this,w=this._model,S=this._api;if(w){w.setUpdatePayload(m);var x=[];w.eachComponent(function(T,A){if("series"!==T){var E=_.getViewOfComponentModel(A);if(E&&E.__alive)if(E.updateTransform){var P=E.updateTransform(A,w,S,m);P&&P.update&&x.push(E)}else x.push(E)}});var D=Re();w.eachSeries(function(T){var A=_._chartsMap[T.__viewId];if(A.updateTransform){var E=A.updateTransform(T,w,S,m);E&&E.update&&D.set(T.uid,1)}else D.set(T.uid,1)}),e(w),this._scheduler.performVisualTasks(w,m,{setDirty:!0,dirtyMap:D}),yS(this,w,S,m,{},D),ss.trigger("afterupdate",w,S)}},updateView:function(m){var _=this._model;_&&(_.setUpdatePayload(m),vn.markUpdateMethod(m,"updateView"),e(_),this._scheduler.performVisualTasks(_,m,{setDirty:!0}),kM(this,_,this._api,m,{}),ss.trigger("afterupdate",_,this._api))},updateVisual:function(m){var _=this,w=this._model;w&&(w.setUpdatePayload(m),w.eachSeries(function(S){S.getData().clearAllVisual()}),vn.markUpdateMethod(m,"updateVisual"),e(w),this._scheduler.performVisualTasks(w,m,{visualType:"visual",setDirty:!0}),w.eachComponent(function(S,x){if("series"!==S){var D=_.getViewOfComponentModel(x);D&&D.__alive&&D.updateVisual(x,w,_._api,m)}}),w.eachSeries(function(S){_._chartsMap[S.__viewId].updateVisual(S,w,_._api,m)}),ss.trigger("afterupdate",w,this._api))},updateLayout:function(m){Iu.update.call(this,m)}},mS=function(m,_,w,S){if(!m._disposed)for(var T,x=m._model,D=m._coordSysMgr.getCoordinateSystems(),A=tf(x,w),E=0;E<D.length;E++){var P=D[E];if(P[_]&&null!=(T=P[_](x,A,S)))return T}},PM=function(m,_){var w=m._chartsMap,S=m._scheduler;_.eachSeries(function(x){S.updateStreamModes(x,w[x.__viewId])})},LM=function(m,_){var w=this,S=this.getModel(),x=m.type,D=m.escapeConnect,T=bS[x],A=T.actionInfo,E=(A.update||"update").split(":"),P=E.pop(),N=null!=E[0]&&qs(E[0]);this[Fi]=!0;var k=[m],F=!1;m.batch&&(F=!0,k=me(m.batch,function(K){return(K=Ve(ce({},K),m)).batch=null,K}));var z,B=[],j=cT(m),W=OR(m);if(W&&PR(this._api),H(k,function(K){if((z=(z=T.action(K,w._model,w._api))||ce({},K)).type=A.event||z.type,B.push(z),W){var Q=DD(m),se=Q.mainTypeSpecified?Q.queryOptionMap.keys()[0]:"series";gS(w,P,K,se),Ma(w)}else j?(gS(w,P,K,"series"),Ma(w)):N&&gS(w,P,K,N.main,N.sub)}),"none"!==P&&!W&&!j&&!N)try{this[Qo]?(mv(this),Iu.update.call(this,m),this[Qo]=null):Iu[P].call(this,m)}catch(K){throw this[Fi]=!1,K}if(z=F?{type:A.event||x,escapeConnect:D,batch:B}:B[0],this[Fi]=!1,!_){var q=this._messageCenter;if(q.trigger(z.type,z),j){var Y={type:"selectchanged",escapeConnect:D,selected:RR(S),isFromClick:m.isFromClick||!1,fromAction:m.type,fromActionPayload:m};q.trigger(Y.type,Y)}}},Ky=function(m){for(var _=this._pendingActions;_.length;){var w=_.shift();LM.call(this,w,m)}},Xf=function(m){!m&&this.trigger("updated")},YO=function(m,_){m.on("rendered",function(w){_.trigger("rendered",w),m.animation.isFinished()&&!_[Qo]&&!_._scheduler.unfinished&&!_._pendingActions.length&&_.trigger("finished")})},RM=function(m,_){m.on("mouseover",function(w){var x=jf(w.target,Ao);x&&(function Hp(r,t,e){var o=et(r),s=aT(o.componentMainType,o.componentIndex,o.componentHighDownName,e),u=s.dispatchers;u?(s.focusSelf&&iT(o.componentMainType,o.componentIndex,e),H(u,function(f){return AR(f,t)})):(LR(o.seriesIndex,o.focus,o.blurScope,e),"self"===o.focus&&iT(o.componentMainType,o.componentIndex,e),AR(r,t))}(x,w,_._api),Ma(_))}).on("mouseout",function(w){var x=jf(w.target,Ao);x&&(function fb(r,t,e){PR(e);var o=et(r),s=aT(o.componentMainType,o.componentIndex,o.componentHighDownName,e).dispatchers;s?H(s,function(u){return ER(u,t)}):ER(r,t)}(x,w,_._api),Ma(_))}).on("click",function(w){var x=jf(w.target,function(A){return null!=et(A).dataIndex},!0);if(x){var D=x.selected?"unselect":"select",T=et(x);_._api.dispatchAction({type:D,dataType:T.dataType,dataIndexInside:T.dataIndex,seriesIndex:T.seriesIndex,isFromClick:!0})}})},kM=function(m,_,w,S,x){(function o(m){var _=[],w=[],S=!1;if(m.eachComponent(function(A,E){var P=E.get("zlevel")||0,N=E.get("z")||0,k=E.getZLevelKey();S=S||!!k,("series"===A?w:_).push({zlevel:P,z:N,idx:E.componentIndex,type:A,key:k})}),S){var D,T,x=_.concat(w);qh(x,function(A,E){return A.zlevel===E.zlevel?A.z-E.z:A.zlevel-E.zlevel}),H(x,function(A){var E=m.getComponent(A.type,A.idx),P=A.zlevel,N=A.key;null!=D&&(P=Math.max(D,P)),N?(P===D&&N!==T&&P++,T=N):T&&(P===D&&P++,T=""),D=P,E.setZLevel(P)})}})(_),XO(m,_,w,S,x),H(m._chartsViews,function(D){D.__alive=!1}),yS(m,_,w,S,x),H(m._chartsViews,function(D){D.__alive||D.remove(_,w)})},XO=function(m,_,w,S,x,D){H(D||m._componentsViews,function(T){var A=T.__model;v(0,T),T.render(A,_,w,S),f(A,T),g(A,T)})},yS=function(m,_,w,S,x,D){var T=m._scheduler;x=ce(x||{},{updatedSeries:_.getSeries()}),ss.trigger("series:beforeupdate",_,w,x);var A=!1;_.eachSeries(function(E){var P=m._chartsMap[E.__viewId];P.__alive=!0;var N=P.renderTask;T.updatePayload(N,S),v(0,P),D&&D.get(E.uid)&&N.dirty(),N.perform(T.getPerformArgs(N))&&(A=!0),P.group.silent=!!E.get("silent"),function c(m,_){var w=m.get("blendMode")||null;_.eachRendered(function(S){S.isGroup||(S.style.blend=w)})}(E,P),lT(E)}),T.unfinished=A||T.unfinished,ss.trigger("series:layoutlabels",_,w,x),ss.trigger("series:transition",_,w,x),_.eachSeries(function(E){var P=m._chartsMap[E.__viewId];f(E,P),g(E,P)}),function u(m,_){var x=0;m._zr.storage.traverse(function(D){D.isGroup||x++}),x>_.get("hoverLayerThreshold")&&!Pt.node&&!Pt.worker&&_.eachSeries(function(D){if(!D.preventUsingHoverLayer){var T=m._chartsMap[D.__viewId];T.__alive&&T.eachRendered(function(A){A.states.emphasis&&(A.states.emphasis.hoverLayer=!0)})}})}(m,_),ss.trigger("series:afterupdate",_,w,x)},Ma=function(m){m[DM]=!0,m.getZr().wakeUp()},JO=function(m){m[DM]&&(m.getZr().storage.traverse(function(_){Gp(_)||s(_)}),m[DM]=!1)},KO=function(m){return new(function(_){function w(){return null!==_&&_.apply(this,arguments)||this}return ae(w,_),w.prototype.getCoordinateSystems=function(){return m._coordSysMgr.getCoordinateSystems()},w.prototype.getComponentByElement=function(S){for(;S;){var x=S.__ecComponentInfo;if(null!=x)return m._model.getComponent(x.mainType,x.index);S=S.parent}},w.prototype.enterEmphasis=function(S,x){fu(S,x),Ma(m)},w.prototype.leaveEmphasis=function(S,x){Xs(S,x),Ma(m)},w.prototype.enterBlur=function(S){rT(S),Ma(m)},w.prototype.leaveBlur=function(S){zp(S),Ma(m)},w.prototype.enterSelect=function(S){hb(S),Ma(m)},w.prototype.leaveSelect=function(S){yf(S),Ma(m)},w.prototype.getModel=function(){return m.getModel()},w.prototype.getViewOfComponentModel=function(S){return m.getViewOfComponentModel(S)},w.prototype.getViewOfSeriesModel=function(S){return m.getViewOfSeriesModel(S)},w}(ck))(m)},QO=function(m){function _(w,S){for(var x=0;x<w.length;x++)w[x][MM]=S}H(yv,function(w,S){m._messageCenter.on(S,function(x){if(Jy[m.group]&&0!==m[MM]){if(x&&x.escapeConnect)return;var D=m.makeActionFromEvent(x),T=[];H(Pu,function(A){A!==m&&A.group===m.group&&T.push(A)}),_(T,0),H(T,function(A){1!==A[MM]&&A.dispatchAction(D)}),_(T,2)}})})}}(),t}(yo),wS=_S.prototype;wS.on=AM("on"),wS.off=AM("off"),wS.one=function(r,t,e){var o=this;this.on.call(this,r,function s(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];t&&t.apply&&t.apply(this,u),o.off(r,s)},e)};var eN=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],bS={},yv={},OM=[],NM=[],SS=[],tN={},Qy={},Pu={},Jy={},FM=+new Date-0,Sj=+new Date-0,VM="_echarts_instance_";function BM(r,t,e){var o=!(e&&e.ssr);if(o){var s=zM(r);if(s)return s}var u=new _S(r,t,e);return u.id="ec_"+FM++,Pu[u.id]=u,o&&TD(r,VM,u.id),QO(u),ss.trigger("afterinit",u),u}function Cj(r){if(ge(r)){var t=r;r=null,H(t,function(e){null!=e.group&&(r=e.group)}),r=r||"g_"+Sj++,H(t,function(e){e.group=r})}return Jy[r]=!0,r}function Kn(r){Jy[r]=!1}var Kf=Kn;function nN(r){xe(r)?r=Pu[r]:r instanceof _S||(r=zM(r)),r instanceof _S&&!r.isDisposed()&&r.dispose()}function zM(r){return Pu[function hG(r,t){return r.getAttribute?r.getAttribute(t):r[t]}(r,VM)]}function IY(r){return Pu[r]}function e0(r,t){tN[r]=t}function t0(r){ot(NM,r)<0&&NM.push(r)}function HM(r,t){WM(OM,r,t,TY)}function GM(r){xS("afterinit",r)}function CS(r){xS("afterupdate",r)}function xS(r,t){ss.on(r,t)}function Oo(r,t,e){Ne(t)&&(e=t,t="");var o=Ue(r)?r.type:[r,r={event:t}][0];r.event=(r.event||o).toLowerCase(),!yv[t=r.event]&&(_n(TM.test(o)&&TM.test(t)),bS[o]||(bS[o]={action:e,actionInfo:r}),yv[t]=o)}function DS(r,t){Qp.register(r,t)}function rN(r){var t=Qp.get(r);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function UM(r,t){WM(SS,r,t,yj,"layout")}function Lu(r,t){WM(SS,r,t,qy,"visual")}var jM=[];function WM(r,t,e,o,s){if((Ne(t)||Ue(t))&&(e=t,t=o),!(ot(jM,e)>=0)){jM.push(e);var u=pM.wrapStageHandler(e,s);u.__prio=t,u.__raw=e,r.push(u)}}function $M(r,t){Qy[r]=t}function xj(r){Ox({createCanvas:r})}function iN(r,t,e){var o=xM("registerMap");o&&o(r,t,e)}function oN(r){var t=xM("getMap");return t&&t(r)}var Dj=function jT(r){var t=(r=Ge(r)).type;t||an("");var o=t.split(":");2!==o.length&&an("");var s=!1;"echarts"===o[0]&&(t=o[1],s=!0),r.__isBuiltIn=s,UT.set(t,r)};Lu(2e3,UU),Lu(4500,rl),Lu(4500,as),Lu(2e3,bO),Lu(4500,SO),Lu(7e3,function Wy(r,t){r.eachRawSeries(function(e){if(!r.isSeriesFiltered(e)){var o=e.getData();o.hasItemVisual()&&o.each(function(c){var f=o.getItemVisual(c,"decal");f&&(o.ensureUniqueItemVisual(c,"style").decal=gv(f,t))});var s=o.getVisual("decal");s&&(o.getVisual("style").decal=gv(s,t))}})}),t0(RT),HM(900,function uU(r){var t=Re();r.eachSeries(function(e){var o=e.get("stack");if(o){var s=t.get(o)||t.set(o,[]),u=e.getData(),c={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:e};if(!c.stackedDimension||!c.isStackedByIndex&&!c.stackedByDimension)return;s.length&&u.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(c)}}),t.each(gk)}),$M("default",function pO(r,t){Ve(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ze,o=new Ot({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(o);var c,s=new Nt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),u=new Ot({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(u),t.showSpinner&&((c=new Jb({shape:{startAngle:-Ro/2,endAngle:-Ro/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Ro/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:3*Ro/2}).delay(300).start("circularInOut"),e.add(c)),e.resize=function(){var f=s.getBoundingRect().width,d=t.showSpinner?t.spinnerRadius:0,v=(r.getWidth()-2*d-(t.showSpinner&&f?10:0)-f)/2-(t.showSpinner&&f?0:5+f/2)+(t.showSpinner?0:f/2)+(f?0:d),g=r.getHeight()/2;t.showSpinner&&c.setShape({cx:v,cy:g}),u.setShape({x:v-d,y:g-d,width:2*d,height:2*d}),o.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},e.resize(),e}),Oo({type:vf,event:vf,update:vf},Mt),Oo({type:Fp,event:Fp,update:Fp},Mt),Oo({type:Vp,event:Vp,update:Vp},Mt),Oo({type:Ys,event:Ys,update:Ys},Mt),Oo({type:Bp,event:Bp,update:Bp},Mt),e0("light",mO),e0("dark",_O);var aN={},sN=[],Tj={registerPreprocessor:t0,registerProcessor:HM,registerPostInit:GM,registerPostUpdate:CS,registerUpdateLifecycle:xS,registerAction:Oo,registerCoordinateSystem:DS,registerLayout:UM,registerVisual:Lu,registerTransform:Dj,registerLoading:$M,registerMap:iN,registerImpl:function pj(r,t){BO[r]=t},PRIORITY:WO,ComponentModel:Lt,ComponentView:Bn,SeriesModel:Mn,ChartView:vn,registerComponentModel:function(r){Lt.registerClass(r)},registerComponentView:function(r){Bn.registerClass(r)},registerSeriesModel:function(r){Mn.registerClass(r)},registerChartView:function(r){vn.registerClass(r)},registerSubTypeDefaulter:function(r,t){Lt.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){Gw(r,t)}};function ft(r){ge(r)?H(r,function(t){ft(t)}):ot(sN,r)>=0||(sN.push(r),Ne(r)&&(r={install:r}),r.install(Tj))}function n0(r){return null==r?0:r.length||1}function lN(r){return r}var TS=function(){function r(t,e,o,s,u,c){this._old=t,this._new=e,this._oldKeyGetter=o||lN,this._newKeyGetter=s||lN,this.context=u,this._diffModeMultiple="multiple"===c}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,e=this._new,o={},s=new Array(t.length),u=new Array(e.length);this._initIndexMap(t,null,s,"_oldKeyGetter"),this._initIndexMap(e,o,u,"_newKeyGetter");for(var c=0;c<t.length;c++){var f=s[c],d=o[f],v=n0(d);if(v>1){var g=d.shift();1===d.length&&(o[f]=d[0]),this._update&&this._update(g,c)}else 1===v?(o[f]=null,this._update&&this._update(d,c)):this._remove&&this._remove(c)}this._performRestAdd(u,o)},r.prototype._executeMultiple=function(){var e=this._new,o={},s={},u=[],c=[];this._initIndexMap(this._old,o,u,"_oldKeyGetter"),this._initIndexMap(e,s,c,"_newKeyGetter");for(var f=0;f<u.length;f++){var d=u[f],v=o[d],g=s[d],m=n0(v),_=n0(g);if(m>1&&1===_)this._updateManyToOne&&this._updateManyToOne(g,v),s[d]=null;else if(1===m&&_>1)this._updateOneToMany&&this._updateOneToMany(g,v),s[d]=null;else if(1===m&&1===_)this._update&&this._update(g,v),s[d]=null;else if(m>1&&_>1)this._updateManyToMany&&this._updateManyToMany(g,v),s[d]=null;else if(m>1)for(var w=0;w<m;w++)this._remove&&this._remove(v[w]);else this._remove&&this._remove(v)}this._performRestAdd(c,s)},r.prototype._performRestAdd=function(t,e){for(var o=0;o<t.length;o++){var s=t[o],u=e[s],c=n0(u);if(c>1)for(var f=0;f<c;f++)this._add&&this._add(u[f]);else 1===c&&this._add&&this._add(u);e[s]=null}},r.prototype._initIndexMap=function(t,e,o,s){for(var u=this._diffModeMultiple,c=0;c<t.length;c++){var f="_ec_"+this[s](t[c],c);if(u||(o[c]=f),e){var d=e[f],v=n0(d);0===v?(e[f]=c,u&&o.push(f)):1===v?e[f]=[d,c]:d.push(c)}}},r}();const Ru=TS;var Mj=function(){function r(t,e){this._encode=t,this._schema=e}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function qM(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function MS(r){return"category"===r?"ordinal":"time"===r?"time":"float"}const AS=function r(t){this.otherDims={},null!=t&&ce(this,t)};var Pj=zt(),r0={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},ZM=function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=KM(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return Qe(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=rv(this.source),o=!QM(t),s="",u=[],c=0,f=0;c<t;c++){var d=void 0,v=void 0,g=void 0,m=this.dimensions[f];if(m&&m.storeDimIndex===c)d=e?m.name:null,v=m.type,g=m.ordinalMeta,f++;else{var _=this.getSourceDimension(c);_&&(d=e?_.name:null,v=_.type)}u.push({property:d,type:v,ordinalMeta:g}),e&&null!=d&&(!m||!m.isCalculationCoord)&&(s+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),s+="$",s+=r0[v]||"f",g&&(s+=g.uid),s+="$"}var w=this.source;return{dimensions:u,hash:[w.seriesLayoutBy,w.startIndex,s].join("$$")}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,o=0;e<this._fullDimCount;e++){var s=void 0,u=this.dimensions[o];if(u&&u.storeDimIndex===e)u.isCalculationCoord||(s=u.name),o++;else{var c=this.getSourceDimension(e);c&&(s=c.name)}t.push(s)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function YM(r){return r instanceof ZM}function XM(r){for(var t=Re(),e=0;e<(r||[]).length;e++){var o=r[e],s=Ue(o)?o.name:o;null!=s&&null==t.get(s)&&t.set(s,e)}return t}function KM(r){var t=Pj(r);return t.dimNameMap||(t.dimNameMap=XM(r.dimensionsDefine))}function QM(r){return r>30}var uN,ES,ku,o0,a0,IS,cN,Aa=Ue,Yc=me,PY=typeof Int32Array>"u"?Array:Int32Array,Qf=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Lj=["_approximateExtent"],Rj=function(){function r(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,s=!1;YM(t)?(o=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(s=!0,o=t),o=o||["x","y"];for(var u={},c=[],f={},d=!1,v={},g=0;g<o.length;g++){var m=o[g],_=xe(m)?new AS({name:m}):m instanceof AS?m:new AS(m),w=_.name;_.type=_.type||"float",_.coordDim||(_.coordDim=w,_.coordDimIndex=0);var S=_.otherDims=_.otherDims||{};c.push(w),u[w]=_,null!=v[w]&&(d=!0),_.createInvertedIndices&&(f[w]=[]),0===S.itemName&&(this._nameDimIdx=g),0===S.itemId&&(this._idDimIdx=g),s&&(_.storeDimIndex=g)}if(this.dimensions=c,this._dimInfos=u,this._initGetDimensionInfo(d),this.hostModel=e,this._invertedIndicesMap=f,this._dimOmitted){var x=this._dimIdxToName=Re();H(c,function(D){x.set(u[D].storeDimIndex,D)})}}return r.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var o=this._dimIdxToName.get(e);if(null!=o)return o;var s=this._schema.getSourceDimension(e);return s?s.name:void 0},r.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var o=this._getDimInfo(t);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(kt(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(o){return e.hasOwnProperty(o)?e[o]:void 0}:function(o){return e[o]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,e){var o=this._dimSummary;if(null==e)return o.encodeFirstDimNotExtra[t];var s=o.encode[t];return s?s[e]:null},r.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,e,o){var u,s=this;if(t instanceof qT&&(u=t),!u){var c=this.dimensions,f=Et(t)||$r(t)?new Fb(t,c.length):t;u=new qT;var d=Yc(c,function(v){return{type:s._dimInfos[v].type,property:v}});u.initData(f,d,o)}this._store=u,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=function Aj(r,t){var e={},o=e.encode={},s=Re(),u=[],c=[],f={};H(r.dimensions,function(_){var w=r.getDimensionInfo(_),S=w.coordDim;if(S){var x=w.coordDimIndex;qM(o,S)[x]=_,w.isExtraCoord||(s.set(S,1),function Ej(r){return!("ordinal"===r||"time"===r)}(w.type)&&(u[0]=_),qM(f,S)[x]=r.getDimensionIndex(w.name)),w.defaultTooltip&&c.push(_)}ek.each(function(D,T){var A=qM(o,T),E=w.otherDims[T];null!=E&&!1!==E&&(A[E]=w.name)})});var d=[],v={};s.each(function(_,w){var S=o[w];v[w]=S[0],d=d.concat(S)}),e.dataDimsOnCoord=d,e.dataDimIndicesOnCoord=me(d,function(_){return r.getDimensionInfo(_).storeDimIndex}),e.encodeFirstDimNotExtra=v;var g=o.label;g&&g.length&&(u=g.slice());var m=o.tooltip;return m&&m.length?c=m.slice():c.length||(c=u.slice()),o.defaultedLabel=u,o.defaultedTooltip=c,e.userOutput=new Mj(f,t),e}(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},r.prototype.appendValues=function(t,e){var o=this._store.appendValues(t,e.length),s=o.start,u=o.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var f=s;f<u;f++)this._nameList[f]=e[f-s],c&&cN(this,f)},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,o=0;o<e.length;o++){var s=this._dimInfos[e[o]];s.ordinalMeta&&t.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Qr&&!t.fillStorage},r.prototype._doInit=function(t,e){if(!(t>=e)){var s=this._store.getProvider();this._updateOrdinalMeta();var u=this._nameList,c=this._idList;if(s.getSource().sourceFormat===Ci&&!s.pure)for(var v=[],g=t;g<e;g++){var m=s.getItem(g,v);if(!this.hasItemOption&&SD(m)&&(this.hasItemOption=!0),m){var _=m.name;null==u[g]&&null!=_&&(u[g]=vr(_,null));var w=m.id;null==c[g]&&null!=w&&(c[g]=vr(w,null))}}if(this._shouldMakeIdFromName())for(g=t;g<e;g++)cN(this,g);uN(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,e){Aa(t)?ce(this._calculationInfo,t):this._calculationInfo[t]=e},r.prototype.getName=function(t){var e=this.getRawIndex(t),o=this._nameList[e];return null==o&&null!=this._nameDimIdx&&(o=ku(this,this._nameDimIdx,e)),null==o&&(o=""),o},r.prototype._getCategory=function(t,e){var o=this._store.get(t,e),s=this._store.getOrdinalMeta(t);return s?s.categories[o]:o},r.prototype.getId=function(t){return ES(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,e){var s=this._dimInfos[t];if(s)return this._store.get(s.storeDimIndex,e)},r.prototype.getByRawIndex=function(t,e){var s=this._dimInfos[t];if(s)return this._store.getByRawIndex(s.storeDimIndex,e)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,e){var o=this,s=this._store;return ge(t)?s.getValues(Yc(t,function(u){return o._getStoreDimIndex(u)}),e):s.getValues(t)},r.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,o=0,s=e.length;o<s;o++)if(isNaN(this._store.get(e[o],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var e=0,o=this._store.count();e<o;e++)if(this.getName(e)===t)return e;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,e){var s=(t&&this._invertedIndicesMap[t])[e];return null==s||isNaN(s)?-1:s},r.prototype.indicesOfNearest=function(t,e,o){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,o)},r.prototype.each=function(t,e,o){Ne(t)&&(o=e,e=t,t=[]);var s=o||this,u=Yc(o0(t),this._getStoreDimIndex,this);this._store.each(u,s?Me(e,s):e)},r.prototype.filterSelf=function(t,e,o){Ne(t)&&(o=e,e=t,t=[]);var s=o||this,u=Yc(o0(t),this._getStoreDimIndex,this);return this._store=this._store.filter(u,s?Me(e,s):e),this},r.prototype.selectRange=function(t){var e=this,o={},s=pt(t),u=[];return H(s,function(c){var f=e._getStoreDimIndex(c);o[f]=t[c],u.push(f)}),this._store=this._store.selectRange(o),this},r.prototype.mapArray=function(t,e,o){Ne(t)&&(o=e,e=t,t=[]);var s=[];return this.each(t,function(){s.push(e&&e.apply(this,arguments))},o=o||this),s},r.prototype.map=function(t,e,o,s){var u=o||s||this,c=Yc(o0(t),this._getStoreDimIndex,this),f=IS(this);return f._store=this._store.map(c,u?Me(e,u):e),f},r.prototype.modify=function(t,e,o,s){var c=o||s||this,f=Yc(o0(t),this._getStoreDimIndex,this);this._store.modify(f,c?Me(e,c):e)},r.prototype.downSample=function(t,e,o,s){var u=IS(this);return u._store=this._store.downSample(this._getStoreDimIndex(t),e,o,s),u},r.prototype.lttbDownSample=function(t,e){var o=IS(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),o},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var e=this.hostModel,o=this.getRawDataItem(t);return new Sn(o,e,e&&e.ecModel)},r.prototype.diff=function(t){var e=this;return new Ru(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(o){return ES(t,o)},function(o){return ES(e,o)})},r.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},r.prototype.setVisual=function(t,e){this._visual=this._visual||{},Aa(t)?ce(this._visual,t):this._visual[t]=e},r.prototype.getItemVisual=function(t,e){var o=this._itemVisuals[t];return(o&&o[e])??this.getVisual(e)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,e){var o=this._itemVisuals,s=o[t];s||(s=o[t]={});var u=s[e];return null==u&&(ge(u=this.getVisual(e))?u=u.slice():Aa(u)&&(u=ce({},u)),s[e]=u),u},r.prototype.setItemVisual=function(t,e,o){var s=this._itemVisuals[t]||{};this._itemVisuals[t]=s,Aa(e)?ce(s,e):s[e]=o},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,e){Aa(t)?ce(this._layout,t):this._layout[t]=e},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,e,o){this._itemLayouts[t]=o?ce(this._itemLayouts[t]||{},e):e},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,e){Np(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,e){H(this._graphicEls,function(o,s){o&&t&&t.call(e,o,s)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:Yc(this.dimensions,this._getDimInfo,this),this.hostModel)),a0(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,e){var o=this[t];Ne(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var s=o.apply(this,arguments);return e.apply(this,[s].concat(tp(arguments)))})},r.internalField=(uN=function(t){var e=t._invertedIndicesMap;H(e,function(o,s){var u=t._dimInfos[s],c=u.ordinalMeta,f=t._store;if(c){o=e[s]=new PY(c.categories.length);for(var d=0;d<o.length;d++)o[d]=-1;for(d=0;d<f.count();d++)o[f.get(u.storeDimIndex,d)]=d}})},ku=function(t,e,o){return vr(t._getCategory(e,o),null)},ES=function(t,e){var o=t._idList[e];return null==o&&null!=t._idDimIdx&&(o=ku(t,t._idDimIdx,e)),null==o&&(o="e\0\0"+e),o},o0=function(t){return ge(t)||(t=null!=t?[t]:[]),t},IS=function(t){var e=new r(t._schema?t._schema:Yc(t.dimensions,t._getDimInfo,t),t.hostModel);return a0(e,t),e},a0=function(t,e){H(Qf.concat(e.__wrappedMethods||[]),function(o){e.hasOwnProperty(o)&&(t[o]=e[o])}),t.__wrappedMethods=e.__wrappedMethods,H(Lj,function(o){t[o]=Ge(e[o])}),t._calculationInfo=ce({},e._calculationInfo)},void(cN=function(t,e){var o=t._nameList,s=t._idList,u=t._nameDimIdx,c=t._idDimIdx,f=o[e],d=s[e];if(null==f&&null!=u&&(o[e]=f=ku(t,u,e)),null==d&&null!=c&&(s[e]=d=ku(t,c,e)),null==d&&null!=f){var v=t._nameRepeatCount,g=v[f]=(v[f]||0)+1;d=f,g>1&&(d+="__ec__"+g),s[e]=d}})),r}();const oo=Rj;function il(r,t){return _v(r,t).dimensions}function _v(r,t){Et(r)||(r=Rb(r));var e=(t=t||{}).coordDimensions||[],o=t.dimensionsDefine||r.dimensionsDefine||[],s=Re(),u=[],c=function Oj(r,t,e,o){var s=Math.max(r.dimensionsDetectedCount||1,t.length,e.length,o||0);return H(t,function(u){var c;Ue(u)&&(c=u.dimsDef)&&(s=Math.max(s,c.length))}),s}(r,e,o,t.dimensionsCount),f=t.canOmitUnusedDimensions&&QM(c),d=o===r.dimensionsDefine,v=d?KM(r):XM(o),g=t.encodeDefine;!g&&t.encodeDefaulter&&(g=t.encodeDefaulter(r,c));for(var m=Re(g),_=new Lk(c),w=0;w<_.length;w++)_[w]=-1;function S(z){var j=_[z];if(j<0){var W=o[z],q=Ue(W)?W:{name:W},Y=new AS,K=q.name;return null!=K&&null!=v.get(K)&&(Y.name=Y.displayName=K),null!=q.type&&(Y.type=q.type),null!=q.displayName&&(Y.displayName=q.displayName),_[z]=u.length,Y.storeDimIndex=z,u.push(Y),Y}return u[j]}if(!f)for(w=0;w<c;w++)S(w);m.each(function(z,j){var W=nn(z).slice();if(1===W.length&&!xe(W[0])&&W[0]<0)m.set(j,!1);else{var q=m.set(j,[]);H(W,function(Y,K){var Q=xe(Y)?v.get(Y):Y;null!=Q&&Q<c&&(q[K]=Q,D(S(Q),j,K))})}});var x=0;function D(z,j,W){null!=ek.get(j)?z.otherDims[j]=W:(z.coordDim=j,z.coordDimIndex=W,s.set(j,!0))}H(e,function(z){var j,W,q,Y;if(xe(z))j=z,Y={};else{j=(Y=z).name;var K=Y.ordinalMeta;Y.ordinalMeta=null,(Y=ce({},Y)).ordinalMeta=K,W=Y.dimsDef,q=Y.otherDims,Y.name=Y.coordDim=Y.coordDimIndex=Y.dimsDef=Y.otherDims=null}var Q=m.get(j);if(!1!==Q){if(!(Q=nn(Q)).length)for(var re=0;re<(W&&W.length||1);re++){for(;x<c&&null!=S(x).coordDim;)x++;x<c&&Q.push(x++)}H(Q,function(le,se){var de=S(le);if(d&&null!=Y.type&&(de.type=Y.type),D(Ve(de,Y),j,se),null==de.name&&W){var be=W[se];!Ue(be)&&(be={name:be}),de.name=de.displayName=be.name,de.defaultTooltip=be.defaultTooltip}q&&Ve(de.otherDims,q)})}});var T=t.generateCoord,A=t.generateCoordCount,E=null!=A;A=T?A||1:0;var P=T||"value";function N(z){null==z.name&&(z.name=z.coordDim)}if(f)H(u,function(z){N(z)}),u.sort(function(z,j){return z.storeDimIndex-j.storeDimIndex});else for(var k=0;k<c;k++){var F=S(k);null==F.coordDim&&(F.coordDim=PS(P,s,E),F.coordDimIndex=0,(!T||A<=0)&&(F.isExtraCoord=!0),A--),N(F),null==F.type&&(TT(r,k)===fi.Must||F.isExtraCoord&&(null!=F.otherDims.itemName||null!=F.otherDims.seriesName))&&(F.type="ordinal")}return function kj(r){for(var t=Re(),e=0;e<r.length;e++){var o=r[e],s=o.name,u=t.get(s)||0;u>0&&(o.name=s+(u-1)),u++,t.set(s,u)}}(u),new ZM({source:r,dimensions:u,fullDimensionCount:c,dimensionOmitted:f})}function PS(r,t,e){if(e||t.hasKey(r)){for(var o=0;t.hasKey(r+o);)o++;r+=o}return t.set(r,!0),r}var hN=function r(t){this.coordSysDims=[],this.axisMap=Re(),this.categoryAxisMap=Re(),this.coordSysName=t},fN={cartesian2d:function(r,t,e,o){var s=r.getReferringComponents("xAxis",gr).models[0],u=r.getReferringComponents("yAxis",gr).models[0];t.coordSysDims=["x","y"],e.set("x",s),e.set("y",u),Ou(s)&&(o.set("x",s),t.firstCategoryDimIndex=0),Ou(u)&&(o.set("y",u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,o){var s=r.getReferringComponents("singleAxis",gr).models[0];t.coordSysDims=["single"],e.set("single",s),Ou(s)&&(o.set("single",s),t.firstCategoryDimIndex=0)},polar:function(r,t,e,o){var s=r.getReferringComponents("polar",gr).models[0],u=s.findAxisModel("radiusAxis"),c=s.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",u),e.set("angle",c),Ou(u)&&(o.set("radius",u),t.firstCategoryDimIndex=0),Ou(c)&&(o.set("angle",c),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,o){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,o){var s=r.ecModel,u=s.getComponent("parallel",r.get("parallelIndex")),c=t.coordSysDims=u.dimensions.slice();H(u.parallelAxisIndex,function(f,d){var v=s.getComponent("parallelAxis",f),g=c[d];e.set(g,v),Ou(v)&&(o.set(g,v),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=d))})}};function Ou(r){return"category"===r.get("type")}function dN(r,t,e){var u,c,f,o=(e=e||{}).byIndex,s=e.stackedCoordDimension;!function Fj(r){return!YM(r.schema)}(t)?(u=(c=t.schema).dimensions,f=t.store):u=t;var v,g,m,_,d=!(!r||!r.get("stack"));if(H(u,function(A,E){xe(A)&&(u[E]=A={name:A}),d&&!A.isExtraCoord&&(!o&&!v&&A.ordinalMeta&&(v=A),!g&&"ordinal"!==A.type&&"time"!==A.type&&(!s||s===A.coordDim)&&(g=A))}),g&&!o&&!v&&(o=!0),g){m="__\0ecstackresult_"+r.id,_="__\0ecstackedover_"+r.id,v&&(v.createInvertedIndices=!0);var w=g.coordDim,S=g.type,x=0;H(u,function(A){A.coordDim===w&&x++});var D={name:m,coordDim:w,coordDimIndex:x,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length},T={name:_,coordDim:_,coordDimIndex:x+1,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length+1};c?(f&&(D.storeDimIndex=f.ensureCalculationDimension(_,S),T.storeDimIndex=f.ensureCalculationDimension(m,S)),c.appendCalculationDimension(D),c.appendCalculationDimension(T)):(u.push(D),u.push(T))}return{stackedDimension:g&&g.name,stackedByDimension:v&&v.name,isStackedByIndex:o,stackedOverDimension:_,stackResultDimension:m}}function ol(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function eA(r,t){return ol(r,t)?r.getCalculationInfo("stackResultDimension"):t}const us=function ls(r,t,e){e=e||{};var s,o=t.getSourceManager(),u=!1;r?(u=!0,s=Rb(r)):u=(s=o.getSource()).sourceFormat===Ci;var c=function Nj(r){var t=r.get("coordinateSystem"),e=new hN(t),o=fN[t];if(o)return o(r,e,e.axisMap,e.categoryAxisMap),e}(t),f=function Vj(r,t){var s,e=r.get("coordinateSystem"),o=Qp.get(e);return t&&t.coordSysDims&&(s=me(t.coordSysDims,function(u){var c={name:u},f=t.axisMap.get(u);if(f){var d=f.get("type");c.type=MS(d)}return c})),s||(s=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),s}(t,c),d=e.useEncodeDefaulter,v=Ne(d)?d:d?Je(Db,f,t):null,m=_v(s,{coordDimensions:f,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!u}),_=function pN(r,t,e){var o,s;return e&&H(r,function(u,c){var d=e.categoryAxisMap.get(u.coordDim);d&&(null==o&&(o=c),u.ordinalMeta=d.getOrdinalMeta(),t&&(u.createInvertedIndices=!0)),null!=u.otherDims.itemName&&(s=!0)}),!s&&null!=o&&(r[o].otherDims.itemName=0),o}(m.dimensions,e.createInvertedIndices,c),w=u?null:o.getSharedDataStore(m),S=dN(t,{schema:m,store:w}),x=new oo(m,t);x.setCalculationInfo(S);var D=null!=_&&function Bj(r){if(r.sourceFormat===Ci){var t=function zj(r){for(var t=0;t<r.length&&null==r[t];)t++;return r[t]}(r.data||[]);return!ge(Um(t))}}(s)?function(T,A,E,P){return P===_?E:this.defaultDimValueGetter(T,A,E,P)}:null;return x.hasItemOption=!1,x.initData(u?s:w,null,D),x};var tA=function(){function r(t){this._setting=t||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){var o=this._extent;isNaN(t)||(o[0]=t),isNaN(e)||(o[1]=e)},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r}();su(tA);const cs=tA;var vN=0,Hj=function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++vN}return r.createByAxisModel=function(t){var e=t.option,o=e.data,s=o&&me(o,gN);return new r({categories:s,needCollect:!s,deduplication:!1!==e.dedplication})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var e,o=this._needCollect;if(!xe(t)&&!o)return t;if(o&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var s=this._getOrCreateMap();return null==(e=s.get(t))&&(o?(this.categories[e=this.categories.length]=t,s.set(t,e)):e=NaN),e},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Re(this.categories))},r}();function gN(r){return Ue(r)&&null!=r.value?r.value:r+""}const LS=Hj;function nA(r){return"interval"===r.type||"log"===r.type}function s0(r){var t=Math.pow(10,zm(r)),e=r/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,Yn(e*t)}function iA(r){return ga(r)+2}function RS(r,t,e){r[t]=Math.max(Math.min(r[t],e[1]),e[0])}function kS(r,t){return r>=t[0]&&r<=t[1]}function OS(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function NS(r,t){return r*(t[1]-t[0])+t[0]}var mN=function(r){function t(e){var o=r.call(this,e)||this;o.type="ordinal";var s=o.getSetting("ordinalMeta");return s||(s=new LS({})),ge(s)&&(s=new LS({categories:me(s,function(u){return Ue(u)?u.value:u})})),o._ordinalMeta=s,o._extent=o.getSetting("extent")||[0,s.categories.length-1],o}return ae(t,r),t.prototype.parse=function(e){return null==e?NaN:xe(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return kS(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return OS(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(NS(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],o=this._extent,s=o[0];s<=o[1];)e.push({value:s}),s++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var o=e.ordinalNumbers,s=this._ordinalNumbersByTick=[],u=this._ticksByOrdinalNumber=[],c=0,f=this._ordinalMeta.categories.length,d=Math.min(f,o.length);c<d;++c){var v=o[c];s[c]=v,u[v]=c}for(var g=0;c<f;++c){for(;null!=u[g];)g++;s.push(g),u[g]=c}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var o=this._ticksByOrdinalNumber;return o&&e>=0&&e<o.length?o[e]:e},t.prototype.getRawOrdinalNumber=function(e){var o=this._ordinalNumbersByTick;return o&&e>=0&&e<o.length?o[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var o=this.getRawOrdinalNumber(e.value),s=this._ordinalMeta.categories[o];return null==s?"":s+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,o){this.unionExtent(e.getApproximateExtent(o))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(cs);cs.registerClass(mN);const FS=mN;var Nu=Yn,l0=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return ae(t,r),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return kS(e,this._extent)},t.prototype.normalize=function(e){return OS(e,this._extent)},t.prototype.scale=function(e){return NS(e,this._extent)},t.prototype.setExtent=function(e,o){var s=this._extent;isNaN(e)||(s[0]=parseFloat(e)),isNaN(o)||(s[1]=parseFloat(o))},t.prototype.unionExtent=function(e){var o=this._extent;e[0]<o[0]&&(o[0]=e[0]),e[1]>o[1]&&(o[1]=e[1]),this.setExtent(o[0],o[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=iA(e)},t.prototype.getTicks=function(e){var o=this._interval,s=this._extent,u=this._niceExtent,c=this._intervalPrecision,f=[];if(!o)return f;s[0]<u[0]&&f.push(e?{value:Nu(u[0]-o,c)}:{value:s[0]});for(var v=u[0];v<=u[1]&&(f.push({value:v}),(v=Nu(v+o,c))!==f[f.length-1].value);)if(f.length>1e4)return[];var g=f.length?f[f.length-1].value:u[1];return s[1]>g&&f.push(e?{value:Nu(g+o,c)}:{value:s[1]}),f},t.prototype.getMinorTicks=function(e){for(var o=this.getTicks(!0),s=[],u=this.getExtent(),c=1;c<o.length;c++){for(var d=o[c-1],v=0,g=[],_=(o[c].value-d.value)/e;v<e-1;){var w=Nu(d.value+(v+1)*_);w>u[0]&&w<u[1]&&g.push(w),v++}s.push(g)}return s},t.prototype.getLabel=function(e,o){if(null==e)return"";var s=o&&o.precision;return null==s?s=ga(e.value)||0:"auto"===s&&(s=this._intervalPrecision),Pc(Nu(e.value,s,!0))},t.prototype.calcNiceTicks=function(e,o,s){e=e||5;var u=this._extent,c=u[1]-u[0];if(isFinite(c)){c<0&&(c=-c,u.reverse());var f=function rA(r,t,e,o){var s={},c=s.interval=jw((r[1]-r[0])/t,!0);null!=e&&c<e&&(c=s.interval=e),null!=o&&c>o&&(c=s.interval=o);var f=s.intervalPrecision=iA(c);return function oA(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),RS(r,0,t),RS(r,1,t),r[0]>r[1]&&(r[0]=r[1])}(s.niceTickExtent=[Yn(Math.ceil(r[0]/c)*c,f),Yn(Math.floor(r[1]/c)*c,f)],r),s}(u,e,o,s);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var o=this._extent;if(o[0]===o[1])if(0!==o[0]){var s=Math.abs(o[0]);e.fixMax||(o[1]+=s/2),o[0]-=s/2}else o[1]=1;isFinite(o[1]-o[0])||(o[0]=0,o[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var c=this._interval;e.fixMin||(o[0]=Nu(Math.floor(o[0]/c)*c)),e.fixMax||(o[1]=Nu(Math.ceil(o[1]/c)*c))},t.prototype.setNiceExtent=function(e,o){this._niceExtent=[e,o]},t.type="interval",t}(cs);cs.registerClass(l0);const al=l0;var aA=typeof Float32Array<"u",VS=aA?Float32Array:Array;function sl(r){return ge(r)?aA?new Float32Array(r):r:new VS(r)}var BS="__ec_stack_";function zS(r){return r.get("stack")||BS+r.seriesIndex}function sA(r){return r.dim+r.index}function Xc(r,t){var e=[];return t.eachSeriesByType(r,function(o){lA(o)&&e.push(o)}),e}function Jf(r){var t=function ao(r){var t={};H(r,function(d){var g=d.coordinateSystem.getBaseAxis();if("time"===g.type||"value"===g.type)for(var m=d.getData(),_=g.dim+"_"+g.index,w=m.getDimensionIndex(m.mapDimension(g.dim)),S=m.getStore(),x=0,D=S.count();x<D;++x){var T=S.get(w,x);t[_]?t[_].push(T):t[_]=[T]}});var e={};for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s){s.sort(function(d,v){return d-v});for(var u=null,c=1;c<s.length;++c){var f=s[c]-s[c-1];f>0&&(u=null===u?f:Math.min(u,f))}e[o]=u}}return e}(r),e=[];return H(r,function(o){var f,u=o.coordinateSystem.getBaseAxis(),c=u.getExtent();if("category"===u.type)f=u.getBandWidth();else if("value"===u.type||"time"===u.type){var v=t[u.dim+"_"+u.index],g=Math.abs(c[1]-c[0]),m=u.scale.getExtent(),_=Math.abs(m[1]-m[0]);f=v?g/_*v:g}else{var w=o.getData();f=Math.abs(c[1]-c[0])/w.count()}var S=Ce(o.get("barWidth"),f),x=Ce(o.get("barMaxWidth"),f),D=Ce(o.get("barMinWidth")||(HS(o)?.5:1),f),T=o.get("barGap"),A=o.get("barCategoryGap");e.push({bandWidth:f,barWidth:S,barMaxWidth:x,barMinWidth:D,barGap:T,barCategoryGap:A,axisKey:sA(u),stackId:zS(o)})}),_N(e)}function _N(r){var t={};H(r,function(o,s){var u=o.axisKey,c=o.bandWidth,f=t[u]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=f.stacks;t[u]=f;var v=o.stackId;d[v]||f.autoWidthCount++,d[v]=d[v]||{width:0,maxWidth:0};var g=o.barWidth;g&&!d[v].width&&(d[v].width=g,g=Math.min(f.remainedWidth,g),f.remainedWidth-=g);var m=o.barMaxWidth;m&&(d[v].maxWidth=m);var _=o.barMinWidth;_&&(d[v].minWidth=_);var w=o.barGap;null!=w&&(f.gap=w);var S=o.barCategoryGap;null!=S&&(f.categoryGap=S)});var e={};return H(t,function(o,s){e[s]={};var u=o.stacks,c=o.bandWidth,f=o.categoryGap;if(null==f){var d=pt(u).length;f=Math.max(35-4*d,15)+"%"}var v=Ce(f,c),g=Ce(o.gap,1),m=o.remainedWidth,_=o.autoWidthCount,w=(m-v)/(_+(_-1)*g);w=Math.max(w,0),H(u,function(T){var A=T.maxWidth,E=T.minWidth;if(T.width){var P=T.width;A&&(P=Math.min(P,A)),E&&(P=Math.max(P,E)),T.width=P,m-=P+g*P,_--}else P=w,A&&A<P&&(P=Math.min(A,m)),E&&E>P&&(P=E),P!==w&&(T.width=P,m-=P+g*P,_--)}),w=(m-v)/(_+(_-1)*g),w=Math.max(w,0);var x,S=0;H(u,function(T,A){T.width||(T.width=w),x=T,S+=T.width*(1+g)}),x&&(S-=x.width*g);var D=-S/2;H(u,function(T,A){e[s][A]=e[s][A]||{bandWidth:c,offset:D,width:T.width},D+=T.width*(1+g)})}),e}function Uj(r,t){var e=Xc(r,t),o=Jf(e);H(e,function(s){var u=s.getData(),f=s.coordinateSystem.getBaseAxis(),d=zS(s),v=o[sA(f)][d];u.setLayout({bandWidth:v.bandWidth,offset:v.offset,size:v.width})})}function jj(r){return{seriesType:r,plan:Ji(),reset:function(t){if(lA(t)){var e=t.getData(),o=t.coordinateSystem,s=o.getBaseAxis(),u=o.getOtherAxis(s),c=e.getDimensionIndex(e.mapDimension(u.dim)),f=e.getDimensionIndex(e.mapDimension(s.dim)),d=t.get("showBackground",!0),v=e.mapDimension(u.dim),g=e.getCalculationInfo("stackResultDimension"),m=ol(e,v)&&!!e.getCalculationInfo("stackedOnSeries"),_=u.isHorizontal(),w=function kY(r,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}(0,u),S=HS(t),x=t.get("barMinHeight")||0,D=g&&e.getDimensionIndex(g),T=e.getLayout("size"),A=e.getLayout("offset");return{progress:function(E,P){for(var W,N=E.count,k=S&&sl(3*N),F=S&&d&&sl(3*N),B=S&&sl(N),z=o.master.getRect(),j=_?z.width:z.height,q=P.getStore(),Y=0;null!=(W=E.next());){var K=q.get(m?D:c,W),Q=q.get(f,W),re=w,le=void 0;m&&(le=+K-q.get(c,W));var se=void 0,de=void 0,be=void 0,De=void 0;if(_){var Fe=o.dataToPoint([K,Q]);m&&(re=o.dataToPoint([le,Q])[0]),se=re,de=Fe[1]+A,be=Fe[0]-re,De=T,Math.abs(be)<x&&(be=(be<0?-1:1)*x)}else Fe=o.dataToPoint([Q,K]),m&&(re=o.dataToPoint([Q,le])[1]),se=Fe[0]+A,de=re,be=T,De=Fe[1]-re,Math.abs(De)<x&&(De=(De<=0?-1:1)*x);S?(k[Y]=se,k[Y+1]=de,k[Y+2]=_?be:De,F&&(F[Y]=_?z.x:se,F[Y+1]=_?de:z.y,F[Y+2]=j),B[W]=W):P.setItemLayout(W,{x:se,y:de,width:be,height:De}),Y+=3}S&&P.setLayout({largePoints:k,largeDataIndices:B,largeBackgroundPoints:F,valueAxisHorizontal:_})}}}}}}function lA(r){return r.coordinateSystem&&"cartesian2d"===r.coordinateSystem.type}function HS(r){return r.pipelineContext&&r.pipelineContext.large}var Wj=function(r){function t(e){var o=r.call(this,e)||this;return o.type="time",o}return ae(t,r),t.prototype.getLabel=function(e){var o=this.getSetting("useUTC");return ry(e.value,Eo[function qp(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}($p(this._minLevelUnit))]||Eo.second,o,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,o,s){var u=this.getSetting("useUTC");return function GG(r,t,e,o,s){var u=null;if(xe(e))u=e;else if(Ne(e))u=e(r.value,t,{level:r.level});else{var c=ce({},Cf);if(r.level>0)for(var f=0;f<Wp.length;++f)c[Wp[f]]="{primary|"+c[Wp[f]]+"}";var d=e?!1===e.inherit?e:Ve(e,c):c,v=KR(r.value,s);if(d[v])u=d[v];else if(d.inherit){for(f=_b.indexOf(v)-1;f>=0;--f)if(d[v]){u=d[v];break}u=u||c.none}if(ge(u)){var m=null==r.level?0:r.level>=0?r.level:u.length+r.level;u=u[m=Math.min(m,u.length-1)]}}return ry(new Date(r.value),u,s,o)}(e,o,s,this.getSetting("locale"),u)},t.prototype.getTicks=function(){var o=this._extent,s=[];if(!this._interval)return s;s.push({value:o[0],level:0});var u=this.getSetting("useUTC"),c=function cA(r,t,e,o){var u=_b,c=0;function f(j,W,q,Y,K,Q,re){for(var le=new Date(W),se=W,de=le[Y]();se<q&&se<=o[1];)re.push({value:se}),le[K](de+=j),se=le.getTime();re.push({value:se,notAdd:!0})}function d(j,W,q){var Y=[],K=!W.length;if(!function $j(r,t,e,o){var s=jo(t),u=jo(e),c=function(S){return wb(s,S,o)===wb(u,S,o)},f=function(){return c("year")},d=function(){return f()&&c("month")},v=function(){return d()&&c("day")},g=function(){return v()&&c("hour")},m=function(){return g()&&c("minute")},_=function(){return m()&&c("second")};switch(r){case"year":return f();case"month":return d();case"day":return v();case"hour":return g();case"minute":return m();case"second":return _();case"millisecond":return _()&&c("millisecond")}}($p(j),o[0],o[1],e)){K&&(W=[{value:Yj(new Date(o[0]),j,e)},{value:o[1]}]);for(var Q=0;Q<W.length-1;Q++){var re=W[Q].value,le=W[Q+1].value;if(re!==le){var se=void 0,de=void 0,be=void 0;switch(j){case"year":se=Math.max(1,Math.round(t/Ki/365)),de=Zp(e),be=UG(e);break;case"half-year":case"quarter":case"month":se=qj(t),de=Yp(e),be=jG(e);break;case"week":case"half-week":case"day":se=uA(t),de=iy(e),be=WG(e),!0;break;case"half-day":case"quarter-day":case"hour":se=wN(t),de=Zo(e),be=sy(e);break;case"minute":se=bN(t,!0),de=bT(e),be=QR(e);break;case"second":se=bN(t,!1),de=oy(e),be=bb(e);break;case"millisecond":se=Zj(t),de=ay(e),be=Sb(e)}f(se,re,le,de,be,0,Y),"year"===j&&q.length>1&&0===Q&&q.unshift({value:q[0].value-se})}}for(Q=0;Q<Y.length;Q++)q.push(Y[Q]);return Y}}for(var v=[],g=[],m=0,_=0,w=0;w<u.length&&c++<1e4;++w){var S=$p(u[w]);if(XR(u[w])&&(d(u[w],v[v.length-1]||[],g),S!==(u[w+1]?$p(u[w+1]):null))){if(g.length){_=m,g.sort(function(j,W){return j.value-W.value});for(var D=[],T=0;T<g.length;++T){var A=g[T].value;(0===T||g[T-1].value!==A)&&(D.push(g[T]),A>=o[0]&&A<=o[1]&&m++)}var E=(o[1]-o[0])/t;if(m>1.5*E&&_>E/1.5||(v.push(D),m>E||r===u[w]))break}g=[]}}var P=Wt(me(v,function(j){return Wt(j,function(W){return W.value>=o[0]&&W.value<=o[1]&&!W.notAdd})}),function(j){return j.length>0}),N=[],k=P.length-1;for(w=0;w<P.length;++w)for(var F=P[w],B=0;B<F.length;++B)N.push({value:F[B].value,level:k-w});N.sort(function(j,W){return j.value-W.value});var z=[];for(w=0;w<N.length;++w)(0===w||N[w].value!==N[w-1].value)&&z.push(N[w]);return z}(this._minLevelUnit,this._approxInterval,u,o);return(s=s.concat(c)).push({value:o[1],level:0}),s},t.prototype.calcNiceExtent=function(e){var o=this._extent;if(o[0]===o[1]&&(o[0]-=Ki,o[1]+=Ki),o[1]===-1/0&&o[0]===1/0){var s=new Date;o[1]=+new Date(s.getFullYear(),s.getMonth(),s.getDate()),o[0]=o[1]-Ki}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,o,s){var u=this._extent;this._approxInterval=(u[1]-u[0])/(e=e||10),null!=o&&this._approxInterval<o&&(this._approxInterval=o),null!=s&&this._approxInterval>s&&(this._approxInterval=s);var f=Kc.length,d=Math.min(function(r,t,e,o){for(;e<o;){var s=e+o>>>1;r[s][1]<t?e=s+1:o=s}return e}(Kc,this._approxInterval,0,f),f-1);this._interval=Kc[d][1],this._minLevelUnit=Kc[Math.max(d-1,0)][0]},t.prototype.parse=function(e){return kt(e)?e:+jo(e)},t.prototype.contain=function(e){return kS(this.parse(e),this._extent)},t.prototype.normalize=function(e){return OS(this.parse(e),this._extent)},t.prototype.scale=function(e){return NS(e,this._extent)},t.type="time",t}(al),Kc=[["second",1e3],["minute",6e4],["hour",Sf],["quarter-day",6*Sf],["half-day",12*Sf],["day",1.2*Ki],["half-week",3.5*Ki],["week",7*Ki],["month",31*Ki],["quarter",95*Ki],["half-year",YR/2],["year",YR]];function uA(r,t){return(r/=Ki)>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function qj(r){return(r/=30*Ki)>6?6:r>3?3:r>2?2:1}function wN(r){return(r/=Sf)>12?12:r>6?6:r>3.5?4:r>2?2:1}function bN(r,t){return(r/=t?6e4:1e3)>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function Zj(r){return jw(r,!0)}function Yj(r,t,e){var o=new Date(r);switch($p(t)){case"year":case"month":o[jG(e)](0);case"day":o[WG(e)](1);case"hour":o[sy(e)](0);case"minute":o[QR(e)](0);case"second":o[bb(e)](0),o[Sb(e)](0)}return o.getTime()}cs.registerClass(Wj);const hA=Wj;var SN=cs.prototype,Qc=al.prototype,fA=Yn,NY=Math.floor,CN=Math.ceil,GS=Math.pow,Ea=Math.log,Jc=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new al,e._interval=0,e}return ae(t,r),t.prototype.getTicks=function(e){var s=this._extent,u=this._originalScale.getExtent();return me(Qc.getTicks.call(this,e),function(f){var d=f.value,v=Yn(GS(this.base,d));return v=d===s[0]&&this._fixMin?u0(v,u[0]):v,{value:v=d===s[1]&&this._fixMax?u0(v,u[1]):v}},this)},t.prototype.setExtent=function(e,o){var s=Ea(this.base);e=Ea(Math.max(0,e))/s,o=Ea(Math.max(0,o))/s,Qc.setExtent.call(this,e,o)},t.prototype.getExtent=function(){var e=this.base,o=SN.getExtent.call(this);o[0]=GS(e,o[0]),o[1]=GS(e,o[1]);var u=this._originalScale.getExtent();return this._fixMin&&(o[0]=u0(o[0],u[0])),this._fixMax&&(o[1]=u0(o[1],u[1])),o},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var o=this.base;e[0]=Ea(e[0])/Ea(o),e[1]=Ea(e[1])/Ea(o),SN.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,o){this.unionExtent(e.getApproximateExtent(o))},t.prototype.calcNiceTicks=function(e){e=e||10;var o=this._extent,s=o[1]-o[0];if(!(s===1/0||s<=0)){var u=GL(s);for(e/s*u<=.5&&(u*=10);!isNaN(u)&&Math.abs(u)<1&&Math.abs(u)>0;)u*=10;var f=[Yn(CN(o[0]/u)*u),Yn(NY(o[1]/u)*u)];this._interval=u,this._niceExtent=f}},t.prototype.calcNiceExtent=function(e){Qc.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return kS(e=Ea(e)/Ea(this.base),this._extent)},t.prototype.normalize=function(e){return OS(e=Ea(e)/Ea(this.base),this._extent)},t.prototype.scale=function(e){return e=NS(e,this._extent),GS(this.base,e)},t.type="log",t}(cs),xN=Jc.prototype;function u0(r,t){return fA(r,ga(t))}xN.getMinorTicks=Qc.getMinorTicks,xN.getLabel=Qc.getLabel,cs.registerClass(Jc);const dA=Jc;var FY=function(){function r(t,e,o){this._prepareParams(t,e,o)}return r.prototype._prepareParams=function(t,e,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var s=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var u=this._modelMinRaw=e.get("min",!0);Ne(u)?this._modelMinNum=US(t,u({min:o[0],max:o[1]})):"dataMin"!==u&&(this._modelMinNum=US(t,u));var c=this._modelMaxRaw=e.get("max",!0);if(Ne(c)?this._modelMaxNum=US(t,c({min:o[0],max:o[1]})):"dataMax"!==c&&(this._modelMaxNum=US(t,c)),s)this._axisDataLen=e.getCategories().length;else{var f=e.get("boundaryGap"),d=ge(f)?f:[f||0,f||0];this._boundaryGapInner="boolean"==typeof d[0]||"boolean"==typeof d[1]?[0,0]:[Ya(d[0],1),Ya(d[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,o=this._dataMax,s=this._axisDataLen,u=this._boundaryGapInner,c=t?null:o-e||Math.abs(e),f="dataMin"===this._modelMinRaw?e:this._modelMinNum,d="dataMax"===this._modelMaxRaw?o:this._modelMaxNum,v=null!=f,g=null!=d;null==f&&(f=t?s?0:NaN:e-u[0]*c),null==d&&(d=t?s?s-1:NaN:o+u[1]*c),(null==f||!isFinite(f))&&(f=NaN),(null==d||!isFinite(d))&&(d=NaN);var m=cc(f)||cc(d)||t&&!s;this._needCrossZero&&(f>0&&d>0&&!v&&(f=0),f<0&&d<0&&!g&&(d=0));var _=this._determinedMin,w=this._determinedMax;return null!=_&&(f=_,v=!0),null!=w&&(d=w,g=!0),{min:f,max:d,minFixed:v,maxFixed:g,isBlank:m}},r.prototype.modifyDataMinMax=function(t,e){this[VY[t]]=e},r.prototype.setDeterminedMinMax=function(t,e){this[Xj[t]]=e},r.prototype.freeze=function(){this.frozen=!0},r}(),Xj={min:"_determinedMin",max:"_determinedMax"},VY={min:"_dataMin",max:"_dataMax"};function DN(r,t,e){var o=r.rawExtentInfo;return o||(o=new FY(r,t,e),r.rawExtentInfo=o,o)}function US(r,t){return null==t?null:cc(t)?NaN:r.parse(t)}function TN(r,t){var e=r.type,o=DN(r,t,r.getExtent()).calculate();r.setBlank(o.isBlank);var s=o.min,u=o.max,c=t.ecModel;if(c&&"time"===e){var f=Xc("bar",c),d=!1;if(H(f,function(m){d=d||m.getBaseAxis()===t.axis}),d){var v=Jf(f),g=function MN(r,t,e,o){var s=e.axis.getExtent(),u=s[1]-s[0],c=function Gj(r,t,e){if(r&&t){var o=r[sA(t)];return null!=o&&null!=e?o[zS(e)]:o}}(o,e.axis);if(void 0===c)return{min:r,max:t};var f=1/0;H(c,function(w){f=Math.min(w.offset,f)});var d=-1/0;H(c,function(w){d=Math.max(w.offset+w.width,d)}),f=Math.abs(f),d=Math.abs(d);var v=f+d,g=t-r,_=g/(1-(f+d)/u)-g;return{min:r-=_*(f/v),max:t+=_*(d/v)}}(s,u,t,v);s=g.min,u=g.max}}return{extent:[s,u],fixMin:o.minFixed,fixMax:o.maxFixed}}function eh(r,t){var e=t,o=TN(r,e),s=o.extent,u=e.get("splitNumber");r instanceof dA&&(r.base=e.get("logBase"));var c=r.type,f=e.get("interval"),d="interval"===c||"time"===c;r.setExtent(s[0],s[1]),r.calcNiceExtent({splitNumber:u,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:d?e.get("minInterval"):null,maxInterval:d?e.get("maxInterval"):null}),null!=f&&r.setInterval&&r.setInterval(f)}function c0(r,t){if(t=t||r.get("type"))switch(t){case"category":return new FS({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new hA({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(cs.getClass(t)||al)}}function wv(r){var o,t=r.getLabelModel().get("formatter"),e="category"===r.type?r.scale.getExtent()[0]:null;return"time"===r.scale.type?(o=t,function(s,u){return r.scale.getFormattedLabel(s,u,o)}):xe(t)?function(o){return function(s){var u=r.scale.getLabel(s);return o.replace("{value}",u??"")}}(t):Ne(t)?function(o){return function(s,u){return null!=e&&(u=s.value-e),o(pA(r,s),u,null!=s.level?{level:s.level}:null)}}(t):function(o){return r.scale.getLabel(o)}}function pA(r,t){return"category"===r.type?r.scale.getLabel(t):t.value}function EN(r,t){var e=t*Math.PI/180,o=r.width,s=r.height,u=o*Math.abs(Math.cos(e))+Math.abs(s*Math.sin(e)),c=o*Math.abs(Math.sin(e))+Math.abs(s*Math.cos(e));return new Xe(r.x,r.y,u,c)}function vA(r){return r.get("interval")??"auto"}function gA(r){return"category"===r.type&&0===vA(r.getLabelModel())}function h0(r,t){var e={};return H(r.mapDimensionsAll(t),function(o){e[eA(r,o)]=!0}),pt(e)}var ed=function(){function r(){}return r.prototype.getNeedCrossZero=function(){return!this.option.scale},r.prototype.getCoordSysModel=function(){},r}();function Qj(r){return us(null,r)}var Jj={isDimensionStacked:ol,enableDataStack:dN,getStackedDimension:eA};function BY(r,t){var e=t;t instanceof Sn||(e=new Sn(t));var o=c0(e);return o.setExtent(r[0],r[1]),eh(o,e),o}function PN(r){Zn(r,ed)}function zY(r,t){return gn(r,null,null,"normal"!==(t=t||{}).state)}var HY=1e-8;function e4(r,t){return Math.abs(r-t)<HY}function bv(r,t,e){var o=0,s=r[0];if(!s)return!1;for(var u=1;u<r.length;u++){var c=r[u];o+=Ac(s[0],s[1],c[0],c[1],t,e),s=c}var f=r[0];return(!e4(s[0],f[0])||!e4(s[1],f[1]))&&(o+=Ac(s[0],s[1],f[0],f[1],t,e)),0!==o}var GY=[];function LN(r,t){for(var e=0;e<r.length;e++)Or(r[e],r[e],t)}function t4(r,t,e,o){for(var s=0;s<r.length;s++){var u=r[s];o&&(u=o.project(u)),u&&isFinite(u[0])&&isFinite(u[1])&&(ca(t,t,u),Ga(e,e,u))}}var n4=function(){function r(t){this.name=t}return r.prototype.setCenter=function(t){this._center=t},r.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},r}(),jS=function r(t,e){this.type="polygon",this.exterior=t,this.interiors=e},WS=function r(t){this.type="linestring",this.points=t},mA=function(r){function t(e,o,s){var u=r.call(this,e)||this;return u.type="geoJSON",u.geometries=o,u._center=s&&[s[0],s[1]],u}return ae(t,r),t.prototype.calcCenter=function(){for(var o,e=this.geometries,s=0,u=0;u<e.length;u++){var c=e[u],f=c.exterior,d=f&&f.length;d>s&&(o=c,s=d)}if(o)return function UY(r){for(var t=0,e=0,o=0,s=r.length,u=r[s-1][0],c=r[s-1][1],f=0;f<s;f++){var d=r[f][0],v=r[f][1],g=u*v-d*c;t+=g,e+=(u+d)*g,o+=(c+v)*g,u=d,c=v}return t?[e/t/3,o/t/3,t]:[r[0][0]||0,r[0][1]||0]}(o.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},t.prototype.getBoundingRect=function(e){var o=this._rect;if(o&&!e)return o;var s=[1/0,1/0],u=[-1/0,-1/0];return H(this.geometries,function(f){"polygon"===f.type?t4(f.exterior,s,u,e):H(f.points,function(d){t4(d,s,u,e)})}),isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])||(s[0]=s[1]=u[0]=u[1]=0),o=new Xe(s[0],s[1],u[0]-s[0],u[1]-s[1]),e||(this._rect=o),o},t.prototype.contain=function(e){var o=this.getBoundingRect(),s=this.geometries;if(!o.contain(e[0],e[1]))return!1;e:for(var u=0,c=s.length;u<c;u++){var f=s[u];if("polygon"===f.type){var v=f.interiors;if(bv(f.exterior,e[0],e[1])){for(var g=0;g<(v?v.length:0);g++)if(bv(v[g],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,o,s,u){var c=this.getBoundingRect(),f=c.width/c.height;s?u||(u=s/f):s=f*u;for(var d=new Xe(e,o,s,u),v=c.calculateTransform(d),g=this.geometries,m=0;m<g.length;m++){var _=g[m];"polygon"===_.type?(LN(_.exterior,v),H(_.interiors,function(w){LN(w,v)})):H(_.points,function(w){LN(w,v)})}(c=this._rect).copy(d),this._center=[c.x+c.width/2,c.y+c.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var o=new t(e,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},t}(n4),r4=function(r){function t(e,o){var s=r.call(this,e)||this;return s.type="geoSVG",s._elOnlyForCalculate=o,s}return ae(t,r),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,o=e.getBoundingRect(),s=[o.x+o.width/2,o.y+o.height/2],u=yc(GY),c=e;c&&!c.isGeoSVGGraphicRoot;)_o(u,c.getLocalTransform(),u),c=c.parent;return Bo(u,u),Or(s,s,u),s},t}(n4);function yA(r,t,e){for(var o=0;o<r.length;o++)r[o]=i4(r[o],t[o],e)}function i4(r,t,e){for(var o=[],s=t[0],u=t[1],c=0;c<r.length;c+=2){var f=r.charCodeAt(c)-64,d=r.charCodeAt(c+1)-64;f=f>>1^-(1&f),d=d>>1^-(1&d),s=f+=s,u=d+=u,o.push([f/e,d/e])}return o}function RN(r,t){return r=function Fu(r){if(!r.UTF8Encoding)return r;var t=r,e=t.UTF8Scale;return null==e&&(e=1024),H(t.features,function(s){var u=s.geometry,c=u.encodeOffsets,f=u.coordinates;if(c)switch(u.type){case"LineString":u.coordinates=i4(f,c,e);break;case"Polygon":case"MultiLineString":yA(f,c,e);break;case"MultiPolygon":H(f,function(d,v){return yA(d,c[v],e)})}}),t.UTF8Encoding=!1,t}(r),me(Wt(r.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var o=e.properties,s=e.geometry,u=[];switch(s.type){case"Polygon":var c=s.coordinates;u.push(new jS(c[0],c.slice(1)));break;case"MultiPolygon":H(s.coordinates,function(d){d[0]&&u.push(new jS(d[0],d.slice(1)))});break;case"LineString":u.push(new WS([s.coordinates]));break;case"MultiLineString":u.push(new WS(s.coordinates))}var f=new mA(o[t||"name"],u,o.cp);return f.properties=o,f})}function o4(r,t,e,o,s,u,c,f){return new Nt({style:{text:r,font:t,align:e,verticalAlign:o,padding:s,rich:u,overflow:c?"truncate":null,lineHeight:f}}).getBoundingRect()}var th=zt();function l4(r,t){var u,c,e=d0(r,"labels"),o=vA(t);return ON(e,o)||(Ne(o)?u=$S(r,o):(c="auto"===o?function c4(r){return th(r).autoInterval??(th(r).autoInterval=r.calculateCategoryInterval())}(r):o,u=FN(r,c)),NN(e,o,{labels:u,labelCategoryInterval:c}))}function d0(r,t){return th(r)[t]||(th(r)[t]=[])}function ON(r,t){for(var e=0;e<r.length;e++)if(r[e].key===t)return r[e].value}function NN(r,t,e){return r.push({key:t,value:e}),e}function FN(r,t,e){var o=wv(r),s=r.scale,u=s.getExtent(),c=r.getLabelModel(),f=[],d=Math.max((t||0)+1,1),v=u[0],g=s.count();0!==v&&d>1&&g/d>2&&(v=Math.round(Math.ceil(v/d)*d));var m=gA(r),_=c.get("showMinLabel")||m,w=c.get("showMaxLabel")||m;_&&v!==u[0]&&x(u[0]);for(var S=v;S<=u[1];S+=d)x(S);function x(D){var T={value:D};f.push(e?D:{formattedLabel:o(T),rawLabel:s.getLabel(T),tickValue:D})}return w&&S-d!==u[1]&&x(u[1]),f}function $S(r,t,e){var o=r.scale,s=wv(r),u=[];return H(o.getTicks(),function(c){var f=o.getLabel(c),d=c.value;t(c.value,f)&&u.push(e?d:{formattedLabel:s(c),rawLabel:f,tickValue:d})}),u}var VN=[0,1],d4=function(){function r(t,e,o){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=o||[0,0]}return r.prototype.contain=function(t){var e=this._extent,o=Math.min(e[0],e[1]),s=Math.max(e[0],e[1]);return t>=o&&t<=s},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return Vm(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var o=this._extent;o[0]=t,o[1]=e},r.prototype.dataToCoord=function(t,e){var o=this._extent,s=this.scale;return t=s.normalize(t),this.onBand&&"ordinal"===s.type&&BN(o=o.slice(),s.count()),on(t,VN,o,e)},r.prototype.coordToData=function(t,e){var o=this._extent,s=this.scale;this.onBand&&"ordinal"===s.type&&BN(o=o.slice(),s.count());var u=on(t,o,VN,e);return this.scale.scale(u)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),u=me(function kN(r,t){return"category"===r.type?function u4(r,t){var u,c,e=d0(r,"ticks"),o=vA(t),s=ON(e,o);if(s)return s;if((!t.get("show")||r.scale.isBlank())&&(u=[]),Ne(o))u=$S(r,o,!0);else if("auto"===o){var f=l4(r,r.getLabelModel());c=f.labelCategoryInterval,u=me(f.labels,function(d){return d.tickValue})}else u=FN(r,c=o,!0);return NN(e,o,{ticks:u,tickCategoryInterval:c})}(r,t):{ticks:me(r.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(f){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(f):f),tickValue:f}},this);return function p4(r,t,e,o){var s=t.length;if(r.onBand&&!e&&s){var c,u=r.getExtent();if(1===s)t[0].coord=u[0],c=t[1]={coord:u[1]};else{var v=(t[s-1].coord-t[0].coord)/(t[s-1].tickValue-t[0].tickValue);H(t,function(w){w.coord-=v/2});var g=r.scale.getExtent();t.push(c={coord:t[s-1].coord+v*(1+g[1]-t[s-1].tickValue)})}var m=u[0]>u[1];_(t[0].coord,u[0])&&(o?t[0].coord=u[0]:t.shift()),o&&_(u[0],t[0].coord)&&t.unshift({coord:u[0]}),_(u[1],c.coord)&&(o?c.coord=u[1]:t.pop()),o&&_(c.coord,u[1])&&t.push({coord:u[1]})}function _(w,S){return w=Yn(w),S=Yn(S),m?w>S:w<S}}(this,u,e.get("alignWithLabel"),t.clamp),u},r.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),me(this.scale.getMinorTicks(e),function(u){return me(u,function(c){return{coord:this.dataToCoord(c),tickValue:c}},this)},this)},r.prototype.getViewLabels=function(){return function a4(r){return"category"===r.type?function s4(r){var t=r.getLabelModel(),e=l4(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}(r):function f0(r){var t=r.scale.getTicks(),e=wv(r);return{labels:me(t,function(o,s){return{level:o.level,formattedLabel:e(o,s),rawLabel:r.scale.getLabel(o),tickValue:o.value}})}}(r)}(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),o=e[1]-e[0]+(this.onBand?1:0);0===o&&(o=1);var s=Math.abs(t[1]-t[0]);return Math.abs(s)/o},r.prototype.calculateCategoryInterval=function(){return function h4(r){var t=function f4(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(r),e=wv(r),o=(t.axisRotate-t.labelRotate)/180*Math.PI,s=r.scale,u=s.getExtent(),c=s.count();if(u[1]-u[0]<1)return 0;var f=1;c>40&&(f=Math.max(1,Math.floor(c/40)));for(var d=u[0],v=r.dataToCoord(d+1)-r.dataToCoord(d),g=Math.abs(v*Math.cos(o)),m=Math.abs(v*Math.sin(o)),_=0,w=0;d<=u[1];d+=f){var x,D=Rm(e({value:d}),t.font,"center","top");x=1.3*D.height,_=Math.max(_,1.3*D.width,7),w=Math.max(w,x,7)}var T=_/g,A=w/m;isNaN(T)&&(T=1/0),isNaN(A)&&(A=1/0);var E=Math.max(0,Math.floor(Math.min(T,A))),P=th(r.model),N=r.getExtent(),k=P.lastAutoInterval,F=P.lastTickCount;return null!=k&&null!=F&&Math.abs(k-E)<=1&&Math.abs(F-c)<=1&&k>E&&P.axisExtent0===N[0]&&P.axisExtent1===N[1]?E=k:(P.lastTickCount=c,P.lastAutoInterval=E,P.axisExtent0=N[0],P.axisExtent1=N[1]),E}(this)},r}();function BN(r,t){var s=(r[1]-r[0])/t/2;r[0]+=s,r[1]-=s}const Ia=d4;function v4(r){var t=Lt.extend(r);return Lt.registerClass(t),t}function g4(r){var t=Bn.extend(r);return Bn.registerClass(t),t}function m4(r){var t=Mn.extend(r);return Mn.registerClass(t),t}function y4(r){var t=vn.extend(r);return vn.registerClass(t),t}var Sv=2*Math.PI,Vu=Zs.CMD,_4=["top","right","bottom","left"];function w4(r,t,e,o,s){var u=e.width,c=e.height;switch(r){case"top":o.set(e.x+u/2,e.y-t),s.set(0,-1);break;case"bottom":o.set(e.x+u/2,e.y+c+t),s.set(0,1);break;case"left":o.set(e.x-t,e.y+c/2),s.set(-1,0);break;case"right":o.set(e.x+u+t,e.y+c/2),s.set(1,0)}}function zN(r,t,e,o,s,u,c,f,d){c-=r,f-=t;var v=Math.sqrt(c*c+f*f),g=(c/=v)*e+r,m=(f/=v)*e+t;if(Math.abs(o-s)%Sv<1e-4)return d[0]=g,d[1]=m,v-e;if(u){var _=o;o=Wo(s),s=Wo(_)}else o=Wo(o),s=Wo(s);o>s&&(s+=Sv);var w=Math.atan2(f,c);if(w<0&&(w+=Sv),w>=o&&w<=s||w+Sv>=o&&w+Sv<=s)return d[0]=g,d[1]=m,v-e;var S=e*Math.cos(o)+r,x=e*Math.sin(o)+t,D=e*Math.cos(s)+r,T=e*Math.sin(s)+t,A=(S-c)*(S-c)+(x-f)*(x-f),E=(D-c)*(D-c)+(T-f)*(T-f);return A<E?(d[0]=S,d[1]=x,Math.sqrt(A)):(d[0]=D,d[1]=T,Math.sqrt(E))}function p0(r,t,e,o,s,u,c,f){var d=s-r,v=u-t,g=e-r,m=o-t,_=Math.sqrt(g*g+m*m),S=(d*(g/=_)+v*(m/=_))/_;f&&(S=Math.min(Math.max(S,0),1));var x=c[0]=r+(S*=_)*g,D=c[1]=t+S*m;return Math.sqrt((x-s)*(x-s)+(D-u)*(D-u))}function b4(r,t,e,o,s,u,c){e<0&&(r+=e,e=-e),o<0&&(t+=o,o=-o);var f=r+e,d=t+o,v=c[0]=Math.min(Math.max(s,r),f),g=c[1]=Math.min(Math.max(u,t),d);return Math.sqrt((v-s)*(v-s)+(g-u)*(g-u))}var er=[];function HN(r,t,e){var o=b4(t.x,t.y,t.width,t.height,r.x,r.y,er);return e.set(er[0],er[1]),o}function qS(r,t,e){for(var f,d,o=0,s=0,u=0,c=0,v=1/0,g=t.data,m=r.x,_=r.y,w=0;w<g.length;){var S=g[w++];1===w&&(u=o=g[w],c=s=g[w+1]);var x=v;switch(S){case Vu.M:o=u=g[w++],s=c=g[w++];break;case Vu.L:x=p0(o,s,g[w],g[w+1],m,_,er,!0),o=g[w++],s=g[w++];break;case Vu.C:x=At(o,s,g[w++],g[w++],g[w++],g[w++],g[w],g[w+1],m,_,er),o=g[w++],s=g[w++];break;case Vu.Q:x=pr(o,s,g[w++],g[w++],g[w],g[w+1],m,_,er),o=g[w++],s=g[w++];break;case Vu.A:var D=g[w++],T=g[w++],A=g[w++],E=g[w++],P=g[w++],N=g[w++];w+=1;var k=!!(1-g[w++]);f=Math.cos(P)*A+D,d=Math.sin(P)*E+T,w<=1&&(u=f,c=d),x=zN(D,T,E,P,P+N,k,(m-D)*E/A+D,_,er),o=Math.cos(P+N)*A+D,s=Math.sin(P+N)*E+T;break;case Vu.R:x=b4(u=o=g[w++],c=s=g[w++],g[w++],g[w++],m,_,er);break;case Vu.Z:x=p0(o,s,u,c,m,_,er,!0),o=u,s=c}x<v&&(v=x,e.set(er[0],er[1]))}return v}var Jo=new nt,Cn=new nt,_r=new nt,Pa=new nt,Di=new nt;function _A(r,t){if(r){var e=r.getTextGuideLine(),o=r.getTextContent();if(o&&e){var s=r.textGuideLineConfig||{},u=[[0,0],[0,0],[0,0]],c=s.candidates||_4,f=o.getBoundingRect().clone();f.applyTransform(o.getComputedTransform());var d=1/0,v=s.anchor,g=r.getComputedTransform(),m=g&&Bo([],g),_=t.get("length2")||0;v&&_r.copy(v);for(var w=0;w<c.length;w++){w4(c[w],0,f,Jo,Pa),nt.scaleAndAdd(Cn,Jo,Pa,_),Cn.transform(m);var x=r.getBoundingRect(),D=v?v.distance(Cn):r instanceof mt?qS(Cn,r.path,_r):HN(Cn,x,_r);D<d&&(d=D,Cn.transform(g),_r.transform(g),_r.toArray(u[0]),Cn.toArray(u[1]),Jo.toArray(u[2]))}GN(u,t.get("minTurnAngle")),e.setShape({points:u})}}}var Cv=[],Ti=new nt;function GN(r,t){if(t<=180&&t>0){t=t/180*Math.PI,Jo.fromArray(r[0]),Cn.fromArray(r[1]),_r.fromArray(r[2]),nt.sub(Pa,Jo,Cn),nt.sub(Di,_r,Cn);var e=Pa.len(),o=Di.len();if(!(e<.001||o<.001)){Pa.scale(1/e),Di.scale(1/o);var s=Pa.dot(Di);if(Math.cos(t)<s){var c=p0(Cn.x,Cn.y,_r.x,_r.y,Jo.x,Jo.y,Cv,!1);Ti.fromArray(Cv),Ti.scaleAndAdd(Di,c/Math.tan(Math.PI-t));var f=_r.x!==Cn.x?(Ti.x-Cn.x)/(_r.x-Cn.x):(Ti.y-Cn.y)/(_r.y-Cn.y);if(isNaN(f))return;f<0?nt.copy(Ti,Cn):f>1&&nt.copy(Ti,_r),Ti.toArray(r[1])}}}}function jY(r,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Jo.fromArray(r[0]),Cn.fromArray(r[1]),_r.fromArray(r[2]),nt.sub(Pa,Cn,Jo),nt.sub(Di,_r,Cn);var o=Pa.len(),s=Di.len();if(!(o<.001||s<.001)&&(Pa.scale(1/o),Di.scale(1/s),Pa.dot(t)<Math.cos(e))){var f=p0(Cn.x,Cn.y,_r.x,_r.y,Jo.x,Jo.y,Cv,!1);Ti.fromArray(Cv);var d=Math.PI/2,g=d+Math.acos(Di.dot(t))-e;if(g>=d)nt.copy(Ti,_r);else{Ti.scaleAndAdd(Di,f/Math.tan(Math.PI/2-g));var m=_r.x!==Cn.x?(Ti.x-Cn.x)/(_r.x-Cn.x):(Ti.y-Cn.y)/(_r.y-Cn.y);if(isNaN(m))return;m<0?nt.copy(Ti,Cn):m>1&&nt.copy(Ti,_r)}Ti.toArray(r[1])}}}function wA(r,t,e,o){var s="normal"===e,u=s?r:r.ensureState(e);u.ignore=t;var c=o.get("smooth");c&&!0===c&&(c=.3),u.shape=u.shape||{},c>0&&(u.shape.smooth=c);var f=o.getModel("lineStyle").getLineStyle();s?r.useStyle(f):u.style=f}function S4(r,t){var e=t.smooth,o=t.points;if(o)if(r.moveTo(o[0][0],o[0][1]),e>0&&o.length>=3){var s=Os(o[0],o[1]),u=Os(o[1],o[2]);if(!s||!u)return r.lineTo(o[1][0],o[1][1]),void r.lineTo(o[2][0],o[2][1]);var c=Math.min(s,u)*e,f=Ns([],o[1],o[0],c/s),d=Ns([],o[1],o[2],c/u),v=Ns([],f,d,.5);r.bezierCurveTo(f[0],f[1],f[0],f[1],v[0],v[1]),r.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var g=1;g<o.length;g++)r.lineTo(o[g][0],o[g][1])}function ZS(r,t,e){var o=r.getTextGuideLine(),s=r.getTextContent();if(s){for(var u=t.normal,c=u.get("show"),f=s.ignore,d=0;d<pf.length;d++){var v=pf[d],g=t[v],m="normal"===v;if(g){var _=g.get("show");if((m?f:Qe(s.states[v]&&s.states[v].ignore,f))||!Qe(_,c)){var S=m?o:o&&o.states[v];S&&(S.ignore=!0);continue}o||(o=new Ni,r.setTextGuideLine(o),!m&&(f||!c)&&wA(o,!0,"normal",t.normal),r.stateProxy&&(o.stateProxy=r.stateProxy)),wA(o,!1,v,g)}}if(o){Ve(o.style,e),o.style.fill=null;var x=u.get("showAbove");(r.textGuideLineConfig=r.textGuideLineConfig||{}).showAbove=x||!1,o.buildPath=S4}}else o&&r.removeTextGuideLine()}function bA(r,t){for(var e={normal:r.getModel(t=t||"labelLine")},o=0;o<hi.length;o++){var s=hi[o];e[s]=r.getModel([s,t])}return e}function UN(r){for(var t=[],e=0;e<r.length;e++){var o=r[e];if(!o.defaultAttr.ignore){var s=o.label,u=s.getComputedTransform(),c=s.getBoundingRect(),f=!u||u[1]<1e-5&&u[2]<1e-5,d=s.style.margin||0,v=c.clone();v.applyTransform(u),v.x-=d/2,v.y-=d/2,v.width+=d,v.height+=d;var g=f?new zn(c,u):null;t.push({label:s,labelLine:o.labelLine,rect:v,localRect:c,obb:g,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:f,transform:u})}}return t}function SA(r,t,e,o,s,u){var c=r.length;if(!(c<2)){r.sort(function(z,j){return z.rect[t]-j.rect[t]});for(var d,f=0,v=!1,g=[],m=0,_=0;_<c;_++){var w=r[_],S=w.rect;(d=S[t]-f)<0&&(S[t]-=d,w.label[t]-=d,v=!0);var x=Math.max(-d,0);g.push(x),m+=x,f=S[t]+S[e]}m>0&&u&&k(-m/c,0,c);var A,E,D=r[0],T=r[c-1];return P(),A<0&&F(-A,.8),E<0&&F(E,.8),P(),N(A,E,1),N(E,A,-1),P(),A<0&&B(-A),E<0&&B(E),v}function P(){A=D.rect[t]-o,E=s-T.rect[t]-T.rect[e]}function N(z,j,W){if(z<0){var q=Math.min(j,-z);if(q>0){k(q*W,0,c);var Y=q+z;Y<0&&F(-Y*W,1)}else F(-z*W,1)}}function k(z,j,W){0!==z&&(v=!0);for(var q=j;q<W;q++){var Y=r[q];Y.rect[t]+=z,Y.label[t]+=z}}function F(z,j){for(var W=[],q=0,Y=1;Y<c;Y++){var K=r[Y-1].rect,Q=Math.max(r[Y].rect[t]-K[t]-K[e],0);W.push(Q),q+=Q}if(q){var re=Math.min(Math.abs(z)/q,j);if(z>0)for(Y=0;Y<c-1;Y++)k(W[Y]*re,0,Y+1);else for(Y=c-1;Y>0;Y--)k(-W[Y-1]*re,Y,c)}}function B(z){var j=z<0?-1:1;z=Math.abs(z);for(var W=Math.ceil(z/(c-1)),q=0;q<c-1;q++)if(j>0?k(W,0,q+1):k(-W,c-q-1,c),(z-=W)<=0)return}}function CA(r,t,e,o){return SA(r,"y","height",t,e,o)}function jN(r){var t=[];r.sort(function(x,D){return D.priority-x.priority});var e=new Xe(0,0,0,0);function o(x){if(!x.ignore){var D=x.ensureState("emphasis");null==D.ignore&&(D.ignore=!1)}x.ignore=!0}for(var s=0;s<r.length;s++){var u=r[s],c=u.axisAligned,f=u.localRect,d=u.transform,v=u.label,g=u.labelLine;e.copy(u.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var m=u.obb,_=!1,w=0;w<t.length;w++){var S=t[w];if(e.intersect(S.rect)){if(c&&S.axisAligned){_=!0;break}if(S.obb||(S.obb=new zn(S.localRect,S.transform)),m||(m=new zn(f,d)),m.intersect(S.obb)){_=!0;break}}}_?(o(v),g&&o(g)):(v.attr("ignore",u.defaultAttr.ignore),g&&g.attr("ignore",u.defaultAttr.labelGuideIgnore),t.push(u))}}function WN(r){if(r){for(var t=[],e=0;e<r.length;e++)t.push(r[e].slice());return t}}function $Y(r,t){var e=r.label,o=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:WN(o&&o.shape.points)}}var YS=["align","verticalAlign","width","height","fontSize"],Vi=new tu,XS=zt(),C4=zt();function v0(r,t,e){for(var o=0;o<e.length;o++){var s=e[o];null!=t[s]&&(r[s]=t[s])}}var g0=["x","y","rotation"],ll=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(t,e,o,s,u){var c=s.style,d=s.__hostTarget.textConfig||{},v=s.getComputedTransform(),g=s.getBoundingRect().plain();Xe.applyTransform(g,g,v),v?Vi.setLocalTransform(v):(Vi.x=Vi.y=Vi.rotation=Vi.originX=Vi.originY=0,Vi.scaleX=Vi.scaleY=1),Vi.rotation=Wo(Vi.rotation);var _,m=s.__hostTarget;if(m){_=m.getBoundingRect().plain();var w=m.getComputedTransform();Xe.applyTransform(_,_,w)}var S=_&&m.getTextGuideLine();this._labelList.push({label:s,labelLine:S,seriesModel:o,dataIndex:t,dataType:e,layoutOption:u,computedLayoutOption:null,rect:g,hostRect:_,priority:_?_.width*_.height:0,defaultAttr:{ignore:s.ignore,labelGuideIgnore:S&&S.ignore,x:Vi.x,y:Vi.y,scaleX:Vi.scaleX,scaleY:Vi.scaleY,rotation:Vi.rotation,style:{x:c.x,y:c.y,align:c.align,verticalAlign:c.verticalAlign,width:c.width,height:c.height,fontSize:c.fontSize},cursor:s.cursor,attachedPos:d.position,attachedRot:d.rotation}})},r.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var o=t.__model,s=o.get("labelLayout");(Ne(s)||pt(s).length)&&t.group.traverse(function(u){if(u.ignore)return!0;var c=u.getTextContent(),f=et(u);c&&!c.disableLabelLayout&&e._addLabel(f.dataIndex,f.dataType,o,c,s)})},r.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),o=t.getHeight();function s(E,P){return function(){_A(E,P)}}for(var u=0;u<this._labelList.length;u++){var c=this._labelList[u],f=c.label,d=f.__hostTarget,v=c.defaultAttr,g=void 0;g=Ne(c.layoutOption)?c.layoutOption($Y(c,d)):c.layoutOption,c.computedLayoutOption=g=g||{};var m=Math.PI/180;d&&d.setTextConfig({local:!1,position:null!=g.x||null!=g.y?null:v.attachedPos,rotation:null!=g.rotate?g.rotate*m:v.attachedRot,offset:[g.dx||0,g.dy||0]});var _=!1;if(null!=g.x?(f.x=Ce(g.x,e),f.setStyle("x",0),_=!0):(f.x=v.x,f.setStyle("x",v.style.x)),null!=g.y?(f.y=Ce(g.y,o),f.setStyle("y",0),_=!0):(f.y=v.y,f.setStyle("y",v.style.y)),g.labelLinePoints){var w=d.getTextGuideLine();w&&(w.setShape({points:g.labelLinePoints}),_=!1)}XS(f).needsUpdateLabelLine=_,f.rotation=null!=g.rotate?g.rotate*m:v.rotation,f.scaleX=v.scaleX,f.scaleY=v.scaleY;for(var x=0;x<YS.length;x++){var D=YS[x];f.setStyle(D,null!=g[D]?g[D]:v.style[D])}if(g.draggable){if(f.draggable=!0,f.cursor="move",d){var T=c.seriesModel;null!=c.dataIndex&&(T=c.seriesModel.getData(c.dataType).getItemModel(c.dataIndex)),f.on("drag",s(d,T.getModel("labelLine")))}}else f.off("drag"),f.cursor=v.cursor}},r.prototype.layout=function(t){var e=t.getWidth(),o=t.getHeight(),s=UN(this._labelList),u=Wt(s,function(d){return"shiftX"===d.layoutOption.moveOverlap}),c=Wt(s,function(d){return"shiftY"===d.layoutOption.moveOverlap});(function WY(r,t,e,o){SA(r,"x","width",t,e,o)})(u,0,e),CA(c,0,o),jN(Wt(s,function(d){return d.layoutOption.hideOverlap}))},r.prototype.processLabelsOverall=function(){var t=this;H(this._chartViewList,function(e){var o=e.__model,s=e.ignoreLabelLineUpdate,u=o.isAnimationEnabled();e.group.traverse(function(c){if(c.ignore&&!c.forceLabelAnimation)return!0;var f=!s,d=c.getTextContent();!f&&d&&(f=XS(d).needsUpdateLabelLine),f&&t._updateLabelLine(c,o),u&&t._animateLabels(c,o)})})},r.prototype._updateLabelLine=function(t,e){var o=t.getTextContent(),s=et(t),u=s.dataIndex;if(o&&null!=u){var c=e.getData(s.dataType),f=c.getItemModel(u),d={},v=c.getItemVisual(u,"style");if(v){var g=c.getVisual("drawType");d.stroke=v[g]}var m=f.getModel("labelLine");ZS(t,bA(f),d),_A(t,m)}},r.prototype._animateLabels=function(t,e){var o=t.getTextContent(),s=t.getTextGuideLine();if(o&&(t.forceLabelAnimation||!o.ignore&&!o.invisible&&!t.disableLabelAnimation&&!Gp(t))){var c=(u=XS(o)).oldLayout,f=et(t),d=f.dataIndex,v={x:o.x,y:o.y,rotation:o.rotation},g=e.getData(f.dataType);if(c){o.attr(c);var _=t.prevStates;_&&(ot(_,"select")>=0&&o.attr(u.oldLayoutSelect),ot(_,"emphasis")>=0&&o.attr(u.oldLayoutEmphasis)),Yt(o,v,e,d)}else if(o.attr(v),!vu(o).valueAnimation){var m=Qe(o.style.opacity,1);o.style.opacity=0,On(o,{style:{opacity:m}},e,d)}if(u.oldLayout=v,o.states.select){var w=u.oldLayoutSelect={};v0(w,v,g0),v0(w,o.states.select,g0)}if(o.states.emphasis){var S=u.oldLayoutEmphasis={};v0(S,v,g0),v0(S,o.states.emphasis,g0)}db(o,d,g,e,e)}if(s&&!s.ignore&&!s.invisible){var u=C4(s),x={points:s.shape.points};(c=u.oldLayout)?(s.attr({shape:c}),Yt(s,{shape:x},e)):(s.setShape(x),s.style.strokePercent=0,On(s,{style:{strokePercent:1}},e)),u.oldLayout=x}},r}();const KS=ll;var QS=zt();function xA(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,o){var s=QS(e).labelManager;s||(s=QS(e).labelManager=new KS),s.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(t,e,o){var s=QS(e).labelManager;o.updatedSeries.forEach(function(u){s.addLabelsOfSeries(e.getViewOfSeriesModel(u))}),s.updateLayoutConfig(e),s.layout(e),s.processLabelsOverall()})}function $N(r,t,e){var o=Lr.createCanvas(),s=t.getWidth(),u=t.getHeight(),c=o.style;return c&&(c.position="absolute",c.left="0",c.top="0",c.width=s+"px",c.height=u+"px",o.setAttribute("data-zr-dom-id",r)),o.width=s*e,o.height=u*e,o}ft(xA);var x4=function(r){function t(e,o,s){var c,u=r.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null,s=s||Kh,"string"==typeof e?c=$N(e,o,s):Ue(e)&&(e=(c=e).id),u.id=e,u.dom=c;var f=c.style;return f&&(Kg(c),c.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),u.painter=o,u.dpr=s,u}return Le(t,r),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=$N("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,o,s,u){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var D,c=[],f=this.maxRepaintRectCount,d=!1,v=new Xe(0,0,0,0);function g(A){if(A.isFinite()&&!A.isZero())if(0===c.length)(E=new Xe(0,0,0,0)).copy(A),c.push(E);else{for(var P=!1,N=1/0,k=0,F=0;F<c.length;++F){var B=c[F];if(B.intersect(A)){var z=new Xe(0,0,0,0);z.copy(B),z.union(A),c[F]=z,P=!0;break}if(d){v.copy(A),v.union(B);var Y=v.width*v.height-A.width*A.height-B.width*B.height;Y<N&&(N=Y,k=F)}}var E;d&&(c[k].union(A),P=!0),P||((E=new Xe(0,0,0,0)).copy(A),c.push(E)),d||(d=c.length>=f)}}for(var m=this.__startIndex;m<this.__endIndex;++m)if(_=e[m]){var w=_.shouldBePainted(s,u,!0,!0);(S=_.__isRendered&&(_.__dirty&Ui||!w)?_.getPrevPaintRect():null)&&g(S);var x=w&&(_.__dirty&Ui||!_.__isRendered)?_.getPaintRect():null;x&&g(x)}for(m=this.__prevStartIndex;m<this.__prevEndIndex;++m){var _,S;w=(_=o[m]).shouldBePainted(s,u,!0,!0),!_||w&&_.__zr||!_.__isRendered||(S=_.getPrevPaintRect())&&g(S)}do{for(D=!1,m=0;m<c.length;)if(c[m].isZero())c.splice(m,1);else{for(var T=m+1;T<c.length;)c[m].intersect(c[T])?(D=!0,c[m].union(c[T]),c.splice(T,1)):T++;m++}}while(D);return this._paintRects=c,c},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,o){var s=this.dpr,u=this.dom,c=u.style,f=this.domBack;c&&(c.width=e+"px",c.height=o+"px"),u.width=e*s,u.height=o*s,f&&(f.width=e*s,f.height=o*s,1!==s&&this.ctxBack.scale(s,s))},t.prototype.clear=function(e,o,s){var u=this.dom,c=this.ctx,f=u.width,d=u.height;o=o||this.clearColor;var v=this.motionBlur&&!e,g=this.lastFrameAlpha,m=this.dpr,_=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(u,0,0,f/m,d/m));var w=this.domBack;function S(x,D,T,A){if(c.clearRect(x,D,T,A),o&&"transparent"!==o){var E=void 0;Hh(o)?(E=(o.global||o.__width===T&&o.__height===A)&&o.__canvasGradient||hS(c,o,{x:0,y:0,width:T,height:A}),o.__canvasGradient=E,o.__width=T,o.__height=A):aw(o)&&(o.scaleX=o.scaleX||m,o.scaleY=o.scaleY||m,E=fS(c,o,{dirty:function(){_.setUnpainted(),_.__painter.refresh()}})),c.save(),c.fillStyle=E||o,c.fillRect(x,D,T,A),c.restore()}v&&(c.save(),c.globalAlpha=g,c.drawImage(w,x,D,T,A),c.restore())}!s||v?S(0,0,f,d):s.length&&H(s,function(x){S(x.x*m,x.y*m,x.width*m,x.height*m)})},t}(yo);const qN=x4;var td=314159,ZN=function(){function r(t,e,o,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=o=ce({},o||{}),this.dpr=o.devicePixelRatio||Kh,this._singleCanvas=u,this.root=t,t.style&&(Kg(t),t.innerHTML=""),this.storage=e;var f=this._zlevelList;this._prevDisplayList=[];var d=this._layers;if(u){var g=t,m=g.width,_=g.height;null!=o.width&&(m=o.width),null!=o.height&&(_=o.height),this.dpr=o.devicePixelRatio||1,g.width=m*this.dpr,g.height=_*this.dpr,this._width=m,this._height=_;var w=new qN(g,this,this.dpr);w.__builtin__=!0,w.initContext(),d[td]=w,w.zlevel=td,f.push(td),this._domRoot=t}else{this._width=Zc(t,0,o),this._height=Zc(t,1,o);var v=this._domRoot=function YY(r,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}(this._width,this._height);t.appendChild(v)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),o=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,o,t,this._redrawId);for(var u=0;u<s.length;u++){var f=this._layers[s[u]];!f.__builtin__&&f.refresh&&f.refresh(0===u?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var e=t.length,o=this._hoverlayer;if(o&&o.clear(),e){for(var u,s={inHover:!0,viewWidth:this._width,viewHeight:this._height},c=0;c<e;c++){var f=t[c];f.__inHover&&(o||(o=this._hoverlayer=this.getLayer(1e5)),u||(u=o.ctx).save(),Zf(u,f,s,c===e-1))}u&&u.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(1e5)},r.prototype.paintOne=function(t,e){SM(t,e)},r.prototype._paintList=function(t,e,o,s){if(this._redrawId===s){o=o||!1,this._updateLayerStatus(t);var u=this._doPaintList(t,e,o),c=u.finished,f=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),f&&this._paintHoverList(t),c)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var d=this;Nn(function(){d._paintList(t,e,o,s)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(td).ctx,e=this._domRoot.width,o=this._domRoot.height;t.clearRect(0,0,e,o),this.eachBuiltinLayer(function(s){s.virtual&&t.drawImage(s.dom,0,0,e,o)})},r.prototype._doPaintList=function(t,e,o){for(var s=this,u=[],c=this._opts.useDirtyRect,f=0;f<this._zlevelList.length;f++){var v=this._layers[this._zlevelList[f]];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||o)&&u.push(v)}for(var g=!0,m=!1,_=function(x){var D=u[x],T=D.ctx,A=c&&D.createRepaintRects(t,e,w._width,w._height),E=o?D.__startIndex:D.__drawIndex,P=!o&&D.incremental&&Date.now,N=P&&Date.now(),k=D.zlevel===w._zlevelList[0]?w._backgroundColor:null;if(D.__startIndex===D.__endIndex)D.clear(!1,k,A);else if(E===D.__startIndex){var F=t[E];(!F.incremental||!F.notClear||o)&&D.clear(!1,k,A)}-1===E&&(console.error("For some unknown reason. drawIndex is -1"),E=D.__startIndex);var B,z=function(Y){var K={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(B=E;B<D.__endIndex;B++){var Q=t[B];if(Q.__inHover&&(m=!0),s._doPaintEl(Q,D,c,Y,K,B===D.__endIndex-1),P&&Date.now()-N>15)break}K.prevElClipPaths&&T.restore()};if(A)if(0===A.length)B=D.__endIndex;else for(var j=w.dpr,W=0;W<A.length;++W){var q=A[W];T.save(),T.beginPath(),T.rect(q.x*j,q.y*j,q.width*j,q.height*j),T.clip(),z(q),T.restore()}else T.save(),z(),T.restore();D.__drawIndex=B,D.__drawIndex<D.__endIndex&&(g=!1)},w=this,S=0;S<u.length;S++)_(S);return Pt.wxa&&H(this._layers,function(x){x&&x.ctx&&x.ctx.draw&&x.ctx.draw()}),{finished:g,needsRefreshHover:m}},r.prototype._doPaintEl=function(t,e,o,s,u,c){var f=e.ctx;if(o){var d=t.getPaintRect();(!s||d&&d.intersect(s))&&(Zf(f,t,u,c),t.setPrevPaintRect(d))}else Zf(f,t,u,c)},r.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=td);var o=this._layers[t];return o||((o=new qN("zr_"+t,this,this.dpr)).zlevel=t,o.__builtin__=!0,this._layerConfig[t]?tt(o,this._layerConfig[t],!0):this._layerConfig[t-.01]&&tt(o,this._layerConfig[t-.01],!0),e&&(o.virtual=e),this.insertLayer(t,o),o.initContext()),o},r.prototype.insertLayer=function(t,e){var o=this._layers,s=this._zlevelList,u=s.length,c=this._domRoot,f=null,d=-1;if(!o[t]&&function ZY(r){return!(!r||!r.__builtin__&&("function"!=typeof r.resize||"function"!=typeof r.refresh))}(e)){if(u>0&&t>s[0]){for(d=0;d<u-1&&!(s[d]<t&&s[d+1]>t);d++);f=o[s[d]]}if(s.splice(d+1,0,t),o[t]=e,!e.virtual)if(f){var v=f.dom;v.nextSibling?c.insertBefore(e.dom,v.nextSibling):c.appendChild(e.dom)}else c.firstChild?c.insertBefore(e.dom,c.firstChild):c.appendChild(e.dom);e.__painter=this}},r.prototype.eachLayer=function(t,e){for(var o=this._zlevelList,s=0;s<o.length;s++){var u=o[s];t.call(e,this._layers[u],u)}},r.prototype.eachBuiltinLayer=function(t,e){for(var o=this._zlevelList,s=0;s<o.length;s++){var u=o[s],c=this._layers[u];c.__builtin__&&t.call(e,c,u)}},r.prototype.eachOtherLayer=function(t,e){for(var o=this._zlevelList,s=0;s<o.length;s++){var u=o[s],c=this._layers[u];c.__builtin__||t.call(e,c,u)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){function e(m){u&&(u.__endIndex!==m&&(u.__dirty=!0),u.__endIndex=m)}if(this.eachBuiltinLayer(function(m,_){m.__dirty=m.__used=!1}),this._singleCanvas)for(var o=1;o<t.length;o++)if((s=t[o]).zlevel!==t[o-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}var f,d,u=null,c=0;for(d=0;d<t.length;d++){var s,v=(s=t[d]).zlevel,g=void 0;f!==v&&(f=v,c=0),s.incremental?((g=this.getLayer(v+.001,this._needsManuallyCompositing)).incremental=!0,c=1):g=this.getLayer(v+(c>0?.01:0),this._needsManuallyCompositing),g.__builtin__||ep("ZLevel "+v+" has been used by unkown layer "+g.id),g!==u&&(g.__used=!0,g.__startIndex!==d&&(g.__dirty=!0),g.__startIndex=d,g.__drawIndex=g.incremental?-1:d,e(d),u=g),s.__dirty&Ui&&!s.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=d))}e(d),this.eachBuiltinLayer(function(m,_){!m.__used&&m.getElementCount()>0&&(m.__dirty=!0,m.__startIndex=m.__endIndex=m.__drawIndex=0),m.__dirty&&m.__drawIndex<0&&(m.__drawIndex=m.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,H(this._layers,function(e){e.setUnpainted()})},r.prototype.configLayer=function(t,e){if(e){var o=this._layerConfig;o[t]?tt(o[t],e,!0):o[t]=e;for(var s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s];u!==t&&u!==t+.01||tt(this._layers[u],o[t],!0)}}},r.prototype.delLayer=function(t){var e=this._layers,o=this._zlevelList,s=e[t];s&&(s.dom.parentNode.removeChild(s.dom),delete e[t],o.splice(ot(o,t),1))},r.prototype.resize=function(t,e){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var s=this._opts,u=this.root;if(null!=t&&(s.width=t),null!=e&&(s.height=e),t=Zc(u,0,s),e=Zc(u,1,s),o.style.display="",this._width!==t||e!==this._height){for(var c in o.style.width=t+"px",o.style.height=e+"px",this._layers)this._layers.hasOwnProperty(c)&&this._layers[c].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(td).resize(t,e)}return this},r.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[td].dom;var e=new qN("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var o=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var s=e.dom.width,u=e.dom.height;this.eachLayer(function(m){m.__builtin__?o.drawImage(m.dom,0,0,s,u):m.renderToCanvas&&(o.save(),m.renderToCanvas(o),o.restore())})}else for(var c={inHover:!1,viewWidth:this._width,viewHeight:this._height},f=this.storage.getDisplayList(!0),d=0,v=f.length;d<v;d++)Zf(o,f[d],c,d===v-1);return e.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();const JS=ZN;var MA=Math.sin,YN=Math.cos,T4=Math.PI,xv=2*Math.PI,XY=180/T4,KY=function(){function r(){}return r.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},r.prototype.moveTo=function(t,e){this._add("M",t,e)},r.prototype.lineTo=function(t,e){this._add("L",t,e)},r.prototype.bezierCurveTo=function(t,e,o,s,u,c){this._add("C",t,e,o,s,u,c)},r.prototype.quadraticCurveTo=function(t,e,o,s){this._add("Q",t,e,o,s)},r.prototype.arc=function(t,e,o,s,u,c){this.ellipse(t,e,o,o,0,s,u,c)},r.prototype.ellipse=function(t,e,o,s,u,c,f,d){var S,v=f-c,g=!d,m=Math.abs(v),_=Zh(m-xv)||(g?v>=xv:-v>=xv),w=v>0?v%xv:v%xv+xv;S=!!_||!Zh(m)&&w>=T4==!!g;var x=t+o*YN(c),D=e+s*MA(c);this._start&&this._add("M",x,D);var T=Math.round(u*XY);if(_){var A=1/this._p,E=(g?1:-1)*(xv-A);this._add("A",o,s,T,1,+g,t+o*YN(c+E),e+s*MA(c+E)),A>.01&&this._add("A",o,s,T,0,+g,x,D)}else{var P=t+o*YN(f),N=e+s*MA(f);this._add("A",o,s,T,+S,+g,P,N)}},r.prototype.rect=function(t,e,o,s){this._add("M",t,e),this._add("l",o,0),this._add("l",0,s),this._add("l",-o,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(t,e,o,s,u,c,f,d,v){for(var g=[],m=this._p,_=1;_<arguments.length;_++){var w=arguments[_];if(isNaN(w))return void(this._invalid=!0);g.push(Math.round(w*m)/m)}this._d.push(t+g.join(" ")),this._start="Z"===t},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}();const XN=KY;var nh="none",M4=Math.round,Bu=["lineCap","miterLimit","lineJoin"],QN=me(Bu,function(r){return"stroke-"+r.toLowerCase()});var eC="http://www.w3.org/2000/svg",JN="http://www.w3.org/1999/xlink",EA="http://www.w3.org/2000/xmlns/",IA="http://www.w3.org/XML/1998/namespace";function m0(r){return document.createElementNS(eC,r)}function pi(r,t,e,o,s){return{tag:r,attrs:e||{},children:o,text:s,key:t}}function tC(r,t){var e=(t=t||{}).newline?"\n":"";return function o(s){var u=s.children,c=s.tag,d=s.text;return function QY(r,t){var e=[];if(t)for(var o in t){var s=t[o],u=o;!1!==s&&(!0!==s&&null!=s&&(u+='="'+s+'"'),e.push(u))}return"<"+r+" "+e.join(" ")+">"}(c,s.attrs)+("style"!==c?Nr(d):d||"")+(u?""+e+me(u,function(v){return o(v)}).join(e)+e:"")+function JY(r){return"</"+r+">"}(c)}(r)}function PA(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function eF(r,t,e,o){return pi("svg","root",{width:r,height:t,xmlns:eC,"xmlns:xlink":JN,version:"1.1",baseProfile:"full",viewBox:!!o&&"0 0 "+r+" "+t},e)}var tF={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},rh="transform-origin";function nF(r,t,e){var o=ce({},r.shape);ce(o,t),r.buildPath(e,o);var s=new XN;return s.reset(Yx(r)),e.rebuildPath(s,1),s.generateStr(),s.getStr()}function rF(r,t){var e=t.originX,o=t.originY;(e||o)&&(r[rh]=e+"px "+o+"px")}var I4={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function iF(r,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=r,e}function y0(r){return xe(r)?tF[r]?"cubic-bezier("+tF[r]+")":da(r)?r:"":""}function LA(r,t,e,o){var s=r.animators,u=s.length,c=[];if(r instanceof te){var f=function oF(r,t,e){var u,c,s={};if(H(r.shape.paths,function(d){var v=PA(e.zrId);v.animation=!0,LA(d,{},v,!0);var g=v.cssAnims,m=v.cssNodes,_=pt(g),w=_.length;if(w){var S=g[c=_[w-1]];for(var x in S){var D=S[x];s[x]=s[x]||{d:""},s[x].d+=D.d||""}for(var T in m){var A=m[T].animation;A.indexOf(c)>=0&&(u=A)}}}),u){t.d=!1;var f=iF(s,e);return u.replace(c,f)}}(r,t,e);if(f)c.push(f);else if(!u)return}else if(!u)return;for(var d={},v=0;v<u;v++){var g=s[v],m=[g.getMaxTime()/1e3+"s"],_=y0(g.getClip().easing),w=g.getDelay();m.push(_||"linear"),w&&m.push(w/1e3+"s"),g.getLoop()&&m.push("infinite");var S=m.join(" ");d[S]=d[S]||[S,[]],d[S][1].push(g)}function x(A){var E=A[1],P=E.length,N={},k={},F={},B="animation-timing-function";function z(Ke,_t,st){for(var Be=Ke.getTracks(),lt=Ke.getMaxTime(),$n=0;$n<Be.length;$n++){var Xt=Be[$n];if(Xt.needsAnimate()){var lr=Xt.keyframes,ur=Xt.propName;if(st&&(ur=st(ur)),ur)for(var Hi=0;Hi<lr.length;Hi++){var Rh=lr[Hi],co=Math.round(Rh.time/lt*100)+"%",Ix=y0(Rh.easing),kh=Rh.rawValue;(xe(kh)||kt(kh))&&(_t[co]=_t[co]||{},_t[co][ur]=Rh.rawValue,Ix&&(_t[co][B]=Ix))}}}}for(var j=0;j<P;j++)(q=(W=E[j]).targetName)?"shape"===q&&z(W,k):!o&&z(W,N);for(var Y in N){var K={};fD(K,r),ce(K,N[Y]);var Q=Xx(K),re=N[Y][B];F[Y]=Q?{transform:Q}:{},rF(F[Y],K),re&&(F[Y][B]=re)}var le,se=!0;for(var Y in k){F[Y]=F[Y]||{};var de=!le;re=k[Y][B],de&&(le=new Zs);var be=le.len();le.reset(),F[Y].d=nF(r,k[Y],le);var De=le.len();if(!de&&be!==De){se=!1;break}re&&(F[Y][B]=re)}if(!se)for(var Y in F)delete F[Y].d;if(!o)for(j=0;j<P;j++){var W,q;"style"===(q=(W=E[j]).targetName)&&z(W,F,function(Be){return I4[Be]})}var We,Fe=pt(F),$e=!0;for(j=1;j<Fe.length;j++){var dt=Fe[j-1];if(F[dt][rh]!==F[Fe[j]][rh]){$e=!1;break}We=F[dt][rh]}if($e&&We){for(var Y in F)F[Y][rh]&&delete F[Y][rh];t[rh]=We}if(Wt(Fe,function(Ke){return pt(F[Ke]).length>0}).length)return iF(F,e)+" "+A[0]+" both"}for(var D in d)(f=x(d[D]))&&c.push(f);if(c.length){var T=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+T]={animation:c.join(",")},t.class=T}}var Dv=Math.round;function Tv(r){return r&&xe(r.src)}function aF(r){return r&&Ne(r.toDataURL)}function RA(r,t,e,o){(function AA(r,t,e,o){var s=null==t.opacity?1:t.opacity;if(e instanceof bn)r("opacity",s);else{if(function A4(r){var t=r.fill;return null!=t&&t!==nh}(t)){var u=Lw(t.fill);r("fill",u.color);var c=null!=t.fillOpacity?t.fillOpacity*u.opacity*s:u.opacity*s;(o||c<1)&&r("fill-opacity",c)}else r("fill",nh);if(function KN(r){var t=r.stroke;return null!=t&&t!==nh}(t)){var f=Lw(t.stroke);r("stroke",f.color);var d=t.strokeNoScale?e.getLineScale():1,v=d?(t.lineWidth||0)/d:0,g=null!=t.strokeOpacity?t.strokeOpacity*f.opacity*s:f.opacity*s,m=t.strokeFirst;if((o||1!==v)&&r("stroke-width",v),(o||m)&&r("paint-order",m?"stroke":"fill"),(o||g<1)&&r("stroke-opacity",g),t.lineDash){var _=mM(e),w=_[0],S=_[1];w&&(S=M4(S||0),r("stroke-dasharray",w.join(",")),(S||o)&&r("stroke-dashoffset",S))}else o&&r("stroke-dasharray",nh);for(var x=0;x<Bu.length;x++){var D=Bu[x];if(o||t[D]!==Qa[D]){var T=t[D]||Qa[D];T&&r(QN[x],T)}}}else o&&r("stroke",nh)}})(function(s,u){var c="fill"===s||"stroke"===s;c&&Ho(u)?nC(t,r,s,o):c&&xL(u)?OA(e,r,s,o):r[s]=u},t,e,!1),function k4(r,t,e){var o=r.style;if(function WZ(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}(o)){var s=function $Z(r){var t=r.style,e=r.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}(r),u=e.shadowCache,c=u[s];if(!c){var f=r.getGlobalScale(),d=f[0],v=f[1];if(!d||!v)return;var g=o.shadowOffsetX||0,m=o.shadowOffsetY||0,_=o.shadowBlur,w=Lw(o.shadowColor),S=w.opacity,x=w.color,A=_/2/d+" "+_/2/v;c=e.zrId+"-s"+e.shadowIdx++,e.defs[c]=pi("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[pi("feDropShadow","",{dx:g/d,dy:m/v,stdDeviation:A,"flood-color":x,"flood-opacity":S})]),u[s]=c}t.filter=Am(c)}}(e,r,o)}function P4(r){return Zh(r[0]-1)&&Zh(r[1])&&Zh(r[2])&&Zh(r[3]-1)}function kA(r,t,e){if(t&&(!function eX(r){return Zh(r[4])&&Zh(r[5])}(t)||!P4(t))){var o=e?10:1e4;r.transform=P4(t)?"translate("+Dv(t[4]*o)/o+" "+Dv(t[5]*o)/o+")":function SL(r){return"matrix("+Zx(r[0])+","+Zx(r[1])+","+Zx(r[2])+","+Zx(r[3])+","+bL(r[4])+","+bL(r[5])+")"}(t)}}function sF(r,t,e){for(var o=r.points,s=[],u=0;u<o.length;u++)s.push(Dv(o[u][0]*e)/e),s.push(Dv(o[u][1]*e)/e);t.points=s.join(" ")}function lF(r){return!r.smooth}var uF={circle:[function L4(r){var t=me(r,function(e){return"string"==typeof e?[e,e]:e});return function(e,o,s){for(var u=0;u<t.length;u++){var c=t[u],f=e[c[0]];null!=f&&(o[c[1]]=Dv(f*s)/s)}}}(["cx","cy","r"])],polyline:[sF,lF],polygon:[sF,lF]};function hF(r,t){var e=r.style,o=r.shape,s=uF[r.type],u={},c=t.animation,f="path",d=r.style.strokePercent,v=t.compress&&Yx(r)||4;if(!s||t.willUpdate||s[1]&&!s[1](o)||c&&function cF(r){for(var t=r.animators,e=0;e<t.length;e++)if("shape"===t[e].targetName)return!0;return!1}(r)||d<1){var m=!r.path||r.shapeChanged();r.path||r.createPathProxy();var _=r.path;m&&(_.beginPath(),r.buildPath(_,r.shape),r.pathUpdated());var w=_.getVersion(),S=r,x=S.__svgPathBuilder;(S.__svgPathVersion!==w||!x||d!==S.__svgPathStrokePercent)&&(x||(x=S.__svgPathBuilder=new XN),x.reset(v),_.rebuildPath(x,d),x.generateStr(),S.__svgPathVersion=w,S.__svgPathStrokePercent=d),u.d=x.getStr()}else{f=r.type;var g=Math.pow(10,v);s[0](o,u,g)}return kA(u,r.transform),RA(u,e,r,t),t.animation&&LA(r,u,t),pi(f,r.id+"",u)}function R4(r,t){return r instanceof mt?hF(r,t):r instanceof bn?function fF(r,t){var e=r.style,o=e.image;if(o&&!xe(o)&&(Tv(o)?o=o.src:aF(o)&&(o=o.toDataURL())),o){var s=e.x||0,u=e.y||0,d={href:o,width:e.width,height:e.height};return s&&(d.x=s),u&&(d.y=u),kA(d,r.transform),RA(d,e,r,t),t.animation&&LA(r,d,t),pi("image",r.id+"",d)}}(r,t):r instanceof qm?function dF(r,t){var e=r.style,o=e.text;if(null!=o&&(o+=""),o&&!isNaN(e.x)&&!isNaN(e.y)){var s=e.font||Es,u=e.x||0,c=function jZ(r,t,e){return"top"===e?r+=t/2:"bottom"===e&&(r-=t/2),r}(e.y||0,Om(s),e.textBaseline),d={"dominant-baseline":"central","text-anchor":CL[e.textAlign]||e.textAlign};if(kp(e)){var v="",g=e.fontStyle,m=lb(e.fontSize);if(!parseFloat(m))return;var w=e.fontWeight;v+="font-size:"+m+";font-family:"+(e.fontFamily||lc)+";",g&&"normal"!==g&&(v+="font-style:"+g+";"),w&&"normal"!==w&&(v+="font-weight:"+w+";"),d.style=v}else d.style="font: "+s;return o.match(/\s/)&&(d["xml:space"]="preserve"),u&&(d.x=u),c&&(d.y=c),kA(d,r.transform),RA(d,e,r,t),t.animation&&LA(r,d,t),pi("text",r.id+"",d,void 0,o)}}(r,t):void 0}function nC(r,t,e,o){var u,s=r[e],c={gradientUnits:s.global?"userSpaceOnUse":"objectBoundingBox"};if(li(s))u="linearGradient",c.x1=s.x,c.y1=s.y,c.x2=s.x2,c.y2=s.y2;else{if(!Mm(s))return;u="radialGradient",c.cx=Qe(s.x,.5),c.cy=Qe(s.y,.5),c.r=Qe(s.r,.5)}for(var f=s.colorStops,d=[],v=0,g=f.length;v<g;++v){var m=100*bL(f[v].offset)+"%",w=Lw(f[v].color),x=w.opacity,D={offset:m};D["stop-color"]=w.color,x<1&&(D["stop-opacity"]=x),d.push(pi("stop",v+"",D))}var A=tC(pi(u,"",c,d)),E=o.gradientCache,P=E[A];P||(P=o.zrId+"-g"+o.gradientIdx++,E[A]=P,c.id=P,o.defs[P]=pi(u,P,c,d)),t[e]=Am(P)}function OA(r,t,e,o){var m,s=r.style[e],u=r.getBoundingRect(),c={},f=s.repeat,d="no-repeat"===f,v="repeat-x"===f,g="repeat-y"===f;if(Ql(s)){var _=s.imageWidth,w=s.imageHeight,S=void 0,x=s.image;if(xe(x)?S=x:Tv(x)?S=x.src:aF(x)&&(S=x.toDataURL()),typeof Image>"u"){var D="Image width/height must been given explictly in svg-ssr renderer.";_n(_,D),_n(w,D)}else if(null==_||null==w){var T=function(j,W){if(j){var q=j.elm,Y=_||W.width,K=w||W.height;"pattern"===j.tag&&(v?(K=1,Y/=u.width):g&&(Y=1,K/=u.height)),j.attrs.width=Y,j.attrs.height=K,q&&(q.setAttribute("width",Y),q.setAttribute("height",K))}},A=KL(S,null,r,function(j){d||T(k,j),T(m,j)});A&&A.width&&A.height&&(_=_||A.width,w=w||A.height)}m=pi("image","img",{href:S,width:_,height:w}),c.width=_,c.height=w}else s.svgElement&&(m=Ge(s.svgElement),c.width=s.svgWidth,c.height=s.svgHeight);if(m){var E,P;d?E=P=1:v?(P=1,E=c.width/u.width):g?(E=1,P=c.height/u.height):c.patternUnits="userSpaceOnUse",null!=E&&!isNaN(E)&&(c.width=E),null!=P&&!isNaN(P)&&(c.height=P);var N=Xx(s);N&&(c.patternTransform=N);var k=pi("pattern","",c,[m]),F=tC(k),B=o.patternCache,z=B[F];z||(z=o.zrId+"-p"+o.patternIdx++,B[F]=z,c.id=z,k=o.defs[z]=pi("pattern",z,c,[m])),t[e]=Am(z)}}function pF(r,t,e){var o=e.clipPathCache,s=e.defs,u=o[r.id];if(!u){var c={id:u=e.zrId+"-c"+e.clipPathIdx++};o[r.id]=u,s[u]=pi("clipPath",u,c,[hF(r,e)])}t["clip-path"]=Am(u)}function vF(r){return document.createTextNode(r)}function nd(r,t,e){r.insertBefore(t,e)}function gF(r,t){r.removeChild(t)}function FA(r,t){r.appendChild(t)}function VA(r){return r.parentNode}function O4(r){return r.nextSibling}function mF(r,t){r.textContent=t}var rd=58,iX=120,oX=pi("","");function yF(r){return void 0===r}function zu(r){return void 0!==r}function aX(r,t,e){for(var o={},s=t;s<=e;++s){var u=r[s].key;void 0!==u&&(o[u]=s)}return o}function _0(r,t){return r.tag===t.tag&&r.key===t.key}function rC(r){var t,e=r.children,o=r.tag;if(zu(o)){var s=r.elm=m0(o);if(_F(oX,r),ge(e))for(t=0;t<e.length;++t){var u=e[t];null!=u&&FA(s,rC(u))}else zu(r.text)&&!Ue(r.text)&&FA(s,vF(r.text))}else r.elm=vF(r.text);return r.elm}function N4(r,t,e,o,s){for(;o<=s;++o){var u=e[o];null!=u&&nd(r,rC(u),t)}}function BA(r,t,e,o){for(;e<=o;++e){var s=t[e];null!=s&&(zu(s.tag)?gF(VA(s.elm),s.elm):gF(r,s.elm))}}function _F(r,t){var e,o=t.elm,s=r&&r.attrs||{},u=t.attrs||{};if(s!==u){for(e in u){var c=u[e];s[e]!==c&&(!0===c?o.setAttribute(e,""):!1===c?o.removeAttribute(e):e.charCodeAt(0)!==iX?o.setAttribute(e,c):"xmlns:xlink"===e||"xmlns"===e?o.setAttributeNS(EA,e,c):e.charCodeAt(3)===rd?o.setAttributeNS(IA,e,c):e.charCodeAt(5)===rd?o.setAttributeNS(JN,e,c):o.setAttribute(e,c))}for(e in s)e in u||o.removeAttribute(e)}}function Mv(r,t){var e=t.elm=r.elm,o=r.children,s=t.children;r!==t&&(_F(r,t),yF(t.text)?zu(o)&&zu(s)?o!==s&&function sX(r,t,e){for(var m,_,w,o=0,s=0,u=t.length-1,c=t[0],f=t[u],d=e.length-1,v=e[0],g=e[d];o<=u&&s<=d;)null==c?c=t[++o]:null==f?f=t[--u]:null==v?v=e[++s]:null==g?g=e[--d]:_0(c,v)?(Mv(c,v),c=t[++o],v=e[++s]):_0(f,g)?(Mv(f,g),f=t[--u],g=e[--d]):_0(c,g)?(Mv(c,g),nd(r,c.elm,O4(f.elm)),c=t[++o],g=e[--d]):_0(f,v)?(Mv(f,v),nd(r,f.elm,c.elm),f=t[--u],v=e[++s]):(yF(m)&&(m=aX(t,o,u)),yF(_=m[v.key])||(w=t[_]).tag!==v.tag?nd(r,rC(v),c.elm):(Mv(w,v),t[_]=void 0,nd(r,w.elm,c.elm)),v=e[++s]);(o<=u||s<=d)&&(o>u?N4(r,null==e[d+1]?null:e[d+1].elm,e,s,d):BA(r,t,o,u))}(e,o,s):zu(s)?(zu(r.text)&&mF(e,""),N4(e,null,s,0,s.length-1)):zu(o)?BA(e,o,0,o.length-1):zu(r.text)&&mF(e,""):r.text!==t.text&&(zu(o)&&BA(e,o,0,o.length-1),mF(e,t.text)))}var zA=0,ih=function(){function r(t,e,o){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=o=ce({},o),this.root=t,this._id="zr"+zA++,this._oldVNode=eF(o.width,o.height),t&&!o.ssr){var s=this._viewport=document.createElement("div");s.style.cssText="position:relative;overflow:hidden";var u=this._svgDom=this._oldVNode.elm=m0("svg");_F(null,this._oldVNode),s.appendChild(u),t.appendChild(s)}this.resize(o.width,o.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function lX(r,t){if(_0(r,t))Mv(r,t);else{var e=r.elm,o=VA(e);rC(t),null!==o&&(nd(o,t.elm,O4(e)),BA(o,[r],0,0))}}(this._oldVNode,t),this._oldVNode=t}},r.prototype.renderOneToVNode=function(t){return R4(t,PA(this._id))},r.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),o=this._width,s=this._height,u=PA(this._id);u.animation=t.animation,u.willUpdate=t.willUpdate,u.compress=t.compress;var c=[],f=this._bgVNode=function F4(r,t,e,o){var s;if(e&&"none"!==e)if(s=pi("rect","bg",{width:r,height:t,x:"0",y:"0",id:"0"}),Ho(e))nC({fill:e},s.attrs,"fill",o);else if(xL(e))OA({style:{fill:e},dirty:Mt,getBoundingRect:function(){return{width:r,height:t}}},s.attrs,"fill",o);else{var u=Lw(e),f=u.opacity;s.attrs.fill=u.color,f<1&&(s.attrs["fill-opacity"]=f)}return s}(o,s,this._backgroundColor,u);f&&c.push(f);var d=t.compress?null:this._mainVNode=pi("g","main",{},[]);this._paintList(e,u,d?d.children:c),d&&c.push(d);var v=me(pt(u.defs),function(_){return u.defs[_]});if(v.length&&c.push(pi("defs","defs",{},v)),t.animation){var g=function E4(r,t,e){var o=(e=e||{}).newline?"\n":"",s=" {"+o,u=o+"}",c=me(pt(r),function(d){return d+s+me(pt(r[d]),function(v){return v+":"+r[d][v]+";"}).join(o)+u}).join(o),f=me(pt(t),function(d){return"@keyframes "+d+s+me(pt(t[d]),function(v){return v+s+me(pt(t[d][v]),function(g){var m=t[d][v][g];return"d"===g&&(m='path("'+m+'")'),g+":"+m+";"}).join(o)+u}).join(o)+u}).join(o);return c||f?["<![CDATA[",c,f,"]]>"].join(o):""}(u.cssNodes,u.cssAnims,{newline:!0});if(g){var m=pi("style","stl",{},[],g);c.push(m)}}return eF(o,s,c,t.useViewBox)},r.prototype.renderToString=function(t){return tC(this.renderToVNode({animation:Qe((t=t||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Qe(t.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(t,e,o){for(var f,d,s=t.length,u=[],c=0,v=0,g=0;g<s;g++){var m=t[g];if(!m.invisible){var _=m.__clipPaths,w=_&&_.length||0,S=d&&d.length||0,x=void 0;for(x=Math.max(w-1,S-1);x>=0&&(!_||!d||_[x]!==d[x]);x--);for(var D=S-1;D>x;D--)f=u[--c-1];for(var T=x+1;T<w;T++){var A={};pF(_[T],A,e);var E=pi("g","clip-g-"+v++,A,[]);(f?f.children:o).push(E),u[c++]=E,f=E}d=_;var P=R4(m,e);P&&(f?f.children:o).push(P)}}},r.prototype.resize=function(t,e){var o=this._opts,s=this.root,u=this._viewport;if(null!=t&&(o.width=t),null!=e&&(o.height=e),s&&u&&(u.style.display="none",t=Zc(s,0,o),e=Zc(s,1,o),u.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,u){var c=u.style;c.width=t+"px",c.height=e+"px"}if(xL(this._backgroundColor))this.refresh();else{var f=this._svgDom;f&&(f.setAttribute("width",t),f.setAttribute("height",e));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",t),d.setAttribute("height",e))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(t){var e=this.renderToString(),o="data:image/svg+xml;";return t?(e=DL(e))&&o+"base64,"+e:o+"charset=UTF-8,"+encodeURIComponent(e)},r}();const wr=ih;var V4=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ae(t,r),t.prototype.getInitialData=function(e){return us(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var o=new Ze,s=ar("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);o.add(s),s.setStyle(e.lineStyle);var u=this.getData().getVisual("symbol"),c=this.getData().getVisual("symbolRotate"),f="none"===u?"circle":u,d=.8*e.itemHeight,v=ar(f,(e.itemWidth-d)/2,(e.itemHeight-d)/2,d,d,e.itemStyle.fill);return o.add(v),v.setStyle(e.itemStyle),v.rotation=("inherit"===e.iconRotate?c:e.iconRotate||0)*Math.PI/180,v.setOrigin([e.itemWidth/2,e.itemHeight/2]),f.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill="#fff",v.style.lineWidth=2),o},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Mn);const B4=V4;function oh(r,t){var e=r.mapDimensionsAll("defaultedLabel"),o=e.length;if(1===o){var s=iv(r,t,e[0]);return null!=s?s+"":null}if(o){for(var u=[],c=0;c<e.length;c++)u.push(iv(r,t,e[c]));return u.join(" ")}}function GA(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!ge(t))return t+"";for(var o=[],s=0;s<e.length;s++){var u=r.getDimensionIndex(e[s]);u>=0&&o.push(t[u])}return o.join(" ")}var Hu=function(r){function t(e,o,s,u){var c=r.call(this)||this;return c.updateData(e,o,s,u),c}return ae(t,r),t.prototype._createSymbol=function(e,o,s,u,c){this.removeAll();var f=ar(e,-1,-1,2,2,null,c);f.attr({z2:100,culling:!0,scaleX:u[0]/2,scaleY:u[1]/2}),f.drift=id,this._symbolType=e,this.add(f)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){fu(this.childAt(0))},t.prototype.downplay=function(){Xs(this.childAt(0))},t.prototype.setZ=function(e,o){var s=this.childAt(0);s.zlevel=e,s.z=o},t.prototype.setDraggable=function(e,o){var s=this.childAt(0);s.draggable=e,s.cursor=!o&&e?"move":s.cursor},t.prototype.updateData=function(e,o,s,u){this.silent=!1;var c=e.getItemVisual(o,"symbol")||"circle",f=e.hostModel,d=t.getSymbolSize(e,o),v=c!==this._symbolType,g=u&&u.disableAnimation;if(v){var m=e.getItemVisual(o,"symbolKeepAspect");this._createSymbol(c,e,o,d,m)}else{(_=this.childAt(0)).silent=!1;var w={scaleX:d[0]/2,scaleY:d[1]/2};g?_.attr(w):Yt(_,w,f,o),wa(_)}if(this._updateCommon(e,o,d,s,u),v){var _=this.childAt(0);g||(w={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:_.style.opacity}},_.scaleX=_.scaleY=0,_.style.opacity=0,On(_,w,f,o))}g&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,o,s,u,c){var v,g,m,_,w,S,x,D,T,f=this.childAt(0),d=e.hostModel;if(u&&(v=u.emphasisItemStyle,g=u.blurItemStyle,m=u.selectItemStyle,_=u.focus,w=u.blurScope,x=u.labelStatesModels,D=u.hoverScale,T=u.cursorStyle,S=u.emphasisDisabled),!u||e.hasItemOption){var A=u&&u.itemModel?u.itemModel:e.getItemModel(o),E=A.getModel("emphasis");v=E.getModel("itemStyle").getItemStyle(),m=A.getModel(["select","itemStyle"]).getItemStyle(),g=A.getModel(["blur","itemStyle"]).getItemStyle(),_=E.get("focus"),w=E.get("blurScope"),S=E.get("disabled"),x=Mr(A),D=E.getShallow("scale"),T=A.getShallow("cursor")}var P=e.getItemVisual(o,"symbolRotate");f.attr("rotation",(P||0)*Math.PI/180||0);var N=$c(e.getItemVisual(o,"symbolOffset"),s);N&&(f.x=N[0],f.y=N[1]),T&&f.attr("cursor",T);var k=e.getItemVisual(o,"style"),F=k.fill;if(f instanceof bn){var B=f.style;f.useStyle(ce({image:B.image,x:B.x,y:B.y,width:B.width,height:B.height},k))}else f.useStyle(f.__isEmptyBrush?ce({},k):k),f.style.decal=null,f.setColor(F,c&&c.symbolInnerColor),f.style.strokeNoScale=!0;var z=e.getItemVisual(o,"liftZ"),j=this._z2;null!=z?null==j&&(this._z2=f.z2,f.z2+=z):null!=j&&(f.z2=j,this._z2=null);var W=c&&c.useNameLabel;Li(f,x,{labelFetcher:d,labelDataIndex:o,defaultText:function q(Q){return W?e.getName(Q):oh(e,Q)},inheritColor:F,defaultOpacity:k.opacity}),this._sizeX=s[0]/2,this._sizeY=s[1]/2;var Y=f.ensureState("emphasis");Y.style=v,f.ensureState("select").style=m,f.ensureState("blur").style=g;var K=null==D||!0===D?Math.max(1.1,3/this._sizeY):isFinite(D)&&D>0?+D:1;Y.scaleX=this._sizeX*K,Y.scaleY=this._sizeY*K,this.setSymbolScale(1),Jn(this,_,w,S)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,o,s){var u=this.childAt(0),c=et(this).dataIndex,f=s&&s.animation;if(this.silent=u.silent=!0,s&&s.fadeLabel){var d=u.getTextContent();d&&es(d,{style:{opacity:0}},o,{dataIndex:c,removeOpt:f,cb:function(){u.removeTextContent()}})}else u.removeTextContent();es(u,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:c,cb:e,removeOpt:f})},t.getSymbolSize=function(e,o){return Wf(e.getItemVisual(o,"symbolSize"))},t}(Ze);function id(r,t){this.parent.drift(r,t)}const Av=Hu;function iC(r,t,e,o){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(o.isIgnore&&o.isIgnore(e))&&!(o.clipShape&&!o.clipShape.contain(t[0],t[1]))&&"none"!==r.getItemVisual(e,"symbol")}function bF(r){return null!=r&&!Ue(r)&&(r={isIgnore:r}),r||{}}function w0(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Mr(t),cursorStyle:t.get("cursor")}}var z4=function(){function r(t){this.group=new Ze,this._SymbolCtor=t||Av}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=bF(e);var o=this.group,s=t.hostModel,u=this._data,c=this._SymbolCtor,f=e.disableAnimation,d=w0(t),v={disableAnimation:f},g=e.getSymbolPoint||function(m){return t.getItemLayout(m)};u||o.removeAll(),t.diff(u).add(function(m){var _=g(m);if(iC(t,_,m,e)){var w=new c(t,m,d,v);w.setPosition(_),t.setItemGraphicEl(m,w),o.add(w)}}).update(function(m,_){var w=u.getItemGraphicEl(_),S=g(m);if(iC(t,S,m,e)){var x=t.getItemVisual(m,"symbol")||"circle",D=w&&w.getSymbolType&&w.getSymbolType();if(!w||D&&D!==x)o.remove(w),(w=new c(t,m,d,v)).setPosition(S);else{w.updateData(t,m,d,v);var T={x:S[0],y:S[1]};f?w.attr(T):Yt(w,T,s)}o.add(w),t.setItemGraphicEl(m,w)}else o.remove(w)}).remove(function(m){var _=u.getItemGraphicEl(m);_&&_.fadeOut(function(){o.remove(_)},s)}).execute(),this._getSymbolPoint=g,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(o,s){var u=t._getSymbolPoint(s);o.setPosition(u),o.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=w0(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,o){function s(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],o=bF(o);for(var u=t.start;u<t.end;u++){var c=e.getItemLayout(u);if(iC(e,c,u,o)){var f=new this._SymbolCtor(e,u,this._seriesScope);f.traverse(s),f.setPosition(c),this.group.add(f),e.setItemGraphicEl(u,f),this._progressiveEls.push(f)}}},r.prototype.eachRendered=function(t){Wc(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,o=this._data;o&&t?o.eachItemGraphicEl(function(s){s.fadeOut(function(){e.remove(s)},o.hostModel)}):e.removeAll()},r}();const b0=z4;function UA(r,t,e){var o=r.getBaseAxis(),s=r.getOtherAxis(o),u=function H4(r,t){var e=0,o=r.scale.getExtent();return"start"===t?e=o[0]:"end"===t?e=o[1]:kt(t)&&!isNaN(t)?e=t:o[0]>0?e=o[0]:o[1]<0&&(e=o[1]),e}(s,e),c=o.dim,f=s.dim,d=t.mapDimension(f),v=t.mapDimension(c),g="x"===f||"radius"===f?1:0,m=me(r.dimensions,function(S){return t.mapDimension(S)}),_=!1,w=t.getCalculationInfo("stackResultDimension");return ol(t,m[0])&&(_=!0,m[0]=w),ol(t,m[1])&&(_=!0,m[1]=w),{dataDimsForPoint:m,valueStart:u,valueAxisDim:f,baseAxisDim:c,stacked:!!_,valueDim:d,baseDim:v,baseDataOffset:g,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function jA(r,t,e,o){var s=NaN;r.stacked&&(s=e.get(e.getCalculationInfo("stackedOverDimension"),o)),isNaN(s)&&(s=r.valueStart);var u=r.baseDataOffset,c=[];return c[u]=e.get(r.baseDim,o),c[1-u]=s,t.dataToPoint(c)}var br=Math.min,cn=Math.max;function ei(r,t){return isNaN(r)||isNaN(t)}function sr(r,t,e,o,s,u,c,f,d){for(var v,g,m,_,w,S,x=e,D=0;D<o;D++){var T=t[2*x],A=t[2*x+1];if(x>=s||x<0)break;if(ei(T,A)){if(d){x+=u;continue}break}if(x===e)r[u>0?"moveTo":"lineTo"](T,A),m=T,_=A;else{var E=T-v,P=A-g;if(E*E+P*P<.5){x+=u;continue}if(c>0){for(var N=x+u,k=t[2*N],F=t[2*N+1];k===T&&F===A&&D<o;)D++,k=t[2*(N+=u)],F=t[2*N+1],E=(T=t[2*(x+=u)])-v,P=(A=t[2*x+1])-g;var B=D+1;if(d)for(;ei(k,F)&&B<o;)B++,k=t[2*(N+=u)],F=t[2*N+1];var z=.5,j=0,W=0,q=void 0,Y=void 0;if(B>=o||ei(k,F))w=T,S=A;else{j=k-v,W=F-g;var K=T-v,Q=k-T,re=A-g,le=F-A,se=void 0,de=void 0;if("x"===f){var be=j>0?1:-1;w=T-be*(se=Math.abs(K))*c,S=A,q=T+be*(de=Math.abs(Q))*c,Y=A}else if("y"===f){var De=W>0?1:-1;w=T,S=A-De*(se=Math.abs(re))*c,q=T,Y=A+De*(de=Math.abs(le))*c}else se=Math.sqrt(K*K+re*re),w=T-j*c*(1-(z=(de=Math.sqrt(Q*Q+le*le))/(de+se))),S=A-W*c*(1-z),Y=A+W*c*z,q=br(q=T+j*c*z,cn(k,T)),Y=br(Y,cn(F,A)),q=cn(q,br(k,T)),S=A-(W=(Y=cn(Y,br(F,A)))-A)*se/de,w=br(w=T-(j=q-T)*se/de,cn(v,T)),S=br(S,cn(g,A)),q=T+(j=T-(w=cn(w,br(v,T))))*de/se,Y=A+(W=A-(S=cn(S,br(g,A))))*de/se}r.bezierCurveTo(m,_,w,S,T,A),m=q,_=Y}else r.lineTo(T,A)}v=T,g=A,x+=u}return D}var SF=function r(){this.smooth=0,this.smoothConstraint=!0},G4=function(r){function t(e){var o=r.call(this,e)||this;return o.type="ec-polyline",o}return ae(t,r),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new SF},t.prototype.buildPath=function(e,o){var s=o.points,u=0,c=s.length/2;if(o.connectNulls){for(;c>0&&ei(s[2*c-2],s[2*c-1]);c--);for(;u<c&&ei(s[2*u],s[2*u+1]);u++);}for(;u<c;)u+=sr(e,s,u,c,c,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},t.prototype.getPointOn=function(e,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var f,d,u=this.path.data,c=Zs.CMD,v="x"===o,g=[],m=0;m<u.length;){var w=void 0,S=void 0,x=void 0,D=void 0,T=void 0,A=void 0,E=void 0;switch(u[m++]){case c.M:f=u[m++],d=u[m++];break;case c.L:if(w=u[m++],S=u[m++],(E=v?(e-f)/(w-f):(e-d)/(S-d))<=1&&E>=0){var P=v?(S-d)*E+d:(w-f)*E+f;return v?[e,P]:[P,e]}f=w,d=S;break;case c.C:w=u[m++],S=u[m++],x=u[m++],D=u[m++],T=u[m++],A=u[m++];var N=v?qe(f,w,x,T,e,g):qe(d,S,D,A,e,g);if(N>0)for(var k=0;k<N;k++){var F=g[k];if(F<=1&&F>=0)return P=v?X(d,S,D,A,F):X(f,w,x,T,F),v?[e,P]:[P,e]}f=T,d=A}}},t}(mt),U4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t}(SF),CF=function(r){function t(e){var o=r.call(this,e)||this;return o.type="ec-polygon",o}return ae(t,r),t.prototype.getDefaultShape=function(){return new U4},t.prototype.buildPath=function(e,o){var s=o.points,u=o.stackedOnPoints,c=0,f=s.length/2,d=o.smoothMonotone;if(o.connectNulls){for(;f>0&&ei(s[2*f-2],s[2*f-1]);f--);for(;c<f&&ei(s[2*c],s[2*c+1]);c++);}for(;c<f;){var v=sr(e,s,c,f,f,1,o.smooth,d,o.connectNulls);sr(e,u,c+v-1,v,f,-1,o.stackedOnSmooth,d,o.connectNulls),c+=v+1,e.closePath()}},t}(mt);function xF(r,t,e,o,s){var u=r.getArea(),c=u.x,f=u.y,d=u.width,v=u.height,g=e.get(["lineStyle","width"])||2;c-=g/2,f-=g/2,d+=g,v+=g,c=Math.floor(c),d=Math.round(d);var m=new Ot({shape:{x:c,y:f,width:d,height:v}});if(t){var _=r.getBaseAxis(),w=_.isHorizontal(),S=_.inverse;w?(S&&(m.shape.x+=d),m.shape.width=0):(S||(m.shape.y+=v),m.shape.height=0);var x=Ne(s)?function(D){s(D,m)}:null;On(m,{shape:{width:d,height:v,x:c,y:f}},e,null,o,x)}return m}function DF(r,t,e){var o=r.getArea(),s=Yn(o.r0,1),u=Yn(o.r,1),c=new eo({shape:{cx:Yn(r.cx,1),cy:Yn(r.cy,1),r0:s,r:u,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});return t&&("angle"===r.getBaseAxis().dim?c.shape.endAngle=o.startAngle:c.shape.r=s,On(c,{shape:{endAngle:o.endAngle,r:u}},e)),c}function WA(r,t,e,o,s){return r?"polar"===r.type?DF(r,t,e):"cartesian2d"===r.type?xF(r,t,e,o,s):null:null}function Iv(r,t){return r.type===t}function S0(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function C0(r){for(var t=1/0,e=1/0,o=-1/0,s=-1/0,u=0;u<r.length;){var c=r[u++],f=r[u++];isNaN(c)||(t=Math.min(c,t),o=Math.max(c,o)),isNaN(f)||(e=Math.min(f,e),s=Math.max(f,s))}return[[t,e],[o,s]]}function x0(r,t){var e=C0(r),o=e[0],s=e[1],u=C0(t),c=u[0],f=u[1];return Math.max(Math.abs(o[0]-c[0]),Math.abs(o[1]-c[1]),Math.abs(s[0]-f[0]),Math.abs(s[1]-f[1]))}function ea(r){return kt(r)?r:r?.5:0}function od(r,t,e,o){var s=t.getBaseAxis(),u="x"===s.dim||"radius"===s.dim?0:1,c=[],f=0,d=[],v=[],g=[],m=[];if(o){for(f=0;f<r.length;f+=2)!isNaN(r[f])&&!isNaN(r[f+1])&&m.push(r[f],r[f+1]);r=m}for(f=0;f<r.length-2;f+=2)switch(g[0]=r[f+2],g[1]=r[f+3],v[0]=r[f],v[1]=r[f+1],c.push(v[0],v[1]),e){case"end":d[u]=g[u],d[1-u]=v[1-u],c.push(d[0],d[1]);break;case"middle":var w=[];d[u]=w[u]=(v[u]+g[u])/2,d[1-u]=v[1-u],w[1-u]=g[1-u],c.push(d[0],d[1]),c.push(w[0],w[1]);break;default:d[u]=v[u],d[1-u]=g[1-u],c.push(d[0],d[1])}return c.push(r[f++],r[f++]),c}function TF(r,t){return isNaN(r)||isNaN(t)}function MF(r,t){return[r[2*t],r[2*t+1]]}function ta(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<hi.length;t++)if(r.get([hi[t],"endLabel","show"]))return!0;return!1}function D0(r,t,e,o){if(Iv(t,"cartesian2d")){var s=o.getModel("endLabel"),u=s.get("valueAnimation"),c=o.getData(),f={lastFrameIndex:0},d=ta(o)?function(w,S){r._endLabelOnDuring(w,S,c,f,u,s,t)}:null,v=t.getBaseAxis().isHorizontal(),g=xF(t,e,o,function(){var w=r._endLabel;w&&e&&null!=f.originalX&&w.attr({x:f.originalX,y:f.originalY})},d);if(!o.get("clip",!0)){var m=g.shape,_=Math.max(m.width,m.height);v?(m.y-=_,m.height+=2*_):(m.x-=_,m.width+=2*_)}return d&&d(1,g),g}return DF(t,e,o)}var Z4=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.init=function(){var e=new Ze,o=new b0;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=e},t.prototype.render=function(e,o,s){var u=this,c=e.coordinateSystem,f=this.group,d=e.getData(),v=e.getModel("lineStyle"),g=e.getModel("areaStyle"),m=d.getLayout("points")||[],_="polar"===c.type,w=this._coordSys,S=this._symbolDraw,x=this._polyline,D=this._polygon,T=this._lineGroup,A=!o.ssr&&e.isAnimationEnabled(),E=!g.isEmpty(),P=g.get("origin"),N=UA(c,d,P),k=E&&function $A(r,t,e){if(!e.valueDim)return[];for(var o=t.count(),s=sl(2*o),u=0;u<o;u++){var c=jA(e,r,t,u);s[2*u]=c[0],s[2*u+1]=c[1]}return s}(c,d,N),F=e.get("showSymbol"),B=e.get("connectNulls"),z=F&&!_&&function j4(r,t,e){var o=r.get("showAllSymbol"),s="auto"===o;if(!o||s){var u=e.getAxesByScale("ordinal")[0];if(u&&(!s||!function W4(r,t){var e=r.getExtent(),o=Math.abs(e[1]-e[0])/r.scale.count();isNaN(o)&&(o=0);for(var s=t.count(),u=Math.max(1,Math.round(s/5)),c=0;c<s;c+=u)if(1.5*Av.getSymbolSize(t,c)[r.isHorizontal()?1:0]>o)return!1;return!0}(u,t))){var c=t.mapDimension(u.dim),f={};return H(u.getViewLabels(),function(d){var v=u.scale.getRawOrdinalNumber(d.tickValue);f[v]=1}),function(d){return!f.hasOwnProperty(t.get(c,d))}}}}(e,d,c),j=this._data;j&&j.eachItemGraphicEl(function(Rt,yt){Rt.__temp&&(f.remove(Rt),j.setItemGraphicEl(yt,null))}),F||S.remove(),f.add(T);var q,W=!_&&e.get("step");c&&c.getArea&&e.get("clip",!0)&&(null!=(q=c.getArea()).width?(q.x-=.1,q.y-=.1,q.width+=.2,q.height+=.2):q.r0&&(q.r0-=.5,q.r+=.5)),this._clipShapeForSymbol=q;var Y=function cX(r,t,e){var o=r.getVisual("visualMeta");if(o&&o.length&&r.count()&&"cartesian2d"===t.type){for(var s,u,c=o.length-1;c>=0;c--){var f=r.getDimensionInfo(o[c].dimension);if("x"===(s=f&&f.coordDim)||"y"===s){u=o[c];break}}if(u){var d=t.getAxis(s),v=me(u.stops,function(E){return{coord:d.toGlobalCoord(d.dataToCoord(E.value)),color:E.color}}),g=v.length,m=u.outerColors.slice();g&&v[0].coord>v[g-1].coord&&(v.reverse(),m.reverse());var _=function uX(r,t){var s,u,e=[],o=r.length;function c(g,m,_){var w=g.coord;return{coord:_,color:qx((_-w)/(m.coord-w),[g.color,m.color])}}for(var f=0;f<o;f++){var d=r[f],v=d.coord;if(v<0)s=d;else{if(v>t){u?e.push(c(u,d,t)):s&&e.push(c(s,d,0),c(s,d,t));break}s&&(e.push(c(s,d,0)),s=null),e.push(d),u=d}}return e}(v,"x"===s?e.getWidth():e.getHeight()),w=_.length;if(!w&&g)return v[0].coord<0?m[1]?m[1]:v[g-1].color:m[0]?m[0]:v[0].color;var x=_[0].coord-10,D=_[w-1].coord+10,T=D-x;if(T<.001)return"transparent";H(_,function(E){E.offset=(E.coord-x)/T}),_.push({offset:w?_[w-1].offset:.5,color:m[1]||"transparent"}),_.unshift({offset:w?_[0].offset:.5,color:m[0]||"transparent"});var A=new cv(0,0,0,0,_,!0);return A[s]=x,A[s+"2"]=D,A}}}(d,c,s)||d.getVisual("style")[d.getVisual("drawType")];if(x&&w.type===c.type&&W===this._step){E&&!D?D=this._newPolygon(m,k):D&&!E&&(T.remove(D),D=this._polygon=null),_||this._initOrUpdateEndLabel(e,c,ts(Y));var K=T.getClipPath();K?On(K,{shape:D0(this,c,!1,e).shape},e):T.setClipPath(D0(this,c,!0,e)),F&&S.updateData(d,{isIgnore:z,clipShape:q,disableAnimation:!0,getSymbolPoint:function(Rt){return[m[2*Rt],m[2*Rt+1]]}}),(!S0(this._stackedOnPoints,k)||!S0(this._points,m))&&(A?this._doUpdateAnimation(d,k,c,s,W,P,B):(W&&(m=od(m,c,W,B),k&&(k=od(k,c,W,B))),x.setShape({points:m}),D&&D.setShape({points:m,stackedOnPoints:k})))}else F&&S.updateData(d,{isIgnore:z,clipShape:q,disableAnimation:!0,getSymbolPoint:function(Rt){return[m[2*Rt],m[2*Rt+1]]}}),A&&this._initSymbolLabelAnimation(d,c,q),W&&(m=od(m,c,W,B),k&&(k=od(k,c,W,B))),x=this._newPolyline(m),E?D=this._newPolygon(m,k):D&&(T.remove(D),D=this._polygon=null),_||this._initOrUpdateEndLabel(e,c,ts(Y)),T.setClipPath(D0(this,c,!0,e));var re=e.getModel("emphasis"),le=re.get("focus"),se=re.get("blurScope"),de=re.get("disabled");x.useStyle(Ve(v.getLineStyle(),{fill:"none",stroke:Y,lineJoin:"bevel"})),Si(x,e,"lineStyle"),x.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(x.getState("emphasis").style.lineWidth=+x.style.lineWidth+1),et(x).seriesIndex=e.seriesIndex,Jn(x,le,se,de);var De=ea(e.get("smooth")),Fe=e.get("smoothMonotone");if(x.setShape({smooth:De,smoothMonotone:Fe,connectNulls:B}),D){var $e=d.getCalculationInfo("stackedOnSeries"),We=0;D.useStyle(Ve(g.getAreaStyle(),{fill:Y,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),$e&&(We=ea($e.get("smooth"))),D.setShape({smooth:De,stackedOnSmooth:We,smoothMonotone:Fe,connectNulls:B}),Si(D,e,"areaStyle"),et(D).seriesIndex=e.seriesIndex,Jn(D,le,se,de)}var dt=function(Rt){u._changePolyState(Rt)};d.eachItemGraphicEl(function(Rt){Rt&&(Rt.onHoverStateChange=dt)}),this._polyline.onHoverStateChange=dt,this._data=d,this._coordSys=c,this._stackedOnPoints=k,this._points=m,this._step=W,this._valueOrigin=P,e.get("triggerLineEvent")&&(this.packEventData(e,x),D&&this.packEventData(e,D))},t.prototype.packEventData=function(e,o){et(o).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,o,s,u){var c=e.getData(),f=ou(c,u);if(this._changePolyState("emphasis"),!(f instanceof Array)&&null!=f&&f>=0){var d=c.getLayout("points"),v=c.getItemGraphicEl(f);if(!v){var g=d[2*f],m=d[2*f+1];if(isNaN(g)||isNaN(m)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,m))return;var _=e.get("zlevel")||0,w=e.get("z")||0;(v=new Av(c,f)).x=g,v.y=m,v.setZ(_,w);var S=v.getSymbolPath().getTextContent();S&&(S.zlevel=_,S.z=w,S.z2=this._polyline.z2+1),v.__temp=!0,c.setItemGraphicEl(f,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else vn.prototype.highlight.call(this,e,o,s,u)},t.prototype.downplay=function(e,o,s,u){var c=e.getData(),f=ou(c,u);if(this._changePolyState("normal"),null!=f&&f>=0){var d=c.getItemGraphicEl(f);d&&(d.__temp?(c.setItemGraphicEl(f,null),this.group.remove(d)):d.downplay())}else vn.prototype.downplay.call(this,e,o,s,u)},t.prototype._changePolyState=function(e){var o=this._polygon;Km(this._polyline,e),o&&Km(o,e)},t.prototype._newPolyline=function(e){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new G4({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},t.prototype._newPolygon=function(e,o){var s=this._polygon;return s&&this._lineGroup.remove(s),s=new CF({shape:{points:e,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(s),this._polygon=s,s},t.prototype._initSymbolLabelAnimation=function(e,o,s){var u,c,f=o.getBaseAxis(),d=f.inverse;"cartesian2d"===o.type?(u=f.isHorizontal(),c=!1):"polar"===o.type&&(u="angle"===f.dim,c=!0);var v=e.hostModel,g=v.get("animationDuration");Ne(g)&&(g=g(null));var m=v.get("animationDelay")||0,_=Ne(m)?m(null):m;e.eachItemGraphicEl(function(w,S){var x=w;if(x){var T=void 0,A=void 0,E=void 0;if(s)if(c){var P=s,N=o.pointToCoord([w.x,w.y]);u?(T=P.startAngle,A=P.endAngle,E=-N[1]/180*Math.PI):(T=P.r0,A=P.r,E=N[0])}else u?(T=s.x,A=s.x+s.width,E=w.x):(T=s.y+s.height,A=s.y,E=w.y);var F=A===T?0:(E-T)/(A-T);d&&(F=1-F);var B=Ne(m)?m(S):g*F+_,z=x.getSymbolPath(),j=z.getTextContent();x.attr({scaleX:0,scaleY:0}),x.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:B}),j&&j.animateFrom({style:{opacity:0}},{duration:300,delay:B}),z.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,o,s){var u=e.getModel("endLabel");if(ta(e)){var c=e.getData(),f=this._polyline,d=c.getLayout("points");if(!d)return f.removeTextContent(),void(this._endLabel=null);var v=this._endLabel;v||((v=this._endLabel=new Nt({z2:200})).ignoreClip=!0,f.setTextContent(this._endLabel),f.disableLabelAnimation=!0);var g=function $4(r){for(var t=r.length/2;t>0&&TF(r[2*t-2],r[2*t-1]);t--);return t-1}(d);g>=0&&(Li(f,Mr(e,"endLabel"),{inheritColor:s,labelFetcher:e,labelDataIndex:g,defaultText:function(m,_,w){return null!=w?GA(c,w):oh(c,m)},enableTextSetter:!0},function q4(r,t){var e=t.getBaseAxis(),o=e.isHorizontal(),s=e.inverse,u=o?s?"right":"left":"center",c=o?"middle":s?"top":"bottom";return{normal:{align:r.get("align")||u,verticalAlign:r.get("verticalAlign")||c}}}(u,o)),f.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,o,s,u,c,f,d){var v=this._endLabel,g=this._polyline;if(v){e<1&&null==u.originalX&&(u.originalX=v.x,u.originalY=v.y);var m=s.getLayout("points"),_=s.hostModel,w=_.get("connectNulls"),S=f.get("precision"),x=f.get("distance")||0,D=d.getBaseAxis(),T=D.isHorizontal(),A=D.inverse,E=o.shape,P=A?T?E.x:E.y+E.height:T?E.x+E.width:E.y,N=(T?x:0)*(A?-1:1),k=(T?0:-x)*(A?-1:1),F=T?"x":"y",B=function hX(r,t,e){for(var u,c,o=r.length/2,s="x"===e?0:1,f=0,d=-1,v=0;v<o;v++)if(c=r[2*v+s],!isNaN(c)&&!isNaN(r[2*v+1-s])){if(0===v){u=c;continue}if(u<=t&&c>=t||u>=t&&c<=t){d=v;break}f=v,u=c}return{range:[f,d],t:(t-u)/(c-u)}}(m,P,F),z=B.range,j=z[1]-z[0],W=void 0;if(j>=1){if(j>1&&!w){var q=MF(m,z[0]);v.attr({x:q[0]+N,y:q[1]+k}),c&&(W=_.getRawValue(z[0]))}else{(q=g.getPointOn(P,F))&&v.attr({x:q[0]+N,y:q[1]+k});var Y=_.getRawValue(z[0]),K=_.getRawValue(z[1]);c&&(W=qL(s,S,Y,K,B.t))}u.lastFrameIndex=z[0]}else{var Q=1===e||u.lastFrameIndex>0?z[0]:0;q=MF(m,Q),c&&(W=_.getRawValue(Q)),v.attr({x:q[0]+N,y:q[1]+k})}if(c){var re=vu(v);"function"==typeof re.setLabelText&&re.setLabelText(W)}}},t.prototype._doUpdateAnimation=function(e,o,s,u,c,f,d){var v=this._polyline,g=this._polygon,m=e.hostModel,_=function Ev(r,t,e,o,s,u,c,f){for(var d=function oC(r,t){var e=[];return t.diff(r).add(function(o){e.push({cmd:"+",idx:o})}).update(function(o,s){e.push({cmd:"=",idx:s,idx1:o})}).remove(function(o){e.push({cmd:"-",idx:o})}).execute(),e}(r,t),v=[],g=[],m=[],_=[],w=[],S=[],x=[],D=UA(s,t,c),T=r.getLayout("points")||[],A=t.getLayout("points")||[],E=0;E<d.length;E++){var P=d[E],N=!0,k=void 0,F=void 0;switch(P.cmd){case"=":var B=T[k=2*P.idx],z=T[k+1],j=A[F=2*P.idx1],W=A[F+1];(isNaN(B)||isNaN(z))&&(B=j,z=W),v.push(B,z),g.push(j,W),m.push(e[k],e[k+1]),_.push(o[F],o[F+1]),x.push(t.getRawIndex(P.idx1));break;case"+":var q=P.idx,Y=D.dataDimsForPoint,K=s.dataToPoint([t.get(Y[0],q),t.get(Y[1],q)]);F=2*q,v.push(K[0],K[1]),g.push(A[F],A[F+1]);var Q=jA(D,s,t,q);m.push(Q[0],Q[1]),_.push(o[F],o[F+1]),x.push(t.getRawIndex(q));break;case"-":N=!1}N&&(w.push(P),S.push(S.length))}S.sort(function(dt,Rt){return x[dt]-x[Rt]});var re=v.length,le=sl(re),se=sl(re),de=sl(re),be=sl(re),De=[];for(E=0;E<S.length;E++){var Fe=S[E],$e=2*E,We=2*Fe;le[$e]=v[We],le[$e+1]=v[We+1],se[$e]=g[We],se[$e+1]=g[We+1],de[$e]=m[We],de[$e+1]=m[We+1],be[$e]=_[We],be[$e+1]=_[We+1],De[E]=w[Fe]}return{current:le,next:se,stackedOnCurrent:de,stackedOnNext:be,status:De}}(this._data,e,this._stackedOnPoints,o,this._coordSys,0,this._valueOrigin),w=_.current,S=_.stackedOnCurrent,x=_.next,D=_.stackedOnNext;if(c&&(w=od(_.current,s,c,d),S=od(_.stackedOnCurrent,s,c,d),x=od(_.next,s,c,d),D=od(_.stackedOnNext,s,c,d)),x0(w,x)>3e3||g&&x0(S,D)>3e3)return v.stopAnimation(),v.setShape({points:x}),void(g&&(g.stopAnimation(),g.setShape({points:x,stackedOnPoints:D})));v.shape.__points=_.current,v.shape.points=w;var T={shape:{points:x}};_.current!==w&&(T.shape.__points=_.next),v.stopAnimation(),Yt(v,T,m),g&&(g.setShape({points:w,stackedOnPoints:S}),g.stopAnimation(),Yt(g,{shape:{stackedOnPoints:D}},m),v.shape.points!==g.shape.points&&(g.shape.points=v.shape.points));for(var A=[],E=_.status,P=0;P<E.length;P++)if("="===E[P].cmd){var k=e.getItemGraphicEl(E[P].idx1);k&&A.push({el:k,ptIdx:P})}v.animators&&v.animators.length&&v.animators[0].during(function(){g&&g.dirtyShape();for(var F=v.shape.__points,B=0;B<A.length;B++){var z=A[B].el,j=2*A[B].ptIdx;z.x=F[j],z.y=F[j+1],z.markRedraw()}})},t.prototype.remove=function(e){var o=this.group,s=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),s&&s.eachItemGraphicEl(function(u,c){u.__temp&&(o.remove(u),s.setItemGraphicEl(c,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(vn);const Y4=Z4;function T0(r,t){return{seriesType:r,plan:Ji(),reset:function(e){var o=e.getData(),s=e.coordinateSystem,c=t||e.pipelineContext.large;if(s){var f=me(s.dimensions,function(w){return o.mapDimension(w)}).slice(0,2),d=f.length,v=o.getCalculationInfo("stackResultDimension");ol(o,f[0])&&(f[0]=v),ol(o,f[1])&&(f[1]=v);var g=o.getStore(),m=o.getDimensionIndex(f[0]),_=o.getDimensionIndex(f[1]);return d&&{progress:function(w,S){for(var D=c&&sl((w.end-w.start)*d),T=[],A=[],E=w.start,P=0;E<w.end;E++){var N=void 0;if(1===d){var k=g.get(m,E);N=s.dataToPoint(k,null,A)}else T[0]=g.get(m,E),T[1]=g.get(_,E),N=s.dataToPoint(T,null,A);c?(D[P++]=N[0],D[P++]=N[1]):S.setItemLayout(E,N.slice())}c&&S.setLayout("points",D)}}}}}}var M0={average:function(r){for(var t=0,e=0,o=0;o<r.length;o++)isNaN(r[o])||(t+=r[o],e++);return 0===e?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},X4=function(r){return Math.round(r.length/2)};function ul(r){return{seriesType:r,reset:function(t,e,o){var s=t.getData(),u=t.get("sampling"),c=t.coordinateSystem,f=s.count();if(f>10&&"cartesian2d"===c.type&&u){var d=c.getBaseAxis(),v=c.getOtherAxis(d),g=d.getExtent(),m=o.getDevicePixelRatio(),_=Math.abs(g[1]-g[0])*(m||1),w=Math.round(f/_);if(isFinite(w)&&w>1){"lttb"===u&&t.setData(s.lttbDownSample(s.mapDimension(v.dim),1/w));var S=void 0;xe(u)?S=M0[u]:Ne(u)&&(S=u),S&&t.setData(s.downSample(s.mapDimension(v.dim),1/w,S,X4))}}}}}var yn=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.getInitialData=function(e,o){return us(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,o,s){var u=this.coordinateSystem;if(u&&u.clampData){var c=u.clampData(e),f=u.dataToPoint(c);if(s)H(u.getAxes(),function(_,w){if("category"===_.type&&null!=o){var S=_.getTicksCoords(),x=c[w],D="x1"===o[w]||"y1"===o[w];if(D&&(x+=1),S.length<2)return;if(2===S.length)return void(f[w]=_.toGlobalCoord(_.getExtent()[D?1:0]));for(var T=void 0,A=void 0,E=1,P=0;P<S.length;P++){var N=S[P].coord,k=P===S.length-1?S[P-1].tickValue+E:S[P].tickValue;if(k===x){A=N;break}if(k<x)T=N;else if(null!=T&&k>x){A=(N+T)/2;break}1===P&&(E=k-S[0].tickValue)}null==A&&(T?T&&(A=S[S.length-1].coord):A=S[0].coord),f[w]=_.toGlobalCoord(A)}});else{var d=this.getData(),v=d.getLayout("offset"),g=d.getLayout("size"),m=u.getBaseAxis().isHorizontal()?0:1;f[m]+=v+g/2}return f}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Mn);Mn.registerClass(yn);const aC=yn;var sC=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.getInitialData=function(){return us(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>e&&(e=o),e},t.prototype.brushSelector=function(e,o,s){return s.rect(o.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=gu(aC.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(aC);const Gu=sC;var lC=function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},hs=function(r){function t(e){var o=r.call(this,e)||this;return o.type="sausage",o}return ae(t,r),t.prototype.getDefaultShape=function(){return new lC},t.prototype.buildPath=function(e,o){var s=o.cx,u=o.cy,c=Math.max(o.r0||0,0),f=Math.max(o.r,0),d=.5*(f-c),v=c+d,g=o.startAngle,m=o.endAngle,_=o.clockwise,w=2*Math.PI,S=_?m-g<w:g-m<w;S||(g=m-(_?w:-w));var x=Math.cos(g),D=Math.sin(g),T=Math.cos(m),A=Math.sin(m);S?(e.moveTo(x*c+s,D*c+u),e.arc(x*v+s,D*v+u,d,-Math.PI+g,g,!_)):e.moveTo(x*f+s,D*f+u),e.arc(s,u,f,g,m,!_),e.arc(T*v+s,A*v+u,d,m-2*Math.PI,m-Math.PI,!_),0!==c&&e.arc(s,u,c,m,g,_)},t}(mt);const uC=hs;function An(r,t,e){return t*Math.sin(r)*(e?-1:1)}function cC(r,t,e){return t*Math.cos(r)*(e?1:-1)}function cl(r,t,e){var o=r.get("borderRadius");if(null==o)return e?{cornerRadius:0}:null;ge(o)||(o=[o,o,o,o]);var s=Math.abs(t.r||0-t.r0||0);return{cornerRadius:me(o,function(u){return Ya(u,s)})}}var qA=Math.max,Pv=Math.min,AF=function(r){function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return ae(t,r),t.prototype.render=function(e,o,s,u){this._model=e,this._removeOnRenderedListener(s),this._updateDrawMode(e);var c=e.get("coordinateSystem");("cartesian2d"===c||"polar"===c)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,o,s):this._renderNormal(e,o,s,u))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,o){this._progressiveEls=[],this._incrementalRenderLarge(e,o)},t.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;(null==this._isLargeDraw||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(e,o,s,u){var m,c=this.group,f=e.getData(),d=this._data,v=e.coordinateSystem,g=v.getBaseAxis();"cartesian2d"===v.type?m=g.isHorizontal():"polar"===v.type&&(m="angle"===g.dim);var _=e.isAnimationEnabled()?e:null,w=function ZA(r,t){var e=r.get("realtimeSort",!0),o=t.getBaseAxis();if(e&&"category"===o.type&&"cartesian2d"===t.type)return{baseAxis:o,otherAxis:t.getOtherAxis(o)}}(e,v);w&&this._enableRealtimeSort(w,f,s);var S=e.get("clip",!0)||w,x=function Q4(r,t){var e=r.getArea&&r.getArea();if(Iv(r,"cartesian2d")){var o=r.getBaseAxis();if("category"!==o.type||!o.onBand){var s=t.getLayout("bandWidth");o.isHorizontal()?(e.x-=s,e.width+=2*s):(e.y-=s,e.height+=2*s)}}return e}(v,f);c.removeClipPath();var D=e.get("roundCap",!0),T=e.get("showBackground",!0),A=e.getModel("backgroundStyle"),E=A.get("borderRadius")||0,P=[],N=this._backgroundEls,k=u&&u.isInitSort,F=u&&"changeAxisOrder"===u.type;function B(W){var q=fC[v.type](f,W),Y=function KA(r,t,e){return new("polar"===r.type?eo:Ot)({shape:NF(t,e,r),silent:!0,z2:0})}(v,m,q);return Y.useStyle(A.getItemStyle()),Y.setShape("cartesian2d"===v.type?"r":"cornerRadius",E),P[W]=Y,Y}f.diff(d).add(function(W){var q=f.getItemModel(W),Y=fC[v.type](f,W,q);if(T&&B(W),f.hasValue(W)&&IF[v.type](Y)){var K=!1;S&&(K=hC[v.type](x,Y));var Q=A0[v.type](e,f,W,Y,m,_,g.model,!1,D);w&&(Q.forceLabelAnimation=!0),XA(Q,f,W,q,Y,e,m,"polar"===v.type),k?Q.attr({shape:Y}):w?EF(w,_,Q,Y,W,m,!1,!1):On(Q,{shape:Y},e,W),f.setItemGraphicEl(W,Q),c.add(Q),Q.ignore=K}}).update(function(W,q){var Y=f.getItemModel(W),K=fC[v.type](f,W,Y);if(T){var Q=void 0;0===N.length?Q=B(q):((Q=N[q]).useStyle(A.getItemStyle()),Q.setShape("cartesian2d"===v.type?"r":"cornerRadius",E),P[W]=Q);var re=fC[v.type](f,W);Yt(Q,{shape:NF(m,re,v)},_,W)}var se=d.getItemGraphicEl(q);if(f.hasValue(W)&&IF[v.type](K)){var de=!1;if(S&&(de=hC[v.type](x,K))&&c.remove(se),se?wa(se):se=A0[v.type](e,f,W,K,m,_,g.model,!!se,D),w&&(se.forceLabelAnimation=!0),F){var be=se.getTextContent();if(be){var De=vu(be);null!=De.prevValue&&(De.prevValue=De.value)}}else XA(se,f,W,Y,K,e,m,"polar"===v.type);k?se.attr({shape:K}):w?EF(w,_,se,K,W,m,!0,F):Yt(se,{shape:K},e,W,null),f.setItemGraphicEl(W,se),se.ignore=de,c.add(se)}else c.remove(se)}).remove(function(W){var q=d.getItemGraphicEl(W);q&&pu(q,e,W)}).execute();var z=this._backgroundGroup||(this._backgroundGroup=new Ze);z.removeAll();for(var j=0;j<P.length;++j)z.add(P[j]);c.add(z),this._backgroundEls=P,this._data=f},t.prototype._renderLarge=function(e,o,s){this._clear(),kF(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,o){this._removeBackground(),kF(o,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var o=e.get("clip",!0)&&WA(e.coordinateSystem,!1,e),s=this.group;o?s.setClipPath(o):s.removeClipPath()},t.prototype._enableRealtimeSort=function(e,o,s){var u=this;if(o.count()){var c=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,e,s),this._isFirstFrame=!1;else{var f=function(d){var v=o.getItemGraphicEl(d),g=v&&v.shape;return g&&Math.abs(c.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){u._updateSortWithinSameData(o,f,c,s)},s.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,o,s){var u=[];return e.each(e.mapDimension(o.dim),function(c,f){var d=s(f);u.push({dataIndex:f,mappedValue:d=d??NaN,ordinalNumber:c})}),u.sort(function(c,f){return f.mappedValue-c.mappedValue}),{ordinalNumbers:me(u,function(c){return c.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,o,s){for(var u=s.scale,c=e.mapDimension(s.dim),f=Number.MAX_VALUE,d=0,v=u.getOrdinalMeta().categories.length;d<v;++d){var g=e.rawIndexOf(c,u.getRawOrdinalNumber(d)),m=g<0?Number.MIN_VALUE:o(e.indexOfRawIndex(g));if(m>f)return!0;f=m}return!1},t.prototype._isOrderDifferentInView=function(e,o){for(var s=o.scale,u=s.getExtent(),c=Math.max(0,u[0]),f=Math.min(u[1],s.getOrdinalMeta().categories.length-1);c<=f;++c)if(e.ordinalNumbers[c]!==s.getRawOrdinalNumber(c))return!0},t.prototype._updateSortWithinSameData=function(e,o,s,u){if(this._isOrderChangedWithinSameData(e,o,s)){var c=this._dataSort(e,s,o);this._isOrderDifferentInView(c,s)&&(this._removeOnRenderedListener(u),u.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",axisId:s.index,sortInfo:c}))}},t.prototype._dispatchInitSort=function(e,o,s){var u=o.baseAxis,c=this._dataSort(e,u,function(f){return e.get(e.mapDimension(o.otherAxis.dim),f)});s.dispatchAction({type:"changeAxisOrder",componentType:u.dim+"Axis",isInitSort:!0,axisId:u.index,sortInfo:c})},t.prototype.remove=function(e,o){this._clear(this._model),this._removeOnRenderedListener(o)},t.prototype.dispose=function(e,o){this._removeOnRenderedListener(o)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var o=this.group,s=this._data;e&&e.isAnimationEnabled()&&s&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],s.eachItemGraphicEl(function(u){pu(u,e,et(u).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(vn),hC={cartesian2d:function(r,t){var e=t.width<0?-1:1,o=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height);var s=r.x+r.width,u=r.y+r.height,c=qA(t.x,r.x),f=Pv(t.x+t.width,s),d=qA(t.y,r.y),v=Pv(t.y+t.height,u),g=f<c,m=v<d;return t.x=g&&c>s?f:c,t.y=m&&d>u?v:d,t.width=g?0:f-c,t.height=m?0:v-d,e<0&&(t.x+=t.width,t.width=-t.width),o<0&&(t.y+=t.height,t.height=-t.height),g||m},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var o=t.r;t.r=t.r0,t.r0=o}var s=Pv(t.r,r.r),u=qA(t.r0,r.r0);t.r=s,t.r0=u;var c=s-u<0;return e<0&&(o=t.r,t.r=t.r0,t.r0=o),c}},A0={cartesian2d:function(r,t,e,o,s,u,c,f,d){var v=new Ot({shape:ce({},o),z2:1});return v.__dataIndex=e,v.name="item",u&&(v.shape[s?"height":"width"]=0),v},polar:function(r,t,e,o,s,u,c,f,d){var v=!s&&d?uC:eo,g=new v({shape:o,z2:1});g.name="item";var m=LF(s);if(g.calculateTextPosition=function Hr(r,t){var e=(t=t||{}).isRoundCap;return function(o,s,u){var c=s.position;if(!c||c instanceof Array)return zw(o,s,u);var f=r(c),d=null!=s.distance?s.distance:5,v=this.shape,g=v.cx,m=v.cy,_=v.r,w=v.r0,S=(_+w)/2,x=v.startAngle,D=v.endAngle,T=(x+D)/2,A=e?Math.abs(_-w)/2:0,E=Math.cos,P=Math.sin,N=g+_*E(x),k=m+_*P(x),F="left",B="top";switch(f){case"startArc":N=g+(w-d)*E(T),k=m+(w-d)*P(T),F="center",B="top";break;case"insideStartArc":N=g+(w+d)*E(T),k=m+(w+d)*P(T),F="center",B="bottom";break;case"startAngle":N=g+S*E(x)+An(x,d+A,!1),k=m+S*P(x)+cC(x,d+A,!1),F="right",B="middle";break;case"insideStartAngle":N=g+S*E(x)+An(x,-d+A,!1),k=m+S*P(x)+cC(x,-d+A,!1),F="left",B="middle";break;case"middle":N=g+S*E(T),k=m+S*P(T),F="center",B="middle";break;case"endArc":N=g+(_+d)*E(T),k=m+(_+d)*P(T),F="center",B="bottom";break;case"insideEndArc":N=g+(_-d)*E(T),k=m+(_-d)*P(T),F="center",B="top";break;case"endAngle":N=g+S*E(D)+An(D,d+A,!0),k=m+S*P(D)+cC(D,d+A,!0),F="left",B="middle";break;case"insideEndAngle":N=g+S*E(D)+An(D,-d+A,!0),k=m+S*P(D)+cC(D,-d+A,!0),F="right",B="middle";break;default:return zw(o,s,u)}return(o=o||{}).x=N,o.y=k,o.align=F,o.verticalAlign=B,o}}(m,{isRoundCap:v===uC}),u){var w=s?"r":"endAngle",S={};g.shape[w]=s?o.r0:o.startAngle,S[w]=o[w],(f?Yt:On)(g,{shape:S},u)}return g}};function EF(r,t,e,o,s,u,c,f){var d,v;u?(v={x:o.x,width:o.width},d={y:o.y,height:o.height}):(v={y:o.y,height:o.height},d={x:o.x,width:o.width}),f||(c?Yt:On)(e,{shape:d},t,s,null),(c?Yt:On)(e,{shape:v},t?r.baseAxis.model:null,s)}function YA(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var J4=["x","y","width","height"],eW=["cx","cy","r","startAngle","endAngle"],IF={cartesian2d:function(r){return!YA(r,J4)},polar:function(r){return!YA(r,eW)}},fC={cartesian2d:function(r,t,e){var o=r.getItemLayout(t),s=e?function dC(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||"none"===e)return 0;var o=r.get(["itemStyle","borderWidth"])||0,s=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),u=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(o,s,u)}(e,o):0,u=o.width>0?1:-1,c=o.height>0?1:-1;return{x:o.x+u*s/2,y:o.y+c*s/2,width:o.width-u*s,height:o.height-c*s}},polar:function(r,t,e){var o=r.getItemLayout(t);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function LF(r){return function(t){var e=t?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+e;default:return o}}}(r)}function XA(r,t,e,o,s,u,c,f){var d=t.getItemVisual(e,"style");if(f){if(!u.get("roundCap")){var g=r.shape;ce(g,cl(o.getModel("itemStyle"),g,!0)),r.setShape(g)}}else{var v=o.get(["itemStyle","borderRadius"])||0;r.setShape("r",v)}r.useStyle(d);var _=o.getShallow("cursor");_&&r.attr("cursor",_);var w=f?c?s.r>=s.r0?"endArc":"startArc":s.endAngle>=s.startAngle?"endAngle":"startAngle":c?s.height>=0?"bottom":"top":s.width>=0?"right":"left",S=Mr(o);Li(r,S,{labelFetcher:u,labelDataIndex:e,defaultText:oh(u.getData(),e),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:w});var x=r.getTextContent();if(f&&x){var D=o.get(["label","position"]);r.textConfig.inside="middle"===D||null,function K4(r,t,e,o){if(kt(o))r.setTextConfig({rotation:o});else if(ge(t))r.setTextConfig({rotation:0});else{var d,s=r.shape,u=s.clockwise?s.startAngle:s.endAngle,c=s.clockwise?s.endAngle:s.startAngle,f=(u+c)/2,v=e(t);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":d=f;break;case"startAngle":case"insideStartAngle":d=u;break;case"endAngle":case"insideEndAngle":d=c;break;default:return void r.setTextConfig({rotation:0})}var g=1.5*Math.PI-d;"middle"===v&&g>Math.PI/2&&g<1.5*Math.PI&&(g-=Math.PI),r.setTextConfig({rotation:g})}}(r,"outside"===D?w:D,LF(c),o.get(["label","rotate"]))}pT(x,S,u.getRawValue(e),function(A){return GA(t,A)});var T=o.getModel(["emphasis"]);Jn(r,T.get("focus"),T.get("blurScope"),T.get("disabled")),Si(r,o),function PF(r){return null!=r.startAngle&&null!=r.endAngle&&r.startAngle===r.endAngle}(s)&&(r.style.fill="none",r.style.stroke="none",H(r.states,function(A){A.style&&(A.style.fill=A.style.stroke="none")}))}var E0=function r(){},RF=function(r){function t(e){var o=r.call(this,e)||this;return o.type="largeBar",o}return ae(t,r),t.prototype.getDefaultShape=function(){return new E0},t.prototype.buildPath=function(e,o){for(var s=o.points,u=this.baseDimIdx,c=1-this.baseDimIdx,f=[],d=[],v=this.barWidth,g=0;g<s.length;g+=3)d[u]=v,d[c]=s[g+2],f[u]=s[g+u],f[c]=s[g+c],e.rect(f[0],f[1],d[0],d[1])},t}(mt);function kF(r,t,e,o){var s=r.getData(),u=s.getLayout("valueAxisHorizontal")?1:0,c=s.getLayout("largeDataIndices"),f=s.getLayout("size"),d=r.getModel("backgroundStyle"),v=s.getLayout("largeBackgroundPoints");if(v){var g=new RF({shape:{points:v},incremental:!!o,silent:!0,z2:0});g.baseDimIdx=u,g.largeDataIndices=c,g.barWidth=f,g.useStyle(d.getItemStyle()),t.add(g),e&&e.push(g)}var m=new RF({shape:{points:s.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});m.baseDimIdx=u,m.largeDataIndices=c,m.barWidth=f,t.add(m),m.useStyle(s.getVisual("style")),et(m).seriesIndex=r.seriesIndex,r.get("silent")||(m.on("mousedown",pC),m.on("mousemove",pC)),e&&e.push(m)}var pC=sS(function(r){var e=function OF(r,t,e){for(var o=r.baseDimIdx,s=1-o,u=r.shape.points,c=r.largeDataIndices,f=[],d=[],v=r.barWidth,g=0,m=u.length/3;g<m;g++){var _=3*g;if(d[o]=v,d[s]=u[_+2],f[o]=u[_+o],f[s]=u[_+s],d[s]<0&&(f[s]+=d[s],d[s]=-d[s]),t>=f[0]&&t<=f[0]+d[0]&&e>=f[1]&&e<=f[1]+d[1])return c[g]}return-1}(this,r.offsetX,r.offsetY);et(this).dataIndex=e>=0?e:null},30,!1);function NF(r,t,e){if(Iv(e,"cartesian2d")){var o=t,s=e.getArea();return{x:r?o.x:s.x,y:r?s.y:o.y,width:r?o.width:s.width,height:r?s.height:o.height}}return{cx:(s=e.getArea()).cx,cy:s.cy,r0:r?s.r0:t.r0,r:r?s.r:t.r,startAngle:r?t.startAngle:0,endAngle:r?t.endAngle:2*Math.PI}}const tW=AF;var vC=2*Math.PI,gC=Math.PI/180;function FF(r,t){return Ar(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function VF(r,t){var e=FF(r,t),o=r.get("center"),s=r.get("radius");ge(s)||(s=[0,s]);var g,m,u=Ce(e.width,t.getWidth()),c=Ce(e.height,t.getHeight()),f=Math.min(u,c),d=Ce(s[0],f/2),v=Ce(s[1],f/2),_=r.coordinateSystem;if(_){var w=_.dataToPoint(o);g=w[0]||0,m=w[1]||0}else ge(o)||(o=[o,o]),g=Ce(o[0],u)+e.x,m=Ce(o[1],c)+e.y;return{cx:g,cy:m,r0:d,r:v}}function rW(r,t,e){t.eachSeriesByType(r,function(o){var s=o.getData(),u=s.mapDimension("value"),c=FF(o,e),f=VF(o,e),d=f.cx,v=f.cy,g=f.r,m=f.r0,_=-o.get("startAngle")*gC,w=o.get("minAngle")*gC,S=0;s.each(u,function(j){!isNaN(j)&&S++});var x=s.getSum(u),D=Math.PI/(x||S)*2,T=o.get("clockwise"),A=o.get("roseType"),E=o.get("stillShowZeroSum"),P=s.getDataExtent(u);P[0]=0;var N=vC,k=0,F=_,B=T?1:-1;if(s.setLayout({viewRect:c,r:g}),s.each(u,function(j,W){var q;if(isNaN(j))s.setItemLayout(W,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:T,cx:d,cy:v,r0:m,r:A?NaN:g});else{(q="area"!==A?0===x&&E?D:j*D:vC/S)<w?(q=w,N-=w):k+=j;var Y=F+B*q;s.setItemLayout(W,{angle:q,startAngle:F,endAngle:Y,clockwise:T,cx:d,cy:v,r0:m,r:A?on(j,P,[m,g]):g}),F=Y}}),N<vC&&S)if(N<=.001){var z=vC/S;s.each(u,function(j,W){if(!isNaN(j)){var q=s.getItemLayout(W);q.angle=z,q.startAngle=_+B*W*z,q.endAngle=_+B*(W+1)*z}})}else D=N/k,F=_,s.each(u,function(j,W){if(!isNaN(j)){var q=s.getItemLayout(W),Y=q.angle===w?w:j*D;q.startAngle=F,q.endAngle=F+B*Y,F+=B*Y}})})}function ad(r){return{seriesType:r,reset:function(t,e){var o=e.findComponents({mainType:"legend"});if(o&&o.length){var s=t.getData();s.filterSelf(function(u){for(var c=s.getName(u),f=0;f<o.length;f++)if(!o[f].isSelected(c))return!1;return!0})}}}}var QA=Math.PI/180;function JA(r,t,e,o,s,u,c,f,d,v){if(!(r.length<2)){for(var _=r.length,w=0;w<_;w++)"outer"===r[w].position&&"labelLine"===r[w].labelAlignTo&&(r[w].linePoints[1][0]+=r[w].label.x-v,r[w].label.x=v);CA(r,d,d+c)&&function m(x){for(var D={list:[],maxY:0},T={list:[],maxY:0},A=0;A<x.length;A++)if("none"===x[A].labelAlignTo){var E=x[A],P=E.label.y>e?T:D,N=Math.abs(E.label.y-e);if(N>=P.maxY){var k=E.label.x-t-E.len2*s,F=o+E.len,B=Math.abs(k)<F?Math.sqrt(N*N/(1-k*k/F/F)):F;P.rB=B,P.maxY=N}P.list.push(E)}g(D),g(T)}(r)}function g(x){for(var D=x.rB,T=D*D,A=0;A<x.list.length;A++){var E=x.list[A],P=Math.abs(E.label.y-e),N=o+E.len,k=N*N,F=Math.sqrt((1-Math.abs(P*P/T))*k),B=t+(F+E.len2)*s;oW(E,E.targetTextWidth-(B-E.label.x)*s,!0),E.label.x=B}}}function oW(r,t,e){if(void 0===e&&(e=!1),null==r.labelStyleWidth){var o=r.label,s=o.style,u=r.rect,c=s.backgroundColor,f=s.padding,d=f?f[1]+f[3]:0,v=s.overflow,g=u.width+(c?0:d);if(t<g||e){var m=u.height;if(v&&v.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",t-d);var _=o.getBoundingRect();o.setStyle("width",Math.ceil(_.width)),o.setStyle("backgroundColor",c)}else{var w=t-d;o.setStyle("width",t<g?w:e?w>r.unconstrainedWidth?null:w:null)}var x=o.getBoundingRect();u.width=x.width,u.height=x.height+((o.style.margin||0)+2.1),u.y-=(u.height-m)/2}}}function mC(r){return"center"===r.position}var BF=function(r){function t(e,o,s){var u=r.call(this)||this;u.z2=2;var c=new Nt;return u.setTextContent(c),u.updateData(e,o,s,!0),u}return ae(t,r),t.prototype.updateData=function(e,o,s,u){var c=this,f=e.hostModel,d=e.getItemModel(o),v=d.getModel("emphasis"),g=e.getItemLayout(o),m=ce(cl(d.getModel("itemStyle"),g,!0),g);if(isNaN(m.startAngle))c.setShape(m);else{if(u){c.setShape(m);var _=f.getShallow("animationType");f.ecModel.ssr?(On(c,{scaleX:0,scaleY:0},f,{dataIndex:o,isFrom:!0}),c.originX=m.cx,c.originY=m.cy):"scale"===_?(c.shape.r=g.r0,On(c,{shape:{r:g.r}},f,o)):null!=s?(c.setShape({startAngle:s,endAngle:s}),On(c,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},f,o)):(c.shape.endAngle=g.startAngle,Yt(c,{shape:{endAngle:g.endAngle}},f,o))}else wa(c),Yt(c,{shape:m},f,o);c.useStyle(e.getItemVisual(o,"style")),Si(c,d);var w=(g.startAngle+g.endAngle)/2,S=f.get("selectedOffset"),x=Math.cos(w)*S,D=Math.sin(w)*S,T=d.getShallow("cursor");T&&c.attr("cursor",T),this._updateLabel(f,e,o),c.ensureState("emphasis").shape=ce({r:g.r+(v.get("scale")&&v.get("scaleSize")||0)},cl(v.getModel("itemStyle"),g)),ce(c.ensureState("select"),{x,y:D,shape:cl(d.getModel(["select","itemStyle"]),g)}),ce(c.ensureState("blur"),{shape:cl(d.getModel(["blur","itemStyle"]),g)});var A=c.getTextGuideLine(),E=c.getTextContent();A&&ce(A.ensureState("select"),{x,y:D}),ce(E.ensureState("select"),{x,y:D}),Jn(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))}},t.prototype._updateLabel=function(e,o,s){var u=this,c=o.getItemModel(s),f=c.getModel("labelLine"),d=o.getItemVisual(s,"style"),v=d&&d.fill,g=d&&d.opacity;Li(u,Mr(c),{labelFetcher:o.hostModel,labelDataIndex:s,inheritColor:v,defaultOpacity:g,defaultText:e.getFormattedLabel(s,"normal")||o.getName(s)});var m=u.getTextContent();u.setTextConfig({position:null,rotation:null}),m.attr({z2:10});var _=e.get(["label","position"]);if("outside"!==_&&"outer"!==_)u.removeTextGuideLine();else{var w=this.getTextGuideLine();w||(w=new Ni,this.setTextGuideLine(w)),ZS(this,bA(c),{stroke:v,opacity:Gn(f.get(["lineStyle","opacity"]),g,1)})}},t}(eo),aW=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return ae(t,r),t.prototype.render=function(e,o,s,u){var v,c=e.getData(),f=this._data,d=this.group;if(!f&&c.count()>0){for(var g=c.getItemLayout(0),m=1;isNaN(g&&g.startAngle)&&m<c.count();++m)g=c.getItemLayout(m);g&&(v=g.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),0===c.count()&&e.get("showEmptyCircle")){var _=new eo({shape:VF(e,s)});_.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=_,d.add(_)}c.diff(f).add(function(w){var S=new BF(c,w,v);c.setItemGraphicEl(w,S),d.add(S)}).update(function(w,S){var x=f.getItemGraphicEl(S);x.updateData(c,w,v),x.off("click"),d.add(x),c.setItemGraphicEl(w,x)}).remove(function(w){pu(f.getItemGraphicEl(w),e,w)}).execute(),function eE(r){var o,s,t=r.getData(),e=[],u=!1,c=(r.get("minShowLabelAngle")||0)*QA,f=t.getLayout("viewRect"),d=t.getLayout("r"),v=f.width,g=f.x,m=f.y,_=f.height;function w(k){k.ignore=!0}t.each(function(k){var F=t.getItemGraphicEl(k),B=F.shape,z=F.getTextContent(),j=F.getTextGuideLine(),W=t.getItemModel(k),q=W.getModel("label"),Y=q.get("position")||W.get(["emphasis","label","position"]),K=q.get("distanceToLabelLine"),Q=q.get("alignTo"),re=Ce(q.get("edgeDistance"),v),le=q.get("bleedMargin"),se=W.getModel("labelLine"),de=se.get("length");de=Ce(de,v);var be=se.get("length2");if(be=Ce(be,v),Math.abs(B.endAngle-B.startAngle)<c)return H(z.states,w),z.ignore=!0,void(j&&(H(j.states,w),j.ignore=!0));if(function S(k){if(!k.ignore)return!0;for(var F in k.states)if(!1===k.states[F].ignore)return!0;return!1}(z)){var We,dt,Rt,yt,De=(B.startAngle+B.endAngle)/2,Fe=Math.cos(De),$e=Math.sin(De);o=B.cx,s=B.cy;var Ke="inside"===Y||"inner"===Y;if("center"===Y)We=B.cx,dt=B.cy,yt="center";else{var _t=(Ke?(B.r+B.r0)/2*Fe:B.r*Fe)+o,st=(Ke?(B.r+B.r0)/2*$e:B.r*$e)+s;if(We=_t+3*Fe,dt=st+3*$e,!Ke){var Be=_t+Fe*(de+d-B.r),lt=st+$e*(de+d-B.r),$n=Be+(Fe<0?-1:1)*be;We="edge"===Q?Fe<0?g+re:g+v-re:$n+(Fe<0?-K:K),dt=lt,Rt=[[_t,st],[Be,lt],[$n,lt]]}yt=Ke?"center":"edge"===Q?Fe>0?"right":"left":Fe>0?"left":"right"}var lr=Math.PI,ur=0,Hi=q.get("rotate");if(kt(Hi))ur=Hi*(lr/180);else if("center"===Y)ur=0;else if("radial"===Hi||!0===Hi)ur=Fe<0?-De+lr:-De;else if("tangential"===Hi&&"outside"!==Y&&"outer"!==Y){var co=Math.atan2(Fe,$e);co<0&&(co=2*lr+co),$e>0&&(co=lr+co),ur=co-lr}if(u=!!ur,z.x=We,z.y=dt,z.rotation=ur,z.setStyle({verticalAlign:"middle"}),Ke){z.setStyle({align:yt});var sL=z.states.select;sL&&(sL.x+=z.x,sL.y+=z.y)}else{var kh=z.getBoundingRect().clone();kh.applyTransform(z.getComputedTransform());var MH=(z.style.margin||0)+2.1;kh.y-=MH/2,kh.height+=MH,e.push({label:z,labelLine:j,position:Y,len:de,len2:be,minTurnAngle:se.get("minTurnAngle"),maxSurfaceAngle:se.get("maxSurfaceAngle"),surfaceNormal:new nt(Fe,$e),linePoints:Rt,textAlign:yt,labelDistance:K,labelAlignTo:Q,edgeDistance:re,bleedMargin:le,rect:kh,unconstrainedWidth:kh.width,labelStyleWidth:z.style.width})}F.setTextConfig({inside:Ke})}}),!u&&r.get("avoidLabelOverlap")&&function iW(r,t,e,o,s,u,c,f){for(var d=[],v=[],g=Number.MAX_VALUE,m=-Number.MAX_VALUE,_=0;_<r.length;_++){var w=r[_].label;mC(r[_])||(w.x<t?(g=Math.min(g,w.x),d.push(r[_])):(m=Math.max(m,w.x),v.push(r[_])))}for(_=0;_<r.length;_++)if(!mC(S=r[_])&&S.linePoints){if(null!=S.labelStyleWidth)continue;w=S.label;var D,x=S.linePoints;S.targetTextWidth=D="edge"===S.labelAlignTo?w.x<t?x[2][0]-S.labelDistance-c-S.edgeDistance:c+s-S.edgeDistance-x[2][0]-S.labelDistance:"labelLine"===S.labelAlignTo?w.x<t?g-c-S.bleedMargin:c+s-m-S.bleedMargin:w.x<t?w.x-c-S.bleedMargin:c+s-w.x-S.bleedMargin,oW(S,D)}for(JA(v,t,e,o,1,0,u,0,f,m),JA(d,t,e,o,-1,0,u,0,f,g),_=0;_<r.length;_++){var S;if(!mC(S=r[_])&&S.linePoints){var A=(w=S.label).style.padding,N=S.rect.width+(w.style.backgroundColor?0:A?A[1]+A[3]:0),k=(x=S.linePoints)[1][0]-x[2][0];"edge"===S.labelAlignTo?x[2][0]=w.x<t?c+S.edgeDistance+N+S.labelDistance:c+s-S.edgeDistance-N-S.labelDistance:(x[2][0]=w.x<t?w.x+S.labelDistance:w.x-S.labelDistance,x[1][0]=x[2][0]+k),x[1][1]=x[2][1]=w.y}}}(e,o,s,d,v,_,g,m);for(var x=0;x<e.length;x++){var D=e[x],T=D.label,A=D.labelLine,E=isNaN(T.x)||isNaN(T.y);if(T){T.setStyle({align:D.textAlign}),E&&(H(T.states,w),T.ignore=!0);var P=T.states.select;P&&(P.x+=T.x,P.y+=T.y)}if(A){var N=D.linePoints;E||!N?(H(A.states,w),A.ignore=!0):(GN(N,D.minTurnAngle),jY(N,D.surfaceNormal,D.maxSurfaceAngle),A.setShape({points:N}),T.__hostTarget.textGuideLineConfig={anchor:new nt(N[0][0],N[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=c)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,o){var u=o.getData().getItemLayout(0);if(u){var c=e[0]-u.cx,f=e[1]-u.cy,d=Math.sqrt(c*c+f*f);return d<=u.r&&d>=u.r0}},t.type="pie",t}(vn);const sW=aW;function sd(r,t,e){t=ge(t)&&{coordDimensions:t}||ce({encodeDefine:r.getEncode()},t);var o=r.getSource(),s=_v(o,t).dimensions,u=new oo(s,r);return u.initData(o,e),u}var lW=function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},r.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},r.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},r}();const ah=lW;var zF=zt(),fX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new ah(Me(this.getData,this),Me(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return sd(this,{coordDimensions:["value"],encodeDefaulter:Je(Tb,this)})},t.prototype.getDataParams=function(e){var o=this.getData(),s=zF(o),u=s.seats;if(!u){var c=[];o.each(o.mapDimension("value"),function(d){c.push(d)}),u=s.seats=HL(c,o.hostModel.get("percentPrecision"))}var f=r.prototype.getDataParams.call(this,e);return f.percent=u[e]||0,f.$vars.push("percent"),f},t.prototype._defaultLabelLine=function(e){Xa(e,"labelLine",["show"]);var o=e.labelLine,s=e.emphasis.labelLine;o.show=o.show&&e.label.show,s.show=s.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Mn);const sh=fX;var tE=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ae(t,r),t.prototype.getInitialData=function(e,o){return us(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,o,s){return s.point(o.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Mn);const nE=tE;var cW=function r(){},dX=function(r){function t(e){var o=r.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return ae(t,r),t.prototype.getDefaultShape=function(){return new cW},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,o){var m,s=o.points,u=o.size,c=this.symbolProxy,f=c.shape,d=e.getContext?e.getContext():e,g=this.softClipShape;if(d&&u[0]<4)this._ctx=d;else{for(this._ctx=null,m=this._off;m<s.length;){var _=s[m++],w=s[m++];isNaN(_)||isNaN(w)||g&&!g.contain(_,w)||(f.x=_-u[0]/2,f.y=w-u[1]/2,f.width=u[0],f.height=u[1],c.buildPath(e,f,!0))}this.incremental&&(this._off=m,this.notClear=!0)}},t.prototype.afterBrush=function(){var f,e=this.shape,o=e.points,s=e.size,u=this._ctx,c=this.softClipShape;if(u){for(f=this._off;f<o.length;){var d=o[f++],v=o[f++];isNaN(d)||isNaN(v)||c&&!c.contain(d,v)||u.fillRect(d-s[0]/2,v-s[1]/2,s[0],s[1])}this.incremental&&(this._off=f,this.notClear=!0)}},t.prototype.findDataIndex=function(e,o){for(var s=this.shape,u=s.points,c=s.size,f=Math.max(c[0],4),d=Math.max(c[1],4),v=u.length/2-1;v>=0;v--){var g=2*v,m=u[g]-f/2,_=u[g+1]-d/2;if(e>=m&&o>=_&&e<=m+f&&o<=_+d)return v}return-1},t.prototype.contain=function(e,o){var s=this.transformCoordToLocal(e,o);return this.getBoundingRect().contain(e=s[0],o=s[1])?(this.hoverDataIdx=this.findDataIndex(e,o))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var o=this.shape,s=o.points,u=o.size,c=u[0],f=u[1],d=1/0,v=1/0,g=-1/0,m=-1/0,_=0;_<s.length;){var w=s[_++],S=s[_++];d=Math.min(w,d),g=Math.max(w,g),v=Math.min(S,v),m=Math.max(S,m)}e=this._rect=new Xe(d-c/2,v-f/2,g-d+c,m-v+f)}return e},t}(mt),UF=function(){function r(){this.group=new Ze}return r.prototype.updateData=function(t,e){this._clear();var o=this._create();o.setShape({points:t.getLayout("points")}),this._setCommon(o,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(o){null!=o.startIndex&&(e=new Float32Array(e.buffer,4*o.startIndex*2,2*(o.endIndex-o.startIndex))),o.setShape("points",e),o.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,o){var s=this._newAdded[0],u=e.getLayout("points"),c=s&&s.shape.points;if(c&&c.length<2e4){var f=c.length,d=new Float32Array(f+u.length);d.set(c),d.set(u,f),s.endIndex=t.end,s.setShape({points:d})}else{this._newAdded=[];var v=this._create();v.startIndex=t.start,v.endIndex=t.end,v.incremental=!0,v.setShape({points:u}),this._setCommon(v,e,o)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new dX({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,o){var s=e.hostModel;o=o||{};var u=e.getVisual("symbolSize");t.setShape("size",u instanceof Array?u:[u,u]),t.softClipShape=o.clipShape||null,t.symbolProxy=ar(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var c=t.shape.size[0]<4;t.useStyle(s.getModel("itemStyle").getItemStyle(c?["color","shadowBlur","shadowColor"]:["color"]));var f=e.getVisual("style"),d=f&&f.fill;d&&t.setColor(d);var v=et(t);v.seriesIndex=s.seriesIndex,t.on("mousemove",function(g){v.dataIndex=null;var m=t.hoverDataIdx;m>=0&&(v.dataIndex=m+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}();const pX=UF;var vX=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=e.getData();this._updateSymbolDraw(u,e).updateData(u,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,o,s){var u=e.getData();this._updateSymbolDraw(u,e).incrementalPrepareUpdate(u),this._finished=!1},t.prototype.incrementalRender=function(e,o,s){this._symbolDraw.incrementalUpdate(e,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=e.end===o.getData().count()},t.prototype.updateTransform=function(e,o,s){var u=e.getData();if(this.group.dirty(),!this._finished||u.count()>1e4)return{update:!0};var c=T0("").reset(e,o,s);c.progress&&c.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout(u)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var o=e.coordinateSystem,s=o&&o.getArea&&o.getArea();return e.get("clip",!0)?s:null},t.prototype._updateSymbolDraw=function(e,o){var s=this._symbolDraw,c=o.pipelineContext.large;return(!s||c!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=c?new pX:new b0,this._isLargeDraw=c,this.group.removeAll()),this.group.add(s.group),s},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(vn);const gX=vX;var mX=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Lt);const fs=mX;var rE=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",gr).models[0]},t.type="cartesian2dAxis",t}(Lt);Zn(rE,ed);var jF={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},hW=tt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},jF),yC=tt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},jF);const WF={category:hW,value:yC,time:tt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},yC),log:Ve({logBase:10},yC)};var pW={value:1,category:1,time:1,log:1};function Lv(r,t,e,o){H(pW,function(s,u){var c=tt(tt({},WF[u],!0),o,!0),f=function(d){function v(){var g=null!==d&&d.apply(this,arguments)||this;return g.type=t+"Axis."+u,g}return ae(v,d),v.prototype.mergeDefaultAndTheme=function(g,m){var _=py(this),w=_?kc(g):{};tt(g,m.getTheme().get(u+"Axis")),tt(g,this.getDefaultOption()),g.type=$F(g),_&&_u(g,w,_)},v.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=LS.createByAxisModel(this))},v.prototype.getCategories=function(g){var m=this.option;if("category"===m.type)return g?m.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.type=t+"Axis."+u,v.defaultOption=c,v}(e);r.registerComponentModel(f)}),r.registerSubTypeDefaulter(t+"Axis",$F)}function $F(r){return r.type||(r.data?"category":"value")}var vW=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return me(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Wt(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}(),oE=["x","y"];function qF(r){return"interval"===r.type||"time"===r.type}var gW=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=oE,e}return ae(t,r),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,o=this.getAxis("y").scale;if(qF(e)&&qF(o)){var s=e.getExtent(),u=o.getExtent(),c=this.dataToPoint([s[0],u[0]]),f=this.dataToPoint([s[1],u[1]]),d=s[1]-s[0],v=u[1]-u[0];if(d&&v){var g=(f[0]-c[0])/d,m=(f[1]-c[1])/v,S=this._transform=[g,0,0,m,c[0]-s[0]*g,c[1]-u[0]*m];this._invTransform=Bo([],S)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var o=this.getAxis("x"),s=this.getAxis("y");return o.contain(o.toLocalCoord(e[0]))&&s.contain(s.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,o){var s=this.dataToPoint(e),u=this.dataToPoint(o),c=this.getArea(),f=new Xe(s[0],s[1],u[0]-s[0],u[1]-s[1]);return c.intersect(f)},t.prototype.dataToPoint=function(e,o,s){s=s||[];var u=e[0],c=e[1];if(this._transform&&null!=u&&isFinite(u)&&null!=c&&isFinite(c))return Or(s,e,this._transform);var f=this.getAxis("x"),d=this.getAxis("y");return s[0]=f.toGlobalCoord(f.dataToCoord(u,o)),s[1]=d.toGlobalCoord(d.dataToCoord(c,o)),s},t.prototype.clampData=function(e,o){var s=this.getAxis("x").scale,u=this.getAxis("y").scale,c=s.getExtent(),f=u.getExtent(),d=s.parse(e[0]),v=u.parse(e[1]);return(o=o||[])[0]=Math.min(Math.max(Math.min(c[0],c[1]),d),Math.max(c[0],c[1])),o[1]=Math.min(Math.max(Math.min(f[0],f[1]),v),Math.max(f[0],f[1])),o},t.prototype.pointToData=function(e,o){var s=[];if(this._invTransform)return Or(s,e,this._invTransform);var u=this.getAxis("x"),c=this.getAxis("y");return s[0]=u.coordToData(u.toLocalCoord(e[0]),o),s[1]=c.coordToData(c.toLocalCoord(e[1]),o),s},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),s=Math.min(e[0],e[1]),u=Math.min(o[0],o[1]),c=Math.max(e[0],e[1])-s,f=Math.max(o[0],o[1])-u;return new Xe(s,u,c,f)},t}(vW);const mW=gW;var yW=function(r){function t(e,o,s,u,c){var f=r.call(this,e,o,s)||this;return f.index=0,f.type=u||"value",f.position=c||"bottom",f}return ae(t,r),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),e&&o[0]>o[1]&&o.reverse(),o},t.prototype.pointToData=function(e,o){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),o)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Ia);const _W=yW;function _C(r,t,e){e=e||{};var o=r.coordinateSystem,s=t.axis,u={},c=s.getAxesOnZeroOf()[0],f=s.position,d=c?"onZero":f,v=s.dim,g=o.getRect(),m=[g.x,g.x+g.width,g.y,g.y+g.height],_={left:0,right:1,top:0,bottom:1,onZero:2},w=t.get("offset")||0,S="x"===v?[m[2]-w,m[3]+w]:[m[0]-w,m[1]+w];if(c){var x=c.toGlobalCoord(c.dataToCoord(0));S[_.onZero]=Math.max(Math.min(x,S[1]),S[0])}u.position=["y"===v?S[_[d]]:m[0],"x"===v?S[_[d]]:m[3]],u.rotation=Math.PI/2*("x"===v?0:1),u.labelDirection=u.tickDirection=u.nameDirection={top:-1,bottom:1,left:-1,right:1}[f],u.labelOffset=c?S[_[f]]-S[_.onZero]:0,t.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),$t(e.labelInside,t.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var T=t.get(["axisLabel","rotate"]);return u.labelRotate="top"===d?-T:T,u.z2=1,u}function ZF(r){return"cartesian2d"===r.get("coordinateSystem")}function YF(r){var t={xAxisModel:null,yAxisModel:null};return H(t,function(e,o){var s=o.replace(/Model$/,""),u=r.getReferringComponents(s,gr).models[0];t[o]=u}),t}var aE=Math.log;function wC(r,t,e){var o=al.prototype,s=o.getTicks.call(e),u=o.getTicks.call(e,!0),c=s.length-1,f=o.getInterval.call(e),d=TN(r,t),v=d.extent,g=d.fixMin,m=d.fixMax;if("log"===r.type){var _=aE(r.base);v=[aE(v[0])/_,aE(v[1])/_]}r.setExtent(v[0],v[1]),r.calcNiceExtent({splitNumber:c,fixMin:g,fixMax:m});var w=o.getExtent.call(r);g&&(v[0]=w[0]),m&&(v[1]=w[1]);var S=o.getInterval.call(r),x=v[0],D=v[1];if(g&&m)S=(D-x)/c;else if(g)for(D=v[0]+S*c;D<v[1]&&isFinite(D)&&isFinite(v[1]);)S=s0(S),D=v[0]+S*c;else if(m)for(x=v[1]-S*c;x>v[0]&&isFinite(x)&&isFinite(v[0]);)S=s0(S),x=v[1]-S*c;else{r.getTicks().length-1>c&&(S=s0(S));var A=S*c;(x=Yn((D=Math.ceil(v[1]/S)*S)-A))<0&&v[0]>=0?(x=0,D=Yn(A)):D>0&&v[1]<=0&&(D=0,x=-Yn(A))}var E=(s[0].value-u[0].value)/f,P=(s[c].value-u[c].value)/f;o.setExtent.call(r,x+S*E,D+S*P),o.setInterval.call(r,S),(E||P)&&o.setNiceExtent.call(r,x+S,D-S)}var sE=function(){function r(t,e,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=oE,this._initCartesian(t,e,o),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var o=this._axesMap;function s(c){var f,d=pt(c),v=d.length;if(v){for(var g=[],m=v-1;m>=0;m--){var w=c[+d[m]],S=w.model,x=w.scale;nA(x)&&S.get("alignTicks")&&null==S.get("interval")?g.push(w):(eh(x,S),nA(x)&&(f=w))}g.length&&(f||eh((f=g.pop()).scale,f.model),H(g,function(D){wC(D.scale,D.model,f.scale)}))}}this._updateScale(t,this.model),s(o.x),s(o.y);var u={};H(o.x,function(c){wW(o,"y",c,u)}),H(o.y,function(c){wW(o,"x",c,u)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,o){var s=t.getBoxLayoutParams(),u=!o&&t.get("containLabel"),c=Ar(s,{width:e.getWidth(),height:e.getHeight()});this._rect=c;var f=this._axesList;function d(){H(f,function(v){var g=v.isHorizontal(),m=g?[0,c.width]:[0,c.height],_=v.inverse?1:0;v.setExtent(m[_],m[1-_]),function KF(r,t){var e=r.getExtent(),o=e[0]+e[1];r.toGlobalCoord="x"===r.dim?function(s){return s+t}:function(s){return o-s+t},r.toLocalCoord="x"===r.dim?function(s){return s-t}:function(s){return o-s+t}}(v,g?c.x:c.y)})}d(),u&&(H(f,function(v){if(!v.model.get(["axisLabel","inside"])){var g=function Kj(r){var e=r.scale;if(r.model.get(["axisLabel","show"])&&!e.isBlank()){var o,s,u=e.getExtent();s=e instanceof FS?e.count():(o=e.getTicks()).length;var d,c=r.getLabelModel(),f=wv(r),v=1;s>40&&(v=Math.ceil(s/40));for(var g=0;g<s;g+=v){var _=f(o?o[g]:{value:u[0]+g},g),S=EN(c.getTextRect(_),c.get("rotate")||0);d?d.union(S):d=S}return d}}(v);if(g){var m=v.isHorizontal()?"height":"width",_=v.model.get(["axisLabel","margin"]);c[m]-=g[m]+_,"top"===v.position?c.y+=g.height+_:"left"===v.position&&(c.x+=g.width+_)}}}),d()),H(this._coordsList,function(v){v.calcAffineTransform()})},r.prototype.getAxis=function(t,e){var o=this._axesMap[t];if(null!=o)return o[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];Ue(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var s=0,u=this._coordsList;s<u.length;s++)if(u[s].getAxis("x").index===t||u[s].getAxis("y").index===e)return u[s]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,o){var s=this._findConvertTarget(e);return s.cartesian?s.cartesian.dataToPoint(o):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(o)):null},r.prototype.convertFromPixel=function(t,e,o){var s=this._findConvertTarget(e);return s.cartesian?s.cartesian.pointToData(o):s.axis?s.axis.coordToData(s.axis.toLocalCoord(o)):null},r.prototype._findConvertTarget=function(t){var f,d,e=t.seriesModel,o=t.xAxisModel||e&&e.getReferringComponents("xAxis",gr).models[0],s=t.yAxisModel||e&&e.getReferringComponents("yAxis",gr).models[0],u=t.gridModel;return e?ot(this._coordsList,f=e.coordinateSystem)<0&&(f=null):o&&s?f=this.getCartesian(o.componentIndex,s.componentIndex):o?d=this.getAxis("x",o.componentIndex):s?d=this.getAxis("y",s.componentIndex):u&&u.coordinateSystem===this&&(f=this._coordsList[0]),{cartesian:f,axis:d}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,o){var s=this,u=this,c={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},d={x:0,y:0};if(e.eachComponent("xAxis",v("x"),this),e.eachComponent("yAxis",v("y"),this),!d.x||!d.y)return this._axesMap={},void(this._axesList=[]);function v(g){return function(m,_){if(XF(m,t)){var w=m.get("position");"x"===g?"top"!==w&&"bottom"!==w&&(w=c.bottom?"top":"bottom"):"left"!==w&&"right"!==w&&(w=c.left?"right":"left"),c[w]=!0;var S=new _W(g,c0(m),[0,0],m.get("type"),w);S.onBand="category"===S.type&&m.get("boundaryGap"),S.inverse=m.get("inverse"),m.axis=S,S.model=m,S.grid=u,S.index=_,u._axesList.push(S),f[g][_]=S,d[g]++}}}this._axesMap=f,H(f.x,function(g,m){H(f.y,function(_,w){var S="x"+m+"y"+w,x=new mW(S);x.master=s,x.model=t,s._coordsMap[S]=x,s._coordsList.push(x),x.addAxis(g),x.addAxis(_)})})},r.prototype._updateScale=function(t,e){function o(s,u){H(h0(s,u.dim),function(c){u.scale.unionExtentFromData(s,c)})}H(this._axesList,function(s){if(s.scale.setExtent(1/0,-1/0),"category"===s.type){var u=s.model.get("categorySortInfo");s.scale.setSortInfo(u)}}),t.eachSeries(function(s){if(ZF(s)){var u=YF(s),c=u.xAxisModel,f=u.yAxisModel;if(!XF(c,e)||!XF(f,e))return;var d=this.getCartesian(c.componentIndex,f.componentIndex),v=s.getData(),g=d.getAxis("x"),m=d.getAxis("y");o(v,g),o(v,m)}},this)},r.prototype.getTooltipAxes=function(t){var e=[],o=[];return H(this.getCartesians(),function(s){var u=null!=t&&"auto"!==t?s.getAxis(t):s.getBaseAxis(),c=s.getOtherAxis(u);ot(e,u)<0&&e.push(u),ot(o,c)<0&&o.push(c)}),{baseAxes:e,otherAxes:o}},r.create=function(t,e){var o=[];return t.eachComponent("grid",function(s,u){var c=new r(s,t,e);c.name="grid_"+u,c.resize(s,e,!0),s.coordinateSystem=c,o.push(c)}),t.eachSeries(function(s){if(ZF(s)){var u=YF(s),c=u.xAxisModel,f=u.yAxisModel,d=c.getCoordSysModel();s.coordinateSystem=d.coordinateSystem.getCartesian(c.componentIndex,f.componentIndex)}}),o},r.dimensions=oE,r}();function XF(r,t){return r.getCoordSysModel()===t}function wW(r,t,e,o){e.getAxesOnZeroOf=function(){return u?[u]:[]};var u,s=r[t],c=e.model,f=c.get(["axisLine","onZero"]),d=c.get(["axisLine","onZeroAxisIndex"]);if(f){if(null!=d)bC(s[d])&&(u=s[d]);else for(var v in s)if(s.hasOwnProperty(v)&&bC(s[v])&&!o[g(s[v])]){u=s[v];break}u&&(o[g(u)]=!0)}function g(m){return m.dim+"_"+m.index}}function bC(r){return r&&"category"!==r.type&&"time"!==r.type&&function AN(r){var t=r.scale.getExtent(),e=t[0],o=t[1];return!(e>0&&o>0||e<0&&o<0)}(r)}const bW=sE;var lh=Math.PI,ld=function(){function r(t,e){this.group=new Ze,this.opt=e,this.axisModel=t,Ve(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Ze({x:e.position[0],y:e.position[1],rotation:e.rotation});o.updateTransform(),this._transformGroup=o}return r.prototype.hasBuilder=function(t){return!!lE[t]},r.prototype.add=function(t){lE[t](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(t,e,o){var u,c,s=Xn(e-t);return Bm(s)?(c=o>0?"top":"bottom",u="center"):Bm(s-lh)?(c=o>0?"bottom":"top",u="center"):(c="middle",u=s>0&&s<lh?o>0?"right":"left":o>0?"left":"right"),{rotation:s,textAlign:u,textVerticalAlign:c}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r}(),lE={axisLine:function(r,t,e,o){var s=t.get(["axisLine","show"]);if("auto"===s&&r.handleAutoShown&&(s=r.handleAutoShown("axisLine")),s){var u=t.axis.getExtent(),c=o.transform,f=[u[0],0],d=[u[1],0],v=f[0]>d[0];c&&(Or(f,f,c),Or(d,d,c));var g=ce({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),m=new zr({shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:g,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});Bf(m.shape,m.style.lineWidth),m.anid="line",e.add(m);var _=t.get(["axisLine","symbol"]);if(null!=_){var w=t.get(["axisLine","symbolSize"]);xe(_)&&(_=[_,_]),(xe(w)||kt(w))&&(w=[w,w]);var S=$c(t.get(["axisLine","symbolOffset"])||0,w),x=w[0],D=w[1];H([{rotate:r.rotation+Math.PI/2,offset:S[0],r:0},{rotate:r.rotation-Math.PI/2,offset:S[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(T,A){if("none"!==_[A]&&null!=_[A]){var E=ar(_[A],-x/2,-D/2,x,D,g.stroke,!0),P=T.r+T.offset,N=v?d:f;E.attr({rotation:T.rotate,x:N[0]+P*Math.cos(r.rotation),y:N[1]-P*Math.sin(r.rotation),silent:!0,z2:11}),e.add(E)}})}}},axisTickLabel:function(r,t,e,o){var s=function CW(r,t,e,o){var s=e.axis,u=e.getModel("axisTick"),c=u.get("show");if("auto"===c&&o.handleAutoShown&&(c=o.handleAutoShown("axisTick")),c&&!s.scale.isBlank()){for(var f=u.getModel("lineStyle"),d=o.tickDirection*u.get("length"),g=eV(s.getTicksCoords(),t.transform,d,Ve(f.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),m=0;m<g.length;m++)r.add(g[m]);return g}}(e,o,t,r),u=function tV(r,t,e,o){var s=e.axis;if($t(o.axisLabelShow,e.get(["axisLabel","show"]))&&!s.scale.isBlank()){var c=e.getModel("axisLabel"),f=c.get("margin"),d=s.getViewLabels(),v=($t(o.labelRotate,c.get("rotate"))||0)*lh/180,g=ld.innerTextLayout(o.rotation,v,o.labelDirection),m=e.getCategories&&e.getCategories(!0),_=[],w=ld.isLabelSilent(e),S=e.get("triggerEvent");return H(d,function(x,D){var T="ordinal"===s.scale.type?s.scale.getRawOrdinalNumber(x.tickValue):x.tickValue,A=x.formattedLabel,E=x.rawLabel,P=c;if(m&&m[T]){var N=m[T];Ue(N)&&N.textStyle&&(P=new Sn(N.textStyle,c,e.ecModel))}var k=P.getTextColor()||e.get(["axisLine","lineStyle","color"]),F=s.dataToCoord(T),B=new Nt({x:F,y:o.labelOffset+o.labelDirection*f,rotation:g.rotation,silent:w,z2:10+(x.level||0),style:gn(P,{text:A,align:P.getShallow("align",!0)||g.textAlign,verticalAlign:P.getShallow("verticalAlign",!0)||P.getShallow("baseline",!0)||g.textVerticalAlign,fill:Ne(k)?k("category"===s.type?E:"value"===s.type?T+"":T,D):k})});if(B.anid="label_"+T,S){var z=ld.makeAxisEventDataBase(e);z.targetType="axisLabel",z.value=E,z.tickIndex=D,"category"===s.type&&(z.dataIndex=T),et(B).eventData=z}t.add(B),B.updateTransform(),_.push(B),r.add(B),B.decomposeTransform()}),_}}(e,o,t,r);(function _X(r,t,e){if(!gA(r.axis)){var o=r.get(["axisLabel","showMinLabel"]),s=r.get(["axisLabel","showMaxLabel"]),u=(t=t||[])[0],c=t[1],f=t[t.length-1],d=t[t.length-2],v=(e=e||[])[0],g=e[1],m=e[e.length-1],_=e[e.length-2];!1===o?(ds(u),ds(v)):SW(u,c)&&(o?(ds(c),ds(g)):(ds(u),ds(v))),!1===s?(ds(f),ds(m)):SW(d,f)&&(s?(ds(d),ds(_)):(ds(f),ds(m)))}})(t,u,s),function wX(r,t,e,o){var s=e.axis,u=e.getModel("minorTick");if(u.get("show")&&!s.scale.isBlank()){var c=s.getMinorTicksCoords();if(c.length)for(var f=u.getModel("lineStyle"),d=o*u.get("length"),v=Ve(f.getLineStyle(),Ve(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),g=0;g<c.length;g++)for(var m=eV(c[g],t.transform,d,v,"minorticks_"+g),_=0;_<m.length;_++)r.add(m[_])}}(e,o,t,r.tickDirection),t.get(["axisLabel","hideOverlap"])&&jN(UN(me(u,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}})))},axisName:function(r,t,e,o){var s=$t(r.axisName,t.get("name"));if(s){var _,S,u=t.get("nameLocation"),c=r.nameDirection,f=t.getModel("nameTextStyle"),d=t.get("nameGap")||0,v=t.axis.getExtent(),g=v[0]>v[1]?-1:1,m=["start"===u?v[0]-g*d:"end"===u?v[1]+g*d:(v[0]+v[1])/2,JF(u)?r.labelOffset+c*d:0],w=t.get("nameRotate");null!=w&&(w=w*lh/180),JF(u)?_=ld.innerTextLayout(r.rotation,w??r.rotation,c):(_=function QF(r,t,e,o){var u,c,s=Xn(e-r),f=o[0]>o[1],d="start"===t&&!f||"start"!==t&&f;return Bm(s-lh/2)?(c=d?"bottom":"top",u="center"):Bm(s-1.5*lh)?(c=d?"top":"bottom",u="center"):(c="middle",u=s<1.5*lh&&s>lh/2?d?"left":"right":d?"right":"left"),{rotation:s,textAlign:u,textVerticalAlign:c}}(r.rotation,u,w||0,v),null!=(S=r.axisNameAvailableWidth)&&(S=Math.abs(S/Math.sin(_.rotation)),!isFinite(S)&&(S=null)));var x=f.getFont(),D=t.get("nameTruncate",!0)||{},T=D.ellipsis,A=$t(r.nameTruncateMaxWidth,D.maxWidth,S),E=new Nt({x:m[0],y:m[1],rotation:_.rotation,silent:ld.isLabelSilent(t),style:gn(f,{text:s,font:x,overflow:"truncate",width:A,ellipsis:T,fill:f.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:f.get("align")||_.textAlign,verticalAlign:f.get("verticalAlign")||_.textVerticalAlign}),z2:1});if(Fy({el:E,componentModel:t,itemName:s}),E.__fullText=s,E.anid="name",t.get("triggerEvent")){var P=ld.makeAxisEventDataBase(t);P.targetType="axisName",P.name=s,et(E).eventData=P}o.add(E),E.updateTransform(),e.add(E),E.decomposeTransform()}}};function ds(r){r&&(r.ignore=!0)}function SW(r,t){var e=r&&r.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(e&&o){var s=yc([]);return wo(s,s,-r.rotation),e.applyTransform(_o([],s,r.getLocalTransform())),o.applyTransform(_o([],s,t.getLocalTransform())),e.intersect(o)}}function JF(r){return"middle"===r||"center"===r}function eV(r,t,e,o,s){for(var u=[],c=[],f=[],d=0;d<r.length;d++){var v=r[d].coord;c[0]=v,c[1]=0,f[0]=v,f[1]=e,t&&(Or(c,c,t),Or(f,f,t));var g=new zr({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:o,z2:2,autoBatch:!0,silent:!0});Bf(g.shape,g.style.lineWidth),g.anid=s+"_"+r[d].tickValue,u.push(g)}return u}const uh=ld;function Rv(r,t){return"all"===r||ge(r)&&ot(r,t)>=0||r===t}function nV(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[SC(r)]}function cE(r){return!!r.get(["handle","show"])}function SC(r){return r.type+"||"+r.id}var EW={},IW=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s,u){this.axisPointerClass&&function MW(r){var t=nV(r);if(t){var e=t.axisPointerModel,o=t.axis.scale,s=e.option,u=e.get("status"),c=e.get("value");null!=c&&(c=o.parse(c));var f=cE(e);null==u&&(s.status=f?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(null==c||c>d[1])&&(c=d[1]),c<d[0]&&(c=d[0]),s.value=c,f&&(s.status=t.axis.scale.isBlank()?"hide":"show")}}(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,s,!0)},t.prototype.updateAxisPointer=function(e,o,s,u){this._doUpdateAxisPointerClass(e,s,!1)},t.prototype.remove=function(e,o){var s=this._axisPointer;s&&s.remove(o)},t.prototype.dispose=function(e,o){this._disposeAxisPointer(o),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,o,s){var u=t.getAxisPointerClass(this.axisPointerClass);if(u){var c=function AW(r){var t=nV(r);return t&&t.axisPointerModel}(e);c?(this._axisPointer||(this._axisPointer=new u)).render(e,c,o,s):this._disposeAxisPointer(o)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,o){EW[e]=o},t.getAxisPointerClass=function(e){return e&&EW[e]},t.type="axis",t}(Bn);const ud=IW;var hE=zt();function PW(r,t,e,o){var s=e.axis;if(!s.scale.isBlank()){var u=e.getModel("splitArea"),c=u.getModel("areaStyle"),f=c.get("color"),d=o.coordinateSystem.getRect(),v=s.getTicksCoords({tickModel:u,clamp:!0});if(v.length){var g=f.length,m=hE(r).splitAreaColors,_=Re(),w=0;if(m)for(var S=0;S<v.length;S++){var x=m.get(v[S].tickValue);if(null!=x){w=(x+(g-1)*S)%g;break}}var D=s.toGlobalCoord(v[0].coord),T=c.getAreaStyle();for(f=ge(f)?f:[f],S=1;S<v.length;S++){var A=s.toGlobalCoord(v[S].coord),E=void 0,P=void 0,N=void 0,k=void 0;s.isHorizontal()?(P=d.y,k=d.height,D=(E=D)+(N=A-E)):(E=d.x,N=d.width,D=(P=D)+(k=A-P));var F=v[S-1].tickValue;null!=F&&_.set(F,w),t.add(new Ot({anid:null!=F?"area_"+F:null,shape:{x:E,y:P,width:N,height:k},style:Ve({fill:f[w]},T),autoBatch:!0,silent:!0})),w=(w+1)%g}hE(r).splitAreaColors=_}}}function LW(r){hE(r).splitAreaColors=null}var RW=["axisLine","axisTickLabel","axisName"],kW=["splitArea","splitLine","minorSplitLine"],rV=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return ae(t,r),t.prototype.render=function(e,o,s,u){this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new Ze,this.group.add(this._axisGroup),e.get("show")){var f=e.getCoordSysModel(),d=_C(f,e),v=new uh(e,ce({handleAutoShown:function(m){for(var _=f.coordinateSystem.getCartesians(),w=0;w<_.length;w++)if(nA(_[w].getOtherAxis(e.axis).scale))return!0;return!1}},d));H(RW,v.add,v),this._axisGroup.add(v.getGroup()),H(kW,function(m){e.get([m,"show"])&&SX[m](this,this._axisGroup,e,f)},this),u&&"changeAxisOrder"===u.type&&u.isInitSort||Oy(c,this._axisGroup,e),r.prototype.render.call(this,e,o,s,u)}},t.prototype.remove=function(){LW(this)},t.type="cartesianAxis",t}(ud),SX={splitLine:function(r,t,e,o){var s=e.axis;if(!s.scale.isBlank()){var u=e.getModel("splitLine"),c=u.getModel("lineStyle"),f=c.get("color");f=ge(f)?f:[f];for(var d=o.coordinateSystem.getRect(),v=s.isHorizontal(),g=0,m=s.getTicksCoords({tickModel:u}),_=[],w=[],S=c.getLineStyle(),x=0;x<m.length;x++){var D=s.toGlobalCoord(m[x].coord);v?(_[0]=D,_[1]=d.y,w[0]=D,w[1]=d.y+d.height):(_[0]=d.x,_[1]=D,w[0]=d.x+d.width,w[1]=D);var T=g++%f.length,E=new zr({anid:null!=m[x].tickValue?"line_"+m[x].tickValue:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:w[0],y2:w[1]},style:Ve({stroke:f[T]},S),silent:!0});Bf(E.shape,S.lineWidth),t.add(E)}}},minorSplitLine:function(r,t,e,o){var s=e.axis,c=e.getModel("minorSplitLine").getModel("lineStyle"),f=o.coordinateSystem.getRect(),d=s.isHorizontal(),v=s.getMinorTicksCoords();if(v.length)for(var g=[],m=[],_=c.getLineStyle(),w=0;w<v.length;w++)for(var S=0;S<v[w].length;S++){var x=s.toGlobalCoord(v[w][S].coord);d?(g[0]=x,g[1]=f.y,m[0]=x,m[1]=f.y+f.height):(g[0]=f.x,g[1]=x,m[0]=f.x+f.width,m[1]=x);var D=new zr({anid:"minor_line_"+v[w][S].tickValue,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:_,silent:!0});Bf(D.shape,_.lineWidth),t.add(D)}},splitArea:function(r,t,e,o){PW(r,t,e,o)}},OW=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="xAxis",t}(rV),NW=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=OW.type,e}return ae(t,r),t.type="yAxis",t}(rV),FW=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="grid",e}return ae(t,r),t.prototype.render=function(e,o){this.group.removeAll(),e.get("show")&&this.group.add(new Ot({shape:e.coordinateSystem.getRect(),style:Ve({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Bn),VW={offset:0};function BW(r){r.registerComponentView(FW),r.registerComponentModel(fs),r.registerCoordinateSystem("cartesian2d",bW),Lv(r,"x",rE,VW),Lv(r,"y",rE,VW),r.registerComponentView(OW),r.registerComponentView(NW),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function xX(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),o=[],s=t.coordinateSystem;if(s){var u=s.getIndicatorAxes();H(u,function(c,f){e.each(e.mapDimension(u[f].dim),function(d,v){o[v]=o[v]||[];var g=s.dataToPoint(d,f);o[v][f]=zW(g)?g:HW(s)})}),e.each(function(c){var f=qg(o[c],function(d){return zW(d)})||HW(s);o[c].push(f.slice()),e.setItemLayout(c,o[c])})}})}function zW(r){return!isNaN(r[0])&&!isNaN(r[1])}function HW(r){return[r.cx,r.cy]}function DX(r){var t=r.polar;if(t){ge(t)||(t=[t]);var e=[];H(t,function(o,s){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),r.radar=r.radar||[],ge(r.radar)||(r.radar=[r.radar]),r.radar.push(o)):e.push(o)}),r.polar=e}H(r.series,function(o){o&&"radar"===o.type&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var TX=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=e.coordinateSystem,c=this.group,f=e.getData(),d=this._data;function v(_,w){var S=_.getItemVisual(w,"symbol")||"circle";if("none"!==S){var x=Wf(_.getItemVisual(w,"symbolSize")),D=ar(S,-1,-1,2,2),T=_.getItemVisual(w,"symbolRotate")||0;return D.attr({style:{strokeNoScale:!0},z2:100,scaleX:x[0]/2,scaleY:x[1]/2,rotation:T*Math.PI/180||0}),D}}function g(_,w,S,x,D,T){S.removeAll();for(var A=0;A<w.length-1;A++){var E=v(x,D);E&&(E.__dimIdx=A,_[A]?(E.setPosition(_[A]),Ms[T?"initProps":"updateProps"](E,{x:w[A][0],y:w[A][1]},e,D)):E.setPosition(w[A]),S.add(E))}}function m(_){return me(_,function(w){return[u.cx,u.cy]})}f.diff(d).add(function(_){var w=f.getItemLayout(_);if(w){var S=new to,x=new Ni,D={shape:{points:w}};S.shape.points=m(w),x.shape.points=m(w),On(S,D,e,_),On(x,D,e,_);var T=new Ze,A=new Ze;T.add(x),T.add(S),T.add(A),g(x.shape.points,w,A,f,_,!0),f.setItemGraphicEl(_,T)}}).update(function(_,w){var S=d.getItemGraphicEl(w),x=S.childAt(0),D=S.childAt(1),T=S.childAt(2),A={shape:{points:f.getItemLayout(_)}};A.shape.points&&(g(x.shape.points,A.shape.points,T,f,_,!1),wa(D),wa(x),Yt(x,A,e),Yt(D,A,e),f.setItemGraphicEl(_,S))}).remove(function(_){c.remove(d.getItemGraphicEl(_))}).execute(),f.eachItemGraphicEl(function(_,w){var S=f.getItemModel(w),x=_.childAt(0),D=_.childAt(1),T=_.childAt(2),A=f.getItemVisual(w,"style"),E=A.fill;c.add(_),x.useStyle(Ve(S.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:E})),Si(x,S,"lineStyle"),Si(D,S,"areaStyle");var P=S.getModel("areaStyle"),N=P.isEmpty()&&P.parentModel.isEmpty();D.ignore=N,H(["emphasis","select","blur"],function(B){var z=S.getModel([B,"areaStyle"]),j=z.isEmpty()&&z.parentModel.isEmpty();D.ensureState(B).ignore=j&&N}),D.useStyle(Ve(P.getAreaStyle(),{fill:E,opacity:.7,decal:A.decal}));var k=S.getModel("emphasis"),F=k.getModel("itemStyle").getItemStyle();T.eachChild(function(B){if(B instanceof bn){var z=B.style;B.useStyle(ce({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},A))}else B.useStyle(A),B.setColor(E),B.style.strokeNoScale=!0;B.ensureState("emphasis").style=Ge(F);var W=f.getStore().get(f.getDimensionIndex(B.__dimIdx),w);(null==W||isNaN(W))&&(W=""),Li(B,Mr(S),{labelFetcher:f.hostModel,labelDataIndex:w,labelDimIndex:B.__dimIdx,defaultText:W,inheritColor:E,defaultOpacity:A.opacity})}),Jn(_,k.get("focus"),k.get("blurScope"),k.get("disabled"))}),this._data=f},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(vn);const MX=TX;var AX=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ae(t,r),t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new ah(Me(this.getData,this),Me(this.getRawData,this))},t.prototype.getInitialData=function(e,o){return sd(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,o,s){var u=this.getData(),f=this.coordinateSystem.getIndicatorAxes(),d=this.getData().getName(e),v=""===d?this.name:d,g=Sy(this,e);return Jr("section",{header:v,sortBlocks:!0,blocks:me(f,function(m){var _=u.get(u.mapDimension(m.dim),e);return Jr("nameValue",{markerType:"subItem",markerColor:g,name:m.name,value:_,sortParam:_})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var o=this.getData(),s=this.coordinateSystem,u=o.getValues(me(s.dimensions,function(v){return o.mapDimension(v)}),e),c=0,f=u.length;c<f;c++)if(!isNaN(u[c])){var d=s.getIndicatorAxes();return s.coordToPoint(d[c].dataToCoord(u[c]),c)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Mn);const GW=AX;var CC=WF.value;function fE(r,t){return Ve({show:t},r)}var EX=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),o=this.get("splitNumber"),s=this.get("scale"),u=this.get("axisLine"),c=this.get("axisTick"),f=this.get("axisLabel"),d=this.get("axisName"),v=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),m=this.get("axisNameGap"),_=this.get("triggerEvent"),w=me(this.get("indicator")||[],function(S){null!=S.max&&S.max>0&&!S.min?S.min=0:null!=S.min&&S.min<0&&!S.max&&(S.max=0);var x=d;null!=S.color&&(x=Ve({color:S.color},d));var D=tt(Ge(S),{boundaryGap:e,splitNumber:o,scale:s,axisLine:u,axisTick:c,axisLabel:f,name:S.text,showName:v,nameLocation:"end",nameGap:m,nameTextStyle:x,triggerEvent:_},!1);xe(g)?D.name=g.replace("{value}",D.name??""):Ne(g)&&(D.name=g(D.name,D));var A=new Sn(D,null,this.ecModel);return Zn(A,ed.prototype),A.mainType="radar",A.componentIndex=this.componentIndex,A},this);this._indicatorModels=w},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:tt({lineStyle:{color:"#bbb"}},CC.axisLine),axisLabel:fE(CC.axisLabel,!1),axisTick:fE(CC.axisTick,!1),splitLine:fE(CC.splitLine,!0),splitArea:fE(CC.splitArea,!0),indicator:[]},t}(Lt);const iV=EX;var UW=["axisLine","axisTickLabel","axisName"],jW=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var o=e.coordinateSystem;H(me(o.getIndicatorAxes(),function(c){var f=c.model.get("showName")?c.name:"";return new uh(c.model,{axisName:f,position:[o.cx,o.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(c){H(UW,c.add,c),this.group.add(c.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var o=e.coordinateSystem,s=o.getIndicatorAxes();if(s.length){var u=e.get("shape"),c=e.getModel("splitLine"),f=e.getModel("splitArea"),d=c.getModel("lineStyle"),v=f.getModel("areaStyle"),g=c.get("show"),m=f.get("show"),_=d.get("color"),w=v.get("color"),S=ge(_)?_:[_],x=ge(w)?w:[w],D=[],T=[];if("circle"===u)for(var E=s[0].getTicksCoords(),P=o.cx,N=o.cy,k=0;k<E.length;k++)g&&D[A(D,S,k)].push(new rs({shape:{cx:P,cy:N,r:E[k].coord}})),m&&k<E.length-1&&T[A(T,x,k)].push(new Ff({shape:{cx:P,cy:N,r0:E[k].coord,r:E[k+1].coord}}));else{var B,z=me(s,function(Q,re){var le=Q.getTicksCoords();return B=null==B?le.length-1:Math.min(le.length-1,B),me(le,function(se){return o.coordToPoint(se.coord,re)})}),j=[];for(k=0;k<=B;k++){for(var W=[],q=0;q<s.length;q++)W.push(z[q][k]);W[0]&&W.push(W[0].slice()),g&&D[A(D,S,k)].push(new Ni({shape:{points:W}})),m&&j&&T[A(T,x,k-1)].push(new to({shape:{points:W.concat(j)}})),j=W.slice().reverse()}}var Y=d.getLineStyle(),K=v.getAreaStyle();H(T,function(Q,re){this.group.add(Po(Q,{style:Ve({stroke:"none",fill:x[re%x.length]},K),silent:!0}))},this),H(D,function(Q,re){this.group.add(Po(Q,{style:Ve({fill:"none",stroke:S[re%S.length]},Y),silent:!0}))},this)}function A(Q,re,le){var se=le%re.length;return Q[se]=Q[se]||[],se}},t.type="radar",t}(Bn);const dE=jW;var I0=function(r){function t(e,o,s){var u=r.call(this,e,o,s)||this;return u.type="value",u.angle=0,u.name="",u}return ae(t,r),t}(Ia);const IX=I0;var PX=function(){function r(t,e,o){this.dimensions=[],this._model=t,this._indicatorAxes=me(t.getIndicatorModels(),function(s,u){var c="indicator_"+u,f=new IX(c,new al);return f.name=s.get("name"),f.model=s,s.axis=f,this.dimensions.push(c),f},this),this.resize(t,o)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var s=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(s),this.cy-t*Math.sin(s)]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,o=t[1]-this.cy,s=Math.sqrt(e*e+o*o);e/=s,o/=s;for(var f,u=Math.atan2(-o,e),c=1/0,d=-1,v=0;v<this._indicatorAxes.length;v++){var g=this._indicatorAxes[v],m=Math.abs(u-g.angle);m<c&&(f=g,d=v,c=m)}return[d,+(f&&f.coordToData(s))]},r.prototype.resize=function(t,e){var o=t.get("center"),s=e.getWidth(),u=e.getHeight(),c=Math.min(s,u)/2;this.cx=Ce(o[0],s),this.cy=Ce(o[1],u),this.startAngle=t.get("startAngle")*Math.PI/180;var f=t.get("radius");(xe(f)||kt(f))&&(f=[0,f]),this.r0=Ce(f[0],c),this.r=Ce(f[1],c),H(this._indicatorAxes,function(d,v){d.setExtent(this.r0,this.r);var g=this.startAngle+v*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),d.angle=g},this)},r.prototype.update=function(t,e){var o=this._indicatorAxes,s=this._model;H(o,function(f){f.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(f,d){if("radar"===f.get("coordinateSystem")&&t.getComponent("radar",f.get("radarIndex"))===s){var v=f.getData();H(o,function(g){g.scale.unionExtentFromData(v,v.mapDimension(g.dim))})}},this);var u=s.get("splitNumber"),c=new al;c.setExtent(0,u),c.setInterval(1),H(o,function(f,d){wC(f.scale,f.model,c)})},r.prototype.convertToPixel=function(t,e,o){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,o){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var o=[];return t.eachComponent("radar",function(s){var u=new r(s,t,e);o.push(u),s.coordinateSystem=u}),t.eachSeriesByType("radar",function(s){"radar"===s.get("coordinateSystem")&&(s.coordinateSystem=o[s.get("radarIndex")||0])}),o},r.dimensions=[],r}();const oV=PX;function aV(r){r.registerCoordinateSystem("radar",oV),r.registerComponentModel(iV),r.registerComponentView(dE),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(o){e.setItemVisual(o,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var WW="\0_ec_interaction_mutex";function qW(r,t){return!!lV(r)[t]}function lV(r){return r[WW]||(r[WW]={})}Oo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Mt);var RX=function(r){function t(e){var o=r.call(this)||this;o._zr=e;var s=Me(o._mousedownHandler,o),u=Me(o._mousemoveHandler,o),c=Me(o._mouseupHandler,o),f=Me(o._mousewheelHandler,o),d=Me(o._pinchHandler,o);return o.enable=function(v,g){this.disable(),this._opt=Ve(Ge(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==v&&(v=!0),(!0===v||"move"===v||"pan"===v)&&(e.on("mousedown",s),e.on("mousemove",u),e.on("mouseup",c)),(!0===v||"scale"===v||"zoom"===v)&&(e.on("mousewheel",f),e.on("pinch",d))},o.disable=function(){e.off("mousedown",s),e.off("mousemove",u),e.off("mouseup",c),e.off("mousewheel",f),e.off("pinch",d)},o}return ae(t,r),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!um(e)){for(var o=e.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var s=e.offsetX,u=e.offsetY;this.pointerChecker&&this.pointerChecker(e,s,u)&&(this._x=s,this._y=u,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&pE("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!qW(this._zr,"globalPan")){var o=e.offsetX,s=e.offsetY,u=this._x,c=this._y,f=o-u,d=s-c;this._x=o,this._y=s,this._opt.preventDefaultMouseMove&&ha(e.event),ZW(this,"pan","moveOnMouseMove",e,{dx:f,dy:d,oldX:u,oldY:c,newX:o,newY:s,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){um(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var o=pE("zoomOnMouseWheel",e,this._opt),s=pE("moveOnMouseWheel",e,this._opt),u=e.wheelDelta,c=Math.abs(u),f=e.offsetX,d=e.offsetY;if(0!==u&&(o||s)){if(o){var v=c>3?1.4:c>1?1.2:1.1;uV(this,"zoom","zoomOnMouseWheel",e,{scale:u>0?v:1/v,originX:f,originY:d,isAvailableBehavior:null})}if(s){var m=Math.abs(u);uV(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(u>0?1:-1)*(m>3?.4:m>1?.15:.05),originX:f,originY:d,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){qW(this._zr,"globalPan")||uV(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(yo);function uV(r,t,e,o,s){r.pointerChecker&&r.pointerChecker(o,s.originX,s.originY)&&(ha(o.event),ZW(r,t,e,o,s))}function ZW(r,t,e,o,s){s.isAvailableBehavior=Me(pE,null,e,o),r.trigger(t,s)}function pE(r,t,e){var o=e[r];return!r||o&&(!xe(o)||t.event[o+"Key"])}const xC=RX;function cV(r,t,e){var o=r.target;o.x+=t,o.y+=e,o.dirty()}function vE(r,t,e,o){var s=r.target,u=r.zoomLimit,c=r.zoom=r.zoom||1;if(c*=t,u){var f=u.min||0;c=Math.max(Math.min(u.max||1/0,c),f)}var v=c/r.zoom;r.zoom=c,s.x-=(e-s.x)*(v-1),s.y-=(o-s.y)*(v-1),s.scaleX*=v,s.scaleY*=v,s.dirty()}var kX={axisPointer:1,tooltip:1,brush:1};function DC(r,t,e){var o=t.getComponentByElement(r.topTarget),s=o&&o.coordinateSystem;return o&&o!==e&&!kX.hasOwnProperty(o.mainType)&&s&&s.model!==e}function hV(r){xe(r)&&(r=(new DOMParser).parseFromString(r,"text/xml"));var e=r;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var fV,gE={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},YW=pt(gE),mE={"alignment-baseline":"textBaseline","stop-color":"stopColor"},XW=pt(mE),OX=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(t,e){e=e||{};var o=hV(t);this._defsUsePending=[];var s=new Ze;this._root=s;var g,m,u=[],c=o.getAttribute("viewBox")||"",f=parseFloat(o.getAttribute("width")||e.width),d=parseFloat(o.getAttribute("height")||e.height);isNaN(f)&&(f=null),isNaN(d)&&(d=null),La(o,s,null,!0,!1);for(var v=o.firstChild;v;)this._parseNode(v,s,u,null,!1,!1),v=v.nextSibling;if(function t$(r,t){for(var e=0;e<t.length;e++){var o=t[e];o[0].style[o[1]]=r[o[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],c){var _=MC(c);_.length>=4&&(g={x:parseFloat(_[0]||0),y:parseFloat(_[1]||0),width:parseFloat(_[2]),height:parseFloat(_[3])})}if(g&&null!=f&&null!=d&&(m=xE(g,{x:0,y:0,width:f,height:d}),!e.ignoreViewBox)){var w=s;(s=new Ze).add(w),w.scaleX=w.scaleY=m.scale,w.x=m.x,w.y=m.y}return!e.ignoreRootClip&&null!=f&&null!=d&&s.setClipPath(new Ot({shape:{x:0,y:0,width:f,height:d}})),{root:s,width:f,height:d,viewBoxRect:g,viewBoxTransform:m,named:u}},r.prototype._parseNode=function(t,e,o,s,u,c){var d,f=t.nodeName.toLowerCase(),v=s;if("defs"===f&&(u=!0),"text"===f&&(c=!0),"defs"===f||"switch"===f)d=e;else{if(!u){var g=fV[f];if(g&&Ee(fV,f)){d=g.call(this,t,e);var m=t.getAttribute("name");if(m){var _={name:m,namedFrom:null,svgNodeTagLower:f,el:d};o.push(_),"g"===f&&(v=_)}else s&&o.push({name:s.name,namedFrom:s,svgNodeTagLower:f,el:d});e.add(d)}}var w=KW[f];if(w&&Ee(KW,f)){var S=w.call(this,t),x=t.getAttribute("id");x&&(this._defs[x]=S)}}if(d&&d.isGroup)for(var D=t.firstChild;D;)1===D.nodeType?this._parseNode(D,d,o,v,u,c):3===D.nodeType&&c&&this._parseText(D,d),D=D.nextSibling},r.prototype._parseText=function(t,e){var o=new qm({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ps(e,o),La(t,o,this._defsUsePending,!1,!1),function e$(r,t){var e=t.__selfStyle;if(e){var o=e.textBaseline,s=o;o&&"auto"!==o&&"baseline"!==o?"before-edge"===o||"text-before-edge"===o?s="top":"after-edge"===o||"text-after-edge"===o?s="bottom":("central"===o||"mathematical"===o)&&(s="middle"):s="alphabetic",r.style.textBaseline=s}var u=t.__inheritedStyle;if(u){var c=u.textAlign,f=c;c&&("middle"===c&&(f="center"),r.style.textAlign=f)}}(o,e);var s=o.style,u=s.fontSize;u&&u<9&&(s.fontSize=9,o.scaleX*=u/9,o.scaleY*=u/9);var c=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=c;var f=o.getBoundingRect();return this._textX+=f.width,e.add(o),o},r.internalField=void(fV={g:function(t,e){var o=new Ze;return ps(e,o),La(t,o,this._defsUsePending,!1,!1),o},rect:function(t,e){var o=new Ot;return ps(e,o),La(t,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(t,e){var o=new rs;return ps(e,o),La(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),o.silent=!0,o},line:function(t,e){var o=new zr;return ps(e,o),La(t,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(t,e){var o=new Xb;return ps(e,o),La(t,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(t,e){var s,o=t.getAttribute("points");o&&(s=P0(o));var u=new to({shape:{points:s||[]},silent:!0});return ps(e,u),La(t,u,this._defsUsePending,!1,!1),u},polyline:function(t,e){var s,o=t.getAttribute("points");o&&(s=P0(o));var u=new Ni({shape:{points:s||[]},silent:!0});return ps(e,u),La(t,u,this._defsUsePending,!1,!1),u},image:function(t,e){var o=new bn;return ps(e,o),La(t,o,this._defsUsePending,!1,!1),o.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),o.silent=!0,o},text:function(t,e){var o=t.getAttribute("x")||"0",s=t.getAttribute("y")||"0",u=t.getAttribute("dx")||"0",c=t.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(u),this._textY=parseFloat(s)+parseFloat(c);var f=new Ze;return ps(e,f),La(t,f,this._defsUsePending,!1,!0),f},tspan:function(t,e){var o=t.getAttribute("x"),s=t.getAttribute("y");null!=o&&(this._textX=parseFloat(o)),null!=s&&(this._textY=parseFloat(s));var u=t.getAttribute("dx")||"0",c=t.getAttribute("dy")||"0",f=new Ze;return ps(e,f),La(t,f,this._defsUsePending,!1,!0),this._textX+=parseFloat(u),this._textY+=parseFloat(c),f},path:function(t,e){var s=rM(t.getAttribute("d")||"");return ps(e,s),La(t,s,this._defsUsePending,!1,!1),s.silent=!0,s}}),r}(),KW={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10),e=parseInt(r.getAttribute("y1")||"0",10),o=parseInt(r.getAttribute("x2")||"10",10),s=parseInt(r.getAttribute("y2")||"0",10),u=new cv(t,e,o,s);return QW(r,u),JW(r,u),u},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10),e=parseInt(r.getAttribute("cy")||"0",10),o=parseInt(r.getAttribute("r")||"0",10),s=new Vf(t,e,o);return QW(r,s),JW(r,s),s}};function QW(r,t){"userSpaceOnUse"===r.getAttribute("gradientUnits")&&(t.global=!0)}function JW(r,t){for(var e=r.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var s,o=e.getAttribute("offset");s=o&&o.indexOf("%")>0?parseInt(o,10)/100:o?parseFloat(o):0;var u={};SE(e,u,u);var c=u.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:s,color:c})}e=e.nextSibling}}function ps(r,t){r&&r.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Ve(t.__inheritedStyle,r.__inheritedStyle))}function P0(r){for(var t=MC(r),e=[],o=0;o<t.length;o+=2){var s=parseFloat(t[o]),u=parseFloat(t[o+1]);e.push([s,u])}return e}function La(r,t,e,o,s){var u=t,c=u.__inheritedStyle=u.__inheritedStyle||{},f={};1===r.nodeType&&(function wE(r,t){var e=r.getAttribute("transform");if(e){e=e.replace(/,/g," ");var o=[],s=null;e.replace(n$,function(m,_,w){return o.push(_,w),""});for(var u=o.length-1;u>0;u-=2){var f=o[u-1],d=MC(o[u]);switch(s=s||[1,0,0,1,0,0],f){case"translate":Ie(s,s,[parseFloat(d[0]),parseFloat(d[1]||"0")]);break;case"scale":Fs(s,s,[parseFloat(d[0]),parseFloat(d[1]||d[0])]);break;case"rotate":wo(s,s,-parseFloat(d[0])*_E);break;case"skewX":_o(s,[1,0,Math.tan(parseFloat(d[0])*_E),1,0,0],s);break;case"skewY":_o(s,[1,Math.tan(parseFloat(d[0])*_E),0,1,0,0],s);break;case"matrix":s[0]=parseFloat(d[0]),s[1]=parseFloat(d[1]),s[2]=parseFloat(d[2]),s[3]=parseFloat(d[3]),s[4]=parseFloat(d[4]),s[5]=parseFloat(d[5])}}t.setLocalTransform(s)}}(r,t),SE(r,c,f),o||function CE(r,t,e){for(var o=0;o<YW.length;o++)null!=(u=r.getAttribute(s=YW[o]))&&(t[gE[s]]=u);for(o=0;o<XW.length;o++){var s,u;null!=(u=r.getAttribute(s=XW[o]))&&(e[mE[s]]=u)}}(r,c,f)),u.style=u.style||{},null!=c.fill&&(u.style.fill=kv(u,"fill",c.fill,e)),null!=c.stroke&&(u.style.stroke=kv(u,"stroke",c.stroke,e)),H(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(d){null!=c[d]&&(u.style[d]=parseFloat(c[d]))}),H(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(d){null!=c[d]&&(u.style[d]=c[d])}),s&&(u.__selfStyle=f),c.lineDash&&(u.style.lineDash=me(MC(c.lineDash),function(d){return parseFloat(d)})),("hidden"===c.visibility||"collapse"===c.visibility)&&(u.invisible=!0),"none"===c.display&&(u.ignore=!0)}var yE=/^url\(\s*#(.*?)\)/;function kv(r,t,e,o){var s=e&&e.match(yE);if(!s)return"none"===e&&(e=null),e;var u=Ii(s[1]);o.push([r,t,u])}var TC=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function MC(r){return r.match(TC)||[]}var n$=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,_E=Math.PI/180,bE=/([^\s:;]+)\s*:\s*([^:;]+)/g;function SE(r,t,e){var o=r.getAttribute("style");if(o){bE.lastIndex=0;for(var s;null!=(s=bE.exec(o));){var u=s[1],c=Ee(gE,u)?gE[u]:null;c&&(t[c]=s[2]);var f=Ee(mE,u)?mE[u]:null;f&&(e[f]=s[2])}}}function xE(r,t){var s=Math.min(t.width/r.width,t.height/r.height);return{scale:s,x:-(r.x+r.width/2)*s+(t.x+t.width/2),y:-(r.y+r.height/2)*s+(t.y+t.height/2)}}for(var TE=Re(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),dV=function(){function r(t,e){this.type="geoSVG",this._usedGraphicMap=Re(),this._freedGraphics=[],this._mapName=t,this._parsedXML=hV(e)}return r.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function i$(r){var t=[],e=Re();return H(r,function(o){if(null==o.namedFrom){var s=new r4(o.name,o.el);t.push(s),e.set(o.name,s)}}),{regions:t,regionsMap:e}}(t.named),s=e.regionsMap;this._regions=e.regions,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(t){var e,o;try{e=t&&function DE(r,t){return(new OX).parse(r,t)}(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},_n(null!=(o=e.root))}catch(D){throw new Error("Invalid svg format\n"+D.message)}var s=new Ze;s.add(o),s.isGeoSVGGraphicRoot=!0;var u=e.width,c=e.height,f=e.viewBoxRect,d=this._boundingRect;if(!d){var v=void 0,g=void 0,m=void 0,_=void 0;if(null!=u?(v=0,m=u):f&&(v=f.x,m=f.width),null!=c?(g=0,_=c):f&&(g=f.y,_=f.height),null==v||null==g){var w=o.getBoundingRect();null==v&&(v=w.x,m=w.width),null==g&&(g=w.y,_=w.height)}d=this._boundingRect=new Xe(v,g,m,_)}if(f){var S=xE(f,d);o.scaleX=o.scaleY=S.scale,o.x=S.x,o.y=S.y}s.setClipPath(new Ot({shape:d.plain()}));var x=[];return H(e.named,function(D){null!=TE.get(D.svgNodeTagLower)&&(x.push(D),function r$(r){r.silent=!1,r.isGroup&&r.traverse(function(t){t.silent=!1})}(D.el))}),{root:s,boundingRect:d,named:x}},r.prototype.useGraphic=function(t){var e=this._usedGraphicMap,o=e.get(t);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,o),o)},r.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,o=e.get(t);o&&(e.removeKey(t),this._freedGraphics.push(o))},r}(),ME=[126,25],cd=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],hd=0;hd<cd.length;hd++)for(var fd=0;fd<cd[hd].length;fd++)cd[hd][fd][0]/=10.5,cd[hd][fd][1]/=-14,cd[hd][fd][0]+=ME[0],cd[hd][fd][1]+=ME[1];var EE={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},NX=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],IE=function(){function r(t,e,o){this.type="geoJSON",this._parsedMap=Re(),this._mapName=t,this._specialAreas=o,this._geoJSON=function s$(r){return xe(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}(e)}return r.prototype.load=function(t,e){var o=this._parsedMap.get(e=e||"name");if(!o){var s=this._parseToRegions(e);o=this._parsedMap.set(e,{regions:s,boundingRect:gV(s)})}var u=Re(),c=[];return H(o.regions,function(f){var d=f.name;t&&Ee(t,d)&&(f=f.cloneShallow(d=t[d])),c.push(f),u.set(d,f)}),{regions:c,boundingRect:o.boundingRect||new Xe(0,0,0,0),regionsMap:u}},r.prototype._parseToRegions=function(t){var s,e=this._mapName,o=this._geoJSON;try{s=o?RN(o,t):[]}catch(u){throw new Error("Invalid geoJson format\n"+u.message)}return function AE(r,t){if("china"===r){for(var e=0;e<t.length;e++)if("\u5357\u6d77\u8bf8\u5c9b"===t[e].name)return;t.push(new mA("\u5357\u6d77\u8bf8\u5c9b",me(cd,function(o){return{type:"polygon",exterior:o}}),ME))}}(e,s),H(s,function(u){var c=u.name;(function o$(r,t){if("china"===r){var e=EE[t.name];if(e){var o=t.getCenter();o[0]+=e[0]/10.5,o[1]+=-e[1]/14,t.setCenter(o)}}})(e,u),function vV(r,t){"china"===r&&"\u53f0\u6e7e"===t.name&&t.geometries.push({type:"polygon",exterior:NX[0]})}(e,u);var f=this._specialAreas&&this._specialAreas[c];f&&u.transformTo(f.left,f.top,f.width,f.height)},this),s},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function gV(r){for(var t,e=0;e<r.length;e++){var o=r[e].getBoundingRect();(t=t||o.clone()).union(o)}return t}var Ov=Re();const Uu={registerMap:function(r,t,e){if(t.svg){var o=new dV(r,t.svg);Ov.set(r,o)}else{var s=t.geoJson||t.geoJSON;s&&!t.features?e=t.specialAreas:s=t,o=new IE(r,s,e),Ov.set(r,o)}},getGeoResource:function(r){return Ov.get(r)},getMapForUser:function(r){var t=Ov.get(r);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(r,t,e){var o=Ov.get(r);if(o)return o.load(t,e)}};var PE=["rect","circle","line","ellipse","polygon","polyline","path"],l$=Re(PE),FX=Re(PE.concat(["g"])),VX=Re(PE.concat(["g"])),LE=zt();function RE(r){var t=r.getItemStyle(),e=r.get("areaColor");return null!=e&&(t.fill=e),t}function mV(r){var t=r.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var u$=function(){function r(t){var e=new Ze;this.uid=ke("ec_map_draw"),this._controller=new xC(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Ze),e.add(this._svgGroup=new Ze)}return r.prototype.draw=function(t,e,o,s,u){var c="geo"===t.mainType,f=t.getData&&t.getData();c&&e.eachComponent({mainType:"series",subType:"map"},function(T){!f&&T.getHostGeoModel()===t&&(f=T.getData())});var d=t.coordinateSystem,v=this._regionsGroup,g=this.group,m=d.getTransformInfo(),_=m.raw,w=m.roam;!v.childAt(0)||u?(g.x=w.x,g.y=w.y,g.scaleX=w.scaleX,g.scaleY=w.scaleY,g.dirty()):Yt(g,w,t);var x=f&&f.getVisual("visualMeta")&&f.getVisual("visualMeta").length>0,D={api:o,geo:d,mapOrGeoModel:t,data:f,isVisualEncodedByVisualMap:x,isGeo:c,transformInfoRaw:_};"geoJSON"===d.resourceType?this._buildGeoJSON(D):"geoSVG"===d.resourceType&&this._buildSVG(D),this._updateController(t,e,o),this._updateMapSelectHandler(t,v,o,s)},r.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Re(),o=Re(),s=this._regionsGroup,u=t.transformInfoRaw,c=t.mapOrGeoModel,f=t.data,d=t.geo.projection,v=d&&d.stream;function g(w,S){return S&&(w=S(w)),w&&[w[0]*u.scaleX+u.x,w[1]*u.scaleY+u.y]}function m(w){for(var S=[],x=!v&&d&&d.project,D=0;D<w.length;++D){var T=g(w[D],x);T&&S.push(T)}return S}function _(w){return{shape:{points:m(w)}}}s.removeAll(),H(t.geo.regions,function(w){var S=w.name,x=e.get(S),D=o.get(S)||{},T=D.dataIdx,A=D.regionModel;x||(x=e.set(S,new Ze),s.add(x),T=f?f.indexOfName(S):null,A=t.isGeo?c.getRegionModel(S):f?f.getItemModel(T):null,o.set(S,{dataIdx:T,regionModel:A}));var E=[],P=[];H(w.geometries,function(F){if("polygon"===F.type){var B=[F.exterior].concat(F.interiors||[]);v&&(B=NE(B,v)),H(B,function(j){E.push(new to(_(j)))})}else{var z=F.points;v&&(z=NE(z,v,!0)),H(z,function(j){P.push(new Ni(_(j)))})}});var N=g(w.getCenter(),d&&d.project);function k(F,B){if(F.length){var z=new te({culling:!0,segmentIgnoreThreshold:1,shape:{paths:F}});x.add(z),yV(t,z,T,A),kE(t,z,S,A,c,T,N),B&&(mV(z),H(z.states,mV))}}k(E),k(P,!0)}),e.each(function(w,S){var x=o.get(S),T=x.regionModel;_V(t,w,S,T,c,x.dataIdx),wV(t,w,S,T,c),OE(t,w,S,T,c)},this)},r.prototype._buildSVG=function(t){var e=t.geo.map,o=t.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var s=this._svgDispatcherMap=Re(),u=!1;H(this._svgGraphicRecord.named,function(c){var f=c.name,d=t.mapOrGeoModel,v=t.data,g=c.svgNodeTagLower,m=c.el,_=v?v.indexOfName(f):null,w=d.getRegionModel(f);null!=l$.get(g)&&m instanceof ya&&yV(t,m,_,w),m instanceof ya&&(m.culling=!0),m.z2EmphasisLift=0,c.namedFrom||(null!=VX.get(g)&&kE(t,m,f,w,d,_,null),_V(t,m,f,w,d,_),wV(t,m,f,w,d),null==FX.get(g))||("self"===OE(t,m,f,w,d)&&(u=!0),(s.get(f)||s.set(f,[])).push(m))},this),this._enableBlurEntireSVG(u,t)},r.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var s=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(u){if(!u.isGroup){Ic(u);var c=u.ensureState("blur").style||{};null==c.opacity&&null!=s&&(c.opacity=s),u.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var o=e.coordinateSystem;if("geoJSON"===o.resourceType){var s=this._regionsGroupByName;if(s){var u=s.get(t);return u?[u]:[]}}else if("geoSVG"===o.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},r.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},r.prototype._useSVG=function(t){var e=Uu.getGeoResource(t);if(e&&"geoSVG"===e.type){var o=e.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=t}},r.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Uu.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(t,e,o){var s=t.coordinateSystem,u=this._controller,c=this._controllerHost;c.zoomLimit=t.get("scaleLimit"),c.zoom=s.getZoom(),u.enable(t.get("roam")||!1);var f=t.mainType;function d(){var v={type:"geoRoam",componentType:f};return v[f+"Id"]=t.id,v}u.off("pan").on("pan",function(v){this._mouseDownFlag=!1,cV(c,v.dx,v.dy),o.dispatchAction(ce(d(),{dx:v.dx,dy:v.dy,animation:{duration:0}}))},this),u.off("zoom").on("zoom",function(v){this._mouseDownFlag=!1,vE(c,v.scale,v.originX,v.originY),o.dispatchAction(ce(d(),{zoom:v.scale,originX:v.originX,originY:v.originY,animation:{duration:0}}))},this),u.setPointerChecker(function(v,g,m){return s.containPoint([g,m])&&!DC(v,o,t)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=LE(e).ignore)})},r.prototype._updateMapSelectHandler=function(t,e,o,s){var u=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){u._mouseDownFlag=!0}),e.on("click",function(c){u._mouseDownFlag&&(u._mouseDownFlag=!1)}))},r}();function yV(r,t,e,o){var s=o.getModel("itemStyle"),u=o.getModel(["emphasis","itemStyle"]),c=o.getModel(["blur","itemStyle"]),f=o.getModel(["select","itemStyle"]),d=RE(s),v=RE(u),g=RE(f),m=RE(c),_=r.data;if(_){var w=_.getItemVisual(e,"style"),S=_.getItemVisual(e,"decal");r.isVisualEncodedByVisualMap&&w.fill&&(d.fill=w.fill),S&&(d.decal=gv(S,r.api))}t.setStyle(d),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=v,t.ensureState("select").style=g,t.ensureState("blur").style=m,Ic(t)}function kE(r,t,e,o,s,u,c){var f=r.data,d=r.isGeo,v=f&&isNaN(f.get(f.mapDimension("value"),u)),g=f&&f.getItemLayout(u);if(d||v||g&&g.showLabel){var m=d?e:u,_=void 0;(!f||u>=0)&&(_=s);var w=c?{normal:{align:"center",verticalAlign:"middle"}}:null;Li(t,Mr(o),{labelFetcher:_,labelDataIndex:m,defaultText:e},w);var S=t.getTextContent();if(S&&(LE(S).ignore=S.ignore,t.textConfig&&c)){var x=t.getBoundingRect().clone();t.textConfig.layoutRect=x,t.textConfig.position=[(c[0]-x.x)/x.width*100+"%",(c[1]-x.y)/x.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function _V(r,t,e,o,s,u){r.data?r.data.setItemGraphicEl(u,t):et(t).eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:e,region:o&&o.option||{}}}function wV(r,t,e,o,s){r.data||Fy({el:t,componentModel:s,itemName:e,itemTooltipOption:o.get("tooltip")})}function OE(r,t,e,o,s){t.highDownSilentOnTouch=!!s.get("selectedMode");var u=o.getModel("emphasis"),c=u.get("focus");return Jn(t,c,u.get("blurScope"),u.get("disabled")),r.isGeo&&function RG(r,t,e){var o=et(r);o.componentMainType=t.mainType,o.componentIndex=t.componentIndex,o.componentHighDownName=e}(t,s,e),c}function NE(r,t,e){var s,o=[];function u(){s=[]}function c(){s.length&&(o.push(s),s=[])}var f=t({polygonStart:u,polygonEnd:c,lineStart:u,lineEnd:c,point:function(d,v){isFinite(d)&&isFinite(v)&&s.push([d,v])},sphere:function(){}});return!e&&f.polygonStart(),H(r,function(d){f.lineStart();for(var v=0;v<d.length;v++)f.point(d[v][0],d[v][1]);f.lineEnd()}),!e&&f.polygonEnd(),o}const FE=u$;var BX=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s,u){if(!u||"mapToggleSelect"!==u.type||u.from!==this.uid){var c=this.group;if(c.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&u&&"geoRoam"===u.type&&this._mapDraw.resetForLabelLayout(),u&&"geoRoam"===u.type&&"series"===u.componentType&&u.seriesId===e.id)(f=this._mapDraw)&&c.add(f.group);else if(e.needsDrawMap){var f=this._mapDraw||new FE(s);c.add(f.group),f.draw(e,o,s,this,u),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(e,o,s)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,o,s){var u=e.originalData,c=this.group;u.each(u.mapDimension("value"),function(f,d){if(!isNaN(f)){var v=u.getItemLayout(d);if(v&&v.point){var g=v.point,m=v.offset,_=new rs({style:{fill:e.getData().getVisual("style").fill},shape:{cx:g[0]+9*m,cy:g[1],r:3},silent:!0,z2:8+(m?0:Ec+1)});if(!m){var w=e.mainSeries.getData(),S=u.getName(d),x=w.indexOfName(S),D=u.getItemModel(d),T=D.getModel("label"),A=w.getItemGraphicEl(x);Li(_,Mr(D),{labelFetcher:{getFormattedLabel:function(E,P){return e.getFormattedLabel(x,P)}},defaultText:S}),_.disableLabelAnimation=!0,T.get("position")||_.setTextConfig({position:"bottom"}),A.onHoverStateChange=function(E){Km(_,E)}}c.add(_)}}})},t.type="map",t}(vn);const c$=BX;var zX=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(o){if(null!=o){var s=this.getData().getName(o),u=this.coordinateSystem,c=u.getRegion(s);return c&&u.dataToPoint(c.getCenter())}},e}return ae(t,r),t.prototype.getInitialData=function(e){for(var o=sd(this,{coordDimensions:["value"],encodeDefaulter:Je(Tb,this)}),s=Re(),u=[],c=0,f=o.count();c<f;c++){var d=o.getName(c);s.set(d,!0)}return H(Uu.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(g){var m=g.name;s.get(m)||u.push(m)}),o.appendValues([],u),o},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var o=this.getData();return o.get(o.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var o=this.getData();return o.getItemModel(o.indexOfName(e))},t.prototype.formatTooltip=function(e,o,s){for(var u=this.getData(),c=this.getRawValue(e),f=u.getName(e),d=this.seriesGroup,v=[],g=0;g<d.length;g++){var m=d[g].originalData.indexOfName(f),_=u.mapDimension("value");isNaN(d[g].originalData.get(_,m))||v.push(d[g].name)}return Jr("section",{header:v.join(", "),noHeader:!v.length,blocks:[Jr("nameValue",{name:f,value:c})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var o=e.icon||"roundRect",s=ar(o,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return s.setStyle(e.itemStyle),s.style.stroke="none",o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),s},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Mn);const h$=zX;function SV(r){var t={};r.eachSeriesByType("map",function(e){var o=e.getHostGeoModel(),s=o?"o"+o.id:"i"+e.getMapType();(t[s]=t[s]||[]).push(e)}),H(t,function(e,o){for(var s=function bV(r,t){var e={};return H(r,function(o){o.each(o.mapDimension("value"),function(s,u){var c="ec-"+o.getName(u);e[c]=e[c]||[],isNaN(s)||e[c].push(s)})}),r[0].map(r[0].mapDimension("value"),function(o,s){for(var u="ec-"+r[0].getName(s),c=0,f=1/0,d=-1/0,v=e[u].length,g=0;g<v;g++)f=Math.min(f,e[u][g]),d=Math.max(d,e[u][g]),c+=e[u][g];return 0===v?NaN:"min"===t?f:"max"===t?d:"average"===t?c/v:c})}(me(e,function(c){return c.getData()}),e[0].get("mapValueCalculation")),u=0;u<e.length;u++)e[u].originalData=e[u].getData();for(u=0;u<e.length;u++)e[u].seriesGroup=e,e[u].needsDrawMap=0===u&&!e[u].getHostGeoModel(),e[u].setData(s.cloneShallow()),e[u].mainSeries=e[0]})}function ch(r){var t={};r.eachSeriesByType("map",function(e){var o=e.getMapType();if(!e.getHostGeoModel()&&!t[o]){var s={};H(e.seriesGroup,function(c){var f=c.coordinateSystem,d=c.originalData;c.get("showLegendSymbol")&&r.getComponent("legend")&&d.each(d.mapDimension("value"),function(v,g){var m=d.getName(g),_=f.getRegion(m);if(_&&!isNaN(v)){var w=s[m]||0,S=f.dataToPoint(_.getCenter());s[m]=w+1,d.setItemLayout(g,{point:S,offset:w})}})});var u=e.getData();u.each(function(c){var f=u.getName(c),d=u.getItemLayout(c)||{};d.showLabel=!s[f],u.setItemLayout(c,d)}),t[o]=!0}})}var CV=Or,f$=function(r){function t(e){var o=r.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new tu,o._rawTransformable=new tu,o.name=e,o}return ae(t,r),t.prototype.setBoundingRect=function(e,o,s,u){return this._rect=new Xe(e,o,s,u),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,o,s,u){this._transformTo(e,o,s,u),this._viewRect=new Xe(e,o,s,u)},t.prototype._transformTo=function(e,o,s,u){var c=this.getBoundingRect(),f=this._rawTransformable;f.transform=c.calculateTransform(new Xe(e,o,s,u));var d=f.parent;f.parent=null,f.decomposeTransform(),f.parent=d,this._updateTransform()},t.prototype.setCenter=function(e,o){e&&(this._center=[Ce(e[0],o.getWidth()),Ce(e[1],o.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var o=this.zoomLimit;o&&(null!=o.max&&(e=Math.min(o.max,e)),null!=o.min&&(e=Math.max(o.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,s=this.getDefaultCenter(),u=this.getCenter(),c=this.getZoom();u=Or([],u,e),s=Or([],s,e),o.originX=u[0],o.originY=u[1],o.x=s[0]-u[0],o.y=s[1]-u[1],o.scaleX=o.scaleY=c,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,o=this._rawTransformable;o.parent=e,e.updateTransform(),o.updateTransform(),Se(this.transform||(this.transform=[]),o.transform||[1,0,0,1,0,0]),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],Bo(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,o=this._roamTransformable,s=new tu;return s.transform=o.transform,s.decomposeTransform(),{roam:{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,o,s){var u=o?this._rawTransform:this.transform;return s=s||[],u?CV(s,e,u):gi(s,e)},t.prototype.pointToData=function(e){var o=this.invTransform;return o?CV([],e,o):[e[0],e[1]]},t.prototype.convertToPixel=function(e,o,s){var u=AC(o);return u===this?u.dataToPoint(s):null},t.prototype.convertFromPixel=function(e,o,s){var u=AC(o);return u===this?u.pointToData(s):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(tu);function AC(r){var t=r.seriesModel;return t?t.coordinateSystem:null}const Nv=f$;var HX={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},d$=["lng","lat"],p$=function(r){function t(e,o,s){var u=r.call(this,e)||this;u.dimensions=d$,u.type="geo",u._nameCoordMap=Re(),u.map=o;var _,c=s.projection,f=Uu.load(o,s.nameMap,s.nameProperty),d=Uu.getGeoResource(o),g=(u.resourceType=d?d.type:null,u.regions=f.regions),m=HX[d.type];if(u._regionsMap=f.regionsMap,u.regions=f.regions,u.projection=c,c)for(var w=0;w<g.length;w++){var S=g[w].getBoundingRect(c);(_=_||S.clone()).union(S)}else _=f.boundingRect;return u.setBoundingRect(_.x,_.y,_.width,_.height),u.aspectScale=c?1:Qe(s.aspectScale,m.aspectScale),u._invertLongitute=!c&&m.invertLongitute,u}return ae(t,r),t.prototype._transformTo=function(e,o,s,u){var c=this.getBoundingRect(),f=this._invertLongitute;c=c.clone(),f&&(c.y=-c.y-c.height);var d=this._rawTransformable;d.transform=c.calculateTransform(new Xe(e,o,s,u));var v=d.parent;d.parent=null,d.decomposeTransform(),d.parent=v,f&&(d.scaleY=-d.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var o=this.regions,s=0;s<o.length;s++){var u=o[s];if("geoJSON"===u.type&&u.contain(e))return o[s]}},t.prototype.addGeoCoord=function(e,o){this._nameCoordMap.set(e,o)},t.prototype.getGeoCoord=function(e){var o=this._regionsMap.get(e);return this._nameCoordMap.get(e)||o&&o.getCenter()},t.prototype.dataToPoint=function(e,o,s){if(xe(e)&&(e=this.getGeoCoord(e)),e){var u=this.projection;return u&&(e=u.project(e)),e&&this.projectedToPoint(e,o,s)}},t.prototype.pointToData=function(e){var o=this.projection;return o&&(e=o.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return r.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,o,s){return r.prototype.dataToPoint.call(this,e,o,s)},t.prototype.convertToPixel=function(e,o,s){var u=xV(o);return u===this?u.dataToPoint(s):null},t.prototype.convertFromPixel=function(e,o,s){var u=xV(o);return u===this?u.pointToData(s):null},t}(Nv);function xV(r){var t=r.geoModel,e=r.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",gr).models[0]||{}).coordinateSystem:null}Zn(p$,Nv);const v$=p$;function g$(r,t){var e=r.get("boundingCoords");if(null!=e){var o=e[0],s=e[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])){var u=this.projection;if(u){var c=o[0],f=o[1],d=s[0],v=s[1];o=[1/0,1/0],s=[-1/0,-1/0];var g=function(k,F,B,z){for(var j=B-k,W=z-F,q=0;q<=100;q++){var Y=q/100,K=u.project([k+j*Y,F+W*Y]);ca(o,o,K),Ga(s,s,K)}};g(c,f,d,f),g(d,f,d,v),g(d,v,c,v),g(c,v,d,f)}this.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1])}}var A,E,P,m=this.getBoundingRect(),_=r.get("layoutCenter"),w=r.get("layoutSize"),S=t.getWidth(),x=t.getHeight(),D=m.width/m.height*this.aspectScale,T=!1;if(_&&w&&(A=[Ce(_[0],S),Ce(_[1],x)],E=Ce(w,Math.min(S,x)),!isNaN(A[0])&&!isNaN(A[1])&&!isNaN(E)&&(T=!0)),T)P={},D>1?(P.width=E,P.height=E/D):(P.height=E,P.width=E*D),P.y=A[1]-P.height/2,P.x=A[0]-P.width/2;else{var N=r.getBoxLayoutParams();N.aspect=D,P=Ar(N,{width:S,height:x})}this.setViewRect(P.x,P.y,P.width,P.height),this.setCenter(r.get("center"),t),this.setZoom(r.get("zoom"))}var UX=function(){function r(){this.dimensions=d$}return r.prototype.create=function(t,e){var o=[];function s(c){return{nameProperty:c.get("nameProperty"),aspectScale:c.get("aspectScale"),projection:c.get("projection")}}t.eachComponent("geo",function(c,f){var d=c.get("map"),v=new v$(d+f,d,ce({nameMap:c.get("nameMap")},s(c)));v.zoomLimit=c.get("scaleLimit"),o.push(v),c.coordinateSystem=v,v.model=c,v.resize=g$,v.resize(c,e)}),t.eachSeries(function(c){if("geo"===c.get("coordinateSystem")){var d=c.get("geoIndex")||0;c.coordinateSystem=o[d]}});var u={};return t.eachSeriesByType("map",function(c){if(!c.getHostGeoModel()){var f=c.getMapType();u[f]=u[f]||[],u[f].push(c)}}),H(u,function(c,f){var d=me(c,function(g){return g.get("nameMap")}),v=new v$(f,f,ce({nameMap:uc(d)},s(c[0])));v.zoomLimit=$t.apply(null,me(c,function(g){return g.get("scaleLimit")})),o.push(v),v.resize=g$,v.resize(c[0],e),H(c,function(g){g.coordinateSystem=v,function GX(r,t){H(t.get("geoCoord"),function(e,o){r.addGeoCoord(o,e)})}(v,g)})}),o},r.prototype.getFilledRegions=function(t,e,o,s){for(var u=(t||[]).slice(),c=Re(),f=0;f<u.length;f++)c.set(u[f].name,u[f]);return H(Uu.load(e,o,s).regions,function(v){var g=v.name;!c.get(g)&&u.push({name:g})}),u},r}();const m$=new UX;var DV=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e,o,s){var u=Uu.getGeoResource(e.map);if(u&&"geoJSON"===u.type){var c=e.itemStyle=e.itemStyle||{};"color"in c||(c.color="#eee")}this.mergeDefaultAndTheme(e,s),Xa(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,o=this.option;o.regions=m$.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var s={};this._optionModelMap=Ei(o.regions||[],function(u,c){var f=c.name;return f&&(u.set(f,new Sn(c,e,e.ecModel)),c.selected&&(s[f]=!0)),u},Re()),o.selectedMap||(o.selectedMap=s)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Sn(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,o){var u=this.getRegionModel(e).get("normal"===o?["label","formatter"]:["emphasis","label","formatter"]),c={name:e};return Ne(u)?(c.status=o,u(c)):xe(u)?u.replace("{a}",e??""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var o=this.option,s=o.selectedMode;s&&("multiple"!==s&&(o.selectedMap=null),(o.selectedMap||(o.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var o=this.option.selectedMap;o&&(o[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var o=this.option.selectedMap;return!(!o||!o[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Lt);const y$=DV;function VE(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function EC(r,t,e,o){var s=r.getZoom(),u=r.getCenter(),c=t.zoom,f=r.projectedToPoint?r.projectedToPoint(u):r.dataToPoint(u);if(null!=t.dx&&null!=t.dy&&(f[0]-=t.dx,f[1]-=t.dy,r.setCenter(VE(r,f),o)),null!=c){if(e){var d=e.min||0;c=Math.max(Math.min(s*c,e.max||1/0),d)/s}r.scaleX*=c,r.scaleY*=c;var m=(t.originY-r.y)*(c-1);r.x-=(t.originX-r.x)*(c-1),r.y-=m,r.updateTransform(),r.setCenter(VE(r,f),o),r.setZoom(c*s)}return{center:r.getCenter(),zoom:r.getZoom()}}var WX=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return ae(t,r),t.prototype.init=function(e,o){this._api=o},t.prototype.render=function(e,o,s,u){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new FE(s));var c=this._mapDraw;c.draw(e,o,s,this,u),c.group.on("click",this._handleRegionClick,this),c.group.silent=e.get("silent"),this.group.add(c.group),this.updateSelectStatus(e,o,s)},t.prototype._handleRegionClick=function(e){var o;jf(e.target,function(s){return null!=(o=et(s).eventData)},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},t.prototype.updateSelectStatus=function(e,o,s){var u=this;this._mapDraw.group.traverse(function(c){var f=et(c).eventData;if(f)return u._model.isSelected(f.name)?s.enterSelect(c):s.leaveSelect(c),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Bn);const $X=WX;function qX(r,t,e){Uu.registerMap(r,t,e)}function _$(r){function t(e,o){o.update="geo:updateSelectStatus",r.registerAction(o,function(s,u){var c={},f=[];return u.eachComponent({mainType:"geo",query:s},function(d){d[e](s.name),H(d.coordinateSystem.regions,function(m){c[m.name]=d.isSelected(m.name)||!1});var g=[];H(c,function(m,_){c[_]&&g.push(_)}),f.push({geoIndex:d.componentIndex,name:g})}),{selected:c,allSelected:f,name:s.name}})}r.registerCoordinateSystem("geo",m$),r.registerComponentModel(y$),r.registerComponentView($X),r.registerImpl("registerMap",qX),r.registerImpl("getMap",function(e){return Uu.getMapForUser(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,o,s){var u=e.componentType||"series";o.eachComponent({mainType:u,query:e},function(c){var f=c.coordinateSystem;if("geo"===f.type){var d=EC(f,e,c.get("scaleLimit"),s);c.setCenter&&c.setCenter(d.center),c.setZoom&&c.setZoom(d.zoom),"series"===u&&H(c.seriesGroup,function(v){v.setCenter(d.center),v.setZoom(d.zoom)})}})})}function XX(r,t){var e=r.isExpand?r.children:[],o=r.parentNode.children,s=r.hierNode.i?o[r.hierNode.i-1]:null;if(e.length){!function MV(r){for(var t=r.children,e=t.length,o=0,s=0;--e>=0;){var u=t[e];u.hierNode.prelim+=o,u.hierNode.modifier+=o,o+=u.hierNode.shift+(s+=u.hierNode.change)}}(r);var u=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;s?(r.hierNode.prelim=s.hierNode.prelim+t(r,s),r.hierNode.modifier=r.hierNode.prelim-u):r.hierNode.prelim=u}else s&&(r.hierNode.prelim=s.hierNode.prelim+t(r,s));r.parentNode.hierNode.defaultAncestor=function S$(r,t,e,o){if(t){for(var s=r,u=r,c=u.parentNode.children[0],f=t,d=s.hierNode.modifier,v=u.hierNode.modifier,g=c.hierNode.modifier,m=f.hierNode.modifier;f=BE(f),u=zE(u),f&&u;){s=BE(s),c=zE(c),s.hierNode.ancestor=r;var _=f.hierNode.prelim+m-u.hierNode.prelim-v+o(f,u);_>0&&(AV(HE(f,r,e),r,_),v+=_,d+=_),m+=f.hierNode.modifier,v+=u.hierNode.modifier,d+=s.hierNode.modifier,g+=c.hierNode.modifier}f&&!BE(s)&&(s.hierNode.thread=f,s.hierNode.modifier+=m-d),u&&!zE(c)&&(c.hierNode.thread=u,c.hierNode.modifier+=v-g,e=r)}return e}(r,s,r.parentNode.hierNode.defaultAncestor||o[0],t)}function w$(r){r.setLayout({x:r.hierNode.prelim+r.parentNode.hierNode.modifier},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function TV(r){return arguments.length?r:GE}function L0(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function BE(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function zE(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function HE(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function AV(r,t,e){var o=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=o,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=o}function GE(r,t){return r.parentNode===t.parentNode?1:2}var EV=function r(){this.parentPoint=[],this.childPoints=[]},dd=function(r){function t(e){return r.call(this,e)||this}return ae(t,r),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new EV},t.prototype.buildPath=function(e,o){var s=o.childPoints,u=s.length,c=o.parentPoint,f=s[0],d=s[u-1];if(1===u)return e.moveTo(c[0],c[1]),void e.lineTo(f[0],f[1]);var v=o.orient,g="TB"===v||"BT"===v?0:1,m=1-g,_=Ce(o.forkPosition,1),w=[];w[g]=c[g],w[m]=c[m]+(d[m]-c[m])*_,e.moveTo(c[0],c[1]),e.lineTo(w[0],w[1]),e.moveTo(f[0],f[1]),w[g]=f[g],e.lineTo(w[0],w[1]),w[g]=d[g],e.lineTo(w[0],w[1]),e.lineTo(d[0],d[1]);for(var S=1;S<u-1;S++){var x=s[S];e.moveTo(x[0],x[1]),w[g]=x[g],e.lineTo(w[0],w[1])}},t}(mt),hl=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Ze,e}return ae(t,r),t.prototype.init=function(e,o){this._controller=new xC(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,o,s){var u=e.getData(),c=e.layoutInfo,f=this._mainGroup;"radial"===e.get("layout")?(f.x=c.x+c.width/2,f.y=c.y+c.height/2):(f.x=c.x,f.y=c.y),this._updateViewCoordSys(e,s),this._updateController(e,o,s);var v=this._data;u.diff(v).add(function(g){IV(u,g)&&UE(u,g,null,f,e)}).update(function(g,m){var _=v.getItemGraphicEl(m);IV(u,g)?UE(u,g,_,f,e):_&&hh(v,m,_,f,e)}).remove(function(g){var m=v.getItemGraphicEl(g);m&&hh(v,g,m,f,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&u.eachItemGraphicEl(function(g,m){g.off("click").on("click",function(){s.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:m})})}),this._data=u},t.prototype._updateViewCoordSys=function(e,o){var s=e.getData(),u=[];s.each(function(m){var _=s.getItemLayout(m);_&&!isNaN(_.x)&&!isNaN(_.y)&&u.push([+_.x,+_.y])});var c=[],f=[];eb(u,c,f);var d=this._min,v=this._max;f[0]-c[0]==0&&(c[0]=d?d[0]:c[0]-1,f[0]=v?v[0]:f[0]+1),f[1]-c[1]==0&&(c[1]=d?d[1]:c[1]-1,f[1]=v?v[1]:f[1]+1);var g=e.coordinateSystem=new Nv;g.zoomLimit=e.get("scaleLimit"),g.setBoundingRect(c[0],c[1],f[0]-c[0],f[1]-c[1]),g.setCenter(e.get("center"),o),g.setZoom(e.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=c,this._max=f},t.prototype._updateController=function(e,o,s){var u=this,c=this._controller,f=this._controllerHost,d=this.group;c.setPointerChecker(function(v,g,m){var _=d.getBoundingRect();return _.applyTransform(d.transform),_.contain(g,m)&&!DC(v,s,e)}),c.enable(e.get("roam")),f.zoomLimit=e.get("scaleLimit"),f.zoom=e.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(v){cV(f,v.dx,v.dy),s.dispatchAction({seriesId:e.id,type:"treeRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){vE(f,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),u._updateNodeAndLinkScale(e),s.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var o=e.getData(),s=this._getNodeGlobalScale(e);o.eachItemGraphicEl(function(u,c){u.setSymbolScale(s)})},t.prototype._getNodeGlobalScale=function(e){var o=e.coordinateSystem;if("view"!==o.type)return 1;var s=this._nodeScaleRatio,u=o.scaleX||1;return((o.getZoom()-1)*s+1)/u},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(vn);function IV(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function UE(r,t,e,o,s){var u=!e,c=r.tree.getNodeByDataIndex(t),f=c.getModel(),d=c.getVisual("style").fill,v=!1===c.isExpand&&0!==c.children.length?d:"#fff",g=r.tree.root,m=c.parentNode===g?c:c.parentNode||c,_=r.getItemGraphicEl(m.dataIndex),w=m.getLayout(),S=_?{x:_.__oldX,y:_.__oldY,rawX:_.__radialOldRawX,rawY:_.__radialOldRawY}:w,x=c.getLayout();u?((e=new Av(r,t,null,{symbolInnerColor:v,useNameLabel:!0})).x=S.x,e.y=S.y):e.updateData(r,t,null,{symbolInnerColor:v,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=x.rawX,e.__radialRawY=x.rawY,o.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Yt(e,{x:x.x,y:x.y},s);var D=e.getSymbolPath();if("radial"===s.get("layout")){var T=g.children[0],A=T.getLayout(),E=T.children.length,P=void 0,N=void 0;if(x.x===A.x&&!0===c.isExpand&&T.children.length){var k={x:(T.children[0].getLayout().x+T.children[E-1].getLayout().x)/2,y:(T.children[0].getLayout().y+T.children[E-1].getLayout().y)/2};(P=Math.atan2(k.y-A.y,k.x-A.x))<0&&(P=2*Math.PI+P),(N=k.x<A.x)&&(P-=Math.PI)}else(P=Math.atan2(x.y-A.y,x.x-A.x))<0&&(P=2*Math.PI+P),0===c.children.length||0!==c.children.length&&!1===c.isExpand?(N=x.x<A.x)&&(P-=Math.PI):(N=x.x>A.x)||(P-=Math.PI);var F=N?"left":"right",B=f.getModel("label"),z=B.get("rotate"),j=z*(Math.PI/180),W=D.getTextContent();W&&(D.setTextConfig({position:B.get("position")||F,rotation:null==z?-P:j,origin:"center"}),W.setStyle("verticalAlign","middle"))}var q=f.get(["emphasis","focus"]),Y="relative"===q?hc(c.getAncestorsIndices(),c.getDescendantIndices()):"ancestor"===q?c.getAncestorsIndices():"descendant"===q?c.getDescendantIndices():null;Y&&(et(e).focus=Y),function C$(r,t,e,o,s,u,c,f){var d=t.getModel(),v=r.get("edgeShape"),g=r.get("layout"),m=r.getOrient(),_=r.get(["lineStyle","curveness"]),w=r.get("edgeForkPosition"),S=d.getModel("lineStyle").getLineStyle(),x=o.__edge;if("curve"===v)t.parentNode&&t.parentNode!==e&&(x||(x=o.__edge=new Un({shape:fl(g,m,_,s,s)})),Yt(x,{shape:fl(g,m,_,u,c)},r));else if("polyline"===v&&"orthogonal"===g&&t!==e&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var D=t.children,T=[],A=0;A<D.length;A++){var E=D[A].getLayout();T.push([E.x,E.y])}x||(x=o.__edge=new dd({shape:{parentPoint:[c.x,c.y],childPoints:[[c.x,c.y]],orient:m,forkPosition:w}})),Yt(x,{shape:{parentPoint:[c.x,c.y],childPoints:T}},r)}x&&("polyline"!==v||t.isExpand)&&(x.useStyle(Ve({strokeNoScale:!0,fill:null},S)),Si(x,d,"lineStyle"),Ic(x),f.add(x))}(s,c,g,e,S,w,x,o),e.__edge&&(e.onHoverStateChange=function(K){if("blur"!==K){var Q=c.parentNode&&r.getItemGraphicEl(c.parentNode.dataIndex);Q&&Q.hoverState===Zm||Km(e.__edge,K)}})}function PV(r,t,e,o,s){var c=LV(t.tree.root,r),f=c.source,d=c.sourceLayout,v=t.getItemGraphicEl(r.dataIndex);if(v){var g=t.getItemGraphicEl(f.dataIndex),_=v.__edge||(!1===f.isExpand||1===f.children.length?g.__edge:void 0),w=o.get("edgeShape"),S=o.get("layout"),x=o.get("orient"),D=o.get(["lineStyle","curveness"]);_&&("curve"===w?es(_,{shape:fl(S,x,D,d,d),style:{opacity:0}},o,{cb:function(){e.remove(_)},removeOpt:s}):"polyline"===w&&"orthogonal"===o.get("layout")&&es(_,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},o,{cb:function(){e.remove(_)},removeOpt:s}))}}function LV(r,t){for(var o,e=t.parentNode===r?t:t.parentNode||t;null==(o=e.getLayout());)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:o}}function hh(r,t,e,o,s){var u=r.tree.getNodeByDataIndex(t),f=LV(r.tree.root,u).sourceLayout,d={duration:s.get("animationDurationUpdate"),easing:s.get("animationEasingUpdate")};es(e,{x:f.x+1,y:f.y+1},s,{cb:function(){o.remove(e),r.setItemGraphicEl(t,null)},removeOpt:d}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:d}),u.children.forEach(function(v){PV(v,r,o,s,d)}),PV(u,r,o,s,d)}function fl(r,t,e,o,s){var u,c,f,d,v,g,m,_;if("radial"===r){g=s.rawX,_=s.rawY;var w=L0(v=o.rawX,m=o.rawY),S=L0(v,m+(_-m)*e),x=L0(g,_+(m-_)*e),D=L0(g,_);return{x1:w.x||0,y1:w.y||0,x2:D.x||0,y2:D.y||0,cpx1:S.x||0,cpy1:S.y||0,cpx2:x.x||0,cpy2:x.y||0}}return v=o.x,m=o.y,g=s.x,_=s.y,("LR"===t||"RL"===t)&&(u=v+(g-v)*e,c=m,f=g+(v-g)*e,d=_),("TB"===t||"BT"===t)&&(u=v,c=m+(_-m)*e,f=g,d=_+(m-_)*e),{x1:v,y1:m,x2:g,y2:_,cpx1:u,cpy1:c,cpx2:f,cpy2:d}}const RV=hl;var Hn=zt();function x$(r,t){if(function FV(r){return Hn(r).mainData===r}(this)){var e=ce({},Hn(this).datas);e[this.dataType]=t,jE(t,e,r)}else IC(t,this.dataType,Hn(this).mainData,r);return t}function Ra(r,t){return r.struct&&r.struct.update(),t}function kV(r,t){return H(Hn(t).datas,function(e,o){e!==t&&IC(e.cloneShallow(),o,t,r)}),t}function OV(r){var t=Hn(this).mainData;return null==r||null==t?t:Hn(t).datas[r]}function NV(){var r=Hn(this).mainData;return null==r?[{data:r}]:me(pt(Hn(r).datas),function(t){return{type:t,data:Hn(r).datas[t]}})}function jE(r,t,e){Hn(r).datas={},H(t,function(o,s){IC(o,s,r,e)})}function IC(r,t,e,o){Hn(e).datas[t]=r,Hn(r).mainData=e,r.dataType=t,o.struct&&(r[o.structAttr]=o.struct,o.struct[o.datasAttr[t]]=r),r.getLinkedData=OV,r.getLinkedDataAll=NV}const WE=function fh(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,jE(t,e,r),H(e,function(o){H(t.TRANSFERABLE_METHODS,function(s){o.wrapMethod(s,Je(x$,r))})}),t.wrapMethod("cloneShallow",Je(kV,r)),H(t.CHANGABLE_METHODS,function(o){t.wrapMethod(o,Je(Ra,r))}),_n(e[t.dataType]===t)};var VV=function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,o){Ne(t)&&(o=e,e=t,t=null),xe(t=t||{})&&(t={order:t});var c,s=t.order||"preorder",u=this[t.attr||"children"];"preorder"===s&&(c=e.call(o,this));for(var f=0;!c&&f<u.length;f++)u[f].eachNode(t,e,o);"postorder"===s&&e.call(o,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var o=0;o<this.children.length;o++){var s=this.children[o];s.updateDepthAndHeight(t+1),s.height>e&&(e=s.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,o=this.children,s=o.length;e<s;e++){var u=o[e].getNodeById(t);if(u)return u}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,o=this.children,s=o.length;e<s;e++){var u=o[e].contains(t);if(u)return u}},r.prototype.getAncestors=function(t){for(var e=[],o=t?this:this.parentNode;o;)e.push(o),o=o.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r}(),PC=function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,o){this.root.eachNode(t,e,o)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,o=0,s=e.length;o<s;o++)e[o].dataIndex=-1;for(o=0,s=t.count();o<s;o++)e[t.getRawIndex(o)].dataIndex=o},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,o){var s=new r(e),u=[],c=1;!function f(g,m){var _=g.value;c=Math.max(c,ge(_)?_.length:1),u.push(g);var w=new VV(vr(g.name,""),s);m?function BV(r,t){r.parentNode!==t&&(t.children.push(r),r.parentNode=t)}(w,m):s.root=w,s._nodes.push(w);var S=g.children;if(S)for(var x=0;x<S.length;x++)f(S[x],w)}(t),s.root.updateDepthAndHeight(0);var d=_v(u,{coordDimensions:["value"],dimensionsCount:c}).dimensions,v=new oo(d,e);return v.initData(u),o&&o(v),WE({mainData:v,struct:s,structAttr:"tree"}),s.update(),s},r}();const LC=PC;function Fv(r,t,e){if(r&&ot(t,r.type)>=0){var o=e.getData().tree.root,s=r.targetNode;if(xe(s)&&(s=o.getNodeById(s)),s&&o.contains(s))return{node:s};var u=r.targetNodeId;if(null!=u&&(s=o.getNodeById(u)))return{node:s}}}function $E(r){for(var t=[];r;)(r=r.parentNode)&&t.push(r);return t.reverse()}function qE(r,t){return ot($E(r),t)>=0}function R0(r,t){for(var e=[];r;){var o=r.dataIndex;e.push({name:r.name,dataIndex:o,value:t.getRawValue(o)}),r=r.parentNode}return e.reverse(),e}var zV=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return ae(t,r),t.prototype.getInitialData=function(e){var o={name:e.name,children:e.data},u=new Sn(e.leaves||{},this,this.ecModel),c=LC.createTree(o,this,function f(m){m.wrapMethod("getItemModel",function(_,w){var S=c.getNodeByDataIndex(w);return S&&S.children.length&&S.isExpand||(_.parentModel=u),_})}),d=0;c.eachNode("preorder",function(m){m.depth>d&&(d=m.depth)});var g=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:d;return c.root.eachNode("preorder",function(m){var _=m.hostTree.data.getRawDataItem(m.dataIndex);m.isExpand=_&&null!=_.collapsed?!_.collapsed:m.depth<=g}),c.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,o,s){for(var u=this.getData().tree,c=u.root.children[0],f=u.getNodeByDataIndex(e),d=f.getValue(),v=f.name;f&&f!==c;)v=f.parentNode.name+"."+v,f=f.parentNode;return Jr("nameValue",{name:v,value:d,noValue:isNaN(d)||null==d})},t.prototype.getDataParams=function(e){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=R0(s,this),o.collapsed=!s.isExpand,o},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Mn);const ZE=zV;function pd(r,t){for(var o,e=[r];o=e.pop();)if(t(o),o.isExpand){var s=o.children;if(s.length)for(var u=s.length-1;u>=0;u--)e.push(s[u])}}function GV(r,t){r.eachSeriesByType("tree",function(e){!function UV(r,t){var e=function b$(r,t){return Ar(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(r,t);r.layoutInfo=e;var o=r.get("layout"),s=0,u=0,c=null;"radial"===o?(s=2*Math.PI,u=Math.min(e.height,e.width)/2,c=TV(function(E,P){return(E.parentNode===P.parentNode?1:2)/E.depth})):(s=e.width,u=e.height,c=TV());var f=r.getData().tree.root,d=f.children[0];if(d){(function YX(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var o,s,e=[t];o=e.pop();)if(s=o.children,o.isExpand&&s.length)for(var c=s.length-1;c>=0;c--){var f=s[c];f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:c,thread:null},e.push(f)}})(f),function HV(r,t,e){for(var u,o=[r],s=[];u=o.pop();)if(s.push(u),u.isExpand){var c=u.children;if(c.length)for(var f=0;f<c.length;f++)o.push(c[f])}for(;u=s.pop();)t(u,e)}(d,XX,c),f.hierNode.modifier=-d.hierNode.prelim,pd(d,w$);var v=d,g=d,m=d;pd(d,function(E){var P=E.getLayout().x;P<v.getLayout().x&&(v=E),P>g.getLayout().x&&(g=E),E.depth>m.depth&&(m=E)});var _=v===g?1:c(v,g)/2,w=_-v.getLayout().x,S=0,x=0,D=0,T=0;if("radial"===o)S=s/(g.getLayout().x+_+w),x=u/(m.depth-1||1),pd(d,function(E){var P=L0(D=(E.getLayout().x+w)*S,T=(E.depth-1)*x);E.setLayout({x:P.x,y:P.y,rawX:D,rawY:T},!0)});else{var A=r.getOrient();"RL"===A||"LR"===A?(x=u/(g.getLayout().x+_+w),S=s/(m.depth-1||1),pd(d,function(E){T=(E.getLayout().x+w)*x,E.setLayout({x:D="LR"===A?(E.depth-1)*S:s-(E.depth-1)*S,y:T},!0)})):("TB"===A||"BT"===A)&&(S=s/(g.getLayout().x+_+w),x=u/(m.depth-1||1),pd(d,function(E){D=(E.getLayout().x+w)*S,E.setLayout({x:D,y:T="TB"===A?(E.depth-1)*x:u-(E.depth-1)*x},!0)}))}}}(e,t)})}function jV(r){r.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(s){var c=s.getModel().getModel("itemStyle").getItemStyle();ce(e.ensureUniqueItemVisual(s.dataIndex,"style"),c)})})}var XE=["treemapZoomToNode","treemapRender","treemapMove"];function KE(r){var t=r.getData(),o={};t.tree.eachNode(function(s){for(var u=s;u&&u.depth>1;)u=u.parentNode;var c=mr(r.ecModel,u.name||u.dataIndex+"",o);s.setVisual("decal",c)})}var so=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return ae(t,r),t.prototype.getInitialData=function(e,o){var s={name:e.name,children:e.data};ju(s);var u=e.levels||[],c=this.designatedVisualItemStyle={},f=new Sn({itemStyle:c},this,o);u=e.levels=function $V(r,t){var e=nn(t.get("color")),o=nn(t.get(["aria","decal","decals"]));if(e){var s,u;H(r=r||[],function(f){var d=new Sn(f),v=d.get("color"),g=d.get("decal");(d.get(["itemStyle","color"])||v&&"none"!==v)&&(s=!0),(d.get(["itemStyle","decal"])||g&&"none"!==g)&&(u=!0)});var c=r[0]||(r[0]={});return s||(c.color=e.slice()),!u&&o&&(c.decal=o.slice()),r}}(u,o);var d=me(u||[],function(m){return new Sn(m,f,o)},this),v=LC.createTree(s,this,function g(m){m.wrapMethod("getItemModel",function(_,w){var S=v.getNodeByDataIndex(w);return _.parentModel=(S?d[S.depth]:null)||f,_})});return v.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,o,s){var u=this.getData(),c=this.getRawValue(e);return Jr("nameValue",{name:u.getName(e),value:c})},t.prototype.getDataParams=function(e){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=R0(s,this),o.treePathInfo=o.treeAncestors,o},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},ce(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var o=this._idIndexMap;o||(o=this._idIndexMap=Re(),this._idIndexMapCount=0);var s=o.get(e);return null==s&&o.set(e,s=this._idIndexMapCount++),s},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;(!e||e!==o&&!o.contains(e))&&(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){KE(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Mn);function ju(r){var t=0;H(r.children,function(o){ju(o);var s=o.value;ge(s)&&(s=s[0]),t+=s});var e=r.value;ge(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),ge(r.value)?r.value[0]=e:r.value=e}const KX=so;var QE=function(){function r(t){this.group=new Ze,t.add(this.group)}return r.prototype.render=function(t,e,o,s){var u=t.getModel("breadcrumb"),c=this.group;if(c.removeAll(),u.get("show")&&o){var f=u.getModel("itemStyle"),d=u.getModel("emphasis"),v=f.getModel("textStyle"),g=d.getModel(["itemStyle","textStyle"]),m={pos:{left:u.get("left"),right:u.get("right"),top:u.get("top"),bottom:u.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:u.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,m,v),this._renderContent(t,m,f,d,v,g,s),Mf(c,m.pos,m.box)}},r.prototype._prepare=function(t,e,o){for(var s=t;s;s=s.parentNode){var u=vr(s.getModel().get("name"),""),c=o.getTextRect(u),f=Math.max(c.width+16,e.emptyItemWidth);e.totalWidth+=f+8,e.renderList.push({node:s,text:u,width:f})}},r.prototype._renderContent=function(t,e,o,s,u,c,f){for(var d=0,v=e.emptyItemWidth,g=t.get(["breadcrumb","height"]),m=function sY(r,t,e){var o=t.width,s=t.height,u=Ce(r.left,o),c=Ce(r.top,s),f=Ce(r.right,o),d=Ce(r.bottom,s);return(isNaN(u)||isNaN(parseFloat(r.left)))&&(u=0),(isNaN(f)||isNaN(parseFloat(r.right)))&&(f=o),(isNaN(c)||isNaN(parseFloat(r.top)))&&(c=0),(isNaN(d)||isNaN(parseFloat(r.bottom)))&&(d=s),e=yu(e||0),{width:Math.max(f-u-e[1]-e[3],0),height:Math.max(d-c-e[0]-e[2],0)}}(e.pos,e.box),_=e.totalWidth,w=e.renderList,S=s.getModel("itemStyle").getItemStyle(),x=w.length-1;x>=0;x--){var D=w[x],T=D.node,A=D.width,E=D.text;_>m.width&&(_-=A-v,A=v,E=null);var P=new to({shape:{points:kC(d,0,A,g,x===w.length-1,0===x)},style:Ve(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new Nt({style:gn(u,{text:E})}),textConfig:{position:"inside"},z2:1e4*Ec,onclick:Je(f,T)});P.disableLabelAnimation=!0,P.getTextContent().ensureState("emphasis").style=gn(c,{text:E}),P.ensureState("emphasis").style=S,Jn(P,s.get("focus"),s.get("blurScope"),s.get("disabled")),this.group.add(P),D$(P,t,T),d+=A+8}},r.prototype.remove=function(){this.group.removeAll()},r}();function kC(r,t,e,o,s,u){var c=[[s?r:r-5,t],[r+e,t],[r+e,t+o],[s?r:r-5,t+o]];return!u&&c.splice(2,0,[r+e+5,t+o/2]),!s&&c.push([r,t+o/2]),c}function D$(r,t,e){et(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&R0(e,t)}}const JE=QE;var T$=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,o,s,u){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:o,delay:s,easing:u}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,o=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},s=0,u=this._storage.length;s<u;s++){var c=this._storage[s];c.el.animateTo(c.target,{duration:c.duration,delay:c.delay,easing:c.easing,setToFinal:!0,done:o,aborted:o})}return this},r}(),qV=Ze,M$=Ot,I$="upperLabel",eK=10*Ec,P$=2*Ec,ZV=3*Ec,Bv=xc([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),L$=function(r){var t=Bv(r);return t.stroke=t.fill=t.lineWidth=null,t},eI=zt(),k0=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return ae(t,r),t.prototype.render=function(e,o,s,u){if(!(ot(o.findComponents({mainType:"series",subType:"treemap",query:u}),e)<0)){this.seriesModel=e,this.api=s,this.ecModel=o;var d=Fv(u,["treemapZoomToNode","treemapRootToNode"],e),v=u&&u.type,g=e.layoutInfo,m=!this._oldTree,_=this._storage,w="treemapRootToNode"===v&&d&&_?{rootNodeGroup:_.nodeGroup[d.node.getRawIndex()],direction:u.direction}:null,S=this._giveContainerGroup(g),x=e.get("animation"),D=this._doRender(S,e,w);!x||m||v&&"treemapZoomToNode"!==v&&"treemapRootToNode"!==v?D.renderFinally():this._doAnimation(S,D,e,w),this._resetController(s),this._renderBreadcrumb(e,s,d)}},t.prototype._giveContainerGroup=function(e){var o=this._containerGroup;return o||(o=this._containerGroup=new qV,this._initEvents(o),this.group.add(o)),o.x=e.x,o.y=e.y,o},t.prototype._doRender=function(e,o,s){var u=o.getData().tree,c=this._oldTree,f={nodeGroup:[],background:[],content:[]},d={nodeGroup:[],background:[],content:[]},v=this._storage,g=[];function m(D,T,A,E){return function zv(r,t,e,o,s,u,c,f,d,v){if(c){var g=c.getLayout(),m=r.getData(),_=c.getModel();if(m.setItemGraphicEl(c.dataIndex,null),g&&g.isInView){var w=g.width,S=g.height,x=g.borderWidth,D=g.invisible,T=c.getRawIndex(),A=f&&f.getRawIndex(),E=c.viewChildren,P=g.upperHeight,N=E&&E.length,k=_.getModel("itemStyle"),F=_.getModel(["emphasis","itemStyle"]),B=_.getModel(["blur","itemStyle"]),z=_.getModel(["select","itemStyle"]),j=k.get("borderRadius")||0,W=We("nodeGroup",qV);if(W){if(d.add(W),W.x=g.x||0,W.y=g.y||0,W.markRedraw(),eI(W).nodeWidth=w,eI(W).nodeHeight=S,g.isAboveViewRoot)return W;var q=We("background",M$,v,P$);q&&function de(yt,Ke,_t){var st=et(Ke);if(st.dataIndex=c.dataIndex,st.seriesIndex=r.seriesIndex,Ke.setShape({x:0,y:0,width:w,height:S,r:j}),D)De(Ke);else{Ke.invisible=!1;var Be=c.getVisual("style"),lt=Be.stroke,$n=L$(k);$n.fill=lt;var Xt=Bv(F);Xt.fill=F.get("borderColor");var lr=Bv(B);lr.fill=B.get("borderColor");var ur=Bv(z);ur.fill=z.get("borderColor"),_t?Fe(Ke,lt,Be.opacity,{x,y:0,width:w-2*x,height:P}):Ke.removeTextContent(),Ke.setStyle($n),Ke.ensureState("emphasis").style=Xt,Ke.ensureState("blur").style=lr,Ke.ensureState("select").style=ur,Ic(Ke)}yt.add(Ke)}(W,q,N&&g.upperLabelHeight);var Y=_.getModel("emphasis"),K=Y.get("focus"),Q=Y.get("blurScope"),re=Y.get("disabled"),le="ancestor"===K?c.getAncestorsIndices():"descendant"===K?c.getDescendantIndices():K;if(N)Ao(W)&&Kr(W,!1),q&&(Kr(q,!re),m.setItemGraphicEl(c.dataIndex,q),uT(q,le,Q));else{var se=We("content",M$,v,ZV);se&&function be(yt,Ke){var _t=et(Ke);_t.dataIndex=c.dataIndex,_t.seriesIndex=r.seriesIndex;var st=Math.max(w-2*x,0),Be=Math.max(S-2*x,0);if(Ke.culling=!0,Ke.setShape({x,y:x,width:st,height:Be,r:j}),D)De(Ke);else{Ke.invisible=!1;var lt=c.getVisual("style"),$n=lt.fill,Xt=L$(k);Xt.fill=$n,Xt.decal=lt.decal;var lr=Bv(F),ur=Bv(B),Hi=Bv(z);Fe(Ke,$n,lt.opacity,null),Ke.setStyle(Xt),Ke.ensureState("emphasis").style=lr,Ke.ensureState("blur").style=ur,Ke.ensureState("select").style=Hi,Ic(Ke)}yt.add(Ke)}(W,se),q.disableMorphing=!0,q&&Ao(q)&&Kr(q,!1),Kr(W,!re),m.setItemGraphicEl(c.dataIndex,W),uT(W,le,Q)}return W}}}function De(yt){!yt.invisible&&u.push(yt)}function Fe(yt,Ke,_t,st){var Be=_.getModel(st?I$:"label"),lt=vr(_.get("name"),null),$n=Be.getShallow("show");Li(yt,Mr(_,st?I$:"label"),{defaultText:$n?lt:null,inheritColor:Ke,defaultOpacity:_t,labelFetcher:r,labelDataIndex:c.dataIndex});var Xt=yt.getTextContent();if(Xt){var lr=Xt.style,ur=Fl(lr.padding||0);st&&(yt.setTextConfig({layoutRect:st}),Xt.disableLabelLayout=!0),Xt.beforeUpdate=function(){var Rh=Math.max((st?st.width:yt.shape.width)-ur[1]-ur[3],0),co=Math.max((st?st.height:yt.shape.height)-ur[0]-ur[2],0);(lr.width!==Rh||lr.height!==co)&&Xt.setStyle({width:Rh,height:co})},lr.truncateMinChar=2,lr.lineOverflow="truncate",$e(lr,st,g);var Hi=Xt.getState("emphasis");$e(Hi?Hi.style:null,st,g)}}function $e(yt,Ke,_t){var st=yt?yt.text:null;if(!Ke&&_t.isLeafRoot&&null!=st){var Be=r.get("drillDownIcon",!0);yt.text=Be?Be+" "+st:st}}function We(yt,Ke,_t,st){var Be=null!=A&&e[yt][A],lt=s[yt];return Be?(e[yt][A]=null,function dt(yt,Ke){var _t=yt[T]={};Ke instanceof qV?(_t.oldX=Ke.x,_t.oldY=Ke.y):_t.oldShape=ce({},Ke.shape)}(lt,Be)):D||((Be=new Ke)instanceof ya&&(Be.z2=function O0(r,t){return r*eK+t}(_t,st)),function Rt(yt,Ke){var _t=yt[T]={},st=c.parentNode,Be=Ke instanceof Ze;if(st&&(!o||"drillDown"===o.direction)){var lt=0,$n=0,Xt=s.background[st.getRawIndex()];!o&&Xt&&Xt.oldShape&&(lt=Xt.oldShape.width,$n=Xt.oldShape.height),Be?(_t.oldX=0,_t.oldY=$n):_t.oldShape={x:lt,y:$n,width:0,height:0}}_t.fadein=!Be}(lt,Be)),t[yt][T]=Be}}(o,d,v,s,f,g,D,T,A,E)}!function w(D,T,A,E,P){function N(F){return F.getId()}function k(F,B){var z=null!=F?D[F]:null,j=null!=B?T[B]:null,W=m(z,j,A,P);W&&w(z&&z.viewChildren||[],j&&j.viewChildren||[],W,E,P+1)}E?(T=D,H(D,function(F,B){!F.isRemoved()&&k(B,B)})):new Ru(T,D,N,N).add(k).update(k).remove(Je(k,null)).execute()}(u.root?[u.root]:[],c&&c.root?[c.root]:[],e,u===c||!c,0);var _=function S(D){var T={nodeGroup:[],background:[],content:[]};return D&&H(D,function(A,E){var P=T[E];H(A,function(N){N&&(P.push(N),eI(N).willDelete=!0)})}),T}(v);return this._oldTree=u,this._storage=d,{lastsForAnimation:f,willDeleteEls:_,renderFinally:function x(){H(_,function(D){H(D,function(T){T.parent&&T.parent.remove(T)})}),H(g,function(D){D.invisible=!0,D.dirty()})}}},t.prototype._doAnimation=function(e,o,s,u){var c=s.get("animationDurationUpdate"),f=s.get("animationEasing"),d=(Ne(c)?0:c)||0,v=(Ne(f)?null:f)||"cubicOut",g=function JX(){return new T$}();H(o.willDeleteEls,function(m,_){H(m,function(w,S){if(!w.invisible){var D,x=w.parent,T=eI(x);if(u&&"drillDown"===u.direction)D=x===u.rootNodeGroup?{shape:{x:0,y:0,width:T.nodeWidth,height:T.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var A=0,E=0;T.willDelete||(A=T.nodeWidth/2,E=T.nodeHeight/2),D="nodeGroup"===_?{x:A,y:E,style:{opacity:0}}:{shape:{x:A,y:E,width:0,height:0},style:{opacity:0}}}D&&g.add(w,D,d,0,v)}})}),H(this._storage,function(m,_){H(m,function(w,S){var x=o.lastsForAnimation[_][S],D={};x&&(w instanceof Ze?null!=x.oldX&&(D.x=w.x,D.y=w.y,w.x=x.oldX,w.y=x.oldY):(x.oldShape&&(D.shape=ce({},w.shape),w.setShape(x.oldShape)),x.fadein?(w.setStyle("opacity",0),D.style={opacity:1}):1!==w.style.opacity&&(D.style={opacity:1})),g.add(w,D,d,0,v))})},this),this._state="animating",g.finished(Me(function(){this._state="ready",o.renderFinally()},this)).start()},t.prototype._resetController=function(e){var o=this._controller;o||((o=this._controller=new xC(e.getZr())).enable(this.seriesModel.get("roam")),o.on("pan",Me(this._onPan,this)),o.on("zoom",Me(this._onZoom,this)));var s=new Xe(0,0,e.getWidth(),e.getHeight());o.setPointerChecker(function(u,c,f){return s.contain(c,f)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x+e.dx,y:s.y+e.dy,width:s.width,height:s.height}})}},t.prototype._onZoom=function(e){var o=e.originX,s=e.originY;if("animating"!==this._state){var u=this.seriesModel.getData().tree.root;if(!u)return;var c=u.getLayout();if(!c)return;var f=new Xe(c.x,c.y,c.width,c.height),d=this.seriesModel.layoutInfo,v=[1,0,0,1,0,0];Ie(v,v,[-(o-=d.x),-(s-=d.y)]),Fs(v,v,[e.scale,e.scale]),Ie(v,v,[o,s]),f.applyTransform(v),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},t.prototype._initEvents=function(e){var o=this;e.on("click",function(s){if("ready"===o._state){var u=o.seriesModel.get("nodeClick",!0);if(u){var c=o.findTarget(s.offsetX,s.offsetY);if(c){var f=c.node;if(f.getLayout().isLeafRoot)o._rootToNode(c);else if("zoomToNode"===u)o._zoomToNode(c);else if("link"===u){var d=f.hostTree.data.getItemModel(f.dataIndex),v=d.get("link",!0),g=d.get("target",!0)||"blank";v&&Cb(v,g)}}}}},this)},t.prototype._renderBreadcrumb=function(e,o,s){var u=this;s||(s=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2))||(s={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new JE(this.group))).render(e,o,s.node,function(c){"animating"!==u._state&&(qE(e.getViewRoot(),c)?u._rootToNode({node:c}):u._zoomToNode({node:c}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,o){var s;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(c){var f=this._storage.background[c.getRawIndex()];if(f){var d=f.transformCoordToLocal(e,o),v=f.shape;if(!(v.x<=d[0]&&d[0]<=v.x+v.width&&v.y<=d[1]&&d[1]<=v.y+v.height))return!1;s={node:c,offsetX:d[0],offsetY:d[1]}}},this),s},t.type="treemap",t}(vn);const tI=k0;var N0=H,nI=Ue,OC=-1,Hv=function(){function r(t){var e=t.mappingMethod,o=t.type,s=this.option=Ge(t);this.type=o,this.mappingMethod=e,this._normalizeData=V0[e];var u=r.visualHandlers[o];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._normalizedToVisual=u._normalizedToVisual[e],"piecewise"===e?(Gv(s),function YV(r){var t=r.pieceList;r.hasSpecialVisual=!1,H(t,function(e,o){e.originIndex=o,null!=e.visual&&(r.hasSpecialVisual=!0)})}(s)):"category"===e?s.categories?function XV(r){var t=r.categories,e=r.categoryMap={},o=r.visual;if(N0(t,function(c,f){e[c]=f}),!ge(o)){var s=[];Ue(o)?N0(o,function(c,f){s[e[f]??OC]=c}):s[OC]=o,o=F0(r,s)}for(var u=t.length-1;u>=0;u--)null==o[u]&&(delete e[t[u]],t.pop())}(s):Gv(s,!0):(_n("linear"!==e||s.dataExtent),Gv(s))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return Me(this._normalizeData,this)},r.listVisualTypes=function(){return pt(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,o){Ue(t)?H(t,e,o):e.call(o,t)},r.mapVisual=function(t,e,o){var s,u=ge(t)?[]:Ue(t)?{}:(s=!0,null);return r.eachVisual(t,function(c,f){var d=e.call(o,c,f);s?u=d:u[f]=d}),u},r.retrieveVisuals=function(t){var o,e={};return t&&N0(r.visualHandlers,function(s,u){t.hasOwnProperty(u)&&(e[u]=t[u],o=!0)}),o?e:null},r.prepareVisualTypes=function(t){if(ge(t))t=t.slice();else{if(!nI(t))return[];var e=[];N0(t,function(o,s){e.push(s)}),t=e}return t.sort(function(o,s){return"color"===s&&"color"!==o&&0===o.indexOf("color")?1:-1}),t},r.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},r.findPieceIndex=function(t,e,o){for(var s,u=1/0,c=0,f=e.length;c<f;c++){var d=e[c].value;if(null!=d){if(d===t||xe(d)&&d===t+"")return c;o&&_(d,c)}}for(c=0,f=e.length;c<f;c++){var v=e[c],g=v.interval,m=v.close;if(g){if(g[0]===-1/0){if(md(m[1],t,g[1]))return c}else if(g[1]===1/0){if(md(m[0],g[0],t))return c}else if(md(m[0],g[0],t)&&md(m[1],t,g[1]))return c;o&&_(g[0],c),o&&_(g[1],c)}}if(o)return t===1/0?e.length-1:t===-1/0?0:s;function _(w,S){var x=Math.abs(w-t);x<u&&(u=x,s=S)}},r.visualHandlers={color:{applyVisual:NC("color"),getColorMapper:function(){var t=this.option;return Me("category"===t.mappingMethod?function(e,o){return!o&&(e=this._normalizeData(e)),Uv.call(this,e)}:function(e,o,s){var u=!!s;return!o&&(e=this._normalizeData(e)),s=Dm(e,t.parsedVisual,s),u?s:Hs(s,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Hs(Dm(t,this.option.parsedVisual),"rgba")},category:Uv,piecewise:function(t,e){var o=gd.call(this,e);return null==o&&(o=Hs(Dm(t,this.option.parsedVisual),"rgba")),o},fixed:jv}},colorHue:ph(function(t,e){return Tm(t,e)}),colorSaturation:ph(function(t,e){return Tm(t,null,e)}),colorLightness:ph(function(t,e){return Tm(t,null,null,e)}),colorAlpha:ph(function(t,e){return Ew(t,e)}),decal:{applyVisual:NC("decal"),_normalizedToVisual:{linear:null,category:Uv,piecewise:null,fixed:null}},opacity:{applyVisual:NC("opacity"),_normalizedToVisual:Wu([0,1])},liftZ:{applyVisual:NC("liftZ"),_normalizedToVisual:{linear:jv,category:jv,piecewise:jv,fixed:jv}},symbol:{applyVisual:function(t,e,o){o("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:R$,category:Uv,piecewise:function(t,e){var o=gd.call(this,e);return null==o&&(o=R$.call(this,t)),o},fixed:jv}},symbolSize:{applyVisual:NC("symbolSize"),_normalizedToVisual:Wu([0,1])}},r}();function Gv(r,t){var e=r.visual,o=[];Ue(e)?N0(e,function(u){o.push(u)}):null!=e&&o.push(e),!t&&1===o.length&&!{color:1,symbol:1}.hasOwnProperty(r.type)&&(o[1]=o[0]),F0(r,o)}function ph(r){return{applyVisual:function(t,e,o){var s=this.mapValueToVisual(t);o("color",r(e("color"),s))},_normalizedToVisual:Wu([0,1])}}function R$(r){var t=this.option.visual;return t[Math.round(on(r,[0,1],[0,t.length-1],!0))]||{}}function NC(r){return function(t,e,o){o(r,this.mapValueToVisual(t))}}function Uv(r){var t=this.option.visual;return t[this.option.loop&&r!==OC?r%t.length:r]}function jv(){return this.option.visual[0]}function Wu(r){return{linear:function(t){return on(t,r,this.option.visual,!0)},category:Uv,piecewise:function(t,e){var o=gd.call(this,e);return null==o&&(o=on(t,r,this.option.visual,!0)),o},fixed:jv}}function gd(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var s=e[Hv.findPieceIndex(r,e)];if(s&&s.visual)return s.visual[this.type]}}function F0(r,t){return r.visual=t,"color"===r.type&&(r.parsedVisual=me(t,function(e){return Tr(e)||[0,0,0,1]})),t}var V0={linear:function(r){return on(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=Hv.findPieceIndex(r,t,!0);if(null!=e)return on(e,[0,t.length-1],[0,1],!0)},category:function(r){return(this.option.categories?this.option.categoryMap[r]:r)??OC},fixed:Mt};function md(r,t,e){return r?t<=e:t<e}const Gr=Hv;var FC=zt();const VC={seriesType:"treemap",reset:function(r){var e=r.getData().tree.root;e.isRemoved()||KV(e,{},r.getViewRoot().getAncestors(),r)}};function KV(r,t,e,o){var s=r.getModel(),u=r.getLayout(),c=r.hostTree.data;if(u&&!u.invisible&&u.isInView){var _,f=s.getModel("itemStyle"),d=function O$(r,t,e){var o=ce({},t),s=e.designatedVisualItemStyle;return H(["color","colorAlpha","colorSaturation"],function(u){s[u]=t[u];var c=r.get(u);s[u]=null,null!=c&&(o[u]=c)}),o}(f,t,o),v=c.ensureUniqueItemVisual(r.dataIndex,"style"),g=f.get("borderColor"),m=f.get("borderColorSaturation");null!=m&&(g=function N$(r,t){return null!=t?Tm(t,null,null,r):null}(m,_=rI(d))),v.stroke=g;var w=r.viewChildren;if(w&&w.length){var S=function F$(r,t,e,o,s,u){if(u&&u.length){var c=QV(t,"color")||null!=s.color&&"none"!==s.color&&(QV(t,"colorAlpha")||QV(t,"colorSaturation"));if(c){var f=t.get("visualMin"),d=t.get("visualMax"),v=e.dataExtent.slice();null!=f&&f<v[0]&&(v[0]=f),null!=d&&d>v[1]&&(v[1]=d);var g=t.get("colorMappingBy"),m={type:c.name,dataExtent:v,visual:c.range};"color"!==m.type||"index"!==g&&"id"!==g?m.mappingMethod="linear":(m.mappingMethod="category",m.loop=!0);var _=new Gr(m);return FC(_).drColorMappingBy=g,_}}}(0,s,u,0,d,w);H(w,function(x,D){if(x.depth>=e.length||x===e[x.depth]){var T=function V$(r,t,e,o,s,u){var c=ce({},t);if(s){var f=s.type,d="color"===f&&FC(s).drColorMappingBy,v="index"===d?o:"id"===d?u.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));c[f]=s.mapValueToVisual(v)}return c}(s,d,x,D,S,o);KV(x,T,e,o)}})}else _=rI(d),v.fill=_}}function rI(r){var t=BC(r,"color");if(t){var e=BC(r,"colorAlpha"),o=BC(r,"colorSaturation");return o&&(t=Tm(t,null,null,o)),e&&(t=Ew(t,e)),t}}function BC(r,t){var e=r[t];if(null!=e&&"none"!==e)return e}function QV(r,t){var e=r.get(t);return ge(e)&&e.length?{name:t,range:e}:null}var yd=Math.max,iI=Math.min,B$=$t,B0=H,JV=["itemStyle","borderWidth"],eB=["itemStyle","gapWidth"],oI=["upperLabel","show"],z$=["upperLabel","height"];const tK={seriesType:"treemap",reset:function(r,t,e,o){var s=e.getWidth(),u=e.getHeight(),c=r.option,f=Ar(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),d=c.size||[],v=Ce(B$(f.width,d[0]),s),g=Ce(B$(f.height,d[1]),u),m=o&&o.type,w=Fv(o,["treemapZoomToNode","treemapRootToNode"],r),S="treemapRender"===m||"treemapMove"===m?o.rootRect:null,x=r.getViewRoot(),D=$E(x);if("treemapMove"!==m){var T="treemapZoomToNode"===m?function G$(r,t,e,o,s){var u=(t||{}).node,c=[o,s];if(!u||u===e)return c;for(var f,d=o*s,v=d*r.option.zoomToNodeRatio;f=u.parentNode;){for(var g=0,m=f.children,_=0,w=m.length;_<w;_++)g+=m[_].getValue();var S=u.getValue();if(0===S)return c;v*=g/S;var x=f.getModel(),D=x.get(JV);(v+=4*D*D+(3*D+Math.max(D,j$(x)))*Math.pow(v,.5))>ru&&(v=ru),u=f}v<d&&(v=d);var A=Math.pow(v/d,.5);return[o*A,s*A]}(r,w,x,v,g):S?[S.width,S.height]:[v,g],A=c.sort;A&&"asc"!==A&&"desc"!==A&&(A="desc");var E={squareRatio:c.squareRatio,sort:A,leafDepth:c.leafDepth};x.hostTree.clearLayouts();var P={x:0,y:0,width:T[0],height:T[1],area:T[0]*T[1]};x.setLayout(P),tB(x,E,!1,0),P=x.getLayout(),B0(D,function(k,F){var B=(D[F+1]||x).getValue();k.setLayout(ce({dataExtent:[B,B],borderWidth:0,upperHeight:0},P))})}var N=r.getData().tree.root;N.setLayout(function iB(r,t,e){if(t)return{x:t.x,y:t.y};var o={x:0,y:0};if(!e)return o;var s=e.node,u=s.getLayout();if(!u)return o;for(var c=[u.width/2,u.height/2],f=s;f;){var d=f.getLayout();c[0]+=d.x,c[1]+=d.y,f=f.parentNode}return{x:r.width/2-c[0],y:r.height/2-c[1]}}(f,S,w),!0),r.setLayoutInfo(f),U$(N,new Xe(-f.x,-f.y,s,u),D,x,0)}};function tB(r,t,e,o){var s,u;if(!r.isRemoved()){var c=r.getLayout();s=c.width,u=c.height;var f=r.getModel(),d=f.get(JV),v=f.get(eB)/2,g=j$(f),m=Math.max(d,g),_=d-v,w=m-v;r.setLayout({borderWidth:d,upperHeight:m,upperLabelHeight:g},!0);var S=(s=yd(s-2*_,0))*(u=yd(u-_-w,0)),x=function z0(r,t,e,o,s,u){var c=r.children||[],f=o.sort;"asc"!==f&&"desc"!==f&&(f=null);var d=null!=o.leafDepth&&o.leafDepth<=u;if(s&&!d)return r.viewChildren=[];c=Wt(c,function(w){return!w.isRemoved()}),function nB(r,t){t&&r.sort(function(e,o){var s="asc"===t?e.getValue()-o.getValue():o.getValue()-e.getValue();return 0===s?"asc"===t?e.dataIndex-o.dataIndex:o.dataIndex-e.dataIndex:s})}(c,f);var v=function rB(r,t,e){for(var o=0,s=0,u=t.length;s<u;s++)o+=t[s].getValue();var f,c=r.get("visualDimension");return t&&t.length?"value"===c&&e?(f=[t[t.length-1].getValue(),t[0].getValue()],"asc"===e&&f.reverse()):(f=[1/0,-1/0],B0(t,function(d){var v=d.getValue(c);v<f[0]&&(f[0]=v),v>f[1]&&(f[1]=v)})):f=[NaN,NaN],{sum:o,dataExtent:f}}(t,c,f);if(0===v.sum)return r.viewChildren=[];if(v.sum=function aI(r,t,e,o,s){if(!o)return e;for(var u=r.get("visibleMin"),c=s.length,f=c,d=c-1;d>=0;d--){var v=s["asc"===o?c-d-1:d].getValue();v/e*t<u&&(f=d,e-=v)}return s.splice("asc"===o?0:f,c-f),e}(t,e,v.sum,f,c),0===v.sum)return r.viewChildren=[];for(var g=0,m=c.length;g<m;g++){var _=c[g].getValue()/v.sum*e;c[g].setLayout({area:_})}return d&&(c.length&&r.setLayout({isLeafRoot:!0},!0),c.length=0),r.viewChildren=c,r.setLayout({dataExtent:v.dataExtent},!0),c}(r,f,S,t,e,o);if(x.length){var D={x:_,y:w,width:s,height:u},T=iI(s,u),A=1/0,E=[];E.area=0;for(var P=0,N=x.length;P<N;){var k=x[P];E.push(k),E.area+=k.getLayout().area;var F=H0(E,T,t.squareRatio);F<=A?(P++,A=F):(E.area-=E.pop().getLayout().area,H$(E,T,D,v,!1),T=iI(D.width,D.height),E.length=E.area=0,A=1/0)}if(E.length&&H$(E,T,D,v,!0),!e){var B=f.get("childrenVisibleMin");null!=B&&S<B&&(e=!0)}for(P=0,N=x.length;P<N;P++)tB(x[P],t,e,o+1)}}}function H0(r,t,e){for(var o=0,s=1/0,u=0,c=void 0,f=r.length;u<f;u++)(c=r[u].getLayout().area)&&(c<s&&(s=c),c>o&&(o=c));var d=r.area*r.area,v=t*t*e;return d?yd(v*o/d,d/(v*s)):1/0}function H$(r,t,e,o,s){var u=t===e.width?0:1,c=1-u,f=["x","y"],d=["width","height"],v=e[f[u]],g=t?r.area/t:0;(s||g>e[d[c]])&&(g=e[d[c]]);for(var m=0,_=r.length;m<_;m++){var w=r[m],S={},x=g?w.getLayout().area/g:0,D=S[d[c]]=yd(g-2*o,0),T=e[f[u]]+e[d[u]]-v,A=m===_-1||T<x?T:x,E=S[d[u]]=yd(A-2*o,0);S[f[c]]=e[f[c]]+iI(o,D/2),S[f[u]]=v+iI(o,E/2),v+=A,w.setLayout(S,!0)}e[f[c]]+=g,e[d[c]]-=g}function U$(r,t,e,o,s){var u=r.getLayout(),c=e[s],f=c&&c===r;if(!(c&&!f||s===e.length&&r!==o)){r.setLayout({isInView:!0,invisible:!f&&!t.intersect(u),isAboveViewRoot:f},!0);var d=new Xe(t.x-u.x,t.y-u.y,t.width,t.height);B0(r.viewChildren||[],function(v){U$(v,d,e,o,s+1)})}}function j$(r){return r.get(oI)?r.get(z$):0}function rK(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),u=e.getGraph().data,c=o.mapArray(o.getName);u.filterSelf(function(f){var v=u.getItemModel(f).getShallow("category");if(null!=v){kt(v)&&(v=c[v]);for(var g=0;g<t.length;g++)if(!t[g].isSelected(v))return!1}return!0})})}function W$(r){var t={};r.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),s=e.getData(),u={};o.each(function(c){var f=o.getName(c);u["ec-"+f]=c;var d=o.getItemModel(c),v=d.getModel("itemStyle").getItemStyle();v.fill||(v.fill=e.getColorFromPalette(f,t)),o.setItemVisual(c,"style",v);for(var g=["symbol","symbolSize","symbolKeepAspect"],m=0;m<g.length;m++){var _=d.getShallow(g[m],!0);null!=_&&o.setItemVisual(c,g[m],_)}}),o.count()&&s.each(function(c){var d=s.getItemModel(c).getShallow("category");if(null!=d){xe(d)&&(d=u["ec-"+d]);var v=o.getItemVisual(d,"style");ce(s.ensureUniqueItemVisual(c,"style"),v);for(var m=["symbol","symbolSize","symbolKeepAspect"],_=0;_<m.length;_++)s.setItemVisual(c,m[_],o.getItemVisual(d,m[_]))}})})}function G0(r){return r instanceof Array||(r=[r,r]),r}function $$(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),o=t.getEdgeData(),s=G0(t.get("edgeSymbol")),u=G0(t.get("edgeSymbolSize"));o.setVisual("fromSymbol",s&&s[0]),o.setVisual("toSymbol",s&&s[1]),o.setVisual("fromSymbolSize",u&&u[0]),o.setVisual("toSymbolSize",u&&u[1]),o.setVisual("style",t.getModel("lineStyle").getLineStyle()),o.each(function(c){var f=o.getItemModel(c),d=e.getEdgeByIndex(c),v=G0(f.getShallow("symbol",!0)),g=G0(f.getShallow("symbolSize",!0)),m=f.getModel("lineStyle").getLineStyle(),_=o.ensureUniqueItemVisual(c,"style");switch(ce(_,m),_.stroke){case"source":var w=d.node1.getVisual("style");_.stroke=w&&w.fill;break;case"target":w=d.node2.getVisual("style"),_.stroke=w&&w.fill}v[0]&&d.setVisual("fromSymbol",v[0]),v[1]&&d.setVisual("toSymbol",v[1]),g[0]&&d.setVisual("fromSymbolSize",g[0]),g[1]&&d.setVisual("toSymbolSize",g[1])})})}var U0=function(r){return r.get("autoCurveness")||null},Wv=function(r,t){var e=U0(r),o=20,s=[];if(kt(e))o=e;else if(ge(e))return void(r.__curvenessList=e);t>o&&(o=t);var u=o%2?o+2:o+3;s=[];for(var c=0;c<u;c++)s.push((c%2?c+1:c)/10*(c%2?-1:1));r.__curvenessList=s},j0=function(r,t,e){var o=[r.id,r.dataIndex].join("."),s=[t.id,t.dataIndex].join(".");return[e.uid,o,s].join("--\x3e")},sI=function(r){var t=r.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},q$=function(r,t){var e=j0(r.node1,r.node2,t);return t.__edgeMap[e]},iK=function(r,t){return HC(j0(r.node1,r.node2,t),t)+HC(j0(r.node2,r.node1,t),t)},HC=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function lI(r,t,e,o){var s=U0(t),u=ge(s);if(!s)return null;var c=q$(r,t);if(!c)return null;for(var f=-1,d=0;d<c.length;d++)if(c[d]===e){f=d;break}var v=iK(r,t);Wv(t,v),r.lineStyle=r.lineStyle||{};var g=j0(r.node1,r.node2,t),m=t.__curvenessList,_=u||v%2?0:1;if(c.isForward)return m[_+f];var w=sI(g),S=HC(w,t),x=m[f+S+_];return o?u?s&&0===s[0]?(S+_)%2?x:-x:((S%2?0:1)+_)%2?x:-x:(S+_)%2?x:-x:m[f+S+_]}function uI(r){var t=r.coordinateSystem;if(!t||"view"===t.type){var e=r.getGraph();e.eachNode(function(o){var s=o.getModel();o.setLayout([+s.get("x"),+s.get("y")])}),W0(e,r)}}function W0(r,t){r.eachEdge(function(e,o){var s=Gn(e.getModel().get(["lineStyle","curveness"]),-lI(e,t,o,!0),0),u=ua(e.node1.getLayout()),c=ua(e.node2.getLayout()),f=[u,c];+s&&f.push([(u[0]+c[0])/2-(u[1]-c[1])*s,(u[1]+c[1])/2-(c[0]-u[0])*s]),e.setLayout(f)})}function Y$(r,t){r.eachSeriesByType("graph",function(e){var o=e.get("layout"),s=e.coordinateSystem;if(s&&"view"!==s.type){var u=e.getData(),c=[];H(s.dimensions,function(_){c=c.concat(u.mapDimensionsAll(_))});for(var f=0;f<u.count();f++){for(var d=[],v=!1,g=0;g<c.length;g++){var m=u.get(c[g],f);isNaN(m)||(v=!0),d.push(m)}u.setItemLayout(f,v?s.dataToPoint(d):[NaN,NaN])}W0(u.graph,e)}else(!o||"none"===o)&&uI(e)})}function $v(r){var t=r.coordinateSystem;if("view"!==t.type)return 1;var e=r.option.nodeScaleRatio,o=t.scaleX;return((t.getZoom()-1)*e+1)/o}function $0(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var vh=Math.PI,cI=[];function q0(r,t,e,o){var s=r.coordinateSystem;if(!s||"view"===s.type){var u=s.getBoundingRect(),c=r.getData(),f=c.graph,d=u.width/2+u.x,v=u.height/2+u.y,g=Math.min(u.width,u.height)/2,m=c.count();if(c.setLayout({cx:d,cy:v}),m){if(e){var _=s.pointToData(o),x=[_[0]-d,_[1]-v];Hl(x,x),at(x,x,g),e.setLayout([d+x[0],v+x[1]],!0),GC(e,r.get(["circular","rotateLabel"]),d,v)}X$[t](r,f,c,g,d,v,m),f.eachEdge(function(T,A){var k,E=Gn(T.getModel().get(["lineStyle","curveness"]),lI(T,r,A),0),P=ua(T.node1.getLayout()),N=ua(T.node2.getLayout());+E&&(k=[d*(E*=3)+(P[0]+N[0])/2*(1-E),v*E+(P[1]+N[1])/2*(1-E)]),T.setLayout([P,N,k])})}}}var X$={value:function(r,t,e,o,s,u,c){var f=0,d=e.getSum("value"),v=2*Math.PI/(d||c);t.eachNode(function(g){var m=g.getValue("value"),_=v*(d?m:1)/2;f+=_,g.setLayout([o*Math.cos(f)+s,o*Math.sin(f)+u]),f+=_})},symbolSize:function(r,t,e,o,s,u,c){var f=0;cI.length=c;var d=$v(r);t.eachNode(function(m){var _=$0(m);isNaN(_)&&(_=2),_<0&&(_=0),_*=d;var w=Math.asin(_/2/o);isNaN(w)&&(w=vh/2),cI[m.dataIndex]=w,f+=2*w});var v=(2*vh-f)/c/2,g=0;t.eachNode(function(m){var _=v+cI[m.dataIndex];g+=_,(!m.getLayout()||!m.getLayout().fixed)&&m.setLayout([o*Math.cos(g)+s,o*Math.sin(g)+u]),g+=_})}};function GC(r,t,e,o){var s=r.getGraphicEl();if(s){var c=r.getModel().get(["label","rotate"])||0,f=s.getSymbolPath();if(t){var d=r.getLayout(),v=Math.atan2(d[1]-o,d[0]-e);v<0&&(v=2*Math.PI+v);var g=d[0]<e;g&&(v-=Math.PI);var m=g?"left":"right";f.setTextConfig({rotation:-v,position:m,origin:"center"});var _=f.ensureState("emphasis");ce(_.textConfig||(_.textConfig={}),{position:m})}else f.setTextConfig({rotation:c*=Math.PI/180})}}function aB(r){r.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&q0(t,"symbolSize")})}var qv=nm;function K$(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var o=t.preservedPoints||{},s=t.getGraph(),u=s.data,c=s.edgeData,f=t.getModel("force"),d=f.get("initLayout");t.preservedPoints?u.each(function(E){var P=u.getId(E);u.setItemLayout(E,o[P]||[NaN,NaN])}):d&&"none"!==d?"circular"===d&&q0(t,"value"):uI(t);var v=u.getDataExtent("value"),g=c.getDataExtent("value"),m=f.get("repulsion"),_=f.get("edgeLength"),w=ge(m)?m:[m,m],S=ge(_)?_:[_,_];S=[S[1],S[0]];var x=u.mapArray("value",function(E,P){var N=u.getItemLayout(P),k=on(E,v,w);return isNaN(k)&&(k=(w[0]+w[1])/2),{w:k,rep:k,fixed:u.getItemModel(P).get("fixed"),p:!N||isNaN(N[0])||isNaN(N[1])?null:N}}),D=c.mapArray("value",function(E,P){var N=s.getEdgeByIndex(P),k=on(E,g,S);isNaN(k)&&(k=(S[0]+S[1])/2);var F=N.getModel(),B=Gn(N.getModel().get(["lineStyle","curveness"]),-lI(N,t,P,!0),0);return{n1:x[N.node1.dataIndex],n2:x[N.node2.dataIndex],d:k,curveness:B,ignoreForceLayout:F.get("ignoreForceLayout")}}),T=e.getBoundingRect(),A=function Zv(r,t,e){for(var o=r,s=t,u=e.rect,c=u.width,f=u.height,d=[u.x+c/2,u.y+f/2],v=null==e.gravity?.1:e.gravity,g=0;g<o.length;g++){var m=o[g];m.p||(m.p=hr(c*(Math.random()-.5)+d[0],f*(Math.random()-.5)+d[1])),m.pp=ua(m.p),m.edges=null}var S,x,_=null==e.friction?.6:e.friction,w=_;return{warmUp:function(){w=.8*_},setFixed:function(D){o[D].fixed=!0},setUnfixed:function(D){o[D].fixed=!1},beforeStep:function(D){S=D},afterStep:function(D){x=D},step:function(D){S&&S(o,s);for(var T=[],A=o.length,E=0;E<s.length;E++){var P=s[E];if(!P.ignoreForceLayout){Rs(T,(k=P.n2).p,(N=P.n1).p);var F=op(T)-P.d,B=k.w/(N.w+k.w);isNaN(B)&&(B=0),Hl(T,T),!N.fixed&&qv(N.p,N.p,T,B*F*w),!k.fixed&&qv(k.p,k.p,T,-(1-B)*F*w)}}for(E=0;E<A;E++)(z=o[E]).fixed||(Rs(T,d,z.p),qv(z.p,z.p,T,v*w));for(E=0;E<A;E++)for(var N=o[E],j=E+1;j<A;j++){var k;Rs(T,(k=o[j]).p,N.p),0===(F=op(T))&&(dc(T,Math.random()-.5,Math.random()-.5),F=1);var W=(N.rep+k.rep)/F/F;!N.fixed&&qv(N.pp,N.pp,T,W),!k.fixed&&qv(k.pp,k.pp,T,-W)}var q=[];for(E=0;E<A;E++){var z;(z=o[E]).fixed||(Rs(q,z.p,z.pp),qv(z.p,z.p,q,w),gi(z.pp,z.p))}var Y=(w*=.992)<.01;x&&x(o,s,Y),D&&D(Y)}}}(x,D,{rect:T,gravity:f.get("gravity"),friction:f.get("friction")});A.beforeStep(function(E,P){for(var N=0,k=E.length;N<k;N++)E[N].fixed&&gi(E[N].p,s.getNodeByIndex(N).getLayout())}),A.afterStep(function(E,P,N){for(var k=0,F=E.length;k<F;k++)E[k].fixed||s.getNodeByIndex(k).setLayout(E[k].p),o[u.getId(k)]=E[k].p;for(k=0,F=P.length;k<F;k++){var B=P[k],z=s.getEdgeByIndex(k),j=B.n1.p,W=B.n2.p,q=z.getLayout();(q=q?q.slice():[])[0]=q[0]||[],q[1]=q[1]||[],gi(q[0],j),gi(q[1],W),+B.curveness&&(q[2]=[(j[0]+W[0])/2-(j[1]-W[1])*B.curveness,(j[1]+W[1])/2-(W[0]-j[0])*B.curveness]),z.setLayout(q)}}),t.forceLayout=A,t.preservedPoints=o,A.step()}else t.forceLayout=null})}function Q$(r,t){var e=[];return r.eachSeriesByType("graph",function(o){var s=o.get("coordinateSystem");if(!s||"view"===s){var u=o.getData(),f=[],d=[];eb(u.mapArray(function(D){var T=u.getItemModel(D);return[+T.get("x"),+T.get("y")]}),f,d),d[0]-f[0]==0&&(d[0]+=1,f[0]-=1),d[1]-f[1]==0&&(d[1]+=1,f[1]-=1);var v=(d[0]-f[0])/(d[1]-f[1]),g=function sB(r,t,e){return Ar(ce(r.getBoxLayoutParams(),{aspect:e}),{width:t.getWidth(),height:t.getHeight()})}(o,t,v);isNaN(v)&&(f=[g.x,g.y],d=[g.x+g.width,g.y+g.height]);var m=d[0]-f[0],_=d[1]-f[1],w=g.width,S=g.height,x=o.coordinateSystem=new Nv;x.zoomLimit=o.get("scaleLimit"),x.setBoundingRect(f[0],f[1],m,_),x.setViewRect(g.x,g.y,w,S),x.setCenter(o.get("center"),t),x.setZoom(o.get("zoom")),e.push(x)}}),e}var UC=zr.prototype,hI=Un.prototype,lB=function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function fI(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}!function(r){ae(function t(){return null!==r&&r.apply(this,arguments)||this},r)}(lB);var oK=function(r){function t(e){var o=r.call(this,e)||this;return o.type="ec-line",o}return ae(t,r),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new lB},t.prototype.buildPath=function(e,o){fI(o)?UC.buildPath.call(this,e,o):hI.buildPath.call(this,e,o)},t.prototype.pointAt=function(e){return fI(this.shape)?UC.pointAt.call(this,e):hI.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var o=this.shape,s=fI(o)?[o.x2-o.x1,o.y2-o.y1]:hI.tangentAt.call(this,e);return Hl(s,s)},t}(mt);const dI=oK;var pI=["fromSymbol","toSymbol"];function vI(r){return"_"+r+"Type"}function gI(r,t,e){var o=t.getItemVisual(e,r);if(!o||"none"===o)return o;var s=t.getItemVisual(e,r+"Size"),u=t.getItemVisual(e,r+"Rotate"),c=t.getItemVisual(e,r+"Offset"),f=t.getItemVisual(e,r+"KeepAspect"),d=Wf(s);return o+d+$c(c||0,d)+(u||"")+(f||"")}function gh(r,t,e){var o=t.getItemVisual(e,r);if(o&&"none"!==o){var s=t.getItemVisual(e,r+"Size"),u=t.getItemVisual(e,r+"Rotate"),c=t.getItemVisual(e,r+"Offset"),f=t.getItemVisual(e,r+"KeepAspect"),d=Wf(s),v=$c(c||0,d),g=ar(o,-d[0]/2+v[0],-d[1]/2+v[1],d[0],d[1],null,f);return g.__specifiedRotation=null==u||isNaN(u)?void 0:+u*Math.PI/180||0,g.name=r,g}}function jC(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var t6=function(r){function t(e,o,s){var u=r.call(this)||this;return u._createLine(e,o,s),u}return ae(t,r),t.prototype._createLine=function(e,o,s){var u=e.hostModel,f=function e6(r){var t=new dI({name:"line",subPixelOptimize:!0});return jC(t.shape,r),t}(e.getItemLayout(o));f.shape.percent=0,On(f,{shape:{percent:1}},u,o),this.add(f),H(pI,function(d){var v=gh(d,e,o);this.add(v),this[vI(d)]=gI(d,e,o)},this),this._updateCommonStl(e,o,s)},t.prototype.updateData=function(e,o,s){var u=e.hostModel,c=this.childOfName("line"),f=e.getItemLayout(o),d={shape:{}};jC(d.shape,f),Yt(c,d,u,o),H(pI,function(v){var g=gI(v,e,o),m=vI(v);if(this[m]!==g){this.remove(this.childOfName(v));var _=gh(v,e,o);this.add(_)}this[m]=g},this),this._updateCommonStl(e,o,s)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,o,s){var u=e.hostModel,c=this.childOfName("line"),f=s&&s.emphasisLineStyle,d=s&&s.blurLineStyle,v=s&&s.selectLineStyle,g=s&&s.labelStatesModels,m=s&&s.emphasisDisabled,_=s&&s.focus,w=s&&s.blurScope;if(!s||e.hasItemOption){var S=e.getItemModel(o),x=S.getModel("emphasis");f=x.getModel("lineStyle").getLineStyle(),d=S.getModel(["blur","lineStyle"]).getLineStyle(),v=S.getModel(["select","lineStyle"]).getLineStyle(),m=x.get("disabled"),_=x.get("focus"),w=x.get("blurScope"),g=Mr(S)}var D=e.getItemVisual(o,"style"),T=D.stroke;c.useStyle(D),c.style.fill=null,c.style.strokeNoScale=!0,c.ensureState("emphasis").style=f,c.ensureState("blur").style=d,c.ensureState("select").style=v,H(pI,function(k){var F=this.childOfName(k);if(F){F.setColor(T),F.style.opacity=D.opacity;for(var B=0;B<hi.length;B++){var z=hi[B],j=c.getState(z);if(j){var W=j.style||{},q=F.ensureState(z),Y=q.style||(q.style={});null!=W.stroke&&(Y[F.__isEmptyBrush?"stroke":"fill"]=W.stroke),null!=W.opacity&&(Y.opacity=W.opacity)}}F.markRedraw()}},this);var A=u.getRawValue(o);Li(this,g,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(k,F){return u.getFormattedLabel(k,F,e.dataType)}},inheritColor:T||"#000",defaultOpacity:D.opacity,defaultText:(null==A?e.getName(o):isFinite(A)?Yn(A):A)+""});var E=this.getTextContent();if(E){var P=g.normal;E.__align=E.style.align,E.__verticalAlign=E.style.verticalAlign,E.__position=P.get("position")||"middle";var N=P.get("distance");ge(N)||(N=[N,N]),E.__labelDistance=N}this.setTextConfig({position:null,local:!0,inside:!1}),Jn(this,_,w,m)},t.prototype.highlight=function(){fu(this)},t.prototype.downplay=function(){Xs(this)},t.prototype.updateLayout=function(e,o){this.setLinePoints(e.getItemLayout(o))},t.prototype.setLinePoints=function(e){var o=this.childOfName("line");jC(o.shape,e),o.dirty()},t.prototype.beforeUpdate=function(){var e=this,o=e.childOfName("fromSymbol"),s=e.childOfName("toSymbol"),u=e.getTextContent();if(o||s||u&&!u.ignore){for(var c=1,f=this.parent;f;)f.scaleX&&(c/=f.scaleX),f=f.parent;var d=e.childOfName("line");if(this.__dirty||d.__dirty){var v=d.shape.percent,g=d.pointAt(0),m=d.pointAt(v),_=Rs([],m,g);if(Hl(_,_),o&&(o.setPosition(g),w(o,0),o.scaleX=o.scaleY=c*v,o.markRedraw()),s&&(s.setPosition(m),w(s,1),s.scaleX=s.scaleY=c*v,s.markRedraw()),u&&!u.ignore){u.x=u.y=0,u.originX=u.originY=0;var S=void 0,x=void 0,D=u.__labelDistance,T=D[0]*c,A=D[1]*c,E=v/2,P=d.tangentAt(E),N=[P[1],-P[0]],k=d.pointAt(E);N[1]>0&&(N[0]=-N[0],N[1]=-N[1]);var F=P[0]<0?-1:1;if("start"!==u.__position&&"end"!==u.__position){var B=-Math.atan2(P[1],P[0]);m[0]<g[0]&&(B=Math.PI+B),u.rotation=B}var z=void 0;switch(u.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":z=-A,x="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":z=A,x="top";break;default:z=0,x="middle"}switch(u.__position){case"end":u.x=_[0]*T+m[0],u.y=_[1]*A+m[1],S=_[0]>.8?"left":_[0]<-.8?"right":"center",x=_[1]>.8?"top":_[1]<-.8?"bottom":"middle";break;case"start":u.x=-_[0]*T+g[0],u.y=-_[1]*A+g[1],S=_[0]>.8?"right":_[0]<-.8?"left":"center",x=_[1]>.8?"bottom":_[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":u.x=T*F+g[0],u.y=g[1]+z,S=P[0]<0?"right":"left",u.originX=-T*F,u.originY=-z;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":u.x=k[0],u.y=k[1]+z,S="center",u.originY=-z;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":u.x=-T*F+m[0],u.y=m[1]+z,S=P[0]>=0?"right":"left",u.originX=T*F,u.originY=-z}u.scaleX=u.scaleY=c,u.setStyle({verticalAlign:u.__verticalAlign||x,align:u.__align||S})}}}function w(j,W){var q=j.__specifiedRotation;if(null==q){var Y=d.tangentAt(W);j.attr("rotation",(1===W?-1:1)*Math.PI/2-Math.atan2(Y[1],Y[0]))}else j.attr("rotation",q)}},t}(Ze);const WC=t6;var n6=function(){function r(t){this.group=new Ze,this._LineCtor=t||WC}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var o=this,s=o.group,u=o._lineData;o._lineData=t,u||s.removeAll();var c=$C(t);t.diff(u).add(function(f){e._doAdd(t,f,c)}).update(function(f,d){e._doUpdate(u,t,d,f,c)}).remove(function(f){s.remove(u.getItemGraphicEl(f))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,o){e.updateLayout(t,o)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=$C(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){function o(f){!f.isGroup&&!function r6(r){return r.animators&&r.animators.length>0}(f)&&(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var s=t.start;s<t.end;s++)if(yI(e.getItemLayout(s))){var c=new this._LineCtor(e,s,this._seriesScope);c.traverse(o),this.group.add(c),e.setItemGraphicEl(s,c),this._progressiveEls.push(c)}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){Wc(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,o){if(yI(t.getItemLayout(e))){var u=new this._LineCtor(t,e,o);t.setItemGraphicEl(e,u),this.group.add(u)}},r.prototype._doUpdate=function(t,e,o,s,u){var c=t.getItemGraphicEl(o);yI(e.getItemLayout(s))?(c?c.updateData(e,s,u):c=new this._LineCtor(e,s,u),e.setItemGraphicEl(s,c),this.group.add(c)):this.group.remove(c)},r}();function $C(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Mr(t)}}function mI(r){return isNaN(r[0])||isNaN(r[1])}function yI(r){return r&&!mI(r[0])&&!mI(r[1])}const qC=n6;var _I=[],ZC=[],wI=[],_d=Fn,bI=Gl,SI=Math.abs;function i6(r,t,e){for(var f,o=r[0],s=r[1],u=r[2],c=1/0,d=e*e,v=.1,g=.1;g<=.9;g+=.1)_I[0]=_d(o[0],s[0],u[0],g),_I[1]=_d(o[1],s[1],u[1],g),(m=SI(bI(_I,t)-d))<c&&(c=m,f=g);for(var _=0;_<32;_++){var w=f+v;ZC[0]=_d(o[0],s[0],u[0],f),ZC[1]=_d(o[1],s[1],u[1],f),wI[0]=_d(o[0],s[0],u[0],w),wI[1]=_d(o[1],s[1],u[1],w);var m=bI(ZC,t)-d;if(SI(m)<.01)break;var S=bI(wI,t)-d;v/=2,m<0?S>=0?f+=v:f-=v:S>=0?f-=v:f+=v}return f}function uB(r,t){var e=[],o=Vs,s=[[],[],[]],u=[[],[]],c=[];t/=2,r.eachEdge(function(f,d){var v=f.getLayout(),g=f.getVisual("fromSymbol"),m=f.getVisual("toSymbol");v.__original||(v.__original=[ua(v[0]),ua(v[1])],v[2]&&v.__original.push(ua(v[2])));var _=v.__original;if(null!=v[2]){if(gi(s[0],_[0]),gi(s[1],_[2]),gi(s[2],_[1]),g&&"none"!==g){var w=$0(f.node1),S=i6(s,_[0],w*t);o(s[0][0],s[1][0],s[2][0],S,e),s[0][0]=e[3],s[1][0]=e[4],o(s[0][1],s[1][1],s[2][1],S,e),s[0][1]=e[3],s[1][1]=e[4]}m&&"none"!==m&&(w=$0(f.node2),S=i6(s,_[1],w*t),o(s[0][0],s[1][0],s[2][0],S,e),s[1][0]=e[1],s[2][0]=e[2],o(s[0][1],s[1][1],s[2][1],S,e),s[1][1]=e[1],s[2][1]=e[2]),gi(v[0],s[0]),gi(v[1],s[2]),gi(v[2],s[1])}else gi(u[0],_[0]),gi(u[1],_[1]),Rs(c,u[1],u[0]),Hl(c,c),g&&"none"!==g&&(w=$0(f.node1),nm(u[0],u[0],c,w*t)),m&&"none"!==m&&(w=$0(f.node2),nm(u[1],u[1],c,-w*t)),gi(v[0],u[0]),gi(v[1],u[1])})}function o6(r){return"view"===r.type}var cB=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e,o){var s=new b0,u=new qC,c=this.group;this._controller=new xC(o.getZr()),this._controllerHost={target:c},c.add(s.group),c.add(u.group),this._symbolDraw=s,this._lineDraw=u,this._firstRender=!0},t.prototype.render=function(e,o,s){var u=this,c=e.coordinateSystem;this._model=e;var f=this._symbolDraw,d=this._lineDraw,v=this.group;if(o6(c)){var g={x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY};this._firstRender?v.attr(g):Yt(v,g,e)}uB(e.getGraph(),$v(e));var m=e.getData();f.updateData(m);var _=e.getEdgeData();d.updateData(_),this._updateNodeAndLinkScale(),this._updateController(e,o,s),clearTimeout(this._layoutTimeout);var w=e.forceLayout,S=e.get(["force","layoutAnimation"]);w&&this._startForceLayoutIteration(w,S);var x=e.get("layout");m.graph.eachNode(function(E){var P=E.dataIndex,N=E.getGraphicEl(),k=E.getModel();if(N){N.off("drag").off("dragend");var F=k.get("draggable");F&&N.on("drag",function(z){switch(x){case"force":w.warmUp(),!u._layouting&&u._startForceLayoutIteration(w,S),w.setFixed(P),m.setItemLayout(P,[N.x,N.y]);break;case"circular":m.setItemLayout(P,[N.x,N.y]),E.setLayout({fixed:!0},!0),q0(e,"symbolSize",E,[z.offsetX,z.offsetY]),u.updateLayout(e);break;default:m.setItemLayout(P,[N.x,N.y]),W0(e.getGraph(),e),u.updateLayout(e)}}).on("dragend",function(){w&&w.setUnfixed(P)}),N.setDraggable(F,!!k.get("cursor")),"adjacency"===k.get(["emphasis","focus"])&&(et(N).focus=E.getAdjacentDataIndices())}}),m.graph.eachEdge(function(E){var P=E.getGraphicEl(),N=E.getModel().get(["emphasis","focus"]);P&&"adjacency"===N&&(et(P).focus={edge:[E.dataIndex],node:[E.node1.dataIndex,E.node2.dataIndex]})});var D="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),T=m.getLayout("cx"),A=m.getLayout("cy");m.graph.eachNode(function(E){GC(E,D,T,A)}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,o){var s=this;!function u(){e.step(function(c){s.updateLayout(s._model),(s._layouting=!c)&&(o?s._layoutTimeout=setTimeout(u,16):u())})}()},t.prototype._updateController=function(e,o,s){var u=this,c=this._controller,f=this._controllerHost,d=this.group;c.setPointerChecker(function(v,g,m){var _=d.getBoundingRect();return _.applyTransform(d.transform),_.contain(g,m)&&!DC(v,s,e)}),o6(e.coordinateSystem)?(c.enable(e.get("roam")),f.zoomLimit=e.get("scaleLimit"),f.zoom=e.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(v){cV(f,v.dx,v.dy),s.dispatchAction({seriesId:e.id,type:"graphRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){vE(f,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),u._updateNodeAndLinkScale(),uB(e.getGraph(),$v(e)),u._lineDraw.updateLayout(),s.updateLabelLayout()})):c.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,o=e.getData(),s=$v(e);o.eachItemGraphicEl(function(u,c){u&&u.setSymbolScale(s)})},t.prototype.updateLayout=function(e){uB(e.getGraph(),$v(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(vn);const hB=cB;function Z0(r){return"_EC_"+r}var aK=function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){var o=this._nodesMap;if(!o[Z0(t=null==t?""+e:""+t)]){var s=new mh(t,e);return s.hostGraph=this,this.nodes.push(s),o[Z0(t)]=s,s}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[Z0(t)]},r.prototype.addEdge=function(t,e,o){var s=this._nodesMap,u=this._edgesMap;if(kt(t)&&(t=this.nodes[t]),kt(e)&&(e=this.nodes[e]),t instanceof mh||(t=s[Z0(t)]),e instanceof mh||(e=s[Z0(e)]),t&&e){var c=t.id+"-"+e.id,f=new Y0(t,e,o);return f.hostGraph=this,this._directed&&(t.outEdges.push(f),e.inEdges.push(f)),t.edges.push(f),t!==e&&e.edges.push(f),this.edges.push(f),u[c]=f,f}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof mh&&(t=t.id),e instanceof mh&&(e=e.id);var o=this._edgesMap;return this._directed?o[t+"-"+e]:o[t+"-"+e]||o[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var o=this.nodes,s=o.length,u=0;u<s;u++)o[u].dataIndex>=0&&t.call(e,o[u],u)},r.prototype.eachEdge=function(t,e){for(var o=this.edges,s=o.length,u=0;u<s;u++)o[u].dataIndex>=0&&o[u].node1.dataIndex>=0&&o[u].node2.dataIndex>=0&&t.call(e,o[u],u)},r.prototype.breadthFirstTraverse=function(t,e,o,s){if(e instanceof mh||(e=this._nodesMap[Z0(e)]),e){for(var u="out"===o?"outEdges":"in"===o?"inEdges":"edges",c=0;c<this.nodes.length;c++)this.nodes[c].__visited=!1;if(!t.call(s,e,null))for(var f=[e];f.length;){var d=f.shift(),v=d[u];for(c=0;c<v.length;c++){var g=v[c],m=g.node1===d?g.node2:g.node1;if(!m.__visited){if(t.call(s,m,d))return;f.push(m),m.__visited=!0}}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,o=this.nodes,s=this.edges,u=0,c=o.length;u<c;u++)o[u].dataIndex=-1;for(u=0,c=t.count();u<c;u++)o[t.getRawIndex(u)].dataIndex=u;for(e.filterSelf(function(f){var d=s[e.getRawIndex(f)];return d.node1.dataIndex>=0&&d.node2.dataIndex>=0}),u=0,c=s.length;u<c;u++)s[u].dataIndex=-1;for(u=0,c=e.count();u<c;u++)s[e.getRawIndex(u)].dataIndex=u},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,o=this.edges,s=0;s<e.length;s++)t.addNode(e[s].id,e[s].dataIndex);for(s=0;s<o.length;s++){var u=o[s];t.addEdge(u.node1.id,u.node2.id,u.dataIndex)}return t},r}(),mh=function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var o=this.edges[e];o.dataIndex<0||(t.edge.push(o.dataIndex),t.node.push(o.node1.dataIndex,o.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=Re(),e=Re(),o=0;o<this.edges.length;o++){var s=this.edges[o];if(!(s.dataIndex<0)){t.set(s.dataIndex,!0);for(var u=[s.node1],c=[s.node2],f=0;f<u.length;){var d=u[f];f++,e.set(d.dataIndex,!0);for(var v=0;v<d.inEdges.length;v++)t.set(d.inEdges[v].dataIndex,!0),u.push(d.inEdges[v].node1)}for(f=0;f<c.length;){var g=c[f];for(f++,e.set(g.dataIndex,!0),v=0;v<g.outEdges.length;v++)t.set(g.outEdges[v].dataIndex,!0),c.push(g.outEdges[v].node2)}}}return{edge:t.keys(),node:e.keys()}},r}(),Y0=function(){function r(t,e,o){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=o??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=Re(),e=Re();t.set(this.dataIndex,!0);for(var o=[this.node1],s=[this.node2],u=0;u<o.length;){var c=o[u];u++,e.set(c.dataIndex,!0);for(var f=0;f<c.inEdges.length;f++)t.set(c.inEdges[f].dataIndex,!0),o.push(c.inEdges[f].node1)}for(u=0;u<s.length;){var d=s[u];for(u++,e.set(d.dataIndex,!0),f=0;f<d.outEdges.length;f++)t.set(d.outEdges[f].dataIndex,!0),s.push(d.outEdges[f].node2)}return{edge:t.keys(),node:e.keys()}},r}();function a6(r,t){return{getValue:function(e){var o=this[r][t];return o.getStore().get(o.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,o){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,o)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,o){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,o)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}Zn(mh,a6("hostGraph","data")),Zn(Y0,a6("hostGraph","edgeData"));const sK=aK;function s6(r,t,e,o,s){for(var u=new sK(o),c=0;c<r.length;c++)u.addNode($t(r[c].id,r[c].name,c),c);var f=[],d=[],v=0;for(c=0;c<t.length;c++){var g=t[c],m=g.source,_=g.target;u.addEdge(m,_,v)&&(d.push(g),f.push($t(vr(g.id,null),m+" > "+_)),v++)}var S,w=e.get("coordinateSystem");if("cartesian2d"===w||"polar"===w)S=us(r,e);else{var x=Qp.get(w),D=x&&x.dimensions||[];ot(D,"value")<0&&D.concat(["value"]);var T=_v(r,{coordDimensions:D,encodeDefine:e.getEncode()}).dimensions;(S=new oo(T,e)).initData(r)}var A=new oo(["value"],e);return A.initData(d,f),s&&s(S,A),WE({mainData:S,struct:u,structAttr:"graph",datas:{node:S,edge:A},datasAttr:{node:"data",edge:"edgeData"}}),u.update(),u}var l6=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ae(t,r),t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var o=this;function s(){return o._categoriesData}this.legendVisualProvider=new ah(s,s),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),Xa(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,o){var s=e.edges||e.links||[],u=e.data||e.nodes||[],c=this;if(u&&s){!function Z$(r){U0(r)&&(r.__curvenessList=[],r.__edgeMap={},Wv(r))}(this);var f=s6(u,s,this,!0,function d(v,g){v.wrapMethod("getItemModel",function(S){var T=c._categoriesModels[S.getShallow("category")];return T&&(T.parentModel=S.parentModel,S.parentModel=T),S});var m=Sn.prototype.getModel;function _(S,x){var D=m.call(this,S,x);return D.resolveParentPath=w,D}function w(S){if(S&&("label"===S[0]||"label"===S[1])){var x=S.slice();return"label"===S[0]?x[0]="edgeLabel":"label"===S[1]&&(x[1]="edgeLabel"),x}return S}g.wrapMethod("getItemModel",function(S){return S.resolveParentPath=w,S.getModel=_,S})});return H(f.edges,function(v){!function oB(r,t,e,o){if(U0(e)){var s=j0(r,t,e),u=e.__edgeMap,c=u[sI(s)];u[s]&&!c?u[s].isForward=!0:c&&u[s]&&(c.isForward=!0,u[s].isForward=!1),u[s]=u[s]||[],u[s].push(o)}}(v.node1,v.node2,this,v.dataIndex)},this),f.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,o,s){if("edge"===s){var u=this.getData(),c=this.getDataParams(e,s),f=u.graph.getEdgeByIndex(e),d=u.getName(f.node1.dataIndex),v=u.getName(f.node2.dataIndex),g=[];return null!=d&&g.push(d),null!=v&&g.push(v),Jr("nameValue",{name:g.join(" > "),value:c.value,noValue:null==c.value})}return Gk({series:this,dataIndex:e,multipleSeries:o})},t.prototype._updateCategoriesData=function(){var e=me(this.option.categories||[],function(s){return null!=s.value?s:ce({value:0},s)}),o=new oo(["value"],this);o.initData(e),this._categoriesData=o,this._categoriesModels=o.mapArray(function(s){return o.getItemModel(s)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Mn);const u6=l6;var c6={type:"graphRoam",event:"graphRoam",update:"none"},h6=function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},fB=function(r){function t(e){var o=r.call(this,e)||this;return o.type="pointer",o}return ae(t,r),t.prototype.getDefaultShape=function(){return new h6},t.prototype.buildPath=function(e,o){var s=Math.cos,u=Math.sin,c=o.r,f=o.width,d=o.angle,v=o.x-s(d)*f*(f>=c/3?1:2),g=o.y-u(d)*f*(f>=c/3?1:2);d=o.angle-Math.PI/2,e.moveTo(v,g),e.lineTo(o.x+s(d)*f,o.y+u(d)*f),e.lineTo(o.x+s(o.angle)*c,o.y+u(o.angle)*c),e.lineTo(o.x-s(d)*f,o.y-u(d)*f),e.lineTo(v,g)},t}(mt);const YC=fB;function Yv(r,t){var e=null==r?"":r+"";return t&&(xe(t)?e=t.replace("{value}",e):Ne(t)&&(e=t(r))),e}var Xv=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){this.group.removeAll();var u=e.get(["axisLine","lineStyle","color"]),c=function f6(r,t){var e=r.get("center"),o=t.getWidth(),s=t.getHeight(),u=Math.min(o,s);return{cx:Ce(e[0],t.getWidth()),cy:Ce(e[1],t.getHeight()),r:Ce(r.get("radius"),u/2)}}(e,s);this._renderMain(e,o,s,u,c),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,o,s,u,c){var f=this.group,d=e.get("clockwise"),v=-e.get("startAngle")/180*Math.PI,g=-e.get("endAngle")/180*Math.PI,m=e.getModel("axisLine"),w=m.get("roundCap")?uC:eo,S=m.get("show"),x=m.getModel("lineStyle"),D=x.get("width"),T=[v,g];BD(T,!d);for(var A=(g=T[1])-(v=T[0]),E=v,P=[],N=0;S&&N<u.length;N++){var F=new w({shape:{startAngle:E,endAngle:g=v+A*Math.min(Math.max(u[N][0],0),1),cx:c.cx,cy:c.cy,clockwise:d,r0:c.r-D,r:c.r},silent:!0});F.setStyle({fill:u[N][1]}),F.setStyle(x.getLineStyle(["color","width"])),P.push(F),E=g}P.reverse(),H(P,function(z){return f.add(z)});var B=function(z){if(z<=0)return u[0][1];var j;for(j=0;j<u.length;j++)if(u[j][0]>=z&&(0===j?0:u[j-1][0])<z)return u[j][1];return u[j-1][1]};this._renderTicks(e,o,s,B,c,v,g,d,D),this._renderTitleAndDetail(e,o,s,B,c),this._renderAnchor(e,c),this._renderPointer(e,o,s,B,c,v,g,d,D)},t.prototype._renderTicks=function(e,o,s,u,c,f,d,v,g){for(var K,Q,m=this.group,_=c.cx,w=c.cy,S=c.r,x=+e.get("min"),D=+e.get("max"),T=e.getModel("splitLine"),A=e.getModel("axisTick"),E=e.getModel("axisLabel"),P=e.get("splitNumber"),N=A.get("splitNumber"),k=Ce(T.get("length"),S),F=Ce(A.get("length"),S),B=f,z=(d-f)/P,j=z/N,W=T.getModel("lineStyle").getLineStyle(),q=A.getModel("lineStyle").getLineStyle(),Y=T.get("distance"),re=0;re<=P;re++){if(K=Math.cos(B),Q=Math.sin(B),T.get("show")){var se=new zr({shape:{x1:K*(S-(le=Y?Y+g:g))+_,y1:Q*(S-le)+w,x2:K*(S-k-le)+_,y2:Q*(S-k-le)+w},style:W,silent:!0});"auto"===W.stroke&&se.setStyle({stroke:u(re/P)}),m.add(se)}if(E.get("show")){var le=E.get("distance")+Y,de=Yv(Yn(re/P*(D-x)+x),E.get("formatter")),be=u(re/P),De=K*(S-k-le)+_,Fe=Q*(S-k-le)+w,$e=E.get("rotate"),We=0;"radial"===$e?(We=-B+2*Math.PI)>Math.PI/2&&(We+=Math.PI):"tangential"===$e?We=-B-Math.PI/2:kt($e)&&(We=$e*Math.PI/180),m.add(new Nt(0===We?{style:gn(E,{text:de,x:De,y:Fe,verticalAlign:Q<-.8?"top":Q>.8?"bottom":"middle",align:K<-.4?"left":K>.4?"right":"center"},{inheritColor:be}),silent:!0}:{style:gn(E,{text:de,x:De,y:Fe,verticalAlign:"middle",align:"center"},{inheritColor:be}),silent:!0,originX:De,originY:Fe,rotation:We}))}if(A.get("show")&&re!==P){le=(le=A.get("distance"))?le+g:g;for(var dt=0;dt<=N;dt++){K=Math.cos(B),Q=Math.sin(B);var Rt=new zr({shape:{x1:K*(S-le)+_,y1:Q*(S-le)+w,x2:K*(S-F-le)+_,y2:Q*(S-F-le)+w},silent:!0,style:q});"auto"===q.stroke&&Rt.setStyle({stroke:u((re+dt/N)/P)}),m.add(Rt),B+=j}B-=j}else B+=z}},t.prototype._renderPointer=function(e,o,s,u,c,f,d,v,g){var m=this.group,_=this._data,w=this._progressEls,S=[],x=e.get(["pointer","show"]),D=e.getModel("progress"),T=D.get("show"),A=e.getData(),E=A.mapDimension("value"),P=+e.get("min"),N=+e.get("max"),k=[P,N],F=[f,d];function B(j,W){var De,Y=A.getItemModel(j).getModel("pointer"),K=Ce(Y.get("width"),c.r),Q=Ce(Y.get("length"),c.r),re=e.get(["pointer","icon"]),le=Y.get("offsetCenter"),se=Ce(le[0],c.r),de=Ce(le[1],c.r),be=Y.get("keepAspect");return(De=re?ar(re,se-K/2,de-Q,K,Q,null,be):new YC({shape:{angle:-Math.PI/2,width:K,r:Q,x:se,y:de}})).rotation=-(W+Math.PI/2),De.x=c.cx,De.y=c.cy,De}function z(j,W){var Y=D.get("roundCap")?uC:eo,K=D.get("overlap"),Q=K?D.get("width"):g/A.count(),se=new Y({shape:{startAngle:f,endAngle:W,cx:c.cx,cy:c.cy,clockwise:v,r0:K?c.r-Q:c.r-(j+1)*Q,r:K?c.r:c.r-j*Q}});return K&&(se.z2=N-A.get(E,j)%N),se}(T||x)&&(A.diff(_).add(function(j){var W=A.get(E,j);if(x){var q=B(j,f);On(q,{rotation:-((isNaN(+W)?F[0]:on(W,k,F,!0))+Math.PI/2)},e),m.add(q),A.setItemGraphicEl(j,q)}if(T){var Y=z(j,f),K=D.get("clip");On(Y,{shape:{endAngle:on(W,k,F,K)}},e),m.add(Y),Np(e.seriesIndex,A.dataType,j,Y),S[j]=Y}}).update(function(j,W){var q=A.get(E,j);if(x){var Y=_.getItemGraphicEl(W),K=Y?Y.rotation:f,Q=B(j,K);Q.rotation=K,Yt(Q,{rotation:-((isNaN(+q)?F[0]:on(q,k,F,!0))+Math.PI/2)},e),m.add(Q),A.setItemGraphicEl(j,Q)}if(T){var re=w[W],se=z(j,re?re.shape.endAngle:f),de=D.get("clip");Yt(se,{shape:{endAngle:on(q,k,F,de)}},e),m.add(se),Np(e.seriesIndex,A.dataType,j,se),S[j]=se}}).execute(),A.each(function(j){var W=A.getItemModel(j),q=W.getModel("emphasis"),Y=q.get("focus"),K=q.get("blurScope"),Q=q.get("disabled");if(x){var re=A.getItemGraphicEl(j),le=A.getItemVisual(j,"style"),se=le.fill;if(re instanceof bn){var de=re.style;re.useStyle(ce({image:de.image,x:de.x,y:de.y,width:de.width,height:de.height},le))}else re.useStyle(le),"pointer"!==re.type&&re.setColor(se);re.setStyle(W.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===re.style.fill&&re.setStyle("fill",u(on(A.get(E,j),k,[0,1],!0))),re.z2EmphasisLift=0,Si(re,W),Jn(re,Y,K,Q)}if(T){var be=S[j];be.useStyle(A.getItemVisual(j,"style")),be.setStyle(W.getModel(["progress","itemStyle"]).getItemStyle()),be.z2EmphasisLift=0,Si(be,W),Jn(be,Y,K,Q)}}),this._progressEls=S)},t.prototype._renderAnchor=function(e,o){var s=e.getModel("anchor");if(s.get("show")){var c=s.get("size"),f=s.get("icon"),d=s.get("offsetCenter"),v=s.get("keepAspect"),g=ar(f,o.cx-c/2+Ce(d[0],o.r),o.cy-c/2+Ce(d[1],o.r),c,c,null,v);g.z2=s.get("showAbove")?1:0,g.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(g)}},t.prototype._renderTitleAndDetail=function(e,o,s,u,c){var f=this,d=e.getData(),v=d.mapDimension("value"),g=+e.get("min"),m=+e.get("max"),_=new Ze,w=[],S=[],x=e.isAnimationEnabled(),D=e.get(["pointer","showAbove"]);d.diff(this._data).add(function(T){w[T]=new Nt({silent:!0}),S[T]=new Nt({silent:!0})}).update(function(T,A){w[T]=f._titleEls[A],S[T]=f._detailEls[A]}).execute(),d.each(function(T){var A=d.getItemModel(T),E=d.get(v,T),P=new Ze,N=u(on(E,[g,m],[0,1],!0)),k=A.getModel("title");if(k.get("show")){var F=k.get("offsetCenter"),B=c.cx+Ce(F[0],c.r),z=c.cy+Ce(F[1],c.r);(j=w[T]).attr({z2:D?0:2,style:gn(k,{x:B,y:z,text:d.getName(T),align:"center",verticalAlign:"middle"},{inheritColor:N})}),P.add(j)}var W=A.getModel("detail");if(W.get("show")){var q=W.get("offsetCenter"),Y=c.cx+Ce(q[0],c.r),K=c.cy+Ce(q[1],c.r),Q=Ce(W.get("width"),c.r),re=Ce(W.get("height"),c.r),le=e.get(["progress","show"])?d.getItemVisual(T,"style").fill:N,j=S[T],se=W.get("formatter");j.attr({z2:D?0:2,style:gn(W,{x:Y,y:K,text:Yv(E,se),width:isNaN(Q)?null:Q,height:isNaN(re)?null:re,align:"center",verticalAlign:"middle"},{inheritColor:le})}),pT(j,{normal:W},E,function(be){return Yv(be,se)}),x&&db(j,T,d,e,{getFormattedLabel:function(be,De,Fe,$e,We,dt){return Yv(dt?dt.interpolatedValue:E,se)}}),P.add(j)}_.add(P)}),this.group.add(_),this._titleEls=w,this._detailEls=S},t.type="gauge",t}(vn);const wd=Xv;var xI=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return ae(t,r),t.prototype.getInitialData=function(e,o){return sd(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Mn);const dB=xI;var d6=["itemStyle","opacity"],vs=function(r){function t(e,o){var s=r.call(this)||this,u=s,c=new Ni,f=new Nt;return u.setTextContent(f),s.setTextGuideLine(c),s.updateData(e,o,!0),s}return ae(t,r),t.prototype.updateData=function(e,o,s){var u=this,c=e.hostModel,f=e.getItemModel(o),d=e.getItemLayout(o),v=f.getModel("emphasis"),g=f.get(d6);g=g??1,s||wa(u),u.useStyle(e.getItemVisual(o,"style")),u.style.lineJoin="round",s?(u.setShape({points:d.points}),u.style.opacity=0,On(u,{style:{opacity:g}},c,o)):Yt(u,{style:{opacity:g},shape:{points:d.points}},c,o),Si(u,f),this._updateLabel(e,o),Jn(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e,o){var s=this,u=this.getTextGuideLine(),c=s.getTextContent(),f=e.hostModel,d=e.getItemModel(o),g=e.getItemLayout(o).label,m=e.getItemVisual(o,"style"),_=m.fill;Li(c,Mr(d),{labelFetcher:e.hostModel,labelDataIndex:o,defaultOpacity:m.opacity,defaultText:e.getName(o)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),s.setTextConfig({local:!0,inside:!!g.inside,insideStroke:_,outsideFill:_});var w=g.linePoints;u.setShape({points:w}),s.textGuideLineConfig={anchor:w?new nt(w[0][0],w[0][1]):null},Yt(c,{style:{x:g.x,y:g.y}},f,o),c.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),ZS(s,bA(d),{stroke:_})},t}(to),XC=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=e.getData(),c=this._data,f=this.group;u.diff(c).add(function(d){var v=new vs(u,d);u.setItemGraphicEl(d,v),f.add(v)}).update(function(d,v){var g=c.getItemGraphicEl(v);g.updateData(u,d),f.add(g),u.setItemGraphicEl(d,g)}).remove(function(d){pu(c.getItemGraphicEl(d),e,d)}).execute(),this._data=u},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(vn);const pB=XC;var p6=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new ah(Me(this.getData,this),Me(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,o){return sd(this,{coordDimensions:["value"],encodeDefaulter:Je(Tb,this)})},t.prototype._defaultLabelLine=function(e){Xa(e,"labelLine",["show"]);var o=e.labelLine,s=e.emphasis.labelLine;o.show=o.show&&e.label.show,s.show=s.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var o=this.getData(),s=r.prototype.getDataParams.call(this,e),u=o.mapDimension("value"),c=o.getSum(u);return s.percent=c?+(o.get(u,e)/c*100).toFixed(2):0,s.$vars.push("percent"),s},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Mn);const bd=p6;function v6(r,t){r.eachSeriesByType("funnel",function(e){var o=e.getData(),s=o.mapDimension("value"),u=e.get("sort"),c=function dl(r,t){return Ar(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),f=e.get("orient"),d=c.width,v=c.height,g=function Ir(r,t){for(var e=r.mapDimension("value"),o=r.mapArray(e,function(d){return d}),s=[],u="ascending"===t,c=0,f=r.count();c<f;c++)s[c]=c;return Ne(t)?s.sort(t):"none"!==t&&s.sort(function(d,v){return u?o[d]-o[v]:o[v]-o[d]}),s}(o,u),m=c.x,_=c.y,w="horizontal"===f?[Ce(e.get("minSize"),v),Ce(e.get("maxSize"),v)]:[Ce(e.get("minSize"),d),Ce(e.get("maxSize"),d)],S=o.getDataExtent(s),x=e.get("min"),D=e.get("max");null==x&&(x=Math.min(S[0],0)),null==D&&(D=S[1]);var T=e.get("funnelAlign"),A=e.get("gap"),P=(("horizontal"===f?d:v)-A*(o.count()-1))/o.count(),N=function(K,Q){if("horizontal"===f){var le=on(o.get(s,K)||0,[x,D],w,!0),se=void 0;switch(T){case"top":se=_;break;case"center":se=_+(v-le)/2;break;case"bottom":se=_+(v-le)}return[[Q,se],[Q,se+le]]}var De,be=on(o.get(s,K)||0,[x,D],w,!0);switch(T){case"left":De=m;break;case"center":De=m+(d-be)/2;break;case"right":De=m+d-be}return[[De,Q],[De+be,Q]]};"ascending"===u&&(P=-P,A=-A,"horizontal"===f?m+=d:_+=v,g=g.reverse());for(var k=0;k<g.length;k++){var F=g[k],B=g[k+1],z=o.getItemModel(F);if("horizontal"===f){var j=z.get(["itemStyle","width"]);null==j?j=P:(j=Ce(j,d),"ascending"===u&&(j=-j));var W=N(F,m),q=N(B,m+j);m+=j+A,o.setItemLayout(F,{points:W.concat(q.slice().reverse())})}else{var Y=z.get(["itemStyle","height"]);null==Y?Y=P:(Y=Ce(Y,v),"ascending"===u&&(Y=-Y)),W=N(F,_),q=N(B,_+Y),_+=Y+A,o.setItemLayout(F,{points:W.concat(q.slice().reverse())})}}!function pl(r){var e=r.hostModel.get("orient");r.each(function(o){var m,_,w,S,s=r.getItemModel(o),c=s.getModel("label").get("position"),f=s.getModel("labelLine"),d=r.getItemLayout(o),v=d.points,g="inner"===c||"inside"===c||"center"===c||"insideLeft"===c||"insideRight"===c;if(g)"insideLeft"===c?(_=(v[0][0]+v[3][0])/2+5,w=(v[0][1]+v[3][1])/2,m="left"):"insideRight"===c?(_=(v[1][0]+v[2][0])/2-5,w=(v[1][1]+v[2][1])/2,m="right"):(_=(v[0][0]+v[1][0]+v[2][0]+v[3][0])/4,w=(v[0][1]+v[1][1]+v[2][1]+v[3][1])/4,m="center"),S=[[_,w],[_,w]];else{var x=void 0,D=void 0,T=void 0,A=void 0,E=f.get("length");"left"===c?(D=(v[3][1]+v[0][1])/2,_=(T=(x=(v[3][0]+v[0][0])/2)-E)-5,m="right"):"right"===c?(D=(v[1][1]+v[2][1])/2,_=(T=(x=(v[1][0]+v[2][0])/2)+E)+5,m="left"):"top"===c?(x=(v[3][0]+v[0][0])/2,w=(A=(D=(v[3][1]+v[0][1])/2)-E)-5,m="center"):"bottom"===c?(x=(v[1][0]+v[2][0])/2,w=(A=(D=(v[1][1]+v[2][1])/2)+E)+5,m="center"):"rightTop"===c?(x="horizontal"===e?v[3][0]:v[1][0],D="horizontal"===e?v[3][1]:v[1][1],"horizontal"===e?(w=(A=D-E)-5,m="center"):(_=(T=x+E)+5,m="top")):"rightBottom"===c?(x=v[2][0],D=v[2][1],"horizontal"===e?(w=(A=D+E)+5,m="center"):(_=(T=x+E)+5,m="bottom")):"leftTop"===c?(x=v[0][0],D="horizontal"===e?v[0][1]:v[1][1],"horizontal"===e?(w=(A=D-E)-5,m="center"):(_=(T=x-E)-5,m="right")):"leftBottom"===c?(x="horizontal"===e?v[1][0]:v[3][0],D="horizontal"===e?v[1][1]:v[2][1],"horizontal"===e?(w=(A=D+E)+5,m="center"):(_=(T=x-E)-5,m="right")):(x=(v[1][0]+v[2][0])/2,D=(v[1][1]+v[2][1])/2,"horizontal"===e?(w=(A=D+E)+5,m="center"):(_=(T=x+E)+5,m="left")),"horizontal"===e?_=T=x:w=A=D,S=[[x,D],[T,A]]}d.label={linePoints:S,x:_,y:w,verticalAlign:"middle",textAlign:m,inside:g}})}(o)})}var g6=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Ze,e._initialized=!1,e}return ae(t,r),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,o,s,u){this._progressiveEls=null;var c=this._dataGroup,f=e.getData(),d=this._data,v=e.coordinateSystem,g=v.dimensions,m=Ft(e);if(f.diff(d).add(function _(D){Sd(TI(f,c,D,g,v),f,D,m)}).update(function w(D,T){var A=d.getItemGraphicEl(T),E=Kv(f,D,g,v);f.setItemGraphicEl(D,A),Yt(A,{shape:{points:E}},e,D),wa(A),Sd(A,f,D,m)}).remove(function S(D){var T=d.getItemGraphicEl(D);c.remove(T)}).execute(),!this._initialized){this._initialized=!0;var x=function m6(r,t,e){var o=r.model,s=r.getRect(),u=new Ot({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),c="horizontal"===o.get("layout")?"width":"height";return u.setShape(c,0),On(u,{shape:{width:s.width,height:s.height}},t,e),u}(v,e,function(){setTimeout(function(){c.removeClipPath()})});c.setClipPath(x)}this._data=f},t.prototype.incrementalPrepareRender=function(e,o,s){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,o,s){for(var u=o.getData(),c=o.coordinateSystem,f=c.dimensions,d=Ft(o),v=this._progressiveEls=[],g=e.start;g<e.end;g++){var m=TI(u,this._dataGroup,g,f,c);m.incremental=!0,Sd(m,u,g,d),v.push(m)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(vn);function Kv(r,t,e,o){for(var s=[],u=0;u<e.length;u++){var c=e[u],f=r.get(r.mapDimension(c),t);y6(f,o.getAxis(c).type)||s.push(o.dataToPoint(f,c))}return s}function TI(r,t,e,o,s){var u=Kv(r,e,o,s),c=new Ni({shape:{points:u},z2:10});return t.add(c),r.setItemGraphicEl(e,c),c}function Ft(r){var t=r.get("smooth",!0);return!0===t&&(t=.3),cc(t=Ws(t))&&(t=0),{smooth:t}}function Sd(r,t,e,o){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",o.smooth);var s=t.getItemModel(e),u=s.getModel("emphasis");Si(r,s,"lineStyle"),Jn(r,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function y6(r,t){return"category"===t?null==r:null==r||isNaN(r)}const Qv=g6;var _6=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return ae(t,r),t.prototype.getInitialData=function(e,o){return us(null,this,{useEncodeDefaulter:Me(w6,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var o=this.coordinateSystem,s=this.getData(),u=[];return o.eachActiveState(s,function(c,f){e===c&&u.push(s.getRawIndex(f))}),u},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Mn);function w6(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return H(t.dimensions,function(o){var s=function vl(r){return+r.replace("dim","")}(o);e[o]=s}),e}}const gB=_6;var mB=["lineStyle","opacity"],_h={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,o={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(s,u){e.eachActiveState(u,function(c,f){var d=o[c];if("normal"===c&&u.hasItemOption){var v=u.getItemModel(f).get(mB,!0);null!=v&&(d=v)}u.ensureUniqueItemVisual(f,"style").opacity=d},s.start,s.end)}}}};const b6=_h;function yB(r){(function _B(r){if(!r.parallel){var t=!1;H(r.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(r.parallel=[{}])}})(r),function S6(r){H(nn(r.parallelAxis),function(e){if(Ue(e)){var o=e.parallelIndex||0,s=nn(r.parallel)[o];s&&s.parallelAxisDefault&&tt(e,s.parallelAxisDefault,!1)}})}(r)}var C6=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){this._model=e,this._api=s,this._handlers||(this._handlers={},H(bB,function(u,c){s.getZr().on(c,this._handlers[c]=Me(u,this))},this)),Gf(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,o){By(this,"_throttledDispatchExpand"),H(this._handlers,function(s,u){o.getZr().off(u,s)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(ce({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Bn),bB={mousedown:function(r){KC(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var t=this._mouseDownPoint;if(KC(this,"click")&&t){var e=[r.offsetX,r.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);"none"!==s.behavior&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!this._mouseDownPoint&&KC(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),o=e.behavior;"jump"===o&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===o?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===o?null:{duration:0}})}}};function KC(r,t){var e=r._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}const QC=C6;var Jv=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&tt(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,o){var s=e.get("parallelIndex");return null!=s&&o.getComponent("parallel",s)===this},t.prototype.setAxisExpand=function(e){H(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){e.hasOwnProperty(o)&&(this.option[o]=e[o])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],o=this.parallelAxisIndex=[];H(Wt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(u){return(u.get("parallelIndex")||0)===this.componentIndex},this),function(u){e.push("dim"+u.get("dim")),o.push(u.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Lt);const En=Jv;var X0=function(r){function t(e,o,s,u,c){var f=r.call(this,e,o,s)||this;return f.type=u||"value",f.axisIndex=c,f}return ae(t,r),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Ia);const x6=X0;function na(r,t,e,o,s,u){r=r||0;var c=e[1]-e[0];if(null!=s&&(s=gl(s,[0,c])),null!=u&&(u=Math.max(u,s??0)),"all"===o){var f=Math.abs(t[1]-t[0]);f=gl(f,[0,c]),s=u=gl(f,[s,u]),o=0}t[0]=gl(t[0],e),t[1]=gl(t[1],e);var d=MI(t,o);t[o]+=r;var m,v=s||0,g=e.slice();return d.sign<0?g[0]+=v:g[1]-=v,t[o]=gl(t[o],g),m=MI(t,o),null!=s&&(m.sign!==d.sign||m.span<s)&&(t[1-o]=t[o]+d.sign*s),m=MI(t,o),null!=u&&m.span>u&&(t[1-o]=t[o]+m.sign*u),t}function MI(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function gl(r,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,r))}var K0=H,SB=Math.min,Q0=Math.max,eg=Math.floor,CB=Math.ceil,J0=Yn,D6=Math.PI,AI=function(){function r(t,e,o){this.type="parallel",this._axesMap=Re(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,o)}return r.prototype._init=function(t,e,o){var u=t.parallelAxisIndex;K0(t.dimensions,function(c,f){var d=u[f],v=e.getComponent("parallelAxis",d),g=this._axesMap.set(c,new x6(c,c0(v),[0,0],v.get("type"),d));g.onBand="category"===g.type&&v.get("boundaryGap"),g.inverse=v.get("inverse"),v.axis=g,g.model=v,g.coordinateSystem=v.coordinateSystem=this},this)},r.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},r.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),o=e.axisBase,s=e.layoutBase,u=e.pixelDimIndex,c=t[1-u],f=t[u];return c>=o&&c<=o+e.axisLength&&f>=s&&f<=s+e.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(o){if(t.contains(o,e)){var s=o.getData();K0(this.dimensions,function(u){var c=this._axesMap.get(u);c.scale.unionExtentFromData(s,s.mapDimension(u)),eh(c.scale,c.model)},this)}},this)},r.prototype.resize=function(t,e){this._rect=Ar(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var S,t=this._model,e=this._rect,o=["x","y"],s=["width","height"],u=t.get("layout"),c="horizontal"===u?0:1,f=e[s[c]],d=[0,f],v=this.dimensions.length,g=Cd(t.get("axisExpandWidth"),d),m=Cd(t.get("axisExpandCount")||0,[0,v]),_=t.get("axisExpandable")&&v>3&&v>m&&m>1&&g>0&&f>0,w=t.get("axisExpandWindow");w?(S=Cd(w[1]-w[0],d),w[1]=w[0]+S):(S=Cd(g*(m-1),d),(w=[g*(t.get("axisExpandCenter")||eg(v/2))-S/2])[1]=w[0]+S);var D=(f-S)/(v-m);D<3&&(D=0);var T=[eg(J0(w[0]/g,1))+1,CB(J0(w[1]/g,1))-1];return{layout:u,pixelDimIndex:c,layoutBase:e[o[c]],layoutLength:f,axisBase:e[o[1-c]],axisLength:e[s[1-c]],axisExpandable:_,axisExpandWidth:g,axisCollapseWidth:D,axisExpandWindow:w,axisCount:v,winInnerIndices:T,axisExpandWindow0Pos:D/g*w[0]}},r.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,o=this.dimensions,s=this._makeLayoutInfo(),u=s.layout;e.each(function(c){var f=[0,s.axisLength],d=c.inverse?1:0;c.setExtent(f[d],f[1-d])}),K0(o,function(c,f){var d=(s.axisExpandable?DB:xB)(f,s),v={horizontal:{x:d.position,y:s.axisLength},vertical:{x:0,y:d.position}},m=[v[u].x+t.x,v[u].y+t.y],_={horizontal:D6/2,vertical:0}[u],w=[1,0,0,1,0,0];wo(w,w,_),Ie(w,w,m),this._axesLayout[c]={position:m,rotation:_,transform:w,axisNameAvailableWidth:d.axisNameAvailableWidth,axisLabelShow:d.axisLabelShow,nameTruncateMaxWidth:d.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(t){return this._axesMap.get(t)},r.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},r.prototype.eachActiveState=function(t,e,o,s){null==o&&(o=0),null==s&&(s=t.count());var u=this._axesMap,c=this.dimensions,f=[],d=[];H(c,function(D){f.push(t.mapDimension(D)),d.push(u.get(D).model)});for(var v=this.hasAxisBrushed(),g=o;g<s;g++){var m=void 0;if(v){m="active";for(var _=t.getValues(f,g),w=0,S=c.length;w<S;w++)if("inactive"===d[w].getActiveState(_[w])){m="inactive";break}}else m="normal";e(m,g)}},r.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,o=!1,s=0,u=t.length;s<u;s++)"normal"!==e.get(t[s]).model.getActiveState()&&(o=!0);return o},r.prototype.axisCoordToPoint=function(t,e){return Da([t,0],this._axesLayout[e].transform)},r.prototype.getAxisLayout=function(t){return Ge(this._axesLayout[t])},r.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),o=e.pixelDimIndex,s=e.axisExpandWindow.slice(),u=s[1]-s[0],c=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:s};var d,f=t[o]-e.layoutBase-e.axisExpandWindow0Pos,v="slide",g=e.axisCollapseWidth,m=this._model.get("axisExpandSlideTriggerArea"),_=null!=m[0];if(g)_&&g&&f<u*m[0]?(v="jump",d=f-u*m[2]):_&&g&&f>u*(1-m[0])?(v="jump",d=f-u*(1-m[2])):(d=f-u*m[1])>=0&&(d=f-u*(1-m[1]))<=0&&(d=0),(d*=e.axisExpandWidth/g)?na(d,s,c,"all"):v="none";else{var w=s[1]-s[0];(s=[Q0(0,c[1]*f/w-w/2)])[1]=SB(c[1],s[0]+w),s[0]=s[1]-w}return{axisExpandWindow:s,behavior:v}},r}();function Cd(r,t){return SB(Q0(r,t[0]),t[1])}function xB(r,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*r,axisNameAvailableWidth:e,axisLabelShow:!0}}function DB(r,t){var f,g,o=t.axisExpandWidth,u=t.axisCollapseWidth,c=t.winInnerIndices,d=u,v=!1;return r<c[0]?(f=r*u,g=u):r<=c[1]?(f=t.axisExpandWindow0Pos+r*o-t.axisExpandWindow[0],d=o,v=!0):(f=t.layoutLength-(t.axisCount-1-r)*u,g=u),{position:f,axisNameAvailableWidth:d,axisLabelShow:v,nameTruncateMaxWidth:g}}const T6=AI;var A6={create:function M6(r,t){var e=[];return r.eachComponent("parallel",function(o,s){var u=new T6(o,r,t);u.name="parallel_"+s,u.resize(o,t),o.coordinateSystem=u,u.model=o,e.push(u)}),r.eachSeries(function(o){if("parallel"===o.get("coordinateSystem")){var s=o.getReferringComponents("parallel",gr).models[0];o.coordinateSystem=s.coordinateSystem}}),e}};const EI=A6;var TB=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return ae(t,r),t.prototype.getAreaSelectStyle=function(){return xc([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var o=this.activeIntervals=Ge(e);if(o)for(var s=o.length-1;s>=0;s--)Co(o[s])},t.prototype.getActiveState=function(e){var o=this.activeIntervals;if(!o.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===o.length){var s=o[0];if(s[0]<=e&&e<=s[1])return"active"}else for(var u=0,c=o.length;u<c;u++)if(o[u][0]<=e&&e<=o[u][1])return"active";return"inactive"},t}(Lt);Zn(TB,ed);const MB=TB;var xd=!0,e_=Math.min,tg=Math.max,E6=Math.pow,I6=1e4,AB=6,EB=6,IB="globalPan",Dd={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},P6={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},II={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},PB=0,JC=function(r){function t(e){var o=r.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=e,o.group=new Ze,o._uid="brushController_"+PB++,H(k6,function(s,u){this._handlers[u]=Me(s,this)},o),o}return ae(t,r),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var o=this._zr;this._enableGlobalPan||function $W(r,t,e){lV(r)[t]=e}(o,IB,this._uid),H(this._handlers,function(s,u){o.on(u,s)}),this._brushType=e.brushType,this._brushOption=tt(Ge(II),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;(function sV(r,t,e){var o=lV(r);o[t]===e&&(o[t]=null)})(e,IB,this._uid),H(this._handlers,function(o,s){e.off(s,o)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var o=this._panels={};H(e,function(s){o[s.panelId]=Ge(s)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=o.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=me(e,function(_){return tt(Ge(II),_,!0)});var s=this._covers,u=this._covers=[],c=this,f=this._creatingCover;return new Ru(s,e,function v(_,w){return d(_.__brushOption,w)},d).add(g).update(g).remove(function m(_){s[_]!==f&&c.group.remove(s[_])}).execute(),this;function d(_,w){return(null!=_.id?_.id:"\0-brush-index-"+w)+"-"+_.brushType}function g(_,w){var S=e[_];if(null!=w&&s[w]===f)u[_]=s[w];else{var x=u[_]=null!=w?(s[w].__brushOption=S,s[w]):e1(c,ng(c,S));RI(c,x)}}},t.prototype.unmount=function(){return this.enableBrush(!1),OI(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(yo);function ng(r,t){var e=r_[t.brushType].createCover(r,t);return e.__brushOption=t,LI(e,t),r.group.add(e),e}function e1(r,t){var e=rg(t);return e.endCreating&&(e.endCreating(r,t),LI(t,t.__brushOption)),t}function PI(r,t){var e=t.__brushOption;rg(t).updateCoverShape(r,t,e.range,e)}function LI(r,t){var e=t.z;null==e&&(e=I6),r.traverse(function(o){o.z=e,o.z2=e})}function RI(r,t){rg(t).updateCommon(r,t),PI(r,t)}function rg(r){return r_[r.__brushOption.brushType]}function kI(r,t,e){var o=r._panels;if(!o)return xd;var s,u=r._transform;return H(o,function(c){c.isTargetByCursor(t,e,u)&&(s=c)}),s}function LB(r,t){var e=r._panels;if(!e)return xd;var o=t.__brushOption.panelId;return null!=o?e[o]:xd}function OI(r){var t=r._covers,e=t.length;return H(t,function(o){r.group.remove(o)},r),t.length=0,!!e}function wh(r,t){var e=me(r._covers,function(o){var s=o.__brushOption,u=Ge(s.range);return{brushType:s.brushType,panelId:s.panelId,range:u}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function RB(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function t1(r,t,e,o){var s=new Ze;return s.add(new Ot({name:"main",style:Td(e),silent:!0,draggable:!0,cursor:"move",drift:Je(Md,r,t,s,["n","s","w","e"]),ondragend:Je(wh,t,{isEnd:!0})})),H(o,function(u){s.add(new Ot({name:u.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Je(Md,r,t,s,u),ondragend:Je(wh,t,{isEnd:!0})}))}),s}function kB(r,t,e,o){var s=o.brushStyle.lineWidth||0,u=tg(s,EB),c=e[0][0],f=e[1][0],d=c-s/2,v=f-s/2,g=e[0][1],m=e[1][1],_=g-u+s/2,w=m-u+s/2,S=g-c,x=m-f,D=S+s,T=x+s;ml(r,t,"main",c,f,S,x),o.transformable&&(ml(r,t,"w",d,v,u,T),ml(r,t,"e",_,v,u,T),ml(r,t,"n",d,v,D,u),ml(r,t,"s",d,w,D,u),ml(r,t,"nw",d,v,u,u),ml(r,t,"ne",_,v,u,u),ml(r,t,"sw",d,w,u,u),ml(r,t,"se",_,w,u,u))}function n1(r,t){var e=t.__brushOption,o=e.transformable,s=t.childAt(0);s.useStyle(Td(e)),s.attr({silent:!o,cursor:o?"move":"default"}),H([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(u){var c=t.childOfName(u.join("")),f=1===u.length?yl(r,u[0]):function n_(r,t){var e=[yl(r,t[0]),yl(r,t[1])];return("e"===e[0]||"w"===e[0])&&e.reverse(),e.join("")}(r,u);c&&c.attr({silent:!o,invisible:!o,cursor:o?P6[f]+"-resize":null})})}function ml(r,t,e,o,s,u,c){var f=t.childOfName(e);f&&f.setShape(function L6(r){var t=e_(r[0][0],r[1][0]),e=e_(r[0][1],r[1][1]);return{x:t,y:e,width:tg(r[0][0],r[1][0])-t,height:tg(r[0][1],r[1][1])-e}}(FI(r,t,[[o,s],[o+u,s+c]])))}function Td(r){return Ve({strokeNoScale:!0},r.brushStyle)}function gs(r,t,e,o){var s=[e_(r,e),e_(t,o)],u=[tg(r,e),tg(t,o)];return[[s[0],u[0]],[s[1],u[1]]]}function yl(r,t){var s=Ry({w:"left",e:"right",n:"top",s:"bottom"}[t],function r1(r){return Au(r.group)}(r));return{left:"w",right:"e",top:"n",bottom:"s"}[s]}function Md(r,t,e,o,s,u){var c=e.__brushOption,f=r.toRectRange(c.range),d=NI(t,s,u);H(o,function(v){var g=Dd[v];f[g[0]][g[1]]+=d[g[0]]}),c.range=r.fromRectRange(gs(f[0][0],f[1][0],f[0][1],f[1][1])),RI(t,e),wh(t,{isEnd:!1})}function o1(r,t,e,o){var s=t.__brushOption.range,u=NI(r,e,o);H(s,function(c){c[0]+=u[0],c[1]+=u[1]}),RI(r,t),wh(r,{isEnd:!1})}function NI(r,t,e){var o=r.group,s=o.transformCoordToLocal(t,e),u=o.transformCoordToLocal(0,0);return[s[0]-u[0],s[1]-u[1]]}function FI(r,t,e){var o=LB(r,t);return o&&o!==xd?o.clipPath(e,r._transform):Ge(e)}function VI(r){var t=r.event;t.preventDefault&&t.preventDefault()}function BI(r,t,e){return r.childOfName("main").contain(t,e)}function OB(r,t,e,o){var f,s=r._creatingCover,u=r._creatingPanel,c=r._brushOption;if(r._track.push(e.slice()),function t_(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],o=t[0],s=e[0]-o[0],u=e[1]-o[1];return E6(s*s+u*u,.5)>AB}(r)||s){if(u&&!s){"single"===c.brushMode&&OI(r);var d=Ge(c);d.brushType=NB(d.brushType,u),d.panelId=u===xd?null:u.panelId,s=r._creatingCover=ng(r,d),r._covers.push(s)}if(s){var v=r_[NB(r._brushType,u)];s.__brushOption.range=v.getCreatingRange(FI(r,s,r._track)),o&&(e1(r,s),v.updateCommon(r,s)),PI(r,s),f={isEnd:o}}}else o&&"single"===c.brushMode&&c.removeOnClick&&kI(r,t,e)&&OI(r)&&(f={isEnd:o,removeOnClick:!0});return f}function NB(r,t){return"auto"===r?t.defaultBrushType:r}var k6={mousedown:function(r){if(this._dragging)FB(this,r);else if(!r.target||!r.target.draggable){VI(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null,(this._creatingPanel=kI(this,r,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var o=this.group.transformCoordToLocal(r.offsetX,r.offsetY);if(function R6(r,t,e){if(r._brushType&&!function O6(r,t,e){var o=r._zr;return t<0||t>o.getWidth()||e<0||e>o.getHeight()}(r,t.offsetX,t.offsetY)){var o=r._zr,s=r._covers,u=kI(r,t,e);if(!r._dragging)for(var c=0;c<s.length;c++){var f=s[c].__brushOption;if(u&&(u===xd||f.panelId===u.panelId)&&r_[f.brushType].contain(s[c],e[0],e[1]))return}u&&o.setCursorStyle("crosshair")}}(this,r,o),this._dragging){VI(r);var s=OB(this,r,o,!1);s&&wh(this,s)}},mouseup:function(r){FB(this,r)}};function FB(r,t){if(r._dragging){VI(t);var s=r.group.transformCoordToLocal(t.offsetX,t.offsetY),u=OB(r,t,s,!0);r._dragging=!1,r._track=[],r._creatingCover=null,u&&wh(r,u)}}var r_={lineX:a1(0),lineY:a1(1),rect:{createCover:function(r,t){function e(o){return o}return t1({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=RB(r);return gs(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,o){kB(r,t,e,o)},updateCommon:n1,contain:BI},polygon:{createCover:function(r,t){var e=new Ze;return e.add(new Ni({name:"main",style:Td(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new to({name:"main",draggable:!0,drift:Je(o1,r,t),ondragend:Je(wh,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,o){t.childAt(0).setShape({points:FI(r,t,e)})},updateCommon:n1,contain:BI}};function a1(r){return{createCover:function(t,e){return t1({toRectRange:function(o){var s=[o,[0,100]];return r&&s.reverse(),s},fromRectRange:function(o){return o[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=RB(t);return[e_(e[0][r],e[1][r]),tg(e[0][r],e[1][r])]},updateCoverShape:function(t,e,o,s){var u,c=LB(t,e);if(c!==xd&&c.getLinearBrushOtherExtent)u=c.getLinearBrushOtherExtent(r);else{var f=t._zr;u=[0,[f.getWidth(),f.getHeight()][1-r]]}var d=[o,u];r&&d.reverse(),kB(t,e,d,s)},updateCommon:n1,contain:BI}}const i_=JC;function N6(r){return r=s1(r),function(t){return sM(t,r)}}function VB(r,t){return r=s1(r),function(e){var o=t??e,u=o?r.x:r.y;return[u,u+((o?r.width:r.height)||0)]}}function ig(r,t,e){var o=s1(r);return function(s,u){return o.contain(u[0],u[1])&&!DC(s,t,e)}}function s1(r){return Xe.create(r)}var zI=["axisLine","axisTickLabel","axisName"],HI=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e,o){r.prototype.init.apply(this,arguments),(this._brushController=new i_(o.getZr())).on("brush",Me(this._onBrush,this))},t.prototype.render=function(e,o,s,u){if(!function $u(r,t,e){return e&&"axisAreaSelect"===e.type&&t.findComponents({mainType:"parallelAxis",query:e})[0]===r}(e,o,u)){this.axisModel=e,this.api=s,this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new Ze,this.group.add(this._axisGroup),e.get("show")){var f=function BB(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}(e,o),d=f.coordinateSystem,v=e.getAreaSelectStyle(),g=v.width,w=ce({strokeContainThreshold:g},d.getAxisLayout(e.axis.dim)),S=new uh(e,w);H(zI,S.add,S),this._axisGroup.add(S.getGroup()),this._refreshBrushController(w,v,e,f,g,s),Oy(c,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,o,s,u,c,f){var d=s.axis.getExtent(),v=d[1]-d[0],g=Math.min(30,.1*Math.abs(v)),m=Xe.create({x:d[0],y:-c/2,width:v,height:c});m.x-=g,m.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:N6(m),isTargetByCursor:ig(m,f,u),getLinearBrushOtherExtent:VB(m,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(function og(r){var t=r.axis;return me(r.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(s))},t.prototype._onBrush=function(e){var s=this.axisModel,u=s.axis,c=me(e.areas,function(f){return[u.coordToData(f.range[0],!0),u.coordToData(f.range[1],!0)]});(!s.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:s.id,intervals:c})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Bn);const zB=HI;var F6={type:"axisAreaSelect",event:"axisAreaSelected"},HB={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function GB(r){r.registerComponentView(QC),r.registerComponentModel(En),r.registerCoordinateSystem("parallel",EI),r.registerPreprocessor(yB),r.registerComponentModel(MB),r.registerComponentView(zB),Lv(r,"parallel",MB,HB),function ag(r){r.registerAction(F6,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(o){o.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(o){o.setAxisExpand(t)})})}(r)}var UB=function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},GI=function(r){function t(e){return r.call(this,e)||this}return ae(t,r),t.prototype.getDefaultShape=function(){return new UB},t.prototype.buildPath=function(e,o){var s=o.extent;e.moveTo(o.x1,o.y1),e.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),"vertical"===o.orient?(e.lineTo(o.x2+s,o.y2),e.bezierCurveTo(o.cpx2+s,o.cpy2,o.cpx1+s,o.cpy1,o.x1+s,o.y1)):(e.lineTo(o.x2,o.y2+s),e.bezierCurveTo(o.cpx2,o.cpy2+s,o.cpx1,o.cpy1+s,o.x1,o.y1+s)),e.closePath()},t.prototype.highlight=function(){fu(this)},t.prototype.downplay=function(){Xs(this)},t}(mt),jB=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=this,c=e.getGraph(),f=this.group,d=e.layoutInfo,v=d.width,g=d.height,m=e.getData(),_=e.getData("edge"),w=e.get("orient");this._model=e,f.removeAll(),f.x=d.x,f.y=d.y,c.eachEdge(function(S){var x=new GI,D=et(x);D.dataIndex=S.dataIndex,D.seriesIndex=e.seriesIndex,D.dataType="edge";var Y,K,Q,re,le,se,de,be,T=S.getModel(),A=T.getModel("lineStyle"),E=A.get("curveness"),P=S.node1.getLayout(),N=S.node1.getModel(),k=N.get("localX"),F=N.get("localY"),B=S.node2.getLayout(),z=S.node2.getModel(),j=z.get("localX"),W=z.get("localY"),q=S.getLayout();x.shape.extent=Math.max(1,q.dy),x.shape.orient=w,"vertical"===w?(le=Y=(null!=k?k*v:P.x)+q.sy,se=(K=(null!=F?F*g:P.y)+P.dy)*(1-E)+(re=null!=W?W*g:B.y)*E,de=Q=(null!=j?j*v:B.x)+q.ty,be=K*E+re*(1-E)):(le=(Y=(null!=k?k*v:P.x)+P.dx)*(1-E)+(Q=null!=j?j*v:B.x)*E,se=K=(null!=F?F*g:P.y)+q.sy,de=Y*E+Q*(1-E),be=re=(null!=W?W*g:B.y)+q.ty),x.setShape({x1:Y,y1:K,x2:Q,y2:re,cpx1:le,cpy1:se,cpx2:de,cpy2:be}),x.useStyle(A.getItemStyle()),u1(x.style,w,S);var De=""+T.get("value"),Fe=Mr(T,"edgeLabel");Li(x,Fe,{labelFetcher:{getFormattedLabel:function(dt,Rt,yt,Ke,_t,st){return e.getFormattedLabel(dt,Rt,"edge",Ke,Gn(_t,Fe.normal&&Fe.normal.get("formatter"),De),st)}},labelDataIndex:S.dataIndex,defaultText:De}),x.setTextConfig({position:"inside"});var $e=T.getModel("emphasis");Si(x,T,"lineStyle",function(dt){var Rt=dt.getItemStyle();return u1(Rt,w,S),Rt}),f.add(x),_.setItemGraphicEl(S.dataIndex,x);var We=$e.get("focus");Jn(x,"adjacency"===We?S.getAdjacentDataIndices():"trajectory"===We?S.getTrajectoryDataIndices():We,$e.get("blurScope"),$e.get("disabled"))}),c.eachNode(function(S){var x=S.getLayout(),D=S.getModel(),T=D.get("localX"),A=D.get("localY"),E=D.getModel("emphasis"),P=new Ot({shape:{x:null!=T?T*v:x.x,y:null!=A?A*g:x.y,width:x.dx,height:x.dy},style:D.getModel("itemStyle").getItemStyle(),z2:10});Li(P,Mr(D),{labelFetcher:{getFormattedLabel:function(k,F){return e.getFormattedLabel(k,F,"node")}},labelDataIndex:S.dataIndex,defaultText:S.id}),P.disableLabelAnimation=!0,P.setStyle("fill",S.getVisual("color")),P.setStyle("decal",S.getVisual("style").decal),Si(P,D),f.add(P),m.setItemGraphicEl(S.dataIndex,P),et(P).dataType="node";var N=E.get("focus");Jn(P,"adjacency"===N?S.getAdjacentDataIndices():"trajectory"===N?S.getTrajectoryDataIndices():N,E.get("blurScope"),E.get("disabled"))}),m.eachItemGraphicEl(function(S,x){m.getItemModel(x).get("draggable")&&(S.drift=function(T,A){u._focusAdjacencyDisabled=!0,this.shape.x+=T,this.shape.y+=A,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:m.getRawIndex(x),localX:this.shape.x/v,localY:this.shape.y/g})},S.ondragend=function(){u._focusAdjacencyDisabled=!1},S.draggable=!0,S.cursor="move")}),!this._data&&e.isAnimationEnabled()&&f.setClipPath(function UI(r,t,e){var o=new Ot({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return On(o,{shape:{width:r.width+20}},t,e),o}(f.getBoundingRect(),e,function(){f.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(vn);function u1(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var o=e.node1.getVisual("color"),s=e.node2.getVisual("color");xe(o)&&xe(s)&&(r.fill=new cv(0,0,+("horizontal"===t),+("vertical"===t),[{color:o,offset:0},{color:s,offset:1}]))}}const jI=jB;var V6=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.getInitialData=function(e,o){var s=e.edges||e.links,u=e.data||e.nodes,c=e.levels;this.levelModels=[];for(var f=this.levelModels,d=0;d<c.length;d++)null!=c[d].depth&&c[d].depth>=0&&(f[c[d].depth]=new Sn(c[d],this,o));if(u&&s)return s6(u,s,this,!0,function g(m,_){m.wrapMethod("getItemModel",function(w,S){var x=w.parentModel,D=x.getData().getItemLayout(S);if(D){var A=x.levelModels[D.depth];A&&(w.parentModel=A)}return w}),_.wrapMethod("getItemModel",function(w,S){var x=w.parentModel,T=x.getGraph().getEdgeByIndex(S).node1.getLayout();if(T){var E=x.levelModels[T.depth];E&&(w.parentModel=E)}return w})}).data},t.prototype.setNodePosition=function(e,o){var u=(this.option.data||this.option.nodes)[e];u.localX=o[0],u.localY=o[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,o,s){function u(w){return isNaN(w)||null==w}if("edge"===s){var c=this.getDataParams(e,s),f=c.data,d=c.value;return Jr("nameValue",{name:f.source+" -- "+f.target,value:d,noValue:u(d)})}var m=this.getGraph().getNodeByIndex(e).getLayout().value,_=this.getDataParams(e,s).data.name;return Jr("nameValue",{name:null!=_?_+"":null,value:m,noValue:u(m)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,o){var s=r.prototype.getDataParams.call(this,e,o);if(null==s.value&&"node"===o){var c=this.getGraph().getNodeByIndex(e).getLayout().value;s.value=c}return s},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Mn);const c1=V6;function WB(r,t){r.eachSeriesByType("sankey",function(e){var o=e.get("nodeWidth"),s=e.get("nodeGap"),u=function B6(r,t){return Ar(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=u;var c=u.width,f=u.height,d=e.getGraph(),v=d.nodes,g=d.edges;!function z6(r){H(r,function(t){var e=_l(t.outEdges,f1),o=_l(t.inEdges,f1),s=t.getValue()||0,u=Math.max(e,o,s);t.setLayout({value:u},!0)})}(v),function o_(r,t,e,o,s,u,c,f,d){(function H6(r,t,e,o,s,u,c){for(var f=[],d=[],v=[],g=[],m=0,_=0;_<t.length;_++)f[_]=1;for(_=0;_<r.length;_++)d[_]=r[_].inEdges.length,0===d[_]&&v.push(r[_]);for(var w=-1;v.length;){for(var S=0;S<v.length;S++){var x=v[S],D=x.hostGraph.data.getRawDataItem(x.dataIndex),T=null!=D.depth&&D.depth>=0;T&&D.depth>w&&(w=D.depth),x.setLayout({depth:T?D.depth:m},!0),x.setLayout("vertical"===u?{dy:e}:{dx:e},!0);for(var A=0;A<x.outEdges.length;A++){var E=x.outEdges[A];f[t.indexOf(E)]=0;var N=E.node2;0==--d[r.indexOf(N)]&&g.indexOf(N)<0&&g.push(N)}}++m,v=g,g=[]}for(_=0;_<f.length;_++)if(1===f[_])throw new Error("Sankey is a DAG, the original data has cycle!");var F=w>m-1?w:m-1;c&&"left"!==c&&function $B(r,t,e,o){if("right"===t){for(var s=[],u=r,c=0;u.length;){for(var f=0;f<u.length;f++){var d=u[f];d.setLayout({skNodeHeight:c},!0);for(var v=0;v<d.inEdges.length;v++){var g=d.inEdges[v];s.indexOf(g.node1)<0&&s.push(g.node1)}}u=s,s=[],++c}H(r,function(m){h1(m)||m.setLayout({depth:Math.max(0,o-m.getLayout().skNodeHeight)},!0)})}else"justify"===t&&function qB(r,t){H(r,function(e){!h1(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}(r,o)}(r,c,0,F),function G6(r,t,e){H(r,function(o){var s=o.getLayout().depth*t;o.setLayout("vertical"===e?{y:s}:{x:s},!0)})}(r,"vertical"===u?(s-e)/F:(o-e)/F,u)})(r,t,e,s,u,f,d),function ZB(r,t,e,o,s,u,c){var f=function YB(r,t){var e=[],o="vertical"===t?"y":"x",s=au(r,function(u){return u.getLayout()[o]});return s.keys.sort(function(u,c){return u-c}),H(s.keys,function(u){e.push(s.buckets.get(u))}),e}(r,c);(function U6(r,t,e,o,s,u){var c=1/0;H(r,function(f){var d=f.length,v=0;H(f,function(m){v+=m.getLayout().value});var g="vertical"===u?(o-(d-1)*s)/v:(e-(d-1)*s)/v;g<c&&(c=g)}),H(r,function(f){H(f,function(d,v){var g=d.getLayout().value*c;"vertical"===u?(d.setLayout({x:v},!0),d.setLayout({dx:g},!0)):(d.setLayout({y:v},!0),d.setLayout({dy:g},!0))})}),H(t,function(f){var d=+f.getValue()*c;f.setLayout({dy:d},!0)})})(f,t,e,o,s,c),XB(f,s,e,o,c);for(var d=1;u>0;u--)lK(f,d*=.99,c),XB(f,s,e,o,c),ms(f,d,c),XB(f,s,e,o,c)}(r,t,u,s,o,c,f),function W6(r,t){var e="vertical"===t?"x":"y";H(r,function(o){o.outEdges.sort(function(s,u){return s.node2.getLayout()[e]-u.node2.getLayout()[e]}),o.inEdges.sort(function(s,u){return s.node1.getLayout()[e]-u.node1.getLayout()[e]})}),H(r,function(o){var s=0,u=0;H(o.outEdges,function(c){c.setLayout({sy:s},!0),s+=c.getLayout().dy}),H(o.inEdges,function(c){c.setLayout({ty:u},!0),u+=c.getLayout().dy})})}(r,f)}(v,g,o,s,c,f,0!==Wt(v,function(x){return 0===x.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function h1(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return null!=t.depth&&t.depth>=0}function XB(r,t,e,o,s){var u="vertical"===s?"x":"y";H(r,function(c){c.sort(function(x,D){return x.getLayout()[u]-D.getLayout()[u]});for(var f,d,v,g=0,m=c.length,_="vertical"===s?"dx":"dy",w=0;w<m;w++)(v=g-(d=c[w]).getLayout()[u])>0&&(f=d.getLayout()[u]+v,d.setLayout("vertical"===s?{x:f}:{y:f},!0)),g=d.getLayout()[u]+d.getLayout()[_]+t;if((v=g-t-("vertical"===s?o:e))>0)for(f=d.getLayout()[u]-v,d.setLayout("vertical"===s?{x:f}:{y:f},!0),g=f,w=m-2;w>=0;--w)(v=(d=c[w]).getLayout()[u]+d.getLayout()[_]+t-g)>0&&(f=d.getLayout()[u]-v,d.setLayout("vertical"===s?{x:f}:{y:f},!0)),g=d.getLayout()[u]})}function lK(r,t,e){H(r.slice().reverse(),function(o){H(o,function(s){if(s.outEdges.length){var u=_l(s.outEdges,uK,e)/_l(s.outEdges,f1);if(isNaN(u)){var c=s.outEdges.length;u=c?_l(s.outEdges,cK,e)/c:0}if("vertical"===e){var f=s.getLayout().x+(u-bh(s,e))*t;s.setLayout({x:f},!0)}else{var d=s.getLayout().y+(u-bh(s,e))*t;s.setLayout({y:d},!0)}}})})}function uK(r,t){return bh(r.node2,t)*r.getValue()}function cK(r,t){return bh(r.node2,t)}function j6(r,t){return bh(r.node1,t)*r.getValue()}function hK(r,t){return bh(r.node1,t)}function bh(r,t){return"vertical"===t?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function f1(r){return r.getValue()}function _l(r,t,e){for(var o=0,s=r.length,u=-1;++u<s;){var c=+t(r[u],e);isNaN(c)||(o+=c)}return o}function ms(r,t,e){H(r,function(o){H(o,function(s){if(s.inEdges.length){var u=_l(s.inEdges,j6,e)/_l(s.inEdges,f1);if(isNaN(u)){var c=s.inEdges.length;u=c?_l(s.inEdges,hK,e)/c:0}if("vertical"===e){var f=s.getLayout().x+(u-bh(s,e))*t;s.setLayout({x:f},!0)}else{var d=s.getLayout().y+(u-bh(s,e))*t;s.setLayout({y:d},!0)}}})})}function a_(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),o=e.nodes,s=e.edges;if(o.length){var u=1/0,c=-1/0;H(o,function(f){var d=f.getLayout().value;d<u&&(u=d),d>c&&(c=d)}),H(o,function(f){var v=new Gr({type:"color",mappingMethod:"linear",dataExtent:[u,c],visual:t.get("color")}).mapValueToVisual(f.getLayout().value),g=f.getModel().get(["itemStyle","color"]);null!=g?(f.setVisual("color",g),f.setVisual("style",{fill:g})):(f.setVisual("color",v),f.setVisual("style",{fill:v}))})}s.length&&H(s,function(f){var d=f.getModel().get("lineStyle");f.setVisual("style",d)})})}var KB=function(){function r(){}return r.prototype.getInitialData=function(t,e){var o,d,s=e.getComponent("xAxis",this.get("xAxisIndex")),u=e.getComponent("yAxis",this.get("yAxisIndex")),c=s.get("type"),f=u.get("type");"category"===c?(t.layout="horizontal",o=s.getOrdinalMeta(),d=!0):"category"===f?(t.layout="vertical",o=u.getOrdinalMeta(),d=!0):t.layout=t.layout||"horizontal";var v=["x","y"],g="horizontal"===t.layout?0:1,m=this._baseAxisDim=v[g],_=v[1-g],w=[s,u],S=w[g].get("type"),x=w[1-g].get("type"),D=t.data;if(D&&d){var T=[];H(D,function(P,N){var k;ge(P)?(k=P.slice(),P.unshift(N)):ge(P.value)?((k=ce({},P)).value=k.value.slice(),P.value.unshift(N)):k=P,T.push(k)}),t.data=T}var A=this.defaultValueDimensions,E=[{name:m,type:MS(S),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:_,type:MS(x),dimsDef:A.slice()}];return sd(this,{coordDimensions:E,dimensionsCount:A.length+1,encodeDefaulter:Je(Db,E,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r}(),QB=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return ae(t,r),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Mn);Zn(QB,KB,!0);const JB=QB;var d1=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=e.getData(),c=this.group,f=this._data;this._data||c.removeAll();var d="horizontal"===e.get("layout")?1:0;u.diff(f).add(function(v){if(u.hasValue(v)){var m=Ad(u.getItemLayout(v),u,v,d,!0);u.setItemGraphicEl(v,m),c.add(m)}}).update(function(v,g){var m=f.getItemGraphicEl(g);if(u.hasValue(v)){var _=u.getItemLayout(v);m?(wa(m),sg(_,m,u,v)):m=Ad(_,u,v,d),c.add(m),u.setItemGraphicEl(v,m)}else c.remove(m)}).remove(function(v){var g=f.getItemGraphicEl(v);g&&c.remove(g)}).execute(),this._data=u},t.prototype.remove=function(e){var o=this.group,s=this._data;this._data=null,s&&s.eachItemGraphicEl(function(u){u&&o.remove(u)})},t.type="boxplot",t}(vn),$6=function r(){},q6=function(r){function t(e){var o=r.call(this,e)||this;return o.type="boxplotBoxPath",o}return ae(t,r),t.prototype.getDefaultShape=function(){return new $6},t.prototype.buildPath=function(e,o){var s=o.points,u=0;for(e.moveTo(s[u][0],s[u][1]),u++;u<4;u++)e.lineTo(s[u][0],s[u][1]);for(e.closePath();u<s.length;u++)e.moveTo(s[u][0],s[u][1]),u++,e.lineTo(s[u][0],s[u][1])},t}(mt);function Ad(r,t,e,o,s){var u=r.ends,c=new q6({shape:{points:s?Z6(u,o,r):u}});return sg(r,c,t,e,s),c}function sg(r,t,e,o,s){(0,Ms[s?"initProps":"updateProps"])(t,{shape:{points:r.ends}},e.hostModel,o),t.useStyle(e.getItemVisual(o,"style")),t.style.strokeNoScale=!0,t.z2=100;var f=e.getItemModel(o),d=f.getModel("emphasis");Si(t,f),Jn(t,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function Z6(r,t,e){return me(r,function(o){return(o=o.slice())[t]=e.initBaseline,o})}const Y6=d1;var qu=H;function s_(r){var t=function X6(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(o){var s=o.getBaseAxis(),u=ot(e,s);u<0&&(e[u=e.length]=s,t[u]={axis:s,seriesModels:[]}),t[u].seriesModels.push(o)}),t}(r);qu(t,function(e){var o=e.seriesModels;o.length&&(function K6(r){var f,t=r.axis,e=r.seriesModels,o=e.length,s=r.boxWidthList=[],u=r.boxOffsetList=[],c=[];if("category"===t.type)f=t.getBandWidth();else{var d=0;qu(e,function(S){d=Math.max(d,S.getData().count())});var v=t.getExtent();f=Math.abs(v[1]-v[0])/d}qu(e,function(S){var x=S.get("boxWidth");ge(x)||(x=[x,x]),c.push([Ce(x[0],f)||0,Ce(x[1],f)||0])});var g=.8*f-2,m=g/o*.3,_=(g-m*(o-1))/o,w=_/2-g/2;qu(e,function(S,x){u.push(w),w+=m+_,s.push(Math.min(Math.max(_,c[x][0]),c[x][1]))})}(e),qu(o,function(s,u){!function Q6(r,t,e){var o=r.coordinateSystem,s=r.getData(),u=e/2,c="horizontal"===r.get("layout")?0:1,f=1-c,d=["x","y"],v=s.mapDimension(d[c]),g=s.mapDimensionsAll(d[f]);if(!(null==v||g.length<5))for(var m=0;m<s.count();m++){var _=s.get(v,m),w=E(_,g[2],m),S=E(_,g[0],m),x=E(_,g[1],m),D=E(_,g[3],m),T=E(_,g[4],m),A=[];P(A,x,!1),P(A,D,!0),A.push(S,x,T,D),N(A,S),N(A,T),N(A,w),s.setItemLayout(m,{initBaseline:w[f],ends:A})}function E(k,F,B){var W,z=s.get(F,B),j=[];return j[c]=k,j[f]=z,isNaN(k)||isNaN(z)?W=[NaN,NaN]:(W=o.dataToPoint(j))[c]+=t,W}function P(k,F,B){var z=F.slice(),j=F.slice();z[c]+=u,j[c]-=u,B?k.push(z,j):k.push(j,z)}function N(k,F){var B=F.slice(),z=F.slice();B[c]-=u,z[c]+=u,k.push(B,z)}}(s,e.boxOffsetList[u],e.boxWidthList[u])}))})}var e8={type:"echarts:boxplot",transform:function(t){var e=t.upstream;e.sourceFormat!==dn&&an("");var s=function J6(r,t){for(var e=[],o=[],s=(t=t||{}).boundIQR,u="none"===s||0===s,c=0;c<r.length;c++){var f=Co(r[c].slice()),d=ef(f,.25),v=ef(f,.5),g=ef(f,.75),m=f[0],_=f[f.length-1],w=(s??1.5)*(g-d),S=u?m:Math.max(m,d-w),x=u?_:Math.min(_,g+w),D=t.itemNameFormatter,T=Ne(D)?D({value:c}):xe(D)?D.replace("{value}",c+""):c+"";e.push([T,S,d,v,g,x]);for(var A=0;A<f.length;A++){var E=f[A];(E<S||E>x)&&o.push([T,E])}}return{boxData:e,outliers:o}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:s.boxData},{data:s.outliers}]}},dK=["color","borderColor"],n8=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,o,s){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,o,s,u){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,o):this._incrementalRenderNormal(e,o)},t.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;(null==this._isLargeDraw||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},t.prototype._renderNormal=function(e){var o=e.getData(),s=this._data,u=this.group,c=o.getLayout("isSimpleBox"),f=e.get("clip",!0),d=e.coordinateSystem,v=d.getArea&&d.getArea();this._data||u.removeAll(),o.diff(s).add(function(g){if(o.hasValue(g)){var m=o.getItemLayout(g);if(f&&tz(v,m))return;var _=Sh(m,0,!0);On(_,{shape:{points:m.ends}},e,g),WI(_,o,g,c),u.add(_),o.setItemGraphicEl(g,_)}}).update(function(g,m){var _=s.getItemGraphicEl(m);if(o.hasValue(g)){var w=o.getItemLayout(g);f&&tz(v,w)?u.remove(_):(_?(Yt(_,{shape:{points:w.ends}},e,g),wa(_)):_=Sh(w),WI(_,o,g,c),u.add(_),o.setItemGraphicEl(g,_))}else u.remove(_)}).remove(function(g){var m=s.getItemGraphicEl(g);m&&u.remove(m)}).execute(),this._data=o},t.prototype._renderLarge=function(e){this._clear(),nz(e,this.group);var o=e.get("clip",!0)?WA(e.coordinateSystem,!1,e):null;o?this.group.setClipPath(o):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,o){for(var c,s=o.getData(),u=s.getLayout("isSimpleBox");null!=(c=e.next());){var d=Sh(s.getItemLayout(c));WI(d,s,c,u),d.incremental=!0,this.group.add(d),this._progressiveEls.push(d)}},t.prototype._incrementalRenderLarge=function(e,o){nz(o,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(vn),ez=function r(){},p1=function(r){function t(e){var o=r.call(this,e)||this;return o.type="normalCandlestickBox",o}return ae(t,r),t.prototype.getDefaultShape=function(){return new ez},t.prototype.buildPath=function(e,o){var s=o.points;this.__simpleBox?(e.moveTo(s[4][0],s[4][1]),e.lineTo(s[6][0],s[6][1])):(e.moveTo(s[0][0],s[0][1]),e.lineTo(s[1][0],s[1][1]),e.lineTo(s[2][0],s[2][1]),e.lineTo(s[3][0],s[3][1]),e.closePath(),e.moveTo(s[4][0],s[4][1]),e.lineTo(s[5][0],s[5][1]),e.moveTo(s[6][0],s[6][1]),e.lineTo(s[7][0],s[7][1]))},t}(mt);function Sh(r,t,e){var o=r.ends;return new p1({shape:{points:e?r8(o,r):o},z2:100})}function tz(r,t){for(var e=!0,o=0;o<t.ends.length;o++)if(r.contain(t.ends[o][0],t.ends[o][1])){e=!1;break}return e}function WI(r,t,e,o){var s=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=o,Si(r,s)}function r8(r,t){return me(r,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var i8=function r(){},$I=function(r){function t(e){var o=r.call(this,e)||this;return o.type="largeCandlestickBox",o}return ae(t,r),t.prototype.getDefaultShape=function(){return new i8},t.prototype.buildPath=function(e,o){for(var s=o.points,u=0;u<s.length;)if(this.__sign===s[u++]){var c=s[u++];e.moveTo(c,s[u++]),e.lineTo(c,s[u++])}else u+=3},t}(mt);function nz(r,t,e,o){var s=r.getData(),u=s.getLayout("largePoints"),c=new $I({shape:{points:u},__sign:1,ignoreCoarsePointer:!0});t.add(c);var f=new $I({shape:{points:u},__sign:-1,ignoreCoarsePointer:!0});t.add(f);var d=new $I({shape:{points:u},__sign:0,ignoreCoarsePointer:!0});t.add(d),qI(1,c,r),qI(-1,f,r),qI(0,d,r),o&&(c.incremental=!0,f.incremental=!0),e&&e.push(c,f)}function qI(r,t,e,o){var s=e.get(["itemStyle",r>0?"borderColor":"borderColor0"])||e.get(["itemStyle",r>0?"color":"color0"]);0===r&&(s=e.get(["itemStyle","borderColorDoji"]));var u=e.getModel("itemStyle").getItemStyle(dK);t.useStyle(u),t.style.fill=null,t.style.stroke=s}const o8=n8;var rz=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return ae(t,r),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,o,s){var u=o.getItemLayout(e);return u&&s.rect(u.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Mn);Zn(rz,KB,!0);const iz=rz;function a8(r){!r||!ge(r.series)||H(r.series,function(t){Ue(t)&&"k"===t.type&&(t.type="candlestick")})}var v1=["itemStyle","borderColor"],oz=["itemStyle","borderColor0"],lg=["itemStyle","borderColorDoji"],az=["itemStyle","color"],s8=["itemStyle","color0"],l8={seriesType:"candlestick",plan:Ji(),performRawSeries:!0,reset:function(r,t){function e(u,c){return c.get(u>0?az:s8)}function o(u,c){return c.get(0===u?lg:u>0?v1:oz)}if(!t.isSeriesFiltered(r))return!r.pipelineContext.large&&{progress:function(u,c){for(var f;null!=(f=u.next());){var d=c.getItemModel(f),v=c.getItemLayout(f).sign,g=d.getItemStyle();g.fill=e(v,d),g.stroke=o(v,d)||g.fill,ce(c.ensureUniqueItemVisual(f,"style"),g)}}}}};const u8=l8;var ZI={seriesType:"candlestick",plan:Ji(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),o=function YI(r,t){var o,e=r.getBaseAxis(),s="category"===e.type?e.getBandWidth():(o=e.getExtent(),Math.abs(o[1]-o[0])/t.count()),u=Ce(Qe(r.get("barMaxWidth"),s),s),c=Ce(Qe(r.get("barMinWidth"),1),s),f=r.get("barWidth");return null!=f?Ce(f,s):Math.max(Math.min(s/2,u),c)}(r,e),c=["x","y"],f=e.getDimensionIndex(e.mapDimension(c[0])),d=me(e.mapDimensionsAll(c[1]),e.getDimensionIndex,e),v=d[0],g=d[1],m=d[2],_=d[3];if(e.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),!(f<0||d.length<4))return{progress:r.pipelineContext.large?function S(x,D){for(var E,k,T=sl(4*x.count),A=0,P=[],N=[],F=D.getStore(),B=!!r.get(["itemStyle","borderColorDoji"]);null!=(k=x.next());){var z=F.get(f,k),j=F.get(v,k),W=F.get(g,k),q=F.get(m,k),Y=F.get(_,k);isNaN(z)||isNaN(q)||isNaN(Y)?(T[A++]=NaN,A+=3):(T[A++]=sz(F,k,j,W,g,B),P[0]=z,P[1]=q,E=t.dataToPoint(P,null,N),T[A++]=E?E[0]:NaN,T[A++]=E?E[1]:NaN,P[1]=Y,E=t.dataToPoint(P,null,N),T[A++]=E?E[1]:NaN)}D.setLayout("largePoints",T)}:function w(x,D){for(var T,A=D.getStore();null!=(T=x.next());){var E=A.get(f,T),P=A.get(v,T),N=A.get(g,T),k=A.get(m,T),F=A.get(_,T),B=Math.min(P,N),z=Math.max(P,N),j=le(B,E),W=le(z,E),q=le(k,E),Y=le(F,E),K=[];se(K,W,0),se(K,j,1),K.push(be(Y),be(W),be(q),be(j));var re=!!D.getItemModel(T).get(["itemStyle","borderColorDoji"]);D.setItemLayout(T,{sign:sz(A,T,P,N,g,re),initBaseline:P>N?W[1]:j[1],ends:K,brushRect:(De=k,Fe=F,$e=E,We=void 0,dt=void 0,We=le(De,$e),dt=le(Fe,$e),We[0]-=o/2,dt[0]-=o/2,{x:We[0],y:We[1],width:o,height:dt[1]-We[1]})})}var De,Fe,$e,We,dt;function le(De,Fe){var $e=[];return $e[0]=Fe,$e[1]=De,isNaN(Fe)||isNaN(De)?[NaN,NaN]:t.dataToPoint($e)}function se(De,Fe,$e){var We=Fe.slice(),dt=Fe.slice();We[0]=Ly(We[0]+o/2,1,!1),dt[0]=Ly(dt[0]-o/2,1,!0),$e?De.push(We,dt):De.push(dt,We)}function be(De){return De[0]=Ly(De[0],1),De}}}}};function sz(r,t,e,o,s,u){return e>o?-1:e<o?1:u?0:t>0?r.get(s,t-1)<=o?1:-1:1}const lz=ZI;function uz(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(o){o.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var h8=function(r){function t(e,o){var s=r.call(this)||this,u=new Av(e,o),c=new Ze;return s.add(u),s.add(c),s.updateData(e,o),s}return ae(t,r),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var o=e.symbolType,s=e.color,u=e.rippleNumber,c=this.childAt(1),f=0;f<u;f++){var d=ar(o,-1,-1,2,2,s);d.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-f/u*e.period+e.effectOffset;d.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(v).start(),d.animateStyle(!0).when(e.period,{opacity:0}).delay(v).start(),c.add(d)}uz(c,e)},t.prototype.updateEffectAnimation=function(e){for(var o=this._effectCfg,s=this.childAt(1),u=["symbolType","period","rippleScale","rippleNumber"],c=0;c<u.length;c++){var f=u[c];if(o[f]!==e[f])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}uz(s,e)},t.prototype.highlight=function(){fu(this)},t.prototype.downplay=function(){Xs(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,o){var s=this,u=e.hostModel;this.childAt(0).updateData(e,o);var c=this.childAt(1),f=e.getItemModel(o),d=e.getItemVisual(o,"symbol"),v=Wf(e.getItemVisual(o,"symbolSize")),g=e.getItemVisual(o,"style"),m=g&&g.fill,_=f.getModel("emphasis");c.setScale(v),c.traverse(function(D){D.setStyle("fill",m)});var w=$c(e.getItemVisual(o,"symbolOffset"),v);w&&(c.x=w[0],c.y=w[1]);var S=e.getItemVisual(o,"symbolRotate");c.rotation=(S||0)*Math.PI/180||0;var x={};x.showEffectOn=u.get("showEffectOn"),x.rippleScale=f.get(["rippleEffect","scale"]),x.brushType=f.get(["rippleEffect","brushType"]),x.period=1e3*f.get(["rippleEffect","period"]),x.effectOffset=o/e.count(),x.z=u.getShallow("z")||0,x.zlevel=u.getShallow("zlevel")||0,x.symbolType=d,x.color=m,x.rippleEffectColor=f.get(["rippleEffect","color"]),x.rippleNumber=f.get(["rippleEffect","number"]),"render"===x.showEffectOn?(this._effectCfg?this.updateEffectAnimation(x):this.startEffectAnimation(x),this._effectCfg=x):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(D){"emphasis"===D?"render"!==x.showEffectOn&&s.startEffectAnimation(x):"normal"===D&&"render"!==x.showEffectOn&&s.stopEffectAnimation()}),this._effectCfg=x,Jn(this,_.get("focus"),_.get("blurScope"),_.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Ze);const f8=h8;var g1=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(){this._symbolDraw=new b0(f8)},t.prototype.render=function(e,o,s){var u=e.getData(),c=this._symbolDraw;c.updateData(u,{clipShape:this._getClipShape(e)}),this.group.add(c.group)},t.prototype._getClipShape=function(e){var o=e.coordinateSystem,s=o&&o.getArea&&o.getArea();return e.get("clip",!0)?s:null},t.prototype.updateTransform=function(e,o,s){var u=e.getData();this.group.dirty();var c=T0("").reset(e,o,s);c.progress&&c.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var o=e.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=gw(o.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(vn);const d8=g1;var p8=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ae(t,r),t.prototype.getInitialData=function(e,o){return us(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,o,s){return s.point(o.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Mn);const v8=p8;var m8=function(r){function t(e,o,s){var u=r.call(this)||this;return u.add(u.createLine(e,o,s)),u._updateEffectSymbol(e,o),u}return ae(t,r),t.prototype.createLine=function(e,o,s){return new WC(e,o,s)},t.prototype._updateEffectSymbol=function(e,o){var u=e.getItemModel(o).getModel("effect"),c=u.get("symbolSize"),f=u.get("symbol");ge(c)||(c=[c,c]);var d=e.getItemVisual(o,"style"),v=u.get("color")||d&&d.stroke,g=this.childAt(1);this._symbolType!==f&&(this.remove(g),(g=ar(f,-.5,-.5,1,1,v)).z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",v),g.setStyle(u.getItemStyle(["color"])),g.scaleX=c[0],g.scaleY=c[1],g.setColor(v),this._symbolType=f,this._symbolScale=c,this._updateEffectAnimation(e,u,o))},t.prototype._updateEffectAnimation=function(e,o,s){var u=this.childAt(1);if(u){var c=e.getItemLayout(s),f=1e3*o.get("period"),d=o.get("loop"),v=o.get("roundTrip"),g=o.get("constantSpeed"),m=$t(o.get("delay"),function(w){return w/e.count()*f/3});if(u.ignore=!0,this._updateAnimationPoints(u,c),g>0&&(f=this._getLineLength(u)/g*1e3),f!==this._period||d!==this._loop||v!==this._roundTrip){u.stopAnimation();var _=void 0;_=Ne(m)?m(s):m,u.__t>0&&(_=-f*u.__t),this._animateSymbol(u,f,_,d,v)}this._period=f,this._loop=d,this._roundTrip=v}},t.prototype._animateSymbol=function(e,o,s,u,c){if(o>0){e.__t=0;var f=this,d=e.animate("",u).when(c?2*o:o,{__t:c?2:1}).delay(s).during(function(){f._updateSymbolPosition(e)});u||d.done(function(){f.remove(e)}),d.start()}},t.prototype._getLineLength=function(e){return Os(e.__p1,e.__cp1)+Os(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,o){e.__p1=o[0],e.__p2=o[1],e.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},t.prototype.updateData=function(e,o,s){this.childAt(0).updateData(e,o,s),this._updateEffectSymbol(e,o)},t.prototype._updateSymbolPosition=function(e){var o=e.__p1,s=e.__p2,u=e.__cp1,c=e.__t<1?e.__t:2-e.__t,f=[e.x,e.y],d=f.slice(),v=Fn,g=St;f[0]=v(o[0],u[0],s[0],c),f[1]=v(o[1],u[1],s[1],c);var m=e.__t<1?g(o[0],u[0],s[0],c):g(s[0],u[0],o[0],1-c),_=e.__t<1?g(o[1],u[1],s[1],c):g(s[1],u[1],o[1],1-c);e.rotation=-Math.atan2(_,m)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Os(d,f),1===c&&(f[0]=d[0]+(f[0]-d[0])/2,f[1]=d[1]+(f[1]-d[1])/2)):e.scaleY=1===e.__lastT?2*Os(o,f):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=f[0],e.y=f[1]},t.prototype.updateLayout=function(e,o){this.childAt(0).updateLayout(e,o);var s=e.getItemModel(o).getModel("effect");this._updateEffectAnimation(e,s,o)},t}(Ze);const cz=m8;var hz=function(r){function t(e,o,s){var u=r.call(this)||this;return u._createPolyline(e,o,s),u}return ae(t,r),t.prototype._createPolyline=function(e,o,s){var u=e.getItemLayout(o),c=new Ni({shape:{points:u}});this.add(c),this._updateCommonStl(e,o,s)},t.prototype.updateData=function(e,o,s){var u=e.hostModel;Yt(this.childAt(0),{shape:{points:e.getItemLayout(o)}},u,o),this._updateCommonStl(e,o,s)},t.prototype._updateCommonStl=function(e,o,s){var u=this.childAt(0),c=e.getItemModel(o),f=s&&s.emphasisLineStyle,d=s&&s.focus,v=s&&s.blurScope,g=s&&s.emphasisDisabled;if(!s||e.hasItemOption){var m=c.getModel("emphasis");f=m.getModel("lineStyle").getLineStyle(),g=m.get("disabled"),d=m.get("focus"),v=m.get("blurScope")}u.useStyle(e.getItemVisual(o,"style")),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=f,Jn(this,d,v,g)},t.prototype.updateLayout=function(e,o){this.childAt(0).setShape("points",e.getItemLayout(o))},t}(Ze);const y8=hz;var fz=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return ae(t,r),t.prototype.createLine=function(e,o,s){return new y8(e,o,s)},t.prototype._updateAnimationPoints=function(e,o){this._points=o;for(var s=[0],u=0,c=1;c<o.length;c++)u+=Os(o[c-1],o[c]),s.push(u);if(0!==u){for(c=0;c<s.length;c++)s[c]/=u;this._offsets=s,this._length=u}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var o=e.__t<1?e.__t:2-e.__t,s=this._points,u=this._offsets,c=s.length;if(u){var d,f=this._lastFrame;if(o<this._lastFramePercent){for(d=Math.min(f+1,c-1);d>=0&&!(u[d]<=o);d--);d=Math.min(d,c-2)}else{for(d=f;d<c&&!(u[d]>o);d++);d=Math.min(d-1,c-2)}var g=(o-u[d])/(u[d+1]-u[d]),m=s[d],_=s[d+1];e.x=m[0]*(1-g)+g*_[0],e.y=m[1]*(1-g)+g*_[1],e.rotation=-Math.atan2(e.__t<1?_[1]-m[1]:m[1]-_[1],e.__t<1?_[0]-m[0]:m[0]-_[0])-Math.PI/2,this._lastFrame=d,this._lastFramePercent=o,e.ignore=!1}},t}(cz);const dz=fz;var _8=function r(){this.polyline=!1,this.curveness=0,this.segs=[]},w8=function(r){function t(e){var o=r.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return ae(t,r),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _8},t.prototype.buildPath=function(e,o){var c,s=o.segs,u=o.curveness;if(o.polyline)for(c=this._off;c<s.length;){var f=s[c++];if(f>0){e.moveTo(s[c++],s[c++]);for(var d=1;d<f;d++)e.lineTo(s[c++],s[c++])}}else for(c=this._off;c<s.length;){var v=s[c++],g=s[c++],m=s[c++],_=s[c++];e.moveTo(v,g),u>0?e.quadraticCurveTo((v+m)/2-(g-_)*u,(g+_)/2-(m-v)*u,m,_):e.lineTo(m,_)}this.incremental&&(this._off=c,this.notClear=!0)},t.prototype.findDataIndex=function(e,o){var s=this.shape,u=s.segs,c=s.curveness,f=this.style.lineWidth;if(s.polyline)for(var d=0,v=0;v<u.length;){var g=u[v++];if(g>0)for(var m=u[v++],_=u[v++],w=1;w<g;w++)if(Mc(m,_,S=u[v++],x=u[v++],f,e,o))return d;d++}else for(d=0,v=0;v<u.length;){m=u[v++],_=u[v++];var S=u[v++],x=u[v++];if(c>0){if(_G(m,_,(m+S)/2-(_-x)*c,(_+x)/2-(S-m)*c,S,x,f,e,o))return d}else if(Mc(m,_,S,x,f,e,o))return d;d++}return-1},t.prototype.contain=function(e,o){var s=this.transformCoordToLocal(e,o);return this.getBoundingRect().contain(e=s[0],o=s[1])?(this.hoverDataIdx=this.findDataIndex(e,o))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var s=this.shape.segs,u=1/0,c=1/0,f=-1/0,d=-1/0,v=0;v<s.length;){var g=s[v++],m=s[v++];u=Math.min(g,u),f=Math.max(g,f),c=Math.min(m,c),d=Math.max(m,d)}e=this._rect=new Xe(u,c,f,d)}return e},t}(mt),b8=function(){function r(){this.group=new Ze}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var o=this._newAdded[0],s=e.getLayout("linesPoints"),u=o&&o.shape.segs;if(u&&u.length<2e4){var c=u.length,f=new Float32Array(c+s.length);f.set(u),f.set(s,c),o.setShape({segs:f})}else{this._newAdded=[];var d=this._create();d.incremental=!0,d.setShape({segs:s}),this._setCommon(d,e),d.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new w8({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,o){var s=e.hostModel;t.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),t.useStyle(s.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var u=e.getVisual("style");u&&u.stroke&&t.setStyle("stroke",u.stroke),t.setStyle("fill",null);var c=et(t);c.seriesIndex=s.seriesIndex,t.on("mousemove",function(f){c.dataIndex=null;var d=t.hoverDataIdx;d>0&&(c.dataIndex=d+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}();const S8=b8;var C8={seriesType:"lines",plan:Ji(),reset:function(r){var t=r.coordinateSystem;if(t){var e=r.get("polyline"),o=r.pipelineContext.large;return{progress:function(s,u){var c=[];if(o){var f=void 0,d=s.end-s.start;if(e){for(var v=0,g=s.start;g<s.end;g++)v+=r.getLineCoordsCount(g);f=new Float32Array(d+2*v)}else f=new Float32Array(4*d);var m=0,_=[];for(g=s.start;g<s.end;g++){var w=r.getLineCoords(g,c);e&&(f[m++]=w);for(var S=0;S<w;S++)_=t.dataToPoint(c[S],!1,_),f[m++]=_[0],f[m++]=_[1]}u.setLayout("linesPoints",f)}else for(g=s.start;g<s.end;g++){var x=u.getItemModel(g),D=(w=r.getLineCoords(g,c),[]);if(e)for(var T=0;T<w;T++)D.push(t.dataToPoint(c[T]));else{D[0]=t.dataToPoint(c[0]),D[1]=t.dataToPoint(c[1]);var A=x.get(["lineStyle","curveness"]);+A&&(D[2]=[(D[0][0]+D[1][0])/2-(D[0][1]-D[1][1])*A,(D[0][1]+D[1][1])/2-(D[1][0]-D[0][0])*A])}u.setItemLayout(g,D)}}}}}};const pz=C8;var vz=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=e.getData(),c=this._updateLineDraw(u,e),f=e.get("zlevel"),d=e.get(["effect","trailLength"]),v=s.getZr(),g="svg"===v.painter.getType();g||v.painter.getLayer(f).clear(!0),null!=this._lastZlevel&&!g&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&d>0&&(g||v.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(d/10+.9,1),0)})),c.updateData(u);var m=e.get("clip",!0)&&WA(e.coordinateSystem,!1,e);m?this.group.setClipPath(m):this.group.removeClipPath(),this._lastZlevel=f,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,o,s){var u=e.getData();this._updateLineDraw(u,e).incrementalPrepareUpdate(u),this._clearLayer(s),this._finished=!1},t.prototype.incrementalRender=function(e,o,s){this._lineDraw.incrementalUpdate(e,o.getData()),this._finished=e.end===o.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,o,s){var u=e.getData(),c=e.pipelineContext;if(!this._finished||c.large||c.progressiveRender)return{update:!0};var f=pz.reset(e,o,s);f.progress&&f.progress({start:0,end:u.count(),count:u.count()},u),this._lineDraw.updateLayout(),this._clearLayer(s)},t.prototype._updateLineDraw=function(e,o){var s=this._lineDraw,u=this._showEffect(o),c=!!o.get("polyline"),d=o.pipelineContext.large;return(!s||u!==this._hasEffet||c!==this._isPolyline||d!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=d?new S8:new qC(c?u?dz:y8:u?cz:WC),this._hasEffet=u,this._isPolyline=c,this._isLargeDraw=d),this.group.add(s.group),s},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var o=e.getZr();"svg"!==o.painter.getType()&&null!=this._lastZlevel&&o.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},t.prototype.dispose=function(e,o){this.remove(e,o)},t.type="lines",t}(vn);const XI=vz;var ug=typeof Uint32Array>"u"?Array:Uint32Array,KI=typeof Float64Array>"u"?Array:Float64Array;function gz(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=me(t,function(e){var s={coords:[e[0].coord,e[1].coord]};return e[0].name&&(s.fromName=e[0].name),e[1].name&&(s.toName=e[1].name),uc([s,e[0],e[1]])}))}var x8=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return ae(t,r),t.prototype.init=function(e){e.data=e.data||[],gz(e);var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(gz(e),e.data){var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var o=this._processFlatCoordsArray(e.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=hc(this._flatCoords,o.flatCoords),this._flatCoordsOffset=hc(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),e.data=new Float32Array(o.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var o=this.getData().getItemModel(e);return o.option instanceof Array?o.option:o.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,o){if(this._flatCoordsOffset){for(var s=this._flatCoordsOffset[2*e],u=this._flatCoordsOffset[2*e+1],c=0;c<u;c++)o[c]=o[c]||[],o[c][0]=this._flatCoords[s+2*c],o[c][1]=this._flatCoords[s+2*c+1];return u}var f=this._getCoordsFromItemModel(e);for(c=0;c<f.length;c++)o[c]=o[c]||[],o[c][0]=f[c][0],o[c][1]=f[c][1];return f.length},t.prototype._processFlatCoordsArray=function(e){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),kt(e[0])){for(var s=e.length,u=new ug(s),c=new KI(s),f=0,d=0,v=0,g=0;g<s;){v++;var m=e[g++];u[d++]=f+o,u[d++]=m;for(var _=0;_<m;_++){var w=e[g++],S=e[g++];c[f++]=w,c[f++]=S}}return{flatCoordsOffset:new Uint32Array(u.buffer,0,d),flatCoords:c,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,o){var u=new oo(["value"],this);return u.hasItemOption=!1,u.initData(e.data,[],function(c,f,d,v){if(c instanceof Array)return NaN;u.hasItemOption=!0;var g=c.value;return null!=g?g instanceof Array?g[v]:g:void 0}),u},t.prototype.formatTooltip=function(e,o,s){var c=this.getData().getItemModel(e),f=c.get("name");if(f)return f;var d=c.get("fromName"),v=c.get("toName"),g=[];return null!=d&&g.push(d),null!=v&&g.push(v),Jr("nameValue",{name:g.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),o=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&o>0?o+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Mn);const mz=x8;function Ed(r){return r instanceof Array||(r=[r,r]),r}var yz={seriesType:"lines",reset:function(r){var t=Ed(r.get("symbol")),e=Ed(r.get("symbolSize")),o=r.getData();return o.setVisual("fromSymbol",t&&t[0]),o.setVisual("toSymbol",t&&t[1]),o.setVisual("fromSymbolSize",e&&e[0]),o.setVisual("toSymbolSize",e&&e[1]),{dataEach:o.hasItemOption?function s(u,c){var f=u.getItemModel(c),d=Ed(f.getShallow("symbol",!0)),v=Ed(f.getShallow("symbolSize",!0));d[0]&&u.setItemVisual(c,"fromSymbol",d[0]),d[1]&&u.setItemVisual(c,"toSymbol",d[1]),v[0]&&u.setItemVisual(c,"fromSymbolSize",v[0]),v[1]&&u.setItemVisual(c,"toSymbolSize",v[1])}:null}}};const _z=yz;var M8=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Lr.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,o,s,u,c){var f=this._getBrush(),d=this._getGradient(u,"inRange"),v=this._getGradient(u,"outOfRange"),g=this.pointSize+this.blurSize,m=this.canvas,_=m.getContext("2d"),w=t.length;m.width=e,m.height=o;for(var S=0;S<w;++S){var x=t[S],D=x[0],T=x[1],E=s(x[2]);_.globalAlpha=E,_.drawImage(f,D-g,T-g)}if(!m.width||!m.height)return m;for(var P=_.getImageData(0,0,m.width,m.height),N=P.data,k=0,F=N.length,B=this.minOpacity,j=this.maxOpacity-B;k<F;){E=N[k+3]/256;var W=4*Math.floor(255*E);if(E>0){var q=c(E)?d:v;E>0&&(E=E*j+B),N[k++]=q[W],N[k++]=q[W+1],N[k++]=q[W+2],N[k++]=q[W+3]*E*256}else k+=4}return _.putImageData(P,0,0),m},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Lr.createCanvas()),e=this.pointSize+this.blurSize,o=2*e;t.width=o,t.height=o;var s=t.getContext("2d");return s.clearRect(0,0,o,o),s.shadowOffsetX=o,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-e,e,this.pointSize,0,2*Math.PI,!0),s.closePath(),s.fill(),t},r.prototype._getGradient=function(t,e){for(var o=this._gradientPixels,s=o[e]||(o[e]=new Uint8ClampedArray(1024)),u=[0,0,0,0],c=0,f=0;f<256;f++)t[e](f/255,!0,u),s[c++]=u[0],s[c++]=u[1],s[c++]=u[2],s[c++]=u[3];return s},r}();const A8=M8;function wz(r){var t=r.dimensions;return"lng"===t[0]&&"lat"===t[1]}var l_=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u;o.eachComponent("visualMap",function(f){f.eachTargetSeries(function(d){d===e&&(u=f)})}),this._progressiveEls=null,this.group.removeAll();var c=e.coordinateSystem;"cartesian2d"===c.type||"calendar"===c.type?this._renderOnCartesianAndCalendar(e,s,0,e.getData().count()):wz(c)&&this._renderOnGeo(c,e,u,s)},t.prototype.incrementalPrepareRender=function(e,o,s){this.group.removeAll()},t.prototype.incrementalRender=function(e,o,s,u){var c=o.coordinateSystem;c&&(wz(c)?this.render(o,s,u):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,u,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,o,s,u,c){var v,g,m,_,f=e.coordinateSystem,d=Iv(f,"cartesian2d");if(d){var w=f.getAxis("x"),S=f.getAxis("y");v=w.getBandWidth()+.5,g=S.getBandWidth()+.5,m=w.scale.getExtent(),_=S.scale.getExtent()}for(var x=this.group,D=e.getData(),T=e.getModel(["emphasis","itemStyle"]).getItemStyle(),A=e.getModel(["blur","itemStyle"]).getItemStyle(),E=e.getModel(["select","itemStyle"]).getItemStyle(),P=e.get(["itemStyle","borderRadius"]),N=Mr(e),k=e.getModel("emphasis"),F=k.get("focus"),B=k.get("blurScope"),z=k.get("disabled"),j=d?[D.mapDimension("x"),D.mapDimension("y"),D.mapDimension("value")]:[D.mapDimension("time"),D.mapDimension("value")],W=s;W<u;W++){var q=void 0,Y=D.getItemVisual(W,"style");if(d){var K=D.get(j[0],W),Q=D.get(j[1],W);if(isNaN(D.get(j[2],W))||isNaN(K)||isNaN(Q)||K<m[0]||K>m[1]||Q<_[0]||Q>_[1])continue;var re=f.dataToPoint([K,Q]);q=new Ot({shape:{x:re[0]-v/2,y:re[1]-g/2,width:v,height:g},style:Y})}else{if(isNaN(D.get(j[1],W)))continue;q=new Ot({z2:1,shape:f.dataToRect([D.get(j[0],W)]).contentShape,style:Y})}if(D.hasItemOption){var le=D.getItemModel(W),se=le.getModel("emphasis");T=se.getModel("itemStyle").getItemStyle(),A=le.getModel(["blur","itemStyle"]).getItemStyle(),E=le.getModel(["select","itemStyle"]).getItemStyle(),P=le.get(["itemStyle","borderRadius"]),F=se.get("focus"),B=se.get("blurScope"),z=se.get("disabled"),N=Mr(le)}q.shape.r=P;var de=e.getRawValue(W),be="-";de&&null!=de[2]&&(be=de[2]+""),Li(q,N,{labelFetcher:e,labelDataIndex:W,defaultOpacity:Y.opacity,defaultText:be}),q.ensureState("emphasis").style=T,q.ensureState("blur").style=A,q.ensureState("select").style=E,Jn(q,F,B,z),q.incremental=c,c&&(q.states.emphasis.hoverLayer=!0),x.add(q),D.setItemGraphicEl(W,q),this._progressiveEls&&this._progressiveEls.push(q)}},t.prototype._renderOnGeo=function(e,o,s,u){var c=s.targetVisuals.inRange,f=s.targetVisuals.outOfRange,d=o.getData(),v=this._hmLayer||this._hmLayer||new A8;v.blurSize=o.get("blurSize"),v.pointSize=o.get("pointSize"),v.minOpacity=o.get("minOpacity"),v.maxOpacity=o.get("maxOpacity");var g=e.getViewRect().clone(),m=e.getRoamTransform();g.applyTransform(m);var _=Math.max(g.x,0),w=Math.max(g.y,0),S=Math.min(g.width+g.x,u.getWidth()),x=Math.min(g.height+g.y,u.getHeight()),D=S-_,T=x-w,A=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],E=d.mapArray(A,function(F,B,z){var j=e.dataToPoint([F,B]);return j[0]-=_,j[1]-=w,j.push(z),j}),P=s.getExtent(),N="visualMap.continuous"===s.type?function E8(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(o){return o>=t[0]&&o<=t[1]}}(P,s.option.range):function m1(r,t,e){var o=r[1]-r[0],s=(t=me(t,function(c){return{interval:[(c.interval[0]-r[0])/o,(c.interval[1]-r[0])/o]}})).length,u=0;return function(c){var f;for(f=u;f<s;f++)if((d=t[f].interval)[0]<=c&&c<=d[1]){u=f;break}if(f===s)for(f=u-1;f>=0;f--){var d;if((d=t[f].interval)[0]<=c&&c<=d[1]){u=f;break}}return f>=0&&f<s&&e[f]}}(P,s.getPieceList(),s.option.selected);v.update(E,D,T,c.color.getNormalizer(),{inRange:c.color.getColorMapper(),outOfRange:f.color.getColorMapper()},N);var k=new bn({style:{width:D,height:T,x:_,y:w,image:v.canvas},silent:!0});this.group.add(k)},t.type="heatmap",t}(vn);const bz=l_;var I8=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.getInitialData=function(e,o){return us(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Qp.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Mn);const P8=I8;var R8=["itemStyle","borderWidth"],Ur=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],QI=new rs,Sz=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=this.group,c=e.getData(),f=this._data,d=e.coordinateSystem,g=d.getBaseAxis().isHorizontal(),m=d.master.getRect(),_={ecSize:{width:s.getWidth(),height:s.getHeight()},seriesModel:e,coordSys:d,coordSysExtent:[[m.x,m.x+m.width],[m.y,m.y+m.height]],isHorizontal:g,valueDim:Ur[+g],categoryDim:Ur[1-+g]};return c.diff(f).add(function(w){if(c.hasValue(w)){var S=wl(c,w),x=u_(c,w,S,_),D=F8(c,_,x);c.setItemGraphicEl(w,D),u.add(D),Dz(D,_,x)}}).update(function(w,S){var x=f.getItemGraphicEl(S);if(c.hasValue(w)){var D=wl(c,w),T=u_(c,w,D,_),A=rP(c,T);x&&A!==x.__pictorialShapeStr&&(u.remove(x),c.setItemGraphicEl(w,null),x=null),x?function mK(r,t,e){Yt(r.__pictorialBundle,{x:e.bundlePosition[0],y:e.bundlePosition[1]},e.animationModel,e.dataIndex),e.symbolRepeat?y1(r,t,e,!0):eP(r,0,e,!0),O8(r,e,!0),tP(r,t,e,!0)}(x,_,T):x=F8(c,_,T,!0),c.setItemGraphicEl(w,x),x.__pictorialSymbolMeta=T,u.add(x),Dz(x,_,T)}else u.remove(x)}).remove(function(w){var S=f.getItemGraphicEl(w);S&&nP(f,w,S.__pictorialSymbolMeta.animationModel,S)}).execute(),this._data=c,this.group},t.prototype.remove=function(e,o){var s=this.group,u=this._data;e.get("animation")?u&&u.eachItemGraphicEl(function(c){nP(u,et(c).dataIndex,e,c)}):s.removeAll()},t.type="pictorialBar",t}(vn);function u_(r,t,e,o){var s=r.getItemLayout(t),u=e.get("symbolRepeat"),c=e.get("symbolClip"),f=e.get("symbolPosition")||"start",v=(e.get("symbolRotate")||0)*Math.PI/180||0,g=e.get("symbolPatternSize")||2,m=e.isAnimationEnabled(),_={dataIndex:t,layout:s,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:c,symbolRepeat:u,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:v,animationModel:m?e:null,hoverScale:m&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function k8(r,t,e,o,s){var g,u=o.valueDim,c=r.get("symbolBoundingData"),f=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),d=f.toGlobalCoord(f.dataToCoord(0)),v=1-+(e[u.wh]<=0);if(ge(c)){var m=[JI(f,c[0])-d,JI(f,c[1])-d];m[1]<m[0]&&m.reverse(),g=m[v]}else g=null!=c?JI(f,c)-d:t?o.coordSysExtent[u.index][v]-d:e[u.wh];s.boundingLength=g,t&&(s.repeatCutLength=e[u.wh]),s.pxSign=g>0?1:-1})(e,u,s,o,_),function Cz(r,t,e,o,s,u,c,f,d,v){var S,g=d.valueDim,m=d.categoryDim,_=Math.abs(e[m.wh]),w=r.getItemVisual(t,"symbolSize");(S=ge(w)?w.slice():null==w?["100%","100%"]:[w,w])[m.index]=Ce(S[m.index],_),S[g.index]=Ce(S[g.index],o?_:Math.abs(u)),v.symbolSize=S,(v.symbolScale=[S[0]/f,S[1]/f])[g.index]*=(d.isHorizontal?-1:1)*c}(r,t,s,u,0,_.boundingLength,_.pxSign,g,o,_),function pK(r,t,e,o,s){var u=r.get(R8)||0;u&&(QI.attr({scaleX:t[0],scaleY:t[1],rotation:e}),QI.updateTransform(),u/=QI.getLineScale(),u*=t[o.valueDim.index]),s.valueLineWidth=u||0}(e,_.symbolScale,v,o,_);var w=_.symbolSize,S=$c(e.get("symbolOffset"),w);return function vK(r,t,e,o,s,u,c,f,d,v,g,m){var _=g.categoryDim,w=g.valueDim,S=m.pxSign,x=Math.max(t[w.index]+f,0),D=x;if(o){var T=Math.abs(d),A=$t(r.get("symbolMargin"),"15%")+"",E=!1;A.lastIndexOf("!")===A.length-1&&(E=!0,A=A.slice(0,A.length-1));var P=Ce(A,t[w.index]),N=Math.max(x+2*P,0),k=E?0:2*P,F=bp(o),B=F?o:V8((T+k)/N);N=x+2*(P=(T-B*x)/2/(E?B:Math.max(B-1,1))),k=E?0:2*P,!F&&"fixed"!==o&&(B=v?V8((Math.abs(v)+k)/N):0),D=B*N-k,m.repeatTimes=B,m.symbolMargin=P}var j=S*(D/2),W=m.pathPosition=[];W[_.index]=e[_.wh]/2,W[w.index]="start"===c?j:"end"===c?d-j:d/2,u&&(W[0]+=u[0],W[1]+=u[1]);var q=m.bundlePosition=[];q[_.index]=e[_.xy],q[w.index]=e[w.xy];var Y=m.barRectShape=ce({},e);Y[w.wh]=S*Math.max(Math.abs(e[w.wh]),Math.abs(W[w.index]+j)),Y[_.wh]=e[_.wh];var K=m.clipShape={};K[_.xy]=-e[_.xy],K[_.wh]=g.ecSize[_.wh],K[w.xy]=0,K[w.wh]=e[w.wh]}(e,w,s,u,0,S,f,_.valueLineWidth,_.boundingLength,_.repeatCutLength,o,_),_}function JI(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function xz(r){var t=r.symbolPatternSize,e=ar(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function y1(r,t,e,o){var s=r.__pictorialBundle,f=e.pathPosition,d=t.valueDim,v=e.repeatTimes||0,g=0,m=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(c_(r,function(x){x.__pictorialAnimationIndex=g,x.__pictorialRepeatTimes=v,g<v?cg(x,null,S(g),e,o):cg(x,null,{scaleX:0,scaleY:0},e,o,function(){s.remove(x)}),g++});g<v;g++){var _=xz(e);_.__pictorialAnimationIndex=g,_.__pictorialRepeatTimes=v,s.add(_);var w=S(g);cg(_,{x:w.x,y:w.y,scaleX:0,scaleY:0},{scaleX:w.scaleX,scaleY:w.scaleY,rotation:w.rotation},e,o)}function S(x){var D=f.slice(),T=e.pxSign,A=x;return("start"===e.symbolRepeatDirection?T>0:T<0)&&(A=v-1-x),D[d.index]=m*(A-v/2+.5)+f[d.index],{x:D[0],y:D[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function eP(r,t,e,o){var s=r.__pictorialBundle,u=r.__pictorialMainPath;u?cg(u,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,o):(u=r.__pictorialMainPath=xz(e),s.add(u),cg(u,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,o))}function O8(r,t,e){var o=ce({},t.barRectShape),s=r.__pictorialBarRect;s?cg(s,null,{shape:o},t,e):((s=r.__pictorialBarRect=new Ot({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,r.add(s))}function tP(r,t,e,o){if(e.symbolClip){var s=r.__pictorialClipPath,u=ce({},e.clipShape),c=t.valueDim,f=e.animationModel,d=e.dataIndex;if(s)Yt(s,{shape:u},f,d);else{u[c.wh]=0,s=new Ot({shape:u}),r.__pictorialBundle.setClipPath(s),r.__pictorialClipPath=s;var v={};v[c.wh]=e.clipShape[c.wh],Ms[o?"updateProps":"initProps"](s,{shape:v},f,d)}}}function wl(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=N8,e.isAnimationEnabled=gK,e}function N8(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function gK(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function F8(r,t,e,o){var s=new Ze,u=new Ze;return s.add(u),s.__pictorialBundle=u,u.x=e.bundlePosition[0],u.y=e.bundlePosition[1],e.symbolRepeat?y1(s,t,e):eP(s,0,e),O8(s,e,o),tP(s,t,e,o),s.__pictorialShapeStr=rP(r,e),s.__pictorialSymbolMeta=e,s}function nP(r,t,e,o){var s=o.__pictorialBarRect;s&&s.removeTextContent();var u=[];c_(o,function(c){u.push(c)}),o.__pictorialMainPath&&u.push(o.__pictorialMainPath),o.__pictorialClipPath&&(e=null),H(u,function(c){es(c,{scaleX:0,scaleY:0},e,t,function(){o.parent&&o.parent.remove(o)})}),r.setItemGraphicEl(t,null)}function rP(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function c_(r,t,e){H(r.__pictorialBundle.children(),function(o){o!==r.__pictorialBarRect&&t.call(e,o)})}function cg(r,t,e,o,s,u){t&&r.attr(t),o.symbolClip&&!s?e&&r.attr(e):e&&Ms[s?"updateProps":"initProps"](r,e,o.animationModel,o.dataIndex,u)}function Dz(r,t,e){var o=e.dataIndex,s=e.itemModel,u=s.getModel("emphasis"),c=u.getModel("itemStyle").getItemStyle(),f=s.getModel(["blur","itemStyle"]).getItemStyle(),d=s.getModel(["select","itemStyle"]).getItemStyle(),v=s.getShallow("cursor"),g=u.get("focus"),m=u.get("blurScope"),_=u.get("scale");c_(r,function(x){if(x instanceof bn){var D=x.style;x.useStyle(ce({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},e.style))}else x.useStyle(e.style);var T=x.ensureState("emphasis");T.style=c,_&&(T.scaleX=1.1*x.scaleX,T.scaleY=1.1*x.scaleY),x.ensureState("blur").style=f,x.ensureState("select").style=d,v&&(x.cursor=v),x.z2=e.z2});var w=t.valueDim.posDesc[+(e.boundingLength>0)];Li(r.__pictorialBarRect,Mr(s),{labelFetcher:t.seriesModel,labelDataIndex:o,defaultText:oh(t.seriesModel.getData(),o),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:w}),Jn(r,g,m,u.get("disabled"))}function V8(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}const Tz=Sz;var B8=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return ae(t,r),t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=gu(aC.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(aC);const yK=B8;var wK=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return ae(t,r),t.prototype.render=function(e,o,s){var u=e.getData(),c=this,f=this.group,d=e.getLayerSeries(),v=u.getLayout("layoutInfo"),g=v.rect,m=v.boundaryGap;function _(D){return D.name}f.x=0,f.y=g.y+m[0];var w=new Ru(this._layersSeries||[],d,_,_),S=[];function x(D,T,A){var E=c._layers;if("remove"!==D){for(var k,P=[],N=[],F=d[T].indices,B=0;B<F.length;B++){var z=u.getItemLayout(F[B]),j=z.x,W=z.y0,q=z.y;P.push(j,W),N.push(j,W+q),k=u.getItemVisual(F[B],"style")}var Y,K=u.getItemLayout(F[0]),re=e.getModel("label").get("margin"),le=e.getModel("emphasis");if("add"===D){var se=S[T]=new Ze;Y=new CF({shape:{points:P,stackedOnPoints:N,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),se.add(Y),f.add(se),e.isAnimationEnabled()&&Y.setClipPath(function z8(r,t,e){var o=new Ot({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return On(o,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),o}(Y.getBoundingRect(),e,function(){Y.removeClipPath()}))}else Y=(se=E[A]).childAt(0),f.add(se),S[T]=se,Yt(Y,{shape:{points:P,stackedOnPoints:N}},e),wa(Y);Li(Y,Mr(e),{labelDataIndex:F[B-1],defaultText:u.getName(F[B-1]),inheritColor:k.fill},{normal:{verticalAlign:"middle"}}),Y.setTextConfig({position:null,local:!0});var de=Y.getTextContent();de&&(de.x=K.x-re,de.y=K.y0+K.y/2),Y.useStyle(k),u.setItemGraphicEl(T,Y),Si(Y,e),Jn(Y,le.get("focus"),le.get("blurScope"),le.get("disabled"))}else f.remove(E[T])}w.add(Me(x,this,"add")).update(Me(x,this,"update")).remove(Me(x,this,"remove")).execute(),this._layersSeries=d,this._layers=S},t.type="themeRiver",t}(vn);const bK=wK;var H8=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new ah(Me(this.getData,this),Me(this.getRawData,this))},t.prototype.fixData=function(e){var o=e.length,s={},u=au(e,function(_){return s.hasOwnProperty(_[0]+"")||(s[_[0]+""]=-1),_[2]}),c=[];u.buckets.each(function(_,w){c.push({name:w,dataList:_})});for(var f=c.length,d=0;d<f;++d){for(var v=c[d].name,g=0;g<c[d].dataList.length;++g)s[m=c[d].dataList[g][0]+""]=d;for(var m in s)s.hasOwnProperty(m)&&s[m]!==d&&(s[m]=d,e[o]=[m,0,v],o++)}return e},t.prototype.getInitialData=function(e,o){for(var u=this.getReferringComponents("singleAxis",gr).models[0].get("type"),c=Wt(e.data,function(S){return void 0!==S[2]}),f=this.fixData(c||[]),d=[],v=this.nameMap=Re(),g=0,m=0;m<f.length;++m)d.push(f[m][2]),v.get(f[m][2])||(v.set(f[m][2],g),g++);var _=_v(f,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:MS(u)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,w=new oo(_,this);return w.initData(f),w},t.prototype.getLayerSeries=function(){for(var e=this.getData(),o=e.count(),s=[],u=0;u<o;++u)s[u]=u;var c=e.mapDimension("single"),f=au(s,function(v){return e.get("name",v)}),d=[];return f.buckets.each(function(v,g){v.sort(function(m,_){return e.get(c,m)-e.get(c,_)}),d.push({name:g,indices:v})}),d},t.prototype.getAxisTooltipData=function(e,o,s){ge(e)||(e=e?[e]:[]);for(var v,u=this.getData(),c=this.getLayerSeries(),f=[],d=c.length,g=0;g<d;++g){for(var m=Number.MAX_VALUE,_=-1,w=c[g].indices.length,S=0;S<w;++S){var x=u.get(e[0],c[g].indices[S]),D=Math.abs(x-o);D<=m&&(v=x,m=D,_=c[g].indices[S])}f.push(_)}return{dataIndices:f,nestestValue:v}},t.prototype.formatTooltip=function(e,o,s){var u=this.getData();return Jr("nameValue",{name:u.getName(e),value:u.get(u.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Mn);const G8=H8;function Mz(r,t){r.eachSeriesByType("themeRiver",function(e){var o=e.getData(),s=e.coordinateSystem,u={},c=s.getRect();u.rect=c;var f=e.get("boundaryGap"),d=s.getAxis();u.boundaryGap=f,"horizontal"===d.orient?(f[0]=Ce(f[0],c.height),f[1]=Ce(f[1],c.height),Az(o,e,c.height-f[0]-f[1])):(f[0]=Ce(f[0],c.width),f[1]=Ce(f[1],c.width),Az(o,e,c.width-f[0]-f[1])),o.setLayout("layoutInfo",u)})}function Az(r,t,e){if(r.count())for(var w,o=t.coordinateSystem,s=t.getLayerSeries(),u=r.mapDimension("single"),c=r.mapDimension("value"),f=me(s,function(D){return me(D.indices,function(T){var A=o.dataToPoint(r.get(u,T));return A[1]=r.get(c,T),A})}),d=function U8(r){for(var t=r.length,e=r[0].length,o=[],s=[],u=0,c=0;c<e;++c){for(var f=0,d=0;d<t;++d)f+=r[d][c][1];f>u&&(u=f),o.push(f)}for(var v=0;v<e;++v)s[v]=(u-o[v])/2;u=0;for(var g=0;g<e;++g){var m=o[g]+s[g];m>u&&(u=m)}return{y0:s,max:u}}(f),v=d.y0,g=e/d.max,m=s.length,_=s[0].indices.length,S=0;S<_;++S){r.setItemLayout(s[0].indices[S],{layerIndex:0,x:f[0][S][0],y0:w=v[S]*g,y:f[0][S][1]*g});for(var x=1;x<m;++x)r.setItemLayout(s[x].indices[S],{layerIndex:x,x:f[x][S][0],y0:w+=f[x-1][S][1]*g,y:f[x][S][1]*g})}}var Ez=function(r){function t(e,o,s,u){var c=r.call(this)||this;c.z2=2,c.textConfig={inside:!0},et(c).seriesIndex=o.seriesIndex;var f=new Nt({z2:4,silent:e.getModel().get(["label","silent"])});return c.setTextContent(f),c.updateData(!0,e,o,s,u),c}return ae(t,r),t.prototype.updateData=function(e,o,s,u,c){this.node=o,o.piece=this,s=s||this._seriesModel,u=u||this._ecModel;var f=this;et(f).dataIndex=o.dataIndex;var d=o.getModel(),v=d.getModel("emphasis"),g=o.getLayout(),m=ce({},g);m.label=null;var _=o.getVisual("style");_.lineJoin="bevel";var w=o.getVisual("decal");w&&(_.decal=gv(w,c));var S=cl(d.getModel("itemStyle"),m,!0);ce(m,S),H(hi,function(A){var E=f.ensureState(A),P=d.getModel([A,"itemStyle"]);E.style=P.getItemStyle();var N=cl(P,m);N&&(E.shape=N)}),e?(f.setShape(m),f.shape.r=g.r0,On(f,{shape:{r:g.r}},s,o.dataIndex)):(Yt(f,{shape:m},s),wa(f)),f.useStyle(_),this._updateLabel(s);var x=d.getShallow("cursor");x&&f.attr("cursor",x),this._seriesModel=s||this._seriesModel,this._ecModel=u||this._ecModel;var D=v.get("focus");Jn(this,"ancestor"===D?o.getAncestorsIndices():"descendant"===D?o.getDescendantIndices():D,v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e){var o=this,s=this.node.getModel(),u=s.getModel("label"),c=this.node.getLayout(),f=c.endAngle-c.startAngle,d=(c.startAngle+c.endAngle)/2,v=Math.cos(d),g=Math.sin(d),m=this,_=m.getTextContent(),w=this.node.dataIndex,S=u.get("minAngle")/180*Math.PI,x=u.get("show")&&!(null!=S&&Math.abs(f)<S);function D(T,A){return T.get(A)??u.get(A)}_.ignore=!x,H(pf,function(T){var A=s.getModel("normal"===T?"label":[T,"label"]),E="normal"===T,P=E?_:_.ensureState(T),N=e.getFormattedLabel(w,T);E&&(N=N||o.node.name),P.style=gn(A,{},null,"normal"!==T,!0),N&&(P.style.text=N);var k=A.get("show");null!=k&&!E&&(P.ignore=!k);var F=D(A,"position"),B=E?m:m.states[T],z=B.style.fill;B.textConfig={outsideFill:"inherit"===A.get("color")?z:null,inside:"outside"!==F};var j,W=D(A,"distance")||0,q=D(A,"align");"outside"===F?(j=c.r+W,q=d>Math.PI/2?"right":"left"):q&&"center"!==q?"left"===q?(j=c.r0+W,d>Math.PI/2&&(q="right")):"right"===q&&(j=c.r-W,d>Math.PI/2&&(q="left")):(j=f===2*Math.PI&&0===c.r0?0:(c.r+c.r0)/2,q="center"),P.style.align=q,P.style.verticalAlign=D(A,"verticalAlign")||"middle",P.x=j*v+c.cx,P.y=j*g+c.cy;var Y=D(A,"rotate"),K=0;"radial"===Y?(K=Wo(-d))>Math.PI/2&&K<1.5*Math.PI&&(K+=Math.PI):"tangential"===Y?(K=Math.PI/2-d)>Math.PI/2?K-=Math.PI:K<-Math.PI/2&&(K+=Math.PI):kt(Y)&&(K=Y*Math.PI/180),P.rotation=Wo(K)}),_.dirtyStyle()},t}(eo);const Iz=Ez;var Pz="sunburstRootToNode",q8="sunburstHighlight",xK=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s,u){var c=this;this.seriesModel=e,this.api=s,this.ecModel=o;var f=e.getData(),d=f.tree.root,v=e.getViewRoot(),g=this.group,m=e.get("renderLabelForZeroData"),_=[];v.eachNode(function(A){_.push(A)}),function S(A,E){function P(k){return k.getId()}function N(k,F){!function x(A,E){if(!m&&A&&!A.getValue()&&(A=null),A!==d&&E!==d)if(E&&E.piece)A?(E.piece.updateData(!1,A,e,o,s),f.setItemGraphicEl(A.dataIndex,E.piece)):function D(A){A&&A.piece&&(g.remove(A.piece),A.piece=null)}(E);else if(A){var P=new Iz(A,e,o,s);g.add(P),f.setItemGraphicEl(A.dataIndex,P)}}(null==k?null:A[k],null==F?null:E[F])}0===A.length&&0===E.length||new Ru(E,A,P,P).add(N).update(N).remove(Je(N,null)).execute()}(_,this._oldChildren||[]),function T(A,E){E.depth>0?(c.virtualPiece?c.virtualPiece.updateData(!1,A,e,o,s):(c.virtualPiece=new Iz(A,e,o,s),g.add(c.virtualPiece)),E.piece.off("click"),c.virtualPiece.on("click",function(P){c._rootToNode(E.parentNode)})):c.virtualPiece&&(g.remove(c.virtualPiece),c.virtualPiece=null)}(d,v),this._initEvents(),this._oldChildren=_},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(o){var s=!1;e.seriesModel.getViewRoot().eachNode(function(c){if(!s&&c.piece&&c.piece===o.target){var f=c.getModel().get("nodeClick");if("rootToNode"===f)e._rootToNode(c);else if("link"===f){var d=c.getModel(),v=d.get("link");v&&Cb(v,d.get("target",!0)||"_blank")}s=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Pz,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,o){var u=o.getData().getItemLayout(0);if(u){var c=e[0]-u.cx,f=e[1]-u.cy,d=Math.sqrt(c*c+f*f);return d<=u.r&&d>=u.r0}},t.type="sunburst",t}(vn);const DK=xK;var Z8=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return ae(t,r),t.prototype.getInitialData=function(e,o){var s={name:e.name,children:e.data};Id(s);var u=this._levelModels=me(e.levels||[],function(d){return new Sn(d,this,o)},this),c=LC.createTree(s,this,function f(d){d.wrapMethod("getItemModel",function(v,g){var m=c.getNodeByDataIndex(g),_=u[m.depth];return _&&(v.parentModel=_),v})});return c.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var o=r.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(e);return o.treePathInfo=R0(s,this),o},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;(!e||e!==o&&!o.contains(e))&&(this._viewRoot=o)},t.prototype.enableAriaDecal=function(){KE(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Mn);function Id(r){var t=0;H(r.children,function(o){Id(o);var s=o.value;ge(s)&&(s=s[0]),t+=s});var e=r.value;ge(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),ge(r.value)?r.value[0]=e:r.value=e}const Qn=Z8;var Ch=Math.PI/180;function Y8(r,t,e){t.eachSeriesByType(r,function(o){var s=o.get("center"),u=o.get("radius");ge(u)||(u=[0,u]),ge(s)||(s=[s,s]);var c=e.getWidth(),f=e.getHeight(),d=Math.min(c,f),v=Ce(s[0],c),g=Ce(s[1],f),m=Ce(u[0],d/2),_=Ce(u[1],d/2),w=-o.get("startAngle")*Ch,S=o.get("minAngle")*Ch,x=o.getData().tree.root,D=o.getViewRoot(),T=D.depth,A=o.get("sort");null!=A&&Lz(D,A);var E=0;H(D.children,function(re){!isNaN(re.getValue())&&E++});var P=D.getValue(),N=Math.PI/(P||E)*2,k=D.depth>0,B=(_-m)/(D.height-(k?-1:1)||1),z=o.get("clockwise"),j=o.get("stillShowZeroSum"),W=z?1:-1,q=function(re,le){if(re){var se=le;if(re!==x){var de=re.getValue(),be=0===P&&j?N:de*N;be<S&&(be=S),se=le+W*be;var De=re.depth-T-(k?-1:1),Fe=m+B*De,$e=m+B*(De+1),We=o.getLevelModel(re);if(We){var dt=We.get("r0",!0),Rt=We.get("r",!0),yt=We.get("radius",!0);null!=yt&&(dt=yt[0],Rt=yt[1]),null!=dt&&(Fe=Ce(dt,d/2)),null!=Rt&&($e=Ce(Rt,d/2))}re.setLayout({angle:be,startAngle:le,endAngle:se,clockwise:z,cx:v,cy:g,r0:Fe,r:$e})}if(re.children&&re.children.length){var Ke=0;H(re.children,function(_t){Ke+=q(_t,le+Ke)})}return se-le}};if(k){var Q=2*Math.PI;x.setLayout({angle:Q,startAngle:w,endAngle:w+Q,clockwise:z,cx:v,cy:g,r0:m,r:m+B})}q(D,w)})}function Lz(r,t){var e=r.children||[];r.children=function X8(r,t){if(Ne(t)){var e=me(r,function(s,u){var c=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return c}},index:u}});return e.sort(function(s,u){return t(s.params,u.params)}),me(e,function(s){return r[s.index]})}var o="asc"===t;return r.sort(function(s,u){var c=(s.getValue()-u.getValue())*(o?1:-1);return 0===c?(s.dataIndex-u.dataIndex)*(o?-1:1):c})}(e,t),e.length&&H(r.children,function(o){Lz(o,t)})}function K8(r){var t={};r.eachSeriesByType("sunburst",function(o){var s=o.getData(),u=s.tree;u.eachNode(function(c){var d=c.getModel().getModel("itemStyle").getItemStyle();d.fill||(d.fill=function e(o,s,u){for(var c=o;c&&c.depth>1;)c=c.parentNode;var f=s.getColorFromPalette(c.name||c.dataIndex+"",t);return o.depth>1&&xe(f)&&(f=vp(f,(o.depth-1)/(u-1)*.5)),f}(c,o,u.root.height)),ce(s.ensureUniqueItemVisual(c.dataIndex,"style"),d)})})}var kz={color:"fill",borderColor:"stroke"},Q8={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},bl=zt(),TK=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,o){return us(null,this)},t.prototype.getDataParams=function(e,o,s){var u=r.prototype.getDataParams.call(this,e,o);return s&&(u.info=bl(s).info),u},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Mn);const Pd=TK;function J8(r,t){return t=t||[0,0],me(["x","y"],function(e,o){var s=this.getAxis(e),u=t[o],c=r[o]/2;return"category"===s.type?s.getBandWidth():Math.abs(s.dataToCoord(u-c)-s.dataToCoord(u+c))},this)}function t9(r,t){return t=t||[0,0],me([0,1],function(e){var o=t[e],s=r[e]/2,u=[],c=[];return u[e]=o-s,c[e]=o+s,u[1-e]=c[1-e]=t[1-e],Math.abs(this.dataToPoint(u)[e]-this.dataToPoint(c)[e])},this)}function r9(r,t){var e=this.getAxis(),o=t instanceof Array?t[0]:t,s=(r instanceof Array?r[0]:r)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(o-s)-e.dataToCoord(o+s))}function Oz(r,t){return t=t||[0,0],me(["Radius","Angle"],function(e,o){var u=this["get"+e+"Axis"](),c=t[o],f=r[o]/2,d="category"===u.type?u.getBandWidth():Math.abs(u.dataToCoord(c-f)-u.dataToCoord(c+f));return"Angle"===e&&(d=d*Math.PI/180),d},this)}function xh(r,t,e,o){return r&&(r.legacy||!1!==r.legacy&&!e&&!o&&"tspan"!==t&&("text"===t||Ee(r,"text")))}function oP(r,t,e){var s,u,c,o=r;if("text"===t)c=o;else{c={},Ee(o,"text")&&(c.text=o.text),Ee(o,"rich")&&(c.rich=o.rich),Ee(o,"textFill")&&(c.fill=o.textFill),Ee(o,"textStroke")&&(c.stroke=o.textStroke),Ee(o,"fontFamily")&&(c.fontFamily=o.fontFamily),Ee(o,"fontSize")&&(c.fontSize=o.fontSize),Ee(o,"fontStyle")&&(c.fontStyle=o.fontStyle),Ee(o,"fontWeight")&&(c.fontWeight=o.fontWeight),u={type:"text",style:c,silent:!0},s={};var f=Ee(o,"textPosition");e?s.position=f?o.textPosition:"inside":f&&(s.position=o.textPosition),Ee(o,"textPosition")&&(s.position=o.textPosition),Ee(o,"textOffset")&&(s.offset=o.textOffset),Ee(o,"textRotation")&&(s.rotation=o.textRotation),Ee(o,"textDistance")&&(s.distance=o.textDistance)}return Zu(c,r),H(c.rich,function(d){Zu(d,d)}),{textConfig:s,textContent:u}}function Zu(r,t){t&&(t.font=t.textFont||t.font,Ee(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth),Ee(t,"textAlign")&&(r.align=t.textAlign),Ee(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign),Ee(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight),Ee(t,"textWidth")&&(r.width=t.textWidth),Ee(t,"textHeight")&&(r.height=t.textHeight),Ee(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor),Ee(t,"textPadding")&&(r.padding=t.textPadding),Ee(t,"textBorderColor")&&(r.borderColor=t.textBorderColor),Ee(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth),Ee(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius),Ee(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor),Ee(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur),Ee(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX),Ee(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY))}function Bi(r,t,e){var o=r;o.textPosition=o.textPosition||e.position||"inside",null!=e.offset&&(o.textOffset=e.offset),null!=e.rotation&&(o.textRotation=e.rotation),null!=e.distance&&(o.textDistance=e.distance);var s=o.textPosition.indexOf("inside")>=0,u=r.fill||"#000";Te(o,t);var c=null==o.textFill;return s?c&&(o.textFill=e.insideFill||"#fff",!o.textStroke&&e.insideStroke&&(o.textStroke=e.insideStroke),!o.textStroke&&(o.textStroke=u),null==o.textStrokeWidth&&(o.textStrokeWidth=2)):(c&&(o.textFill=r.fill||e.outsideFill||"#000"),!o.textStroke&&e.outsideStroke&&(o.textStroke=e.outsideStroke)),o.text=t.text,o.rich=t.rich,H(t.rich,function(f){Te(f,f)}),o}function Te(r,t){t&&(Ee(t,"fill")&&(r.textFill=t.fill),Ee(t,"stroke")&&(r.textStroke=t.fill),Ee(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth),Ee(t,"font")&&(r.font=t.font),Ee(t,"fontStyle")&&(r.fontStyle=t.fontStyle),Ee(t,"fontWeight")&&(r.fontWeight=t.fontWeight),Ee(t,"fontSize")&&(r.fontSize=t.fontSize),Ee(t,"fontFamily")&&(r.fontFamily=t.fontFamily),Ee(t,"align")&&(r.textAlign=t.align),Ee(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign),Ee(t,"lineHeight")&&(r.textLineHeight=t.lineHeight),Ee(t,"width")&&(r.textWidth=t.width),Ee(t,"height")&&(r.textHeight=t.height),Ee(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor),Ee(t,"padding")&&(r.textPadding=t.padding),Ee(t,"borderColor")&&(r.textBorderColor=t.borderColor),Ee(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth),Ee(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius),Ee(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor),Ee(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur),Ee(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX),Ee(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY),Ee(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor),Ee(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur),Ee(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX),Ee(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY))}var aP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},ra=pt(aP),w1=(Ei(Za,function(r,t){return r[t]=1,r},{}),Za.join(", "),["","style","shape","extra"]),hg=zt();function sP(r,t,e,o,s){var u=r+"Animation",c=wf(r,o,s)||{},f=hg(t).userDuring;return c.duration>0&&(c.during=f?Me(v_,{el:t,userDuring:f}):null,c.setToFinal=!0,c.scope=r),ce(c,e[u]),c}function Ld(r,t,e,o){var s=(o=o||{}).dataIndex,u=o.isInit,c=o.clearStyle,f=e.isAnimationEnabled(),d=hg(r),v=t.style;d.userDuring=t.during;var g={},m={};if(function lP(r,t,e){for(var o=0;o<ra.length;o++){var s=ra[o],u=aP[s],c=t[s];c&&(e[u[0]]=c[0],e[u[1]]=c[1])}for(o=0;o<Za.length;o++){var f=Za[o];null!=t[f]&&(e[f]=t[f])}}(0,t,m),Rd("shape",t,m),Rd("extra",t,m),!u&&f&&(function a9(r,t,e){for(var o=t.transition,s=Mi(o)?Za:nn(o||[]),u=0;u<s.length;u++){var c=s[u];"style"!==c&&"shape"!==c&&"extra"!==c&&(e[c]=r[c])}}(r,t,g),b1("shape",r,t,g),b1("extra",r,t,g),function uP(r,t,e,o){if(e){var u,s=r.style;if(s){var c=e.transition,f=t.transition;if(c&&!Mi(c)){var d=nn(c);!u&&(u=o.style={});for(var v=0;v<d.length;v++)u[g=d[v]]=s[g]}else if(r.getAnimationStyleProps&&(Mi(f)||Mi(c)||ot(f,"style")>=0)){var _=r.getAnimationStyleProps(),w=_?_.style:null;if(w){!u&&(u=o.style={});var S=pt(e);for(v=0;v<S.length;v++){var g;w[g=S[v]]&&(u[g]=s[g])}}}}}}(r,t,v,g)),m.style=v,function Sl(r,t,e){var o=t.style;if(!r.isGroup&&o){if(e){r.useStyle({});for(var s=r.animators,u=0;u<s.length;u++){var c=s[u];"style"===c.targetName&&c.changeTarget(r.style)}}r.setStyle(o)}t&&(t.style=null,t&&r.attr(t),t.style=o)}(r,m,c),function p_(r,t){Ee(t,"silent")&&(r.silent=t.silent),Ee(t,"ignore")&&(r.ignore=t.ignore),r instanceof ya&&Ee(t,"invisible")&&(r.invisible=t.invisible),r instanceof mt&&Ee(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}(r,t),f)if(u){var _={};H(w1,function(S){var x=S?t[S]:t;x&&x.enterFrom&&(S&&(_[S]=_[S]||{}),ce(S?_[S]:_,x.enterFrom))});var w=sP("enter",r,t,e,s);w.duration>0&&r.animateFrom(_,w)}else!function d_(r,t,e,o,s){if(s){var u=sP("update",r,t,o,e);u.duration>0&&r.animateFrom(s,u)}}(r,t,s||0,e,g);f_(r,t),v?r.dirty():r.markRedraw()}function f_(r,t){for(var e=hg(r).leaveToProps,o=0;o<w1.length;o++){var s=w1[o],u=s?t[s]:t;u&&u.leaveTo&&(e||(e=hg(r).leaveToProps={}),s&&(e[s]=e[s]||{}),ce(s?e[s]:e,u.leaveTo))}}function tr(r,t,e,o){if(r){var s=r.parent,u=hg(r).leaveToProps;if(u){var c=sP("update",r,t,e,0);c.done=function(){s.remove(r),o&&o()},r.animateTo(u,c)}else s.remove(r),o&&o()}}function Mi(r){return"all"===r}var ia={},Yu={setTransform:function(r,t){return ia.el[r]=t,this},getTransform:function(r){return ia.el[r]},setShape:function(r,t){var e=ia.el;return(e.shape||(e.shape={}))[r]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(r){var t=ia.el.shape;if(t)return t[r]},setStyle:function(r,t){var e=ia.el,o=e.style;return o&&(o[r]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(r){var t=ia.el.style;if(t)return t[r]},setExtra:function(r,t){return(ia.el.extra||(ia.el.extra={}))[r]=t,this},getExtra:function(r){var t=ia.el.extra;if(t)return t[r]}};function v_(){var r=this,t=r.el;if(t){var e=hg(t).userDuring,o=r.userDuring;if(e!==o)return void(r.el=r.userDuring=null);ia.el=t,o(Yu)}}function b1(r,t,e,o){var s=e[r];if(s){var c,u=t[r];if(u){var f=e.transition,d=s.transition;if(d)if(!c&&(c=o[r]={}),Mi(d))ce(c,u);else for(var v=nn(d),g=0;g<v.length;g++)c[m=v[g]]=_=u[m];else if(Mi(f)||ot(f,r)>=0){!c&&(c=o[r]={});var w=pt(u);for(g=0;g<w.length;g++){var m,_;s9(s[m=w[g]],_=u[m])&&(c[m]=_)}}}}}function Rd(r,t,e){var o=t[r];if(o)for(var s=e[r]={},u=pt(o),c=0;c<u.length;c++){var f=u[c];s[f]=Jl(o[f])}}function s9(r,t){return $r(r)?r!==t:null!=r&&isFinite(r)}var Vz=zt(),l9=["percent","easing","shape","style","extra"];function Cl(r){r.stopAnimation("keyframe"),r.attr(Vz(r))}function S1(r,t,e){if(e.isAnimationEnabled()&&t){if(ge(t))return void H(t,function(f){S1(r,f,e)});var o=t.keyframes,s=t.duration;if(e&&null==s){var u=wf("enter",e,0);s=u&&u.duration}if(o&&s){var c=Vz(r);H(w1,function(f){var d;f&&!r[f]||(o.sort(function(g,m){return g.percent-m.percent}),H(o,function(g){var m=r.animators,_=f?g[f]:g;if(_){var w=pt(_);if(f||(w=Wt(w,function(D){return ot(l9,D)<0})),w.length){d||((d=r.animate(f,t.loop,!0)).scope="keyframe");for(var S=0;S<m.length;S++)m[S]!==d&&m[S].targetName===d.targetName&&m[S].stopTracks(w);f&&(c[f]=c[f]||{});var x=f?c[f]:c;H(w,function(D){x[D]=((f?r[f]:r)||{})[D]}),d.whenWithKeys(s*g.percent,_,w,g.easing)}}}),d&&d.delay(t.delay||0).duration(s).start(t.easing))})}}}var Xu="emphasis",Dh="normal",fg="blur",C1="select",xl=[Dh,Xu,fg,C1],x1={normal:["itemStyle"],emphasis:[Xu,"itemStyle"],blur:[fg,"itemStyle"],select:[C1,"itemStyle"]},D1={normal:["label"],emphasis:[Xu,"label"],blur:[fg,"label"],select:[C1,"label"]},Bz=["x","y"],T1="e\0\0",ka={normal:{},emphasis:{},blur:{},select:{}},u9={cartesian2d:function e9(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Me(J8,r)}}},geo:function n9(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:Me(t9,r)}}},single:function i9(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Me(r9,r)}}},polar:function Nz(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),o=t.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:o[1],r0:o[0]},api:{coord:function(s){var u=t.dataToRadius(s[0]),c=e.dataToAngle(s[1]),f=r.coordToPoint([u,c]);return f.push(u,c*Math.PI/180),f},size:Me(Oz,r)}}},calendar:function Fz(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(o,s){return r.dataToPoint(o,s)}}}}};function M1(r){return r instanceof mt}function cP(r){return r instanceof ya}var A1=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s,u){this._progressiveEls=null;var c=this._data,f=e.getData(),d=this.group,v=dP(e,f,o,s);c||d.removeAll(),f.diff(c).add(function(m){I1(s,null,m,v(m,u),e,d,f)}).remove(function(m){var _=c.getItemGraphicEl(m);_&&tr(_,bl(_).option,e)}).update(function(m,_){var w=c.getItemGraphicEl(_);I1(s,w,m,v(m,u),e,d,f)}).execute();var g=e.get("clip",!0)?WA(e.coordinateSystem,!1,e):null;g?d.setClipPath(g):d.removeClipPath(),this._data=f},t.prototype.incrementalPrepareRender=function(e,o,s){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,o,s,u,c){var f=o.getData(),d=dP(o,f,s,u),v=this._progressiveEls=[];function g(w){w.isGroup||(w.incremental=!0,w.ensureState("emphasis").hoverLayer=!0)}for(var m=e.start;m<e.end;m++){var _=I1(null,null,m,d(m,c),o,this.group,f);_&&(_.traverse(g),v.push(_))}},t.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,o,s,u){var c=o.element;if(null==c||s.name===c)return!0;for(;(s=s.__hostTarget||s.parent)&&s!==this.group;)if(s.name===c)return!0;return!1},t.type="custom",t}(vn);const c9=A1;function dg(r){var e,t=r.type;if("path"===t){var o=r.shape,s=null!=o.width&&null!=o.height?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,u=vP(o);e=hv(u,null,s,o.layout||"center"),bl(e).customPathData=u}else if("image"===t)e=new bn({}),bl(e).customImagePath=r.style.image;else if("text"===t)e=new Nt({});else if("group"===t)e=new Ze;else{if("compoundPath"===t)throw new Error('"compoundPath" is not supported yet.');var c=Py(t);c||an(""),e=new c}return bl(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function ti(r,t,e,o,s,u,c){Cl(t);var f=s&&s.normal.cfg;f&&t.setTextConfig(f),o&&null==o.transition&&(o.transition=Bz);var d=o&&o.style;if(d){if("text"===t.type){var v=d;Ee(v,"textFill")&&(v.fill=v.textFill),Ee(v,"textStroke")&&(v.stroke=v.textStroke)}var g=void 0,m=M1(t)?d.decal:null;r&&m&&(m.dirty=!0,g=gv(m,r)),d.__decalPattern=g}cP(t)&&d&&(g=d.__decalPattern)&&(d.decal=g),Ld(t,o,u,{dataIndex:e,isInit:c,clearStyle:!0}),S1(t,o.keyframeAnimation,u)}function fP(r,t,e,o,s){var u=t.isGroup?null:t,c=s&&s[r].cfg;if(u){var f=u.ensureState(r);if(!1===o){var d=u.getState(r);d&&(d.style=null)}else f.style=o||null;c&&(f.textConfig=c),Ic(u)}}function E1(r,t,e){var o=e===Dh,s=o?t:g_(t,e),u=s?s.z2:null;null!=u&&((o?r:r.ensureState(e)).z2=u||0)}function dP(r,t,e,o){var s=r.get("renderItem"),u=r.coordinateSystem,c={};u&&(c=u.prepareCustoms?u.prepareCustoms(u):u9[u.type](u));for(var v,g,f=Ve({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:function P(K,Q){return null==Q&&(Q=v),t.getStore().get(t.getDimensionIndex(K||0),Q)},style:function k(K,Q){null==Q&&(Q=v);var re=t.getItemVisual(Q,"style"),le=re&&re.fill,se=re&&re.opacity,de=A(Q,Dh).getItemStyle();null!=le&&(de.fill=le),null!=se&&(de.opacity=se);var be={inheritColor:xe(le)?le:"#000"},De=E(Q,Dh),Fe=gn(De,null,be,!1,!0);Fe.text=De.getShallow("show")?Qe(r.getFormattedLabel(Q,Dh),oh(t,Q)):null;var $e=fT(De,be,!1);return z(K,de),de=Bi(de,Fe,$e),K&&B(de,K),de.legacy=!0,de},ordinalRawValue:function N(K,Q){null==Q&&(Q=v);var re=t.getDimensionInfo(K=K||0);if(!re){var le=t.getDimensionIndex(K);return le>=0?t.getStore().get(le,Q):void 0}var se=t.get(re.name,Q),de=re&&re.ordinalMeta;return de?de.categories[se]:se},styleEmphasis:function F(K,Q){null==Q&&(Q=v);var re=A(Q,Xu).getItemStyle(),le=E(Q,Xu),se=gn(le,null,null,!0,!0);se.text=le.getShallow("show")?Gn(r.getFormattedLabel(Q,Xu),r.getFormattedLabel(Q,Dh),oh(t,Q)):null;var de=fT(le,null,!0);return z(K,re),re=Bi(re,se,de),K&&B(re,K),re.legacy=!0,re},visual:function j(K,Q){if(null==Q&&(Q=v),Ee(kz,K)){var re=t.getItemVisual(Q,"style");return re?re[kz[K]]:null}if(Ee(Q8,K))return t.getItemVisual(Q,K)},barLayout:function W(K){if("cartesian2d"===u.type)return function yN(r){var t=[],e=r.axis,o="axis0";if("category"===e.type){for(var s=e.getBandWidth(),u=0;u<r.count;u++)t.push(Ve({bandWidth:s,axisKey:o,stackId:BS+u},r));var c=_N(t),f=[];for(u=0;u<r.count;u++){var d=c[o][BS+u];d.offsetCenter=d.offset+d.width/2,f.push(d)}return f}}(Ve({axis:u.getBaseAxis()},K))},currentSeriesIndices:function q(){return e.getCurrentSeriesIndices()},font:function Y(K){return dT(K,e)}},c.api||{}),d={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:c.coordSys,dataInsideLength:t.count(),encode:h9(r.getData())},m={},_={},w={},S={},x=0;x<xl.length;x++){var D=xl[x];w[D]=r.getModel(x1[D]),S[D]=r.getModel(D1[D])}function T(K){return K===v?g||(g=t.getItemModel(K)):t.getItemModel(K)}function A(K,Q){return t.hasItemOption?K===v?m[Q]||(m[Q]=T(K).getModel(x1[Q])):T(K).getModel(x1[Q]):w[Q]}function E(K,Q){return t.hasItemOption?K===v?_[Q]||(_[Q]=T(K).getModel(D1[Q])):T(K).getModel(D1[Q]):S[Q]}return function(K,Q){return v=K,g=null,m={},_={},s&&s(Ve({dataIndexInside:K,dataIndex:t.getRawIndex(K),actionType:Q?Q.type:null},d),f)};function B(K,Q){for(var re in Q)Ee(Q,re)&&(K[re]=Q[re])}function z(K,Q){K&&(K.textFill&&(Q.textFill=K.textFill),K.textPosition&&(Q.textPosition=K.textPosition))}}function h9(r){var t={};return H(r.dimensions,function(e){var o=r.getDimensionInfo(e);if(!o.isExtraCoord){var s=o.coordDim;(t[s]=t[s]||[])[o.coordDimIndex]=r.getDimensionIndex(e)}}),t}function I1(r,t,e,o,s,u,c){if(o){var f=P1(r,t,e,o,s,u);return f&&c.setItemGraphicEl(e,f),f&&Jn(f,o.focus,o.blurScope,o.emphasisDisabled),f}u.remove(t)}function P1(r,t,e,o,s,u){var c=-1,f=t;t&&L1(t,o,s)&&(c=ot(u.childrenRef(),t),t=null);var d=!t,v=t;v?v.clearStates():(v=dg(o),f&&function hP(r,t){t.copyTransform(r),cP(t)&&cP(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,M1(t)&&M1(r)&&t.setShape(r.shape))}(f,v)),!1===o.morph?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),ka.normal.cfg=ka.normal.conOpt=ka.emphasis.cfg=ka.emphasis.conOpt=ka.blur.cfg=ka.blur.conOpt=ka.select.cfg=ka.select.conOpt=null,ka.isLegacy=!1,function f9(r,t,e,o,s,u){if(!r.isGroup){Hz(e,null,u),Hz(e,Xu,u);var c=u.normal.conOpt;if(null!=c||null!=u.emphasis.conOpt||null!=u.select.conOpt||null!=u.blur.conOpt){var g=r.getTextContent();if(!1===c)g&&r.removeTextContent();else{c=u.normal.conOpt=c||{type:"text"},g?g.clearStates():(g=dg(c),r.setTextContent(g)),ti(null,g,t,c,null,o,s);for(var m=c&&c.style,_=0;_<xl.length;_++){var w=xl[_];if(w!==Dh)fP(w,g,0,m_(c,u[w].conOpt,w),null)}m?g.dirty():g.markRedraw()}}}}(v,e,o,s,d,ka),function zz(r,t,e,o,s){var u=e.clipPath;if(!1===u)r&&r.getClipPath()&&r.removeClipPath();else if(u){var c=r.getClipPath();c&&L1(c,u,o)&&(c=null),c||(c=dg(u),r.setClipPath(c)),ti(null,c,t,u,null,o,s)}}(v,e,o,s,d),ti(r,v,e,o,ka,s,d),Ee(o,"info")&&(bl(v).info=o.info);for(var g=0;g<xl.length;g++){var m=xl[g];if(m!==Dh)fP(m,v,0,m_(o,g_(o,m),m),ka)}return function Ku(r,t,e){if(!r.isGroup){var o=r,u=e.currentZLevel;o.z=e.currentZ,o.zlevel=u;var c=t.z2;null!=c&&(o.z2=c||0);for(var f=0;f<xl.length;f++)E1(o,t,xl[f])}}(v,o,s),"group"===o.type&&function R1(r,t,e,o,s){var u=o.children,c=u?u.length:0,f=o.$mergeChildren,d="byName"===f||o.diffChildrenByName,v=!1===f;if(c||d||v){if(d)return void function pP(r){new Ru(r.oldChildren,r.newChildren,Uz,Uz,r).add(jz).update(jz).remove(Wz).execute()}({api:r,oldChildren:t.children()||[],newChildren:u||[],dataIndex:e,seriesModel:s,group:t});v&&t.removeAll();for(var g=0;g<c;g++){var m=u[g],_=t.childAt(g);m?(null==m.ignore&&(m.ignore=!1),P1(r,_,e,m,s,t)):_.ignore=!0}for(var w=t.childCount()-1;w>=g;w--){var S=t.childAt(w);Gz(t,S,s)}}}(r,v,e,o,s),c>=0?u.replaceAt(v,c):u.add(v),v}function L1(r,t,e){var o=bl(r),s=t.type,u=t.shape,c=t.style;return e.isUniversalTransitionEnabled()||null!=s&&s!==o.customGraphicType||"path"===s&&function $z(r){return r&&(Ee(r,"pathData")||Ee(r,"d"))}(u)&&vP(u)!==o.customPathData||"image"===s&&Ee(c,"image")&&c.image!==o.customImagePath}function Hz(r,t,e){var o=t?g_(r,t):r,s=t?m_(r,o,Xu):r.style,u=r.type,c=o?o.textConfig:null,f=r.textContent,d=f?t?g_(f,t):f:null;if(s&&(e.isLegacy||xh(s,u,!!c,!!d))){e.isLegacy=!0;var v=oP(s,u,!t);!c&&v.textConfig&&(c=v.textConfig),!d&&v.textContent&&(d=v.textContent)}!t&&d&&!d.type&&(d.type="text");var m=t?e[t]:e.normal;m.cfg=c,m.conOpt=d}function g_(r,t){return t?r?r[t]:null:r}function m_(r,t,e){var o=t&&t.style;return null==o&&e===Xu&&r&&(o=r.styleEmphasis),o}function Gz(r,t,e){t&&tr(t,bl(r).option,e)}function Uz(r,t){return(r&&r.name)??T1+t}function jz(r,t){var e=this.context;P1(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=r?e.newChildren[r]:null,e.seriesModel,e.group)}function Wz(r){var t=this.context,e=t.oldChildren[r];e&&tr(e,bl(e).option,t.seriesModel)}function vP(r){return r&&(r.pathData||r.d)}var Th=zt(),qz=Ge,gP=Me,Zz=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,e,o,s){var u=e.get("value"),c=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=o,s||this._lastValue!==u||this._lastStatus!==c){this._lastValue=u,this._lastStatus=c;var f=this._group,d=this._handle;if(!c||"hide"===c)return f&&f.hide(),void(d&&d.hide());f&&f.show(),d&&d.show();var v={};this.makeElOption(v,u,t,e,o);var g=v.graphicKey;g!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=g;var m=this._moveAnimation=this.determineAnimation(t,e);if(f){var _=Je(k1,e,m);this.updatePointerEl(f,v,_),this.updateLabelEl(f,v,_,e)}else f=this._group=new Ze,this.createPointerEl(f,v,t,e),this.createLabelEl(f,v,t,e),o.getZr().add(f);yP(f,e,!0),this._renderHandle(u)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,e){var o=e.get("animation"),s=t.axis,u="category"===s.type,c=e.get("snap");if(!c&&!u)return!1;if("auto"===o||null==o){var f=this.animationThreshold;if(u&&s.getBandWidth()>f)return!0;if(c){var d=nV(t).seriesDataCount,v=s.getExtent();return Math.abs(v[0]-v[1])/d>f}return!1}return!0===o},r.prototype.makeElOption=function(t,e,o,s,u){},r.prototype.createPointerEl=function(t,e,o,s){var u=e.pointer;if(u){var c=Th(t).pointerEl=new Ms[u.type](qz(e.pointer));t.add(c)}},r.prototype.createLabelEl=function(t,e,o,s){if(e.label){var u=Th(t).labelEl=new Nt(qz(e.label));t.add(u),Yz(u,s)}},r.prototype.updatePointerEl=function(t,e,o){var s=Th(t).pointerEl;s&&e.pointer&&(s.setStyle(e.pointer.style),o(s,{shape:e.pointer.shape}))},r.prototype.updateLabelEl=function(t,e,o,s){var u=Th(t).labelEl;u&&(u.setStyle(e.label.style),o(u,{x:e.label.x,y:e.label.y}),Yz(u,s))},r.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var f,e=this._axisPointerModel,o=this._api.getZr(),s=this._handle,u=e.getModel("handle"),c=e.get("status");if(!u.get("show")||!c||"hide"===c)return s&&o.remove(s),void(this._handle=null);this._handle||(f=!0,s=this._handle=Ta(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){ha(v.event)},onmousedown:gP(this._onHandleDragMove,this,0,0),drift:gP(this._onHandleDragMove,this),ondragend:gP(this._onHandleDragEnd,this)}),o.add(s)),yP(s,e,!1),s.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=u.get("size");ge(d)||(d=[d,d]),s.scaleX=d[0]/2,s.scaleY=d[1]/2,Gf(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,f)}},r.prototype._moveHandleToValue=function(t,e){k1(this._axisPointerModel,!e&&this._moveAnimation,this._handle,mP(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,e){var o=this._handle;if(o){this._dragging=!0;var s=this.updateHandleTransform(mP(o),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=s,o.stopAnimation(),o.attr(mP(s)),Th(o).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),o=this._group,s=this._handle;e&&o&&(this._lastGraphicKey=null,o&&e.remove(o),s&&e.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),By(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,e,o){return{x:t[o=o||0],y:t[1-o],width:e[o],height:e[1-o]}},r}();function k1(r,t,e,o){__(Th(e).lastProp,o)||(Th(e).lastProp=o,t?Yt(e,o,r):(e.stopAnimation(),e.attr(o)))}function __(r,t){if(Ue(r)&&Ue(t)){var e=!0;return H(t,function(o,s){e=e&&__(r[s],o)}),!!e}return r===t}function Yz(r,t){r[t.get(["label","show"])?"show":"hide"]()}function mP(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function yP(r,t,e){var o=t.get("z"),s=t.get("zlevel");r&&r.traverse(function(u){"group"!==u.type&&(null!=o&&(u.z=o),null!=s&&(u.zlevel=s),u.silent=e)})}const _P=Zz;function wP(r){var o,t=r.get("type"),e=r.getModel(t+"Style");return"line"===t?(o=e.getLineStyle()).fill=null:"shadow"===t&&((o=e.getAreaStyle()).stroke=null),o}function Xz(r,t,e,o,s){var c=Kz(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),f=e.getModel("label"),d=yu(f.get("padding")||0),v=f.getFont(),g=Rm(c,v),m=s.position,_=g.width+d[1]+d[3],w=g.height+d[0]+d[2],S=s.align;"right"===S&&(m[0]-=_),"center"===S&&(m[0]-=_/2);var x=s.verticalAlign;"bottom"===x&&(m[1]-=w),"middle"===x&&(m[1]-=w/2),function d9(r,t,e,o){var s=o.getWidth(),u=o.getHeight();r[0]=Math.min(r[0]+t,s)-t,r[1]=Math.min(r[1]+e,u)-e,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}(m,_,w,o);var D=f.get("backgroundColor");(!D||"auto"===D)&&(D=t.get(["axisLine","lineStyle","color"])),r.label={x:m[0],y:m[1],style:gn(f,{text:c,font:v,fill:f.getTextColor(),padding:d,backgroundColor:D}),z2:10}}function Kz(r,t,e,o,s){r=t.scale.parse(r);var u=t.scale.getLabel({value:r},{precision:s.precision}),c=s.formatter;if(c){var f={value:pA(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};H(o,function(d){var v=e.getSeriesByIndex(d.seriesIndex),m=v&&v.getDataParams(d.dataIndexInside);m&&f.seriesData.push(m)}),xe(c)?u=c.replace("{value}",u):Ne(c)&&(u=c(f))}return u}function bP(r,t,e){var o=[1,0,0,1,0,0];return wo(o,o,e.rotation),Ie(o,o,e.position),Da([r.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],o)}function Qz(r,t,e,o,s,u){var c=uh.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=s.get(["label","margin"]),Xz(t,o,s,u,{position:bP(o.axis,r,e),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function w_(r,t,e){return{x1:r[e=e||0],y1:r[1-e],x2:t[e],y2:t[1-e]}}function Jz(r,t,e){return{x:r[e=e||0],y:r[1-e],width:t[e],height:t[1-e]}}function e3(r,t,e,o,s,u){return{cx:r,cy:t,r0:e,r:o,startAngle:s,endAngle:u,clockwise:!0}}var p9=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.makeElOption=function(e,o,s,u,c){var f=s.axis,d=f.grid,v=u.get("type"),g=t3(d,f).getOtherAxis(f).getGlobalExtent(),m=f.toGlobalCoord(f.dataToCoord(o,!0));if(v&&"none"!==v){var _=wP(u),w=v9[v](f,m,g);w.style=_,e.graphicKey=w.type,e.pointer=w}Qz(o,e,_C(d.model,s),s,u,c)},t.prototype.getHandleTransform=function(e,o,s){var u=_C(o.axis.grid.model,o,{labelInside:!1});u.labelMargin=s.get(["handle","margin"]);var c=bP(o.axis,e,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,o,s,u){var c=s.axis,f=c.grid,d=c.getGlobalExtent(!0),v=t3(f,c).getOtherAxis(c).getGlobalExtent(),g="x"===c.dim?0:1,m=[e.x,e.y];m[g]+=o[g],m[g]=Math.min(d[1],m[g]),m[g]=Math.max(d[0],m[g]);var _=(v[1]+v[0])/2,w=[_,_];return w[g]=m[g],{x:m[0],y:m[1],rotation:e.rotation,cursorPoint:w,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][g]}},t}(_P);function t3(r,t){var e={};return e[t.dim+"AxisIndex"]=t.index,r.getCartesian(e)}var v9={line:function(r,t,e){return{type:"Line",subPixelOptimize:!0,shape:w_([t,e[0]],[t,e[1]],pg(r))}},shadow:function(r,t,e){var o=Math.max(1,r.getBandWidth());return{type:"Rect",shape:Jz([t-o/2,e[0]],[o,e[1]-e[0]],pg(r))}}};function pg(r){return"x"===r.dim?0:1}const g9=p9;var n3=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Lt);const m9=n3;var ys=zt(),y9=H;function r3(r,t,e){if(!Pt.node){var o=t.getZr();ys(o).records||(ys(o).records={}),function _9(r,t){function e(o,s){r.on(o,function(u){var c=function b_(r){var t={showTip:[],hideTip:[]},e=function(o){var s=t[o.type];s?s.push(o):(o.dispatchAction=e,r.dispatchAction(o))};return{dispatchAction:e,pendings:t}}(t);y9(ys(r).records,function(f){f&&s(f,u,c.dispatchAction)}),function i3(r,t){var s,e=r.showTip.length,o=r.hideTip.length;e?s=r.showTip[e-1]:o&&(s=r.hideTip[o-1]),s&&(s.dispatchAction=null,t.dispatchAction(s))}(c.pendings,t)})}ys(r).initialized||(ys(r).initialized=!0,e("click",Je(a3,"click")),e("mousemove",Je(a3,"mousemove")),e("globalout",o3))}(o,t),(ys(o).records[r]||(ys(o).records[r]={})).handler=e}}function o3(r,t,e){r.handler("leave",null,e)}function a3(r,t,e,o){t.handler(r,e,o)}function kd(r,t){if(!Pt.node){var e=t.getZr();(ys(e).records||{})[r]&&(ys(e).records[r]=null)}}var s3=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=o.getComponent("tooltip"),c=e.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";r3("axisPointer",s,function(f,d,v){"none"!==c&&("leave"===f||c.indexOf(f)>=0)&&v({type:"updateAxisPointer",currTrigger:f,x:d&&d.offsetX,y:d&&d.offsetY})})},t.prototype.remove=function(e,o){kd("axisPointer",o)},t.prototype.dispose=function(e,o){kd("axisPointer",o)},t.type="axisPointer",t}(Bn);const l3=s3;function SP(r,t){var s,e=[],o=r.seriesIndex;if(null==o||!(s=t.getSeriesByIndex(o)))return{point:[]};var u=s.getData(),c=ou(u,r);if(null==c||c<0||ge(c))return{point:[]};var f=u.getItemGraphicEl(c),d=s.coordinateSystem;if(s.getTooltipPosition)e=s.getTooltipPosition(c)||[];else if(d&&d.dataToPoint)if(r.isStacked){var v=d.getBaseAxis(),m=d.getOtherAxis(v).dim,w="x"===m||"radius"===m?1:0,S=u.mapDimension(v.dim),x=[];x[w]=u.get(S,c),x[1-w]=u.get(u.getCalculationInfo("stackResultDimension"),c),e=d.dataToPoint(x)||[]}else e=d.dataToPoint(u.getValues(me(d.dimensions,function(T){return u.mapDimension(T)}),c))||[];else if(f){var D=f.getBoundingRect().clone();D.applyTransform(f.transform),e=[D.x+D.width/2,D.y+D.height/2]}return{point:e,el:f}}var CP=zt();function w9(r,t,e){var o=r.currTrigger,s=[r.x,r.y],u=r,c=r.dispatchAction||Me(e.dispatchAction,e),f=t.getComponent("axisPointer").coordSysAxesInfo;if(f){Od(s)&&(s=SP({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},t).point);var d=Od(s),v=u.axesInfo,g=f.axesInfo,m="leave"===o||Od(s),_={},w={},S={list:[],map:{}},x={showPointer:Je(S9,w),showTooltip:Je(C9,S)};H(f.coordSysMap,function(T,A){var E=d||T.containPoint(s);H(f.coordSysAxesInfo[A],function(P,N){var k=P.axis,F=function c3(r,t){for(var e=0;e<(r||[]).length;e++){var o=r[e];if(t.axis.dim===o.axisDim&&t.axis.model.componentIndex===o.axisIndex)return o}}(v,P);if(!m&&E&&(!v||F)){var B=F&&F.value;null==B&&!d&&(B=k.pointToData(s)),null!=B&&u3(P,B,x,!1,_)}})});var D={};return H(g,function(T,A){var E=T.linkGroup;E&&!w[A]&&H(E.axesInfo,function(P,N){var k=w[N];if(P!==T&&k){var F=k.value;E.mapper&&(F=T.axis.scale.parse(E.mapper(F,lo(P),lo(T)))),D[T.key]=F}})}),H(D,function(T,A){u3(g[A],T,x,!0,_)}),function x9(r,t,e){var o=e.axesInfo=[];H(t,function(s,u){var c=s.axisPointerModel.option,f=r[u];f?(!s.useHandle&&(c.status="show"),c.value=f.value,c.seriesDataIndices=(f.payloadBatch||[]).slice()):!s.useHandle&&(c.status="hide"),"show"===c.status&&o.push({axisDim:s.axis.dim,axisIndex:s.axis.model.componentIndex,value:c.value})})}(w,g,_),function D9(r,t,e,o){if(!Od(t)&&r.list.length){var s=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:s.dataIndexInside,dataIndex:s.dataIndex,seriesIndex:s.seriesIndex,dataByCoordSys:r.list})}else o({type:"hideTip"})}(S,s,r,c),function T9(r,t,e){var o=e.getZr(),s="axisPointerLastHighlights",u=CP(o)[s]||{},c=CP(o)[s]={};H(r,function(v,g){var m=v.axisPointerModel.option;"show"===m.status&&v.triggerEmphasis&&H(m.seriesDataIndices,function(_){c[_.seriesIndex+" | "+_.dataIndex]=_})});var f=[],d=[];H(u,function(v,g){!c[g]&&d.push(v)}),H(c,function(v,g){!u[g]&&f.push(v)}),d.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),f.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}(g,0,e),_}}function u3(r,t,e,o,s){var u=r.axis;if(!u.scale.isBlank()&&u.containData(t)){if(!r.involveSeries)return void e.showPointer(r,t);var c=function b9(r,t){var e=t.axis,o=e.dim,s=r,u=[],c=Number.MAX_VALUE,f=-1;return H(t.seriesModels,function(d,v){var m,_,g=d.getData().mapDimensionsAll(o);if(d.getAxisTooltipData){var w=d.getAxisTooltipData(g,r,e);_=w.dataIndices,m=w.nestestValue}else{if(!(_=d.getData().indicesOfNearest(g[0],r,"category"===e.type?.5:null)).length)return;m=d.getData().get(g[0],_[0])}if(null!=m&&isFinite(m)){var S=r-m,x=Math.abs(S);x<=c&&((x<c||S>=0&&f<0)&&(c=x,f=S,s=m,u.length=0),H(_,function(D){u.push({seriesIndex:d.seriesIndex,dataIndexInside:D,dataIndex:d.getData().getRawIndex(D)})}))}}),{payloadBatch:u,snapToValue:s}}(t,r),f=c.payloadBatch,d=c.snapToValue;f[0]&&null==s.seriesIndex&&ce(s,f[0]),!o&&r.snap&&u.containData(d)&&null!=d&&(t=d),e.showPointer(r,t,f),e.showTooltip(r,c,d)}}function S9(r,t,e,o){r[t.key]={value:e,payloadBatch:o}}function C9(r,t,e,o){var s=e.payloadBatch,u=t.axis,c=u.model,f=t.axisPointerModel;if(t.triggerTooltip&&s.length){var d=t.coordSys.model,v=SC(d),g=r.map[v];g||(g=r.map[v]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},r.list.push(g)),g.dataByAxis.push({axisDim:u.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:o,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:s.slice()})}}function lo(r){var t=r.axis.model,e={},o=e.axisDim=r.axis.dim;return e.axisIndex=e[o+"AxisIndex"]=t.componentIndex,e.axisName=e[o+"AxisName"]=t.name,e.axisId=e[o+"AxisId"]=t.id,e}function Od(r){return!r||null==r[0]||isNaN(r[0])||null==r[1]||isNaN(r[1])}function S_(r){ud.registerAxisPointerClass("CartesianAxisPointer",g9),r.registerComponentModel(m9),r.registerComponentView(l3),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!ge(e)&&(t.axisPointer.link=[e])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function uE(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function bX(r,t,e){var o=t.getComponent("tooltip"),s=t.getComponent("axisPointer"),u=s.get("link",!0)||[],c=[];H(e.getCoordinateSystems(),function(f){if(f.axisPointerEnabled){var d=SC(f.model),v=r.coordSysAxesInfo[d]={};r.coordSysMap[d]=f;var m=f.model.getModel("tooltip",o);if(H(f.getAxes(),Je(x,!1,null)),f.getTooltipAxes&&o&&m.get("show")){var _="axis"===m.get("trigger"),w="cross"===m.get(["axisPointer","type"]),S=f.getTooltipAxes(m.get(["axisPointer","axis"]));(_||w)&&H(S.baseAxes,Je(x,!w||"cross",_)),w&&H(S.otherAxes,Je(x,"cross",!1))}}function x(D,T,A){var E=A.model.getModel("axisPointer",s),P=E.get("show");if(P&&("auto"!==P||D||cE(E))){null==T&&(T=E.get("triggerTooltip")),E=D?function xW(r,t,e,o,s,u){var c=t.getModel("axisPointer"),d={};H(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(_){d[_]=Ge(c.get(_))}),d.snap="category"!==r.type&&!!u,"cross"===c.get("type")&&(d.type="line");var v=d.label||(d.label={});if(null==v.show&&(v.show=!1),"cross"===s){var g=c.get(["label","show"]);if(v.show=g??!0,!u){var m=d.lineStyle=c.get("crossStyle");m&&Ve(v,m.textStyle)}}return r.model.getModel("axisPointer",new Sn(d,e,o))}(A,m,s,t,D,T):E;var N=E.get("snap"),k=E.get("triggerEmphasis"),F=SC(A.model),B=T||N||"category"===A.type,z=r.axesInfo[F]={key:F,axis:A,coordSys:f,axisPointerModel:E,triggerTooltip:T,triggerEmphasis:k,involveSeries:B,snap:N,useHandle:cE(E),seriesModels:[],linkGroup:null};v[F]=z,r.seriesInvolved=r.seriesInvolved||B;var j=function TW(r,t){for(var e=t.model,o=t.dim,s=0;s<r.length;s++){var u=r[s]||{};if(Rv(u[o+"AxisId"],e.id)||Rv(u[o+"AxisIndex"],e.componentIndex)||Rv(u[o+"AxisName"],e.name))return s}}(u,A);if(null!=j){var W=c[j]||(c[j]={axesInfo:{}});W.axesInfo[F]=z,W.mapper=u[j].mapper,z.linkGroup=W}}}})}(e,r,t),e.seriesInvolved&&function DW(r,t){t.eachSeries(function(e){var o=e.coordinateSystem,s=e.get(["tooltip","trigger"],!0),u=e.get(["tooltip","show"],!0);!o||"none"===s||!1===s||"item"===s||!1===u||!1===e.get(["axisPointer","show"],!0)||H(r.coordSysAxesInfo[SC(o.model)],function(c){var f=c.axis;o.getAxis(f.dim)===f&&(c.seriesModels.push(e),null==c.seriesDataCount&&(c.seriesDataCount=0),c.seriesDataCount+=e.getData().count())})})}(e,r),e}(t,e)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},w9)}var A9=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.makeElOption=function(e,o,s,u,c){var f=s.axis;"angle"===f.dim&&(this.animationThreshold=Math.PI/18);var d=f.polar,g=d.getOtherAxis(f).getExtent(),m=f.dataToCoord(o),_=u.get("type");if(_&&"none"!==_){var w=wP(u),S=I9[_](f,d,m,g);S.style=w,e.graphicKey=S.type,e.pointer=S}var D=function E9(r,t,e,o,s){var u=t.axis,c=u.dataToCoord(r),f=o.getAngleAxis().getExtent()[0];f=f/180*Math.PI;var v,g,m,d=o.getRadiusAxis().getExtent();if("radius"===u.dim){var _=[1,0,0,1,0,0];wo(_,_,f),Ie(_,_,[o.cx,o.cy]),v=Da([c,-s],_);var w=t.getModel("axisLabel").get("rotate")||0,S=uh.innerTextLayout(f,w*Math.PI/180,-1);g=S.textAlign,m=S.textVerticalAlign}else{var x=d[1];v=o.coordToPoint([x+s,c]);var D=o.cx,T=o.cy;g=Math.abs(v[0]-D)/x<.3?"center":v[0]>D?"left":"right",m=Math.abs(v[1]-T)/x<.3?"middle":v[1]>T?"top":"bottom"}return{position:v,align:g,verticalAlign:m}}(o,s,0,d,u.get(["label","margin"]));Xz(e,s,u,c,D)},t}(_P),I9={line:function(r,t,e,o){return"angle"===r.dim?{type:"Line",shape:w_(t.coordToPoint([o[0],e]),t.coordToPoint([o[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(r,t,e,o){var s=Math.max(1,r.getBandWidth()),u=Math.PI/180;return"angle"===r.dim?{type:"Sector",shape:e3(t.cx,t.cy,o[0],o[1],(-e-s/2)*u,(s/2-e)*u)}:{type:"Sector",shape:e3(t.cx,t.cy,e-s/2,e+s/2,0,2*Math.PI)}}};const P9=A9;var h3=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.findAxisModel=function(e){var o;return this.ecModel.eachComponent(e,function(u){u.getCoordSysModel()===this&&(o=u)},this),o},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Lt);const Mh=h3;var xP=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",gr).models[0]},t.type="polarAxis",t}(Lt);Zn(xP,ed);var O1=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="angleAxis",t}(xP),L9=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="radiusAxis",t}(xP),C_=function(r){function t(e,o){return r.call(this,"radius",e,o)||this}return ae(t,r),t.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)["radius"===this.dim?0:1]},t}(Ia);C_.prototype.dataToRadius=Ia.prototype.dataToCoord,C_.prototype.radiusToData=Ia.prototype.coordToData;const f3=C_;var R9=zt(),DP=function(r){function t(e,o){return r.call(this,"angle",e,o||[0,360])||this}return ae(t,r),t.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,o=e.getLabelModel(),s=e.scale,u=s.getExtent(),c=s.count();if(u[1]-u[0]<1)return 0;var f=u[0],d=e.dataToCoord(f+1)-e.dataToCoord(f),v=Math.abs(d),g=Rm(null==f?"":f+"",o.getFont(),"center","top"),_=Math.max(g.height,7)/v;isNaN(_)&&(_=1/0);var w=Math.max(0,Math.floor(_)),S=R9(e.model),x=S.lastAutoInterval,D=S.lastTickCount;return null!=x&&null!=D&&Math.abs(x-w)<=1&&Math.abs(D-c)<=1&&x>w?w=x:(S.lastTickCount=c,S.lastAutoInterval=w),w},t}(Ia);DP.prototype.dataToAngle=Ia.prototype.dataToCoord,DP.prototype.angleToData=Ia.prototype.coordToData;const k9=DP;var N1=["radius","angle"],TP=function(){function r(t){this.dimensions=N1,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new f3,this._angleAxis=new k9,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},r.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},r.prototype.getAxis=function(t){return this["_"+t+"Axis"]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(t){var e=[],o=this._angleAxis,s=this._radiusAxis;return o.scale.type===t&&e.push(o),s.scale.type===t&&e.push(s),e},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},r.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},r.prototype.pointToData=function(t,e){var o=this.pointToCoord(t);return[this._radiusAxis.radiusToData(o[0],e),this._angleAxis.angleToData(o[1],e)]},r.prototype.pointToCoord=function(t){var e=t[0]-this.cx,o=t[1]-this.cy,s=this.getAngleAxis(),u=s.getExtent(),c=Math.min(u[0],u[1]),f=Math.max(u[0],u[1]);s.inverse?c=f-360:f=c+360;var d=Math.sqrt(e*e+o*o);e/=d,o/=d;for(var v=Math.atan2(-o,e)/Math.PI*180,g=v<c?1:-1;v<c||v>f;)v+=360*g;return[d,v]},r.prototype.coordToPoint=function(t){var e=t[0],o=t[1]/180*Math.PI;return[Math.cos(o)*e+this.cx,-Math.sin(o)*e+this.cy]},r.prototype.getArea=function(){var t=this.getAngleAxis(),o=this.getRadiusAxis().getExtent().slice();o[0]>o[1]&&o.reverse();var s=t.getExtent(),u=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-s[0]*u,endAngle:-s[1]*u,clockwise:t.inverse,contain:function(c,f){var d=c-this.cx,v=f-this.cy,g=d*d+v*v-1e-4,m=this.r,_=this.r0;return g<=m*m&&g>=_*_}}},r.prototype.convertToPixel=function(t,e,o){return d3(e)===this?this.dataToPoint(o):null},r.prototype.convertFromPixel=function(t,e,o){return d3(e)===this?this.pointToData(o):null},r}();function d3(r){var t=r.seriesModel,e=r.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const O9=TP;function N9(r,t){var e=this,o=e.getAngleAxis(),s=e.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),s.scale.setExtent(1/0,-1/0),r.eachSeries(function(f){if(f.coordinateSystem===e){var d=f.getData();H(h0(d,"radius"),function(v){s.scale.unionExtentFromData(d,v)}),H(h0(d,"angle"),function(v){o.scale.unionExtentFromData(d,v)})}}),eh(o.scale,o.model),eh(s.scale,s.model),"category"===o.type&&!o.onBand){var u=o.getExtent(),c=360/o.scale.count();o.inverse?u[1]+=c:u[1]-=c,o.setExtent(u[0],u[1])}}function p3(r,t){if(r.type=t.get("type"),r.scale=c0(t),r.onBand=t.get("boundaryGap")&&"category"===r.type,r.inverse=t.get("inverse"),function F9(r){return"angleAxis"===r.mainType}(t)){r.inverse=r.inverse!==t.get("clockwise");var e=t.get("startAngle");r.setExtent(e,e+(r.inverse?-360:360))}t.axis=r,r.model=t}var V9={dimensions:N1,create:function(r,t){var e=[];return r.eachComponent("polar",function(o,s){var u=new O9(s+"");u.update=N9;var c=u.getRadiusAxis(),f=u.getAngleAxis(),d=o.findAxisModel("radiusAxis"),v=o.findAxisModel("angleAxis");p3(c,d),p3(f,v),function MP(r,t,e){var o=t.get("center"),s=e.getWidth(),u=e.getHeight();r.cx=Ce(o[0],s),r.cy=Ce(o[1],u);var c=r.getRadiusAxis(),f=Math.min(s,u)/2,d=t.get("radius");null==d?d=[0,"100%"]:ge(d)||(d=[0,d]);var v=[Ce(d[0],f),Ce(d[1],f)];c.inverse?c.setExtent(v[1],v[0]):c.setExtent(v[0],v[1])}(u,o,t),e.push(u),o.coordinateSystem=u,u.model=o}),r.eachSeries(function(o){if("polar"===o.get("coordinateSystem")){var s=o.getReferringComponents("polar",gr).models[0];o.coordinateSystem=s.coordinateSystem}}),e}};const AP=V9;var vg=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function F1(r,t,e){t[1]>t[0]&&(t=t.slice().reverse());var o=r.coordToPoint([t[0],e]),s=r.coordToPoint([t[1],e]);return{x1:o[0],y1:o[1],x2:s[0],y2:s[1]}}function Ah(r){return r.getRadiusAxis().inverse?0:1}function v3(r){var t=r[0],e=r[r.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&r.pop()}var V1=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return ae(t,r),t.prototype.render=function(e,o){if(this.group.removeAll(),e.get("show")){var s=e.axis,u=s.polar,c=u.getRadiusAxis().getExtent(),f=s.getTicksCoords(),d=s.getMinorTicksCoords(),v=me(s.getViewLabels(),function(g){g=Ge(g);var m=s.scale,_="ordinal"===m.type?m.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=s.dataToCoord(_),g});v3(v),v3(f),H(vg,function(g){e.get([g,"show"])&&(!s.scale.isBlank()||"axisLine"===g)&&x_[g](this.group,e,u,f,d,c,v)},this)}},t.type="angleAxis",t}(ud),x_={axisLine:function(r,t,e,o,s,u){var v,c=t.getModel(["axisLine","lineStyle"]),f=Ah(e),d=f?0:1;(v=0===u[d]?new rs({shape:{cx:e.cx,cy:e.cy,r:u[f]},style:c.getLineStyle(),z2:1,silent:!0}):new Ff({shape:{cx:e.cx,cy:e.cy,r:u[f],r0:u[d]},style:c.getLineStyle(),z2:1,silent:!0})).style.fill=null,r.add(v)},axisTick:function(r,t,e,o,s,u){var c=t.getModel("axisTick"),f=(c.get("inside")?-1:1)*c.get("length"),d=u[Ah(e)],v=me(o,function(g){return new zr({shape:F1(e,[d,d+f],g.coord)})});r.add(Po(v,{style:Ve(c.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,e,o,s,u){if(s.length){for(var c=t.getModel("axisTick"),f=t.getModel("minorTick"),d=(c.get("inside")?-1:1)*f.get("length"),v=u[Ah(e)],g=[],m=0;m<s.length;m++)for(var _=0;_<s[m].length;_++)g.push(new zr({shape:F1(e,[v,v+d],s[m][_].coord)}));r.add(Po(g,{style:Ve(f.getModel("lineStyle").getLineStyle(),Ve(c.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,t,e,o,s,u,c){var f=t.getCategories(!0),d=t.getModel("axisLabel"),v=d.get("margin"),g=t.get("triggerEvent");H(c,function(m,_){var w=d,S=m.tickValue,x=u[Ah(e)],D=e.coordToPoint([x+v,m.coord]),T=e.cx,A=e.cy,E=Math.abs(D[0]-T)/x<.3?"center":D[0]>T?"left":"right",P=Math.abs(D[1]-A)/x<.3?"middle":D[1]>A?"top":"bottom";if(f&&f[S]){var N=f[S];Ue(N)&&N.textStyle&&(w=new Sn(N.textStyle,d,d.ecModel))}var k=new Nt({silent:uh.isLabelSilent(t),style:gn(w,{x:D[0],y:D[1],fill:w.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:m.formattedLabel,align:E,verticalAlign:P})});if(r.add(k),g){var F=uh.makeAxisEventDataBase(t);F.targetType="axisLabel",F.value=m.rawLabel,et(k).eventData=F}},this)},splitLine:function(r,t,e,o,s,u){var f=t.getModel("splitLine").getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],m=0;m<o.length;m++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new zr({shape:F1(e,u,o[m].coord)}))}for(m=0;m<g.length;m++)r.add(Po(g[m],{style:Ve({stroke:d[m%d.length]},f.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(r,t,e,o,s,u){if(s.length){for(var f=t.getModel("minorSplitLine").getModel("lineStyle"),d=[],v=0;v<s.length;v++)for(var g=0;g<s[v].length;g++)d.push(new zr({shape:F1(e,u,s[v][g].coord)}));r.add(Po(d,{style:f.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(r,t,e,o,s,u){if(o.length){var f=t.getModel("splitArea").getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],m=Math.PI/180,_=-o[0].coord*m,w=Math.min(u[0],u[1]),S=Math.max(u[0],u[1]),x=t.get("clockwise"),D=1,T=o.length;D<=T;D++){var A=D===T?o[0].coord:o[D].coord,E=v++%d.length;g[E]=g[E]||[],g[E].push(new eo({shape:{cx:e.cx,cy:e.cy,r0:w,r:S,startAngle:_,endAngle:-A*m,clockwise:x},silent:!0})),_=-A*m}for(D=0;D<g.length;D++)r.add(Po(g[D],{style:Ve({fill:d[D%d.length]},f.getAreaStyle()),silent:!0}))}}};const D_=V1;var B1=["axisLine","axisTickLabel","axisName"],EP=["splitLine","splitArea","minorSplitLine"],IP=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return ae(t,r),t.prototype.render=function(e,o){if(this.group.removeAll(),e.get("show")){var s=this._axisGroup,u=this._axisGroup=new Ze;this.group.add(u);var c=e.axis,f=c.polar,d=f.getAngleAxis(),v=c.getTicksCoords(),g=c.getMinorTicksCoords(),m=d.getExtent()[0],_=c.getExtent(),w=function m3(r,t,e){return{position:[r.cx,r.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(f,e,m),S=new uh(e,w);H(B1,S.add,S),u.add(S.getGroup()),Oy(s,u,e),H(EP,function(x){e.get([x,"show"])&&!c.scale.isBlank()&&g3[x](this.group,e,f,m,_,v,g)},this)}},t.type="radiusAxis",t}(ud),g3={splitLine:function(r,t,e,o,s,u){var f=t.getModel("splitLine").getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],m=0;m<u.length;m++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new rs({shape:{cx:e.cx,cy:e.cy,r:Math.max(u[m].coord,0)}}))}for(m=0;m<g.length;m++)r.add(Po(g[m],{style:Ve({stroke:d[m%d.length],fill:null},f.getLineStyle()),silent:!0}))},minorSplitLine:function(r,t,e,o,s,u,c){if(c.length){for(var d=t.getModel("minorSplitLine").getModel("lineStyle"),v=[],g=0;g<c.length;g++)for(var m=0;m<c[g].length;m++)v.push(new rs({shape:{cx:e.cx,cy:e.cy,r:c[g][m].coord}}));r.add(Po(v,{style:Ve({fill:null},d.getLineStyle()),silent:!0}))}},splitArea:function(r,t,e,o,s,u){if(u.length){var f=t.getModel("splitArea").getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],m=u[0].coord,_=1;_<u.length;_++){var w=v++%d.length;g[w]=g[w]||[],g[w].push(new eo({shape:{cx:e.cx,cy:e.cy,r0:m,r:u[_].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),m=u[_].coord}for(_=0;_<g.length;_++)r.add(Po(g[_],{style:Ve({fill:d[_%d.length]},f.getAreaStyle()),silent:!0}))}}};const y3=IP;function PP(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function LP(r,t){return t.dim+r.model.componentIndex}const H9=function B9(r,t,e){var o={},s=function z9(r){var t={};H(r,function(o,s){var u=o.getData(),c=o.coordinateSystem,f=c.getBaseAxis(),d=LP(c,f),v=f.getExtent(),g="category"===f.type?f.getBandWidth():Math.abs(v[1]-v[0])/u.count(),m=t[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},_=m.stacks;t[d]=m;var w=PP(o);_[w]||m.autoWidthCount++,_[w]=_[w]||{width:0,maxWidth:0};var S=Ce(o.get("barWidth"),g),x=Ce(o.get("barMaxWidth"),g),D=o.get("barGap"),T=o.get("barCategoryGap");S&&!_[w].width&&(S=Math.min(m.remainedWidth,S),_[w].width=S,m.remainedWidth-=S),x&&(_[w].maxWidth=x),null!=D&&(m.gap=D),null!=T&&(m.categoryGap=T)});var e={};return H(t,function(o,s){e[s]={};var u=o.stacks,f=Ce(o.categoryGap,o.bandWidth),d=Ce(o.gap,1),v=o.remainedWidth,g=o.autoWidthCount,m=(v-f)/(g+(g-1)*d);m=Math.max(m,0),H(u,function(x,D){var T=x.maxWidth;T&&T<m&&(T=Math.min(T,v),x.width&&(T=Math.min(T,x.width)),v-=T,x.width=T,g--)}),m=(v-f)/(g+(g-1)*d),m=Math.max(m,0);var w,_=0;H(u,function(x,D){x.width||(x.width=m),w=x,_+=x.width*(1+d)}),w&&(_-=w.width*d);var S=-_/2;H(u,function(x,D){e[s][D]=e[s][D]||{offset:S,width:x.width},S+=x.width*(1+d)})}),e}(Wt(t.getSeriesByType(r),function(u){return!t.isSeriesFiltered(u)&&u.coordinateSystem&&"polar"===u.coordinateSystem.type}));t.eachSeriesByType(r,function(u){if("polar"===u.coordinateSystem.type){var c=u.getData(),f=u.coordinateSystem,d=f.getBaseAxis(),v=LP(f,d),g=PP(u),m=s[v][g],_=m.offset,w=m.width,S=f.getOtherAxis(d),x=u.coordinateSystem.cx,D=u.coordinateSystem.cy,T=u.get("barMinHeight")||0,A=u.get("barMinAngle")||0;o[g]=o[g]||[];for(var E=c.mapDimension(S.dim),P=c.mapDimension(d.dim),N=ol(c,E),k="radius"!==d.dim||!u.get("roundCap",!0),F=S.dataToCoord(0),B=0,z=c.count();B<z;B++){var j=c.get(E,B),W=c.get(P,B),q=j>=0?"p":"n",Y=F;N&&(o[g][W]||(o[g][W]={p:F,n:F}),Y=o[g][W][q]);var K=void 0,Q=void 0,re=void 0,le=void 0;if("radius"===S.dim){var se=S.dataToCoord(j)-F,de=d.dataToCoord(W);Math.abs(se)<T&&(se=(se<0?-1:1)*T),K=Y,Q=Y+se,le=(re=de-_)-w,N&&(o[g][W][q]=Q)}else{var be=S.dataToCoord(j,k)-F,De=d.dataToCoord(W);Math.abs(be)<A&&(be=(be<0?-1:1)*A),Q=(K=De+_)+w,re=Y,le=Y+be,N&&(o[g][W][q]=le)}c.setItemLayout(B,{cx:x,cy:D,r0:K,r:Q,startAngle:-re*Math.PI/180,endAngle:-le*Math.PI/180,clockwise:re>=le})}}})};var T_={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},_3={splitNumber:5},G9=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="polar",t}(Bn);function RP(r,t){t=t||{};var o=r.axis,s={},u=o.position,c=o.orient,f=r.coordinateSystem.getRect(),d=[f.x,f.x+f.width,f.y,f.y+f.height],v={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};s.position=["vertical"===c?v.vertical[u]:d[0],"horizontal"===c?v.horizontal[u]:d[3]],s.rotation=Math.PI/2*{horizontal:0,vertical:1}[c],s.labelDirection=s.tickDirection=s.nameDirection={top:-1,bottom:1,right:1,left:-1}[u],r.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),$t(t.labelInside,r.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var _=t.rotate;return null==_&&(_=r.get(["axisLabel","rotate"])),s.labelRotation="top"===u?-_:_,s.z2=1,s}var U9=["axisLine","axisTickLabel","axisName"],j9=["splitArea","splitLine"],W9=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return ae(t,r),t.prototype.render=function(e,o,s,u){var c=this.group;c.removeAll();var f=this._axisGroup;this._axisGroup=new Ze;var d=RP(e),v=new uh(e,d);H(U9,v.add,v),c.add(this._axisGroup),c.add(v.getGroup()),H(j9,function(g){e.get([g,"show"])&&$9[g](this,this.group,this._axisGroup,e)},this),Oy(f,this._axisGroup,e),r.prototype.render.call(this,e,o,s,u)},t.prototype.remove=function(){LW(this)},t.type="singleAxis",t}(ud),$9={splitLine:function(r,t,e,o){var s=o.axis;if(!s.scale.isBlank()){var u=o.getModel("splitLine"),c=u.getModel("lineStyle"),f=c.get("color");f=f instanceof Array?f:[f];for(var d=c.get("width"),v=o.coordinateSystem.getRect(),g=s.isHorizontal(),m=[],_=0,w=s.getTicksCoords({tickModel:u}),S=[],x=[],D=0;D<w.length;++D){var T=s.toGlobalCoord(w[D].coord);g?(S[0]=T,S[1]=v.y,x[0]=T,x[1]=v.y+v.height):(S[0]=v.x,S[1]=T,x[0]=v.x+v.width,x[1]=T);var A=new zr({shape:{x1:S[0],y1:S[1],x2:x[0],y2:x[1]},silent:!0});Bf(A.shape,d);var E=_++%f.length;m[E]=m[E]||[],m[E].push(A)}var P=c.getLineStyle(["color"]);for(D=0;D<m.length;++D)t.add(Po(m[D],{style:Ve({stroke:f[D%f.length]},P),silent:!0}))}},splitArea:function(r,t,e,o){PW(r,e,o,o)}};const w3=W9;var kP=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Lt);Zn(kP,ed.prototype);const z1=kP;var b3=function(r){function t(e,o,s,u,c){var f=r.call(this,e,o,s)||this;return f.type=u||"value",f.position=c||"bottom",f}return ae(t,r),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,o){return this.coordinateSystem.pointToData(e)[0]},t}(Ia);const S3=b3;var C3=["single"],OP=function(){function r(t,e,o){this.type="single",this.dimension="single",this.dimensions=C3,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,o)}return r.prototype._init=function(t,e,o){var u=new S3(this.dimension,c0(t),[0,0],t.get("type"),t.get("position"));u.onBand="category"===u.type&&t.get("boundaryGap"),u.inverse=t.get("inverse"),u.orient=t.get("orient"),t.axis=u,u.model=t,u.coordinateSystem=this,this._axis=u},r.prototype.update=function(t,e){t.eachSeries(function(o){if(o.coordinateSystem===this){var s=o.getData();H(s.mapDimensionsAll(this.dimension),function(u){this._axis.scale.unionExtentFromData(s,u)},this),eh(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(t,e){this._rect=Ar({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,o=e.isHorizontal(),s=o?[0,t.width]:[0,t.height],u=e.inverse?1:0;e.setExtent(s[u],s[1-u]),this._updateAxisTransform(e,o?t.x:t.y)},r.prototype._updateAxisTransform=function(t,e){var o=t.getExtent(),s=o[0]+o[1],u=t.isHorizontal();t.toGlobalCoord=u?function(c){return c+e}:function(c){return s-c+e},t.toLocalCoord=u?function(c){return c-e}:function(c){return s-c+e}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(t){var e=this.getRect(),o=this.getAxis();return"horizontal"===o.orient?o.contain(o.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:o.contain(o.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},r.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},r.prototype.dataToPoint=function(t){var e=this.getAxis(),o=this.getRect(),s=[],u="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),s[u]=e.toGlobalCoord(e.dataToCoord(+t)),s[1-u]=0===u?o.y+o.height/2:o.x+o.width/2,s},r.prototype.convertToPixel=function(t,e,o){return NP(e)===this?this.dataToPoint(o):null},r.prototype.convertFromPixel=function(t,e,o){return NP(e)===this?this.pointToData(o):null},r}();function NP(r){var t=r.seriesModel,e=r.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const x3=OP;var D3={create:function q9(r,t){var e=[];return r.eachComponent("singleAxis",function(o,s){var u=new x3(o,r,t);u.name="single_"+s,u.resize(o,t),o.coordinateSystem=u,e.push(u)}),r.eachSeries(function(o){if("singleAxis"===o.get("coordinateSystem")){var s=o.getReferringComponents("singleAxis",gr).models[0];o.coordinateSystem=s&&s.coordinateSystem}}),e},dimensions:C3};const Z9=D3;var T3=["x","y"],Y9=["width","height"],H1=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.makeElOption=function(e,o,s,u,c){var f=s.axis,d=f.coordinateSystem,v=G1(d,1-Nd(f)),g=d.dataToPoint(o)[0],m=u.get("type");if(m&&"none"!==m){var _=wP(u),w=FP[m](f,g,v);w.style=_,e.graphicKey=w.type,e.pointer=w}Qz(o,e,RP(s),s,u,c)},t.prototype.getHandleTransform=function(e,o,s){var u=RP(o,{labelInside:!1});u.labelMargin=s.get(["handle","margin"]);var c=bP(o.axis,e,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,o,s,u){var c=s.axis,f=c.coordinateSystem,d=Nd(c),v=G1(f,d),g=[e.x,e.y];g[d]+=o[d],g[d]=Math.min(v[1],g[d]),g[d]=Math.max(v[0],g[d]);var m=G1(f,1-d),_=(m[1]+m[0])/2,w=[_,_];return w[d]=g[d],{x:g[0],y:g[1],rotation:e.rotation,cursorPoint:w,tooltipOption:{verticalAlign:"middle"}}},t}(_P),FP={line:function(r,t,e){return{type:"Line",subPixelOptimize:!0,shape:w_([t,e[0]],[t,e[1]],Nd(r))}},shadow:function(r,t,e){var o=r.getBandWidth();return{type:"Rect",shape:Jz([t-o/2,e[0]],[o,e[1]-e[0]],Nd(r))}}};function Nd(r){return r.isHorizontal()?0:1}function G1(r,t){var e=r.getRect();return[e[T3[t]],e[T3[t]]+e[Y9[t]]]}const M3=H1;var VP=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="single",t}(Bn),BP=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e,o,s){var u=kc(e);r.prototype.init.apply(this,arguments),zP(e,u)},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),zP(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Lt);function zP(r,t){var o,e=r.cellSize;1===(o=ge(e)?e:r.cellSize=[e,e]).length&&(o[1]=o[0]);var s=me([0,1],function(u){return function xT(r,t){return null!=r[Tf[t][0]]||null!=r[Tf[t][1]]&&null!=r[Tf[t][2]]}(t,u)&&(o[u]="auto"),null!=o[u]&&"auto"!==o[u]});_u(r,t,{type:"box",ignoreSize:s})}const E3=BP;var mg=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){var u=this.group;u.removeAll();var c=e.coordinateSystem,f=c.getRangeInfo(),d=c.getOrient(),v=o.getLocaleModel();this._renderDayRect(e,f,u),this._renderLines(e,f,d,u),this._renderYearText(e,f,d,u),this._renderMonthText(e,v,d,u),this._renderWeekText(e,v,f,d,u)},t.prototype._renderDayRect=function(e,o,s){for(var u=e.coordinateSystem,c=e.getModel("itemStyle").getItemStyle(),f=u.getCellWidth(),d=u.getCellHeight(),v=o.start.time;v<=o.end.time;v=u.getNextNDay(v,1).time){var g=u.dataToRect([v],!1).tl,m=new Ot({shape:{x:g[0],y:g[1],width:f,height:d},cursor:"default",style:c});s.add(m)}},t.prototype._renderLines=function(e,o,s,u){var c=this,f=e.coordinateSystem,d=e.getModel(["splitLine","lineStyle"]).getLineStyle(),v=e.get(["splitLine","show"]),g=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var m=o.start,_=0;m.time<=o.end.time;_++){S(m.formatedDate),0===_&&(m=f.getDateInfo(o.start.y+"-"+o.start.m));var w=m.date;w.setMonth(w.getMonth()+1),m=f.getDateInfo(w)}function S(x){c._firstDayOfMonth.push(f.getDateInfo(x)),c._firstDayPoints.push(f.dataToRect([x],!1).tl);var D=c._getLinePointsOfOneWeek(e,x,s);c._tlpoints.push(D[0]),c._blpoints.push(D[D.length-1]),v&&c._drawSplitline(D,d,u)}S(f.getNextNDay(o.end.time,1).formatedDate),v&&this._drawSplitline(c._getEdgesPoints(c._tlpoints,g,s),d,u),v&&this._drawSplitline(c._getEdgesPoints(c._blpoints,g,s),d,u)},t.prototype._getEdgesPoints=function(e,o,s){var u=[e[0].slice(),e[e.length-1].slice()],c="horizontal"===s?0:1;return u[0][c]=u[0][c]-o/2,u[1][c]=u[1][c]+o/2,u},t.prototype._drawSplitline=function(e,o,s){var u=new Ni({z2:20,shape:{points:e},style:o});s.add(u)},t.prototype._getLinePointsOfOneWeek=function(e,o,s){for(var u=e.coordinateSystem,c=u.getDateInfo(o),f=[],d=0;d<7;d++){var v=u.getNextNDay(c.time,d),g=u.dataToRect([v.time],!1);f[2*v.day]=g.tl,f[2*v.day+1]=g["horizontal"===s?"bl":"tr"]}return f},t.prototype._formatterLabel=function(e,o){return xe(e)&&e?function ST(r,t,e){return H(t,function(o,s){r=r.replace("{"+s+"}",e?Nr(o):o)}),r}(e,o):Ne(e)?e(o):o.nameMap},t.prototype._yearTextPositionControl=function(e,o,s,u,c){var f=o[0],d=o[1],v=["center","bottom"];"bottom"===u?(d+=c,v=["center","top"]):"left"===u?f-=c:"right"===u?(f+=c,v=["center","top"]):d-=c;var g=0;return("left"===u||"right"===u)&&(g=Math.PI/2),{rotation:g,x:f,y:d,style:{align:v[0],verticalAlign:v[1]}}},t.prototype._renderYearText=function(e,o,s,u){var c=e.getModel("yearLabel");if(c.get("show")){var f=c.get("margin"),d=c.get("position");d||(d="horizontal"!==s?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(v[0][0]+v[1][0])/2,m=(v[0][1]+v[1][1])/2,_="horizontal"===s?0:1,w={top:[g,v[_][1]],bottom:[g,v[1-_][1]],left:[v[1-_][0],m],right:[v[_][0],m]},S=o.start.y;+o.end.y>+o.start.y&&(S=S+"-"+o.end.y);var x=c.get("formatter"),T=this._formatterLabel(x,{start:o.start.y,end:o.end.y,nameMap:S}),A=new Nt({z2:30,style:gn(c,{text:T})});A.attr(this._yearTextPositionControl(A,w[d],s,d,f)),u.add(A)}},t.prototype._monthTextPositionControl=function(e,o,s,u,c){var f="left",d="top",v=e[0],g=e[1];return"horizontal"===s?(g+=c,o&&(f="center"),"start"===u&&(d="bottom")):(v+=c,o&&(d="middle"),"start"===u&&(f="right")),{x:v,y:g,align:f,verticalAlign:d}},t.prototype._renderMonthText=function(e,o,s,u){var c=e.getModel("monthLabel");if(c.get("show")){var f=c.get("nameMap"),d=c.get("margin"),v=c.get("position"),g=c.get("align"),m=[this._tlpoints,this._blpoints];(!f||xe(f))&&(f&&(o=yb(f)||o),f=o.get(["time","monthAbbr"])||[]);var _="start"===v?0:1,w="horizontal"===s?0:1;d="start"===v?-d:d;for(var S="center"===g,x=0;x<m[_].length-1;x++){var D=m[_][x].slice(),T=this._firstDayOfMonth[x];S&&(D[w]=(this._firstDayPoints[x][w]+m[0][x+1][w])/2);var E=c.get("formatter"),P=f[+T.m-1],N={yyyy:T.y,yy:(T.y+"").slice(2),MM:T.m,M:+T.m,nameMap:P},k=this._formatterLabel(E,N),F=new Nt({z2:30,style:ce(gn(c,{text:k}),this._monthTextPositionControl(D,S,s,v,d))});u.add(F)}}},t.prototype._weekTextPositionControl=function(e,o,s,u,c){var f="center",d="middle",v=e[0],g=e[1],m="start"===s;return"horizontal"===o?(v=v+u+(m?1:-1)*c[0]/2,f=m?"right":"left"):(g=g+u+(m?1:-1)*c[1]/2,d=m?"bottom":"top"),{x:v,y:g,align:f,verticalAlign:d}},t.prototype._renderWeekText=function(e,o,s,u,c){var f=e.getModel("dayLabel");if(f.get("show")){var d=e.coordinateSystem,v=f.get("position"),g=f.get("nameMap"),m=f.get("margin"),_=d.getFirstDayOfWeek();g&&!xe(g)||(g&&(o=yb(g)||o),g=o.get(["time","dayOfWeekShort"])||me(o.get(["time","dayOfWeekAbbr"]),function(N){return N[0]}));var S=d.getNextNDay(s.end.time,7-s.lweek).time,x=[d.getCellWidth(),d.getCellHeight()];m=Ce(m,Math.min(x[1],x[0])),"start"===v&&(S=d.getNextNDay(s.start.time,-(7+s.fweek)).time,m=-m);for(var D=0;D<7;D++){var E,T=d.getNextNDay(S,D),A=d.dataToRect([T.time],!1).center;E=Math.abs((D+_)%7);var P=new Nt({z2:30,style:ce(gn(f,{text:g[E]}),this._weekTextPositionControl(A,u,v,m,x))});c.add(P)}}},t.type="calendar",t}(Bn);const I3=mg;var M_=864e5,HP=function(){function r(t,e,o){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=t}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(t){var e=(t=jo(t)).getFullYear(),o=t.getMonth()+1,s=o<10?"0"+o:""+o,u=t.getDate(),c=u<10?"0"+u:""+u,f=t.getDay();return{y:e+"",m:s,d:c,day:f=Math.abs((f+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+s+"-"+c,date:t}},r.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},r.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,s=["width","height"],u=this._model.getCellSize().slice(),c=this._model.getBoxLayoutParams(),f="horizontal"===this._orient?[o,7]:[7,o];H([0,1],function(m){g(u,m)&&(c[s[m]]=u[m]*f[m])});var d={width:e.getWidth(),height:e.getHeight()},v=this._rect=Ar(c,d);function g(m,_){return null!=m[_]&&"auto"!==m[_]}H([0,1],function(m){g(u,m)||(u[m]=v[s[m]]/f[m])}),this._sw=u[0],this._sh=u[1]},r.prototype.dataToPoint=function(t,e){ge(t)&&(t=t[0]),null==e&&(e=!0);var o=this.getDateInfo(t),s=this._rangeInfo;if(e&&!(o.time>=s.start.time&&o.time<s.end.time+M_))return[NaN,NaN];var c=o.day,f=this._getRangeInfo([s.start.time,o.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+c*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]},r.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},r.prototype.dataToRect=function(t,e){var o=this.dataToPoint(t,e);return{contentShape:{x:o[0]-(this._sw-this._lineWidth)/2,y:o[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},r.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,o=Math.floor((t[1]-this._rect.y)/this._sh)+1,s=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(o,e-1,s):this._getDateByWeeksAndDay(e,o-1,s)},r.prototype.convertToPixel=function(t,e,o){var s=U1(e);return s===this?s.dataToPoint(o):null},r.prototype.convertFromPixel=function(t,e,o){var s=U1(e);return s===this?s.pointToData(o):null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(ge(t)&&1===t.length&&(t=t[0]),ge(t))e=t;else{var o=t.toString();if(/^\d{4}$/.test(o)&&(e=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var s=this.getDateInfo(o),u=s.date;u.setMonth(u.getMonth()+1);var c=this.getNextNDay(u,-1);e=[s.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(e=[o,o])}if(!e)return t;var f=this._getRangeInfo(e);return f.start.time>f.end.time&&e.reverse(),e},r.prototype._getRangeInfo=function(t){var o,e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];e[0].time>e[1].time&&(o=!0,e.reverse());var s=Math.floor(e[1].time/M_)-Math.floor(e[0].time/M_)+1,u=new Date(e[0].time),c=u.getDate(),f=e[1].date.getDate();u.setDate(c+s-1);var d=u.getDate();if(d!==f)for(var v=u.getTime()-e[1].time>0?1:-1;(d=u.getDate())!==f&&(u.getTime()-e[1].time)*v>0;)s-=v,u.setDate(d-v);var g=Math.floor((s+e[0].day+6)/7),m=o?1-g:g-1;return o&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:s,weeks:g,nthWeek:m,fweek:e[0].day,lweek:e[1].day}},r.prototype._getDateByWeeksAndDay=function(t,e,o){var s=this._getRangeInfo(o);if(t>s.weeks||0===t&&e<s.fweek||t===s.weeks&&e>s.lweek)return null;var u=7*(t-1)-s.fweek+e,c=new Date(s.start.time);return c.setDate(+s.start.d+u),this.getDateInfo(c)},r.create=function(t,e){var o=[];return t.eachComponent("calendar",function(s){var u=new r(s,t,e);o.push(u),s.coordinateSystem=u}),t.eachSeries(function(s){"calendar"===s.get("coordinateSystem")&&(s.coordinateSystem=o[s.get("calendarIndex")||0])}),o},r.dimensions=["time","value"],r}();function U1(r){var t=r.calendarModel,e=r.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}const GP=HP;function j1(r,t){var e;return H(t,function(o){null!=r[o]&&"auto"!==r[o]&&(e=!0)}),e}var $1=["transition","enterFrom","leaveTo"],K9=$1.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function yg(r,t,e){if(e&&(!r[e]&&t[e]&&(r[e]={}),r=r[e],t=t[e]),r&&t)for(var o=e?$1:K9,s=0;s<o.length;s++){var u=o[s];null==r[u]&&null!=t[u]&&(r[u]=t[u])}}var _g=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return ae(t,r),t.prototype.mergeOption=function(e,o){var s=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,e,o),this.option.elements=s},t.prototype.optionUpdated=function(e,o){var s=this.option,u=(o?s:e).elements,c=s.elements=o?[]:s.elements,f=[];this._flatten(u,f,null);var d=aG(c,f,"normalMerge"),v=this._elOptionsToUpdate=[];H(d,function(g,m){var _=g.newOption;_&&(v.push(_),function Fd(r,t){var e=r.existing;if(t.id=r.keyInfo.id,!t.type&&e&&(t.type=e.type),null==t.parentId){var o=t.parentOption;o?t.parentId=o.id:e&&(t.parentId=e.parentId)}t.parentOption=null}(g,_),function W1(r,t,e){var o=ce({},e),s=r[t],u=e.$action||"merge";"merge"===u?s?(tt(s,o,!0),_u(s,o,{ignoreSize:!0}),vy(e,s),yg(e,s),yg(e,s,"shape"),yg(e,s,"style"),yg(e,s,"extra"),e.clipPath=s.clipPath):r[t]=o:"replace"===u?r[t]=o:"remove"===u&&s&&(r[t]=null)}(c,m,_),function P3(r,t){if(r&&(r.hv=t.hv=[j1(t,["left","right"]),j1(t,["top","bottom"])],"group"===r.type)){var e=r,o=t;null==e.width&&(e.width=o.width=0),null==e.height&&(e.height=o.height=0)}}(c[m],_))},this),s.elements=Wt(c,function(g){return g&&delete g.$action,null!=g})},t.prototype._flatten=function(e,o,s){H(e,function(u){if(u){s&&(u.parentOption=s),o.push(u);var c=u.children;c&&c.length&&this._flatten(c,o,u),delete u.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Lt),_s={path:null,compoundPath:null,group:Ze,image:bn,text:Nt},uo=zt(),UP=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(){this._elMap=Re()},t.prototype.render=function(e,o,s){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,s)},t.prototype._updateElements=function(e){var o=e.useElOptionsToUpdate();if(o){var s=this._elMap,u=this.group,c=e.get("z"),f=e.get("zlevel");H(o,function(d){var v=vr(d.id,null),g=null!=v?s.get(v):null,m=vr(d.parentId,null),_=null!=m?s.get(m):u,w=d.type,S=d.style;"text"===w&&S&&d.hv&&d.hv[1]&&(S.textVerticalAlign=S.textBaseline=S.verticalAlign=S.align=null);var x=d.textContent,D=d.textConfig;if(S&&xh(S,w,!!D,!!x)){var T=oP(S,w,!0);!D&&T.textConfig&&(D=d.textConfig=T.textConfig),!x&&T.textContent&&(x=T.textContent)}var A=function Q9(r){return r=ce({},r),H(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(JR),function(t){delete r[t]}),r}(d),E=d.$action||"merge",P="merge"===E,N="replace"===E;if(P){var F=g;(k=!g)?F=L3(v,_,d.type,s):(F&&(uo(F).isNew=!1),Cl(F)),F&&(Ld(F,A,e,{isInit:k}),jP(F,d,c,f))}else if(N){bg(g,d,s,e);var B=L3(v,_,d.type,s);B&&(Ld(B,A,e,{isInit:!0}),jP(B,d,c,f))}else"remove"===E&&(f_(g,d),bg(g,d,s,e));var z=s.get(v);if(z&&x)if(P){var j=z.getTextContent();j?j.attr(x):z.setTextContent(new Nt(x))}else N&&z.setTextContent(new Nt(x));if(z){var W=d.clipPath;if(W){var q=W.type,Y=void 0,k=!1;if(P){var K=z.getClipPath();Y=(k=!K||uo(K).type!==q)?wg(q):K}else N&&(k=!0,Y=wg(q));z.setClipPath(Y),Ld(Y,W,e,{isInit:k}),S1(Y,W.keyframeAnimation,e)}var Q=uo(z);z.setTextConfig(D),Q.option=d,function q1(r,t,e){var o=et(r).eventData;!r.silent&&!r.ignore&&!o&&(o=et(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}),o&&(o.info=e.info)}(z,e,d),Fy({el:z,componentModel:e,itemName:z.name,itemTooltipOption:d.tooltip}),S1(z,d.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,o){for(var s=e.option.elements,u=this.group,c=this._elMap,f=o.getWidth(),d=o.getHeight(),v=["x","y"],g=0;g<s.length;g++)if((w=null!=(_=vr((m=s[g]).id,null))?c.get(_):null)&&w.isGroup){var x=(S=w.parent)===u,D=uo(w),T=uo(S);D.width=Ce(D.option.width,x?f:T.width)||0,D.height=Ce(D.option.height,x?d:T.height)||0}for(g=s.length-1;g>=0;g--){var m,_,w;if(w=null!=(_=vr((m=s[g]).id,null))?c.get(_):null){T=uo(S=w.parent);var S,E={},P=Mf(w,m,S===u?{width:f,height:d}:{width:T.width,height:T.height},null,{hv:m.hv,boundingMode:m.bounding},E);if(!uo(w).isNew&&P){for(var N=m.transition,k={},F=0;F<v.length;F++){var B=v[F],z=E[B];N&&(Mi(N)||ot(N,B)>=0)?k[B]=z:w[B]=z}Yt(w,k,e,0)}else w.attr(E)}}},t.prototype._clear=function(){var e=this,o=this._elMap;o.each(function(s){bg(s,uo(s).option,o,e._lastGraphicModel)}),this._elMap=Re()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Bn);function wg(r){var e=new(Ee(_s,r)?_s[r]:Py(r))({});return uo(e).type=r,e}function L3(r,t,e,o){var s=wg(e);return t.add(s),o.set(r,s),uo(s).id=r,uo(s).isNew=!0,s}function bg(r,t,e,o){r&&r.parent&&("group"===r.type&&r.traverse(function(u){bg(u,t,e,o)}),tr(r,t,o),e.removeKey(uo(r).id))}function jP(r,t,e,o){r.isGroup||H([["cursor",ya.prototype.cursor],["zlevel",o||0],["z",e||0],["z2",0]],function(s){var u=s[0];Ee(t,u)?r[u]=Qe(t[u],s[1]):null==r[u]&&(r[u]=s[1])}),H(pt(t),function(s){if(0===s.indexOf("on")){var u=t[s];r[s]=Ne(u)?u:null}}),Ee(t,"draggable")&&(r.draggable=t.draggable),null!=t.name&&(r.name=t.name),null!=t.id&&(r.id=t.id)}var R3=["x","y","radius","angle","single"],WP=["cartesian2d","polar","singleAxis"];function Dl(r){return r+"Axis"}function O3(r){var t=r.ecModel,e={infoList:[],infoMap:Re()};return r.eachTargetAxis(function(o,s){var u=t.getComponent(Dl(o),s);if(u){var c=u.getCoordSysModel();if(c){var f=c.uid,d=e.infoMap.get(f);d||(e.infoList.push(d={model:c,axisModels:[]}),e.infoMap.set(f,d)),d.axisModels.push(u)}}}),e}var $P=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),qP=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return ae(t,r),t.prototype.init=function(e,o,s){var u=N3(e);this.settledOption=u,this.mergeDefaultAndTheme(e,s),this._doInit(u)},t.prototype.mergeOption=function(e){var o=N3(e);tt(this.option,e,!0),tt(this.settledOption,o,!0),this._doInit(o)},t.prototype._doInit=function(e){var o=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var s=this.settledOption;H([["start","startValue"],["end","endValue"]],function(u,c){"value"===this._rangePropMode[c]&&(o[u[0]]=s[u[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),o=this._targetAxisInfoMap=Re();this._fillSpecifiedTargetAxis(o)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(u){u.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var o=!1;return H(R3,function(s){var u=this.getReferringComponents(Dl(s),$L);if(u.specified){o=!0;var c=new $P;H(u.models,function(f){c.add(f.componentIndex)}),e.set(s,c)}},this),o},t.prototype._fillAutoTargetAxisByOrient=function(e,o){var s=this.ecModel,u=!0;if(u){var c="vertical"===o?"y":"x";d(s.findComponents({mainType:c+"Axis"}),c)}function d(v,g){var m=v[0];if(m){var _=new $P;if(_.add(m.componentIndex),e.set(g,_),u=!1,"x"===g||"y"===g){var w=m.getReferringComponents("grid",gr).models[0];w&&H(v,function(S){m.componentIndex!==S.componentIndex&&w===S.getReferringComponents("grid",gr).models[0]&&_.add(S.componentIndex)})}}}u&&d(s.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===o}}),"single"),u&&H(R3,function(v){if(u){var g=s.findComponents({mainType:Dl(v),filter:function(_){return"category"===_.get("type",!0)}});if(g[0]){var m=new $P;m.add(g[0].componentIndex),e.set(v,m),u=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(o){!e&&(e=o)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var o=this._rangePropMode,s=this.get("rangeMode");H([["start","startValue"],["end","endValue"]],function(u,c){var f=null!=e[u[0]],d=null!=e[u[1]];f&&!d?o[c]="percent":!f&&d?o[c]="value":s?o[c]=s[c]:f&&(o[c]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(o,s){null==e&&(e=this.ecModel.getComponent(Dl(o),s))},this),e},t.prototype.eachTargetAxis=function(e,o){this._targetAxisInfoMap.each(function(s,u){H(s.indexList,function(c){e.call(o,u,c)})})},t.prototype.getAxisProxy=function(e,o){var s=this.getAxisModel(e,o);if(s)return s.__dzAxisProxy},t.prototype.getAxisModel=function(e,o){var s=this._targetAxisInfoMap.get(e);if(s&&s.indexMap[o])return this.ecModel.getComponent(Dl(e),o)},t.prototype.setRawRange=function(e){var o=this.option,s=this.settledOption;H([["start","startValue"],["end","endValue"]],function(u){(null!=e[u[0]]||null!=e[u[1]])&&(o[u[0]]=s[u[0]]=e[u[0]],o[u[1]]=s[u[1]]=e[u[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var o=this.option;H(["start","startValue","end","endValue"],function(s){o[s]=e[s]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,o){if(null!=e||null!=o)return this.getAxisProxy(e,o).getDataValueWindow();var s=this.findRepresentativeAxisProxy();return s?s.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var o,s=this._targetAxisInfoMap.keys(),u=0;u<s.length;u++)for(var c=s[u],f=this._targetAxisInfoMap.get(c),d=0;d<f.indexList.length;d++){var v=this.getAxisProxy(c,f.indexList[d]);if(v.hostedBy(this))return v;o||(o=v)}return o},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Lt);function N3(r){var t={};return H(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}const Vd=qP;var F3=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="dataZoom.select",t}(Vd);const V3=F3;var t7=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s,u){this.dataZoomModel=e,this.ecModel=o,this.api=s},t.type="dataZoom",t}(Bn);const ZP=t7;var n7=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="dataZoom.select",t}(ZP);const r7=n7;var Sg=H,A_=Co,B3=function(){function r(t,e,o,s){this._dimName=t,this._axisIndex=e,this.ecModel=s,this._dataZoomModel=o}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function k3(r){var t=r.get("coordinateSystem");return ot(WP,t)>=0}(e)){var o=Dl(this._dimName),s=e.getReferringComponents(o,gr).models[0];s&&this._axisIndex===s.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return Ge(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var v,e=this._dataExtent,s=this.getAxisModel().axis.scale,u=this._dataZoomModel.getRangePropMode(),c=[0,100],f=[],d=[];Sg(["start","end"],function(_,w){var S=t[_],x=t[_+"Value"];"percent"===u[w]?(null==S&&(S=c[w]),x=s.parse(on(S,c,e))):(v=!0,S=on(x=null==x?e[w]:s.parse(x),e,c)),d[w]=null==x||isNaN(x)?e[w]:x,f[w]=null==S||isNaN(S)?c[w]:S}),A_(d),A_(f);var g=this._minMaxSpan;function m(_,w,S,x,D){var T=D?"Span":"ValueSpan";na(0,_,S,"all",g["min"+T],g["max"+T]);for(var A=0;A<2;A++)w[A]=on(_[A],S,x,!0),D&&(w[A]=s.parse(w[A]))}return v?m(d,f,e,c,!1):m(f,d,c,e,!0),{valueWindow:d,percentWindow:f}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function Bd(r,t,e){var o=[1/0,-1/0];Sg(e,function(c){!function IN(r,t,e){t&&H(h0(t,e),function(o){var s=t.getApproximateExtent(o);s[0]<r[0]&&(r[0]=s[0]),s[1]>r[1]&&(r[1]=s[1])})}(o,c.getData(),t)});var s=r.getAxisModel(),u=DN(s.axis.scale,s,o).calculate();return[u.min,u.max]}(this,this._dimName,e),this._updateMinMaxSpan();var o=this.calculateDataWindow(t.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var o=this._dimName,s=this.getTargetSeriesModels(),u=t.get("filterMode"),c=this._valueWindow;"none"!==u&&Sg(s,function(d){var v=d.getData(),g=v.mapDimensionsAll(o);if(g.length){if("weakFilter"===u){var m=v.getStore(),_=me(g,function(w){return v.getDimensionIndex(w)},v);v.filterSelf(function(w){for(var S,x,D,T=0;T<g.length;T++){var A=m.get(_[T],w),E=!isNaN(A),P=A<c[0],N=A>c[1];if(E&&!P&&!N)return!0;E&&(D=!0),P&&(S=!0),N&&(x=!0)}return D&&S&&x})}else Sg(g,function(w){if("empty"===u)d.setData(v=v.map(w,function(x){return function f(d){return d>=c[0]&&d<=c[1]}(x)?x:NaN}));else{var S={};S[w]=c,v.selectRange(S)}});Sg(g,function(w){v.setApproximateExtent(c,w)})}})}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,o=this._dataExtent;Sg(["min","max"],function(s){var u=e.get(s+"Span"),c=e.get(s+"ValueSpan");null!=c&&(c=this.getAxisModel().axis.scale.parse(c)),null!=c?u=on(o[0]+c,o,[0,100],!0):null!=u&&(c=on(u,[0,100],o,!0)-o[0]),t[s+"Span"]=u,t[s+"ValueSpan"]=c},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,o=this._valueWindow;if(e){var s=Vm(o,[0,500]);s=Math.min(s,20);var u=t.axis.scale.rawExtentInfo;0!==e[0]&&u.setDeterminedMinMax("min",+o[0].toFixed(s)),100!==e[1]&&u.setDeterminedMinMax("max",+o[1].toFixed(s)),u.freeze()}},r}();const z3=B3;var H3={getTargetSeries:function(r){function t(s){r.eachComponent("dataZoom",function(u){u.eachTargetAxis(function(c,f){var d=r.getComponent(Dl(c),f);s(c,f,d,u)})})}t(function(s,u,c,f){c.__dzAxisProxy=null});var e=[];t(function(s,u,c,f){c.__dzAxisProxy||(c.__dzAxisProxy=new z3(s,u,f,r),e.push(c.__dzAxisProxy))});var o=Re();return H(e,function(s){H(s.getTargetSeriesModels(),function(u){o.set(u.uid,u)})}),o},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(o,s){e.getAxisProxy(o,s).reset(e)}),e.eachTargetAxis(function(o,s){e.getAxisProxy(o,s).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var o=e.findRepresentativeAxisProxy();if(o){var s=o.getDataPercentWindow(),u=o.getDataValueWindow();e.setCalculatedRange({start:s[0],end:s[1],startValue:u[0],endValue:u[1]})}})}};const G3=H3;var j3=!1;function E_(r){j3||(j3=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,G3),function U3(r){r.registerAction("dataZoom",function(t,e){H(function e7(r,t){var u,e=Re(),o=[],s=Re();r.eachComponent({mainType:"dataZoom",query:t},function(g){s.get(g.uid)||f(g)});do{u=!1,r.eachComponent("dataZoom",c)}while(u);function c(g){!s.get(g.uid)&&function d(g){var m=!1;return g.eachTargetAxis(function(_,w){var S=e.get(_);S&&S[w]&&(m=!0)}),m}(g)&&(f(g),u=!0)}function f(g){s.set(g.uid,!0),o.push(g),function v(g){g.eachTargetAxis(function(m,_){(e.get(m)||e.set(m,[]))[_]=!0})}(g)}return o}(e,t),function(s){s.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function YP(r){r.registerComponentModel(V3),r.registerComponentView(r7),E_(r)}var oa=function r(){},W3={};function Cg(r,t){W3[r]=t}function XP(r){return W3[r]}var i7=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;H(this.option.feature,function(o,s){var u=XP(s);u&&(u.getDefaultOption&&(u.defaultOption=u.getDefaultOption(e)),tt(o,u.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Lt);const o7=i7;function $3(r,t){var e=yu(t.get("padding")),o=t.getItemStyle(["color","opacity"]);return o.fill=t.get("backgroundColor"),new Ot({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:o,silent:!0,z2:-1})}var a7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.render=function(e,o,s,u){var c=this.group;if(c.removeAll(),e.get("show")){var f=+e.get("itemSize"),d="vertical"===e.get("orient"),v=e.get("feature")||{},g=this._features||(this._features={}),m=[];H(v,function(S,x){m.push(x)}),new Ru(this._featureNames||[],m).add(_).update(_).remove(Je(_,null)).execute(),this._featureNames=m,function KP(r,t,e){var o=t.getBoxLayoutParams(),s=t.get("padding"),u={width:e.getWidth(),height:e.getHeight()},c=Ar(o,u,s);Rc(t.get("orient"),r,t.get("itemGap"),c.width,c.height),Mf(r,o,u,s)}(c,e,s),c.add($3(c.getBoundingRect(),e)),d||c.eachChild(function(S){var x=S.__title,D=S.ensureState("emphasis"),T=D.textConfig||(D.textConfig={}),A=S.getTextContent(),E=A&&A.ensureState("emphasis");if(E&&!Ne(E)&&x){var P=E.style||(E.style={}),N=Rm(x,Nt.makeFont(P)),k=S.x+c.x,B=!1;S.y+c.y+f+N.height>s.getHeight()&&(T.position="top",B=!0);var z=B?-5-N.height:f+10;k+N.width/2>s.getWidth()?(T.position=["100%",z],P.align="right"):k-N.width/2<0&&(T.position=[0,z],P.align="left")}})}function _(S,x){var P,D=m[S],T=m[x],A=v[D],E=new Sn(A,e,e.ecModel);if(u&&null!=u.newTitle&&u.featureName===D&&(A.title=u.newTitle),D&&!T){if(function s7(r){return 0===r.indexOf("my")}(D))P={onclick:E.option.onclick,featureName:D};else{var N=XP(D);if(!N)return;P=new N}g[D]=P}else if(!(P=g[T]))return;P.uid=ke("toolbox-feature"),P.model=E,P.ecModel=o,P.api=s;var k=P instanceof oa;D||!T?!E.get("show")||k&&P.unusable?k&&P.remove&&P.remove(o,s):(function w(S,x,D){var N,k,T=S.getModel("iconStyle"),A=S.getModel(["emphasis","iconStyle"]),E=x instanceof oa&&x.getIcons?x.getIcons():S.get("icon"),P=S.get("title")||{};xe(E)?(N={})[D]=E:N=E,xe(P)?(k={})[D]=P:k=P;var F=S.iconPaths={};H(N,function(B,z){var j=Ta(B,{},{x:-f/2,y:-f/2,width:f,height:f});j.setStyle(T.getItemStyle()),j.ensureState("emphasis").style=A.getItemStyle();var q=new Nt({style:{text:k[z],align:A.get("textAlign"),borderRadius:A.get("textBorderRadius"),padding:A.get("textPadding"),fill:null},ignore:!0});j.setTextContent(q),Fy({el:j,componentModel:e,itemName:z,formatterParamsExtra:{title:k[z]}}),j.__title=k[z],j.on("mouseover",function(){var Y=A.getItemStyle(),K=d?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";q.setStyle({fill:A.get("textFill")||Y.fill||Y.stroke||"#000",backgroundColor:A.get("textBackgroundColor")}),j.setTextConfig({position:A.get("textPosition")||K}),q.ignore=!e.get("showTitle"),s.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==S.get(["iconStatus",z])&&s.leaveEmphasis(this),q.hide()}),("emphasis"===S.get(["iconStatus",z])?fu:Xs)(j),c.add(j),j.on("click",Me(x.onclick,x,o,s,z)),F[z]=j})}(E,P,D),E.setIconStatus=function(F,B){var z=this.option,j=this.iconPaths;z.iconStatus=z.iconStatus||{},z.iconStatus[F]=B,j[F]&&("emphasis"===B?fu:Xs)(j[F])},P instanceof oa&&P.render&&P.render(E,o,s,u)):k&&P.dispose&&P.dispose(o,s)}},t.prototype.updateView=function(e,o,s,u){H(this._features,function(c){c instanceof oa&&c.updateView&&c.updateView(c.model,o,s,u)})},t.prototype.remove=function(e,o){H(this._features,function(s){s instanceof oa&&s.remove&&s.remove(e,o)}),this.group.removeAll()},t.prototype.dispose=function(e,o){H(this._features,function(s){s instanceof oa&&s.dispose&&s.dispose(e,o)})},t.type="toolbox",t}(Bn);const l7=a7;var QP=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.onclick=function(e,o){var s=this.model,u=s.get("name")||e.get("title.0.text")||"echarts",c="svg"===o.getZr().painter.getType(),f=c?"svg":s.get("type",!0)||"png",d=o.getConnectedDataURL({type:f,backgroundColor:s.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:s.get("connectedBackgroundColor"),excludeComponents:s.get("excludeComponents"),pixelRatio:s.get("pixelRatio")}),v=Pt.browser;if(Ne(MouseEvent)&&(v.newEdge||!v.ie&&!v.edge)){var g=document.createElement("a");g.download=u+"."+f,g.target="_blank",g.href=d;var m=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(m)}else if(window.navigator.msSaveOrOpenBlob||c){var _=d.split(","),w=_[0].indexOf("base64")>-1,S=c?decodeURIComponent(_[1]):_[1];w&&(S=window.atob(S));var x=u+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var D=S.length,T=new Uint8Array(D);D--;)T[D]=S.charCodeAt(D);var A=new Blob([T]);window.navigator.msSaveOrOpenBlob(A,x)}else{var E=document.createElement("iframe");document.body.appendChild(E);var P=E.contentWindow,N=P.document;N.open("image/svg+xml","replace"),N.write(S),N.close(),P.focus(),N.execCommand("SaveAs",!0,x),document.body.removeChild(E)}}else{var k=s.get("lang"),F='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(k&&k[0]||"")+'" /></body>',B=window.open();B.document.write(F),B.document.title=u}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(oa);const u7=QP;var q3="__ec_magicType_stack__",Z3=[["line","bar"],["stack"]],h7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.getIcons=function(){var e=this.model,o=e.get("icon"),s={};return H(e.get("type"),function(u){o[u]&&(s[u]=o[u])}),s},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,o,s){var u=this.model,c=u.get(["seriesIndex",s]);if(Y3[s]){var f={series:[]};H(Z3,function(m){ot(m,s)>=0&&H(m,function(_){u.setIconStatus(_,"normal")})}),u.setIconStatus(s,"emphasis"),e.eachComponent({mainType:"series",query:null==c?null:{seriesIndex:c}},function(m){var S=Y3[s](m.subType,m.id,m,u);S&&(Ve(S,m.option),f.series.push(S));var x=m.coordinateSystem;if(x&&"cartesian2d"===x.type&&("line"===s||"bar"===s)){var D=x.getAxesByScale("ordinal")[0];if(D){var A=D.dim+"Axis",P=m.getReferringComponents(A,gr).models[0].componentIndex;f[A]=f[A]||[];for(var N=0;N<=P;N++)f[A][P]=f[A][P]||{};f[A][P].boundaryGap="bar"===s}}});var v,g=s;"stack"===s&&(v=tt({stack:u.option.title.tiled,tiled:u.option.title.stack},u.option.title),"emphasis"!==u.get(["iconStatus",s])&&(g="tiled")),o.dispatchAction({type:"changeMagicType",currentType:g,newOption:f,newTitle:v,featureName:"magicType"})}},t}(oa),Y3={line:function(r,t,e,o){if("bar"===r)return tt({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(r,t,e,o){if("line"===r)return tt({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(r,t,e,o){var s=e.get("stack")===q3;if("line"===r||"bar"===r)return o.setIconStatus("stack",s?"normal":"emphasis"),tt({id:t,stack:s?"":q3},o.get(["option","stack"])||{},!0)}};Oo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});const f7=h7;var Z1=new Array(60).join("-");function d7(r){var t=[];return H(r,function(e,o){var s=e.categoryAxis,c=e.valueAxis.dim,f=[" "].concat(me(e.series,function(w){return w.name})),d=[s.model.getCategories()];H(e.series,function(w){var S=w.getRawData();d.push(w.getRawData().mapArray(S.mapDimension(c),function(x){return x}))});for(var v=[f.join("\t")],g=0;g<d[0].length;g++){for(var m=[],_=0;_<d.length;_++)m.push(d[_][g]);v.push(m.join("\t"))}t.push(v.join("\n"))}),t.join("\n\n"+Z1+"\n\n")}function p7(r){return me(r,function(t){var e=t.getRawData(),o=[t.name],s=[];return e.each(e.dimensions,function(){for(var u=arguments.length,f=e.getName(arguments[u-1]),d=0;d<u-1;d++)s[d]=arguments[d];o.push((f?f+"\t":"")+s.join("\t"))}),o.join("\n")}).join("\n\n"+Z1+"\n\n")}function JP(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var I_=new RegExp("[\t]+","g");var m7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.onclick=function(e,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var s=o.getDom(),u=this.model;this._dom&&s.removeChild(this._dom);var c=document.createElement("div");c.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",c.style.backgroundColor=u.get("backgroundColor")||"#fff";var f=document.createElement("h4"),d=u.get("lang")||[];f.innerHTML=d[0]||u.get("title"),f.style.cssText="margin:10px 20px",f.style.color=u.get("textColor");var v=document.createElement("div"),g=document.createElement("textarea");v.style.cssText="overflow:auto";var m=u.get("optionToContent"),_=u.get("contentToOption"),w=function K3(r){var t=function X3(r){var t={},e=[],o=[];return r.eachRawSeries(function(s){var u=s.coordinateSystem;if(!u||"cartesian2d"!==u.type&&"polar"!==u.type)e.push(s);else{var c=u.getBaseAxis();if("category"===c.type){var f=c.dim+"_"+c.index;t[f]||(t[f]={categoryAxis:c,valueAxis:u.getOtherAxis(c),series:[]},o.push({axisDim:c.dim,axisIndex:c.index})),t[f].series.push(s)}else e.push(s)}}),{seriesGroupByCategoryAxis:t,other:e,meta:o}}(r);return{value:Wt([d7(t.seriesGroupByCategoryAxis),p7(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join("\n\n"+Z1+"\n\n"),meta:t.meta}}(e);if(Ne(m)){var S=m(o.getOption());xe(S)?v.innerHTML=S:Nl(S)&&v.appendChild(S)}else{g.readOnly=u.get("readOnly");var x=g.style;x.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",x.color=u.get("textColor"),x.borderColor=u.get("textareaBorderColor"),x.backgroundColor=u.get("textareaColor"),g.value=w.value,v.appendChild(g)}var D=w.meta,T=document.createElement("div");T.style.cssText="position:absolute;bottom:5px;left:0;right:0";var A="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),P=document.createElement("div");A+=";background-color:"+u.get("buttonColor"),A+=";color:"+u.get("buttonTextColor");var N=this;function k(){s.removeChild(c),N._dom=null}$h(E,"click",k),$h(P,"click",function(){if(null==_&&null!=m||null!=_&&null==m)k();else{var F;try{F=Ne(_)?_(v,o.getOption()):function g7(r,t){var e=r.split(new RegExp("\n*"+Z1+"\n*","g")),o={series:[]};return H(e,function(s,u){if(function RK(r){if(r.slice(0,r.indexOf("\n")).indexOf("\t")>=0)return!0}(s)){var c=function Y1(r){for(var t=r.split(/\n+/g),o=[],s=me(JP(t.shift()).split(I_),function(d){return{name:d,data:[]}}),u=0;u<t.length;u++){var c=JP(t[u]).split(I_);o.push(c.shift());for(var f=0;f<c.length;f++)s[f]&&(s[f].data[u]=c[f])}return{series:s,categories:o}}(s),f=t[u],d=f.axisDim+"Axis";f&&(o[d]=o[d]||[],o[d][f.axisIndex]={data:c.categories},o.series=o.series.concat(c.series))}else c=function v7(r){for(var t=r.split(/\n+/g),e=JP(t.shift()),o=[],s=0;s<t.length;s++){var u=JP(t[s]);if(u){var c=u.split(I_),f="",d=void 0,v=!1;isNaN(c[0])?(v=!0,f=c[0],c=c.slice(1),o[s]={name:f,value:[]},d=o[s].value):d=o[s]=[];for(var g=0;g<c.length;g++)d.push(+c[g]);1===d.length&&(v?o[s].value=d[0]:o[s]=d[0])}}return{name:e,data:o}}(s),o.series.push(c)}),o}(g.value,D)}catch(B){throw k(),new Error("Data view format error "+B)}F&&o.dispatchAction({type:"changeDataView",newOption:F}),k()}}),E.innerHTML=d[1],P.innerHTML=d[2],P.style.cssText=E.style.cssText=A,!u.get("readOnly")&&T.appendChild(P),T.appendChild(E),c.appendChild(f),c.appendChild(v),c.appendChild(T),v.style.height=s.clientHeight-80+"px",s.appendChild(c),this._dom=c},t.prototype.remove=function(e,o){this._dom&&o.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,o){this.remove(e,o)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(oa);function Q3(r,t){return me(r,function(e,o){var s=t&&t[o];if(Ue(s)&&!ge(s)){Ue(e)&&!ge(e)||(e={value:e});var c=null!=s.name&&null==e.name;return e=Ve(e,s),c&&delete e.name,e}return e})}Oo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];H(r.newOption.series,function(o){var s=t.getSeriesByName(o.name)[0];if(s){var u=s.get("data");e.push({name:o.name,data:Q3(o.data,u)})}else e.push(ce({type:"scatter"},o))}),t.mergeOption(Ve({series:e},r.newOption))});const en=m7;var ws=H,zd=zt();function n2(r){var t=zd(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var J3=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.onclick=function(e,o){(function Hd(r){zd(r).snapshots=null})(e),o.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(oa);Oo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});const e5=J3;var zi=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],r2=function(){function r(t,e,o){var s=this;this._targetInfoList=[];var u=X1(e,t);H(i2,function(c,f){(!o||!o.include||ot(o.include,f)>=0)&&c(u,s._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(o,s,u){if((o.coordRanges||(o.coordRanges=[])).push(s),!o.coordRange){o.coordRange=s;var c=Q1[o.brushType](0,u,s);o.__rangeOffset={offset:J1[o.brushType](c.values,o.range,[1,1]),xyMinMax:c.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,o){H(t,function(s){var u=this.findTargetInfo(s,e);u&&!0!==u&&H(u.coordSyses,function(c){var f=Q1[s.brushType](1,c,s.range,!0);o(s,f.values,c,e)})},this)},r.prototype.setInputRanges=function(t,e){H(t,function(o){var s=this.findTargetInfo(o,e);if(o.range=o.range||[],s&&!0!==s){o.panelId=s.panelId;var u=Q1[o.brushType](0,s.coordSys,o.coordRange),c=o.__rangeOffset;o.range=c?J1[o.brushType](u.values,c.offset,function a2(r,t){var e=s2(r),o=s2(t),s=[e[0]/o[0],e[1]/o[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}(u.xyMinMax,c.xyMinMax)):u.values}},this)},r.prototype.makePanelOpts=function(t,e){return me(this._targetInfoList,function(o){var s=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:e?e(o):null,clipPath:N6(s),isTargetByCursor:ig(s,t,o.coordSysModel),getLinearBrushOtherExtent:VB(s)}})},r.prototype.controlSeries=function(t,e,o){var s=this.findTargetInfo(t,o);return!0===s||s&&ot(s.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var o=this._targetInfoList,s=X1(e,t),u=0;u<o.length;u++){var c=o[u],f=t.panelId;if(f){if(c.panelId===f)return c}else for(var d=0;d<K1.length;d++)if(K1[d](s,c))return c}return!0},r}();function Gd(r){return r[0]>r[1]&&r.reverse(),r}function X1(r,t){return tf(r,t,{includeMainTypes:zi})}var i2={grid:function(r,t){var e=r.xAxisModels,o=r.yAxisModels,s=r.gridModels,u=Re(),c={},f={};!e&&!o&&!s||(H(e,function(d){var v=d.axis.grid.model;u.set(v.id,v),c[v.id]=!0}),H(o,function(d){var v=d.axis.grid.model;u.set(v.id,v),f[v.id]=!0}),H(s,function(d){u.set(d.id,d),c[d.id]=!0,f[d.id]=!0}),u.each(function(d){var g=[];H(d.coordinateSystem.getCartesians(),function(m,_){(ot(e,m.getAxis("x").model)>=0||ot(o,m.getAxis("y").model)>=0)&&g.push(m)}),t.push({panelId:"grid--"+d.id,gridModel:d,coordSysModel:d,coordSys:g[0],coordSyses:g,getPanelRect:P_.grid,xAxisDeclared:c[d.id],yAxisDeclared:f[d.id]})}))},geo:function(r,t){H(r.geoModels,function(e){var o=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:o,coordSyses:[o],getPanelRect:P_.geo})})}},K1=[function(r,t){var e=r.xAxisModel,o=r.yAxisModel,s=r.gridModel;return!s&&e&&(s=e.axis.grid.model),!s&&o&&(s=o.axis.grid.model),s&&s===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],P_={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(Au(r)),t}},Q1={lineX:Je(L_,0),lineY:Je(L_,1),rect:function(r,t,e,o){var s=r?t.pointToData([e[0][0],e[1][0]],o):t.dataToPoint([e[0][0],e[1][0]],o),u=r?t.pointToData([e[0][1],e[1][1]],o):t.dataToPoint([e[0][1],e[1][1]],o),c=[Gd([s[0],u[0]]),Gd([s[1],u[1]])];return{values:c,xyMinMax:c}},polygon:function(r,t,e,o){var s=[[1/0,-1/0],[1/0,-1/0]];return{values:me(e,function(c){var f=r?t.pointToData(c,o):t.dataToPoint(c,o);return s[0][0]=Math.min(s[0][0],f[0]),s[1][0]=Math.min(s[1][0],f[1]),s[0][1]=Math.max(s[0][1],f[0]),s[1][1]=Math.max(s[1][1],f[1]),f}),xyMinMax:s}}};function L_(r,t,e,o){var s=e.getAxis(["x","y"][r]),u=Gd(me([0,1],function(f){return t?s.coordToData(s.toLocalCoord(o[f]),!0):s.toGlobalCoord(s.dataToCoord(o[f]))})),c=[];return c[r]=u,c[1-r]=[NaN,NaN],{values:u,xyMinMax:c}}var J1={lineX:Je(o2,0),lineY:Je(o2,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return me(r,function(o,s){return[o[0]-e[0]*t[s][0],o[1]-e[1]*t[s][1]]})}};function o2(r,t,e,o){return[t[0]-o[r]*e[0],t[1]-o[r]*e[1]]}function s2(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}const l2=r2;var u2=H,_7=function uG(r){return UL+r}("toolbox-dataZoom_"),w7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.render=function(e,o,s,u){this._brushController||(this._brushController=new i_(s.getZr()),this._brushController.on("brush",Me(this._onBrush,this)).mount()),function b7(r,t,e,o,s){var u=e._isZoomActive;o&&"takeGlobalCursor"===o.type&&(u="dataZoomSelect"===o.key&&o.dataZoomSelectActive),e._isZoomActive=u,r.setIconStatus("zoom",u?"emphasis":"normal");var f=new l2(Dg(r),t,{include:["grid"]}).makePanelOpts(s,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(f).enableBrush(!(!u||!f.length)&&{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()})}(e,o,this,u,s),function Tl(r,t){r.setIconStatus("back",function y7(r){return n2(r).length}(t)>1?"emphasis":"normal")}(e,o)},t.prototype.onclick=function(e,o,s){c2[s].call(this)},t.prototype.remove=function(e,o){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,o){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var o=e.areas;if(e.isEnd&&o.length){var s={},u=this.ecModel;this._brushController.updateCovers([]),new l2(Dg(this.model),u,{include:["grid"]}).matchOutputRanges(o,u,function(v,g,m){if("cartesian2d"===m.type){var _=v.brushType;"rect"===_?(f("x",m,g[0]),f("y",m,g[1])):f({lineX:"x",lineY:"y"}[_],m,g)}}),function e2(r,t){var e=n2(r);ws(t,function(o,s){for(var u=e.length-1;u>=0&&!e[u][s];u--);if(u<0){var f=r.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(f){var d=f.getPercentRange();e[0][s]={dataZoomId:s,start:d[0],end:d[1]}}}}),e.push(t)}(u,s),this._dispatchZoomAction(s)}function f(v,g,m){var _=g.getAxis(v),w=_.model,S=function d(v,g,m){var _;return m.eachComponent({mainType:"dataZoom",subType:"select"},function(w){w.getAxisModel(v,g.componentIndex)&&(_=w)}),_}(v,w,u),x=S.findRepresentativeAxisProxy(w).getMinMaxSpan();(null!=x.minValueSpan||null!=x.maxValueSpan)&&(m=na(0,m.slice(),_.scale.getExtent(),0,x.minValueSpan,x.maxValueSpan)),S&&(s[S.id]={dataZoomId:S.id,startValue:m[0],endValue:m[1]})}},t.prototype._dispatchZoomAction=function(e){var o=[];u2(e,function(s,u){o.push(Ge(s))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(oa),c2={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function t2(r){var t=n2(r),e=t[t.length-1];t.length>1&&t.pop();var o={};return ws(e,function(s,u){for(var c=t.length-1;c>=0;c--)if(s=t[c][u]){o[u]=s;break}}),o}(this.ecModel))}};function Dg(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}!function XG(r,t){_n(null==Mb.get(r)&&t),Mb.set(r,t)}("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var o=t.getModel(e),s=[],c=tf(r,Dg(o));return u2(c.xAxisModels,function(d){return f(d,"xAxis","xAxisIndex")}),u2(c.yAxisModels,function(d){return f(d,"yAxis","yAxisIndex")}),s}function f(d,v,g){var m=d.componentIndex,_={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:_7+v+m};_[g]=m,s.push(_)}});const t5=w7;var C7=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Lt);const R_=C7;function n5(r){var t=r.get("confine");return null!=t?!!t:"richText"===r.get("renderMode")}function r5(r){if(Pt.domSupported)for(var t=document.documentElement.style,e=0,o=r.length;e<o;e++)if(r[e]in t)return r[e]}var Eh=r5(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function h2(r,t){if(!r)return t;t=ly(t,!0);var e=r.indexOf(t);return(r=-1===e?t:"-"+r.slice(0,e)+"-"+t).toLowerCase()}var Tg=h2(r5(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),f2=h2(Eh,"transform"),D7="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Pt.transform3dSupported?"will-change:transform;":"");function d2(r,t,e){var o=r.toFixed(0)+"px",s=t.toFixed(0)+"px";if(!Pt.transformSupported)return e?"top:"+s+";left:"+o+";":[["top",s],["left",o]];var u=Pt.transform3dSupported,c="translate"+(u?"3d":"")+"("+o+","+s+(u?",0":"")+")";return e?"top:0;left:0;"+f2+":"+c+";":[["top",0],["left",0],[Eh,c]]}function ex(r,t,e,o,s){var u=t&&t.painter;if(e){var c=u&&u.getViewportRoot();c&&function zx(r,t,e,o,s){wn(vc,t,o,s,!0)&&wn(r,e,vc[0],vc[1])}(r,c,document.body,o,s)}else{r[0]=o,r[1]=s;var f=u&&u.getViewportRootOffset();f&&(r[0]+=f.offsetLeft,r[1]+=f.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var A7=function(){function r(t,e,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Pt.wxa)return null;var s=document.createElement("div");s.domBelongToZr=!0,this.el=s;var u=this._zr=e.getZr(),c=this._appendToBody=o&&o.appendToBody;ex(this._styleCoord,u,c,e.getWidth()/2,e.getHeight()/2),c?document.body.appendChild(s):t.appendChild(s),this._container=t;var f=this;s.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},s.onmousemove=function(d){if(d=d||window.event,!f._enterable){var v=u.handler;ii(u.painter.getViewportRoot(),d,!0),v.dispatch("mousemove",d)}},s.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return r.prototype.update=function(t){var e=this._container,o=function i5(r,t){var e=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return e?t?e[t]:e:null}(e,"position"),s=e.style;"absolute"!==s.position&&"absolute"!==o&&(s.position="relative");var u=t.get("alwaysShowContent");u&&this._moveIfResized(),this._alwaysShowContent=u,this.el.className=t.get("className")||""},r.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,s=o.style,u=this._styleCoord;o.innerHTML?s.cssText=D7+function M7(r,t,e){var o=[],s=r.get("transitionDuration"),u=r.get("backgroundColor"),c=r.get("shadowBlur"),f=r.get("shadowColor"),d=r.get("shadowOffsetX"),v=r.get("shadowOffsetY"),g=r.getModel("textStyle"),m=Hk(r,"html");return o.push("box-shadow:"+d+"px "+v+"px "+c+"px "+f),t&&s&&o.push(function a5(r,t){var e="cubic-bezier(0.23,1,0.32,1)",o=" "+r/2+"s "+e,s="opacity"+o+",visibility"+o;return t||(o=" "+r+"s "+e,s+=Pt.transformSupported?","+f2+o:",left"+o+",top"+o),Tg+":"+s}(s,e)),u&&o.push("background-color:"+u),H(["width","color","radius"],function(w){var S="border-"+w,x=ly(S),D=r.get(x);null!=D&&o.push(S+":"+D+("color"===w?"":"px"))}),o.push(function p2(r){var t=[],e=r.get("fontSize"),o=r.getTextColor();o&&t.push("color:"+o),t.push("font:"+r.getFont()),e&&t.push("line-height:"+Math.round(3*e/2)+"px");var s=r.get("textShadowColor"),u=r.get("textShadowBlur")||0,c=r.get("textShadowOffsetX")||0,f=r.get("textShadowOffsetY")||0;return s&&u&&t.push("text-shadow:"+c+"px "+f+"px "+u+"px "+s),H(["decoration","align"],function(d){var v=r.get(d);v&&t.push("text-"+d+":"+v)}),t.join(";")}(g)),null!=m&&o.push("padding:"+yu(m).join("px ")+"px"),o.join(";")+";"}(t,!this._firstShow,this._longHide)+d2(u[0],u[1],!0)+"border-color:"+ts(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,e,o,s,u){var c=this.el;if(null!=t){var f="";if(xe(u)&&"item"===o.get("trigger")&&!n5(o)&&(f=function o5(r,t,e){if(!xe(e)||"inside"===e)return"";var o=r.get("backgroundColor"),s=r.get("borderWidth");t=ts(t);var v,u=function T7(r){return"left"===r?"right":"right"===r?"left":"top"===r?"bottom":"top"}(e),c=Math.max(1.5*Math.round(s),6),f="",d=f2+":";ot(["left","right"],u)>-1?(f+="top:50%",d+="translateY(-50%) rotate("+(v="left"===u?-225:-45)+"deg)"):(f+="left:50%",d+="translateX(-50%) rotate("+(v="top"===u?225:45)+"deg)");var g=v*Math.PI/180,m=c+s,_=m*Math.abs(Math.cos(g))+m*Math.abs(Math.sin(g)),S=t+" solid "+s+"px;";return'<div style="'+["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",(f+=";"+u+":-"+Math.round(100*((_-Math.SQRT2*s)/2+Math.SQRT2*s-(_-m)/2))/100+"px")+";"+d+";","border-bottom:"+S,"border-right:"+S,"background-color:"+o+";"].join("")+'"></div>'}(o,s,u)),xe(t))c.innerHTML=t+f;else if(t){c.innerHTML="",ge(t)||(t=[t]);for(var d=0;d<t.length;d++)Nl(t[d])&&t[d].parentNode!==c&&c.appendChild(t[d]);if(f&&c.childNodes.length){var v=document.createElement("div");v.innerHTML=f,c.appendChild(v)}}}else c.innerHTML=""},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},r.prototype.moveTo=function(t,e){var o=this._styleCoord;if(ex(o,this._zr,this._appendToBody,t,e),null!=o[0]&&null!=o[1]){var s=this.el.style;H(d2(o[0],o[1]),function(c){s[c[0]]=c[1]})}},r.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Pt.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Me(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},r}();const E7=A7;var s5=function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),v2(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,e,o,s,u){var c=this;Ue(t)&&an(""),this.el&&this._zr.remove(this.el);var f=o.getModel("textStyle");this.el=new Nt({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:f.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:Hk(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),H(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){c.el.style[v]=o.get(v)}),H(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){c.el.style[v]=f.get(v)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),o=tx(t.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},r.prototype.moveTo=function(t,e){var o=this.el;if(o){var s=this._styleCoord;v2(s,this._zr,t,e),t=s[0],e=s[1];var u=o.style,c=Qu(u.borderWidth||0),f=tx(u);o.x=t+c+f.left,o.y=e+c+f.top,o.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Me(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function Qu(r){return Math.max(0,r)}function tx(r){var t=Qu(r.shadowBlur||0),e=Qu(r.shadowOffsetX||0),o=Qu(r.shadowOffsetY||0);return{left:Qu(t-e),right:Qu(t+e),top:Qu(t-o),bottom:Qu(t+o)}}function v2(r,t,e,o){r[0]=e,r[1]=o,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}const OK=s5;var NK=new Ot({shape:{x:-1,y:-1,width:2,height:2}}),g2=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e,o){if(!Pt.node&&o.getDom()){var s=e.getComponent("tooltip"),u=this._renderMode=function Yw(r){return"auto"===r?Pt.domSupported?"html":"richText":r||"html"}(s.get("renderMode"));this._tooltipContent="richText"===u?new OK(o):new E7(o.getDom(),o,{appendToBody:s.get("appendToBody",!0)})}},t.prototype.render=function(e,o,s){if(!Pt.node&&s.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=o,this._api=s;var u=this._tooltipContent;u.update(e),u.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?Gf(this,"_updatePosition",50,"fixRate"):By(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var o=this._tooltipModel.get("triggerOn");r3("itemTooltip",this._api,Me(function(s,u,c){"none"!==o&&(o.indexOf(s)>=0?this._tryShow(u,c):"leave"===s&&this._hide(c))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,o=this._ecModel,s=this._api,u=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==u&&"click"!==u){var c=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&c.manuallyShowTip(e,o,s,{x:c._lastX,y:c._lastY,dataByCoordSys:c._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,o,s,u){if(u.from!==this.uid&&!Pt.node&&s.getDom()){var c=m2(u,s);this._ticket="";var f=u.dataByCoordSys,d=function I7(r,t,e){var o=DD(r).queryOptionMap,s=o.keys()[0];if(s&&"series"!==s){var d,c=Cp(t,s,o.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(c&&(e.getViewOfComponentModel(c).group.traverse(function(v){var g=et(v).tooltipConfig;if(g&&g.name===r.name)return d=v,!0}),d))return{componentMainType:s,componentIndex:c.componentIndex,el:d}}}(u,o,s);if(d){var v=d.el.getBoundingRect().clone();v.applyTransform(d.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:d.el,position:u.position,positionDefault:"bottom"},c)}else if(u.tooltip&&null!=u.x&&null!=u.y){var g=NK;g.x=u.x,g.y=u.y,g.update(),et(g).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:g},c)}else if(f)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:f,tooltipOption:u.tooltipOption},c);else if(null!=u.seriesIndex){if(this._manuallyAxisShowTip(e,o,s,u))return;var m=SP(u,o),_=m.point[0],w=m.point[1];null!=_&&null!=w&&this._tryShow({offsetX:_,offsetY:w,target:m.el,position:u.position,positionDefault:"bottom"},c)}else null!=u.x&&null!=u.y&&(s.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:s.getZr().findHover(u.x,u.y).target},c))}},t.prototype.manuallyHideTip=function(e,o,s,u){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(m2(u,s))},t.prototype._manuallyAxisShowTip=function(e,o,s,u){var c=u.seriesIndex,f=u.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(null!=c&&null!=f&&null!=d){var v=o.getSeriesByIndex(c);if(v&&"axis"===Mg([v.getData().getItemModel(f),v,(v.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return s.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:f,position:u.position}),!0}},t.prototype._tryShow=function(e,o){var s=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var c=e.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,e);else if(s){var f,d;this._lastDataByCoordSys=null,jf(s,function(v){return null!=et(v).dataIndex?(f=v,!0):null!=et(v).tooltipConfig?(d=v,!0):void 0},!0),f?this._showSeriesItemTooltip(e,f,o):d?this._showComponentItemTooltip(e,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},t.prototype._showOrMove=function(e,o){var s=e.get("showDelay");o=Me(o,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(o,s):o()},t.prototype._showAxisTooltip=function(e,o){var s=this._ecModel,u=this._tooltipModel,c=[o.offsetX,o.offsetY],f=Mg([o.tooltipOption],u),d=this._renderMode,v=[],g=Jr("section",{blocks:[],noHeader:!0}),m=[],_=new KT;H(e,function(A){H(A.dataByAxis,function(E){var P=s.getComponent(E.axisDim+"Axis",E.axisIndex),N=E.value;if(P&&null!=N){var k=Kz(N,P.axis,s,E.seriesDataIndices,E.valueLabelOpt),F=Jr("section",{header:k,noHeader:!Ii(k),sortBlocks:!0,blocks:[]});g.blocks.push(F),H(E.seriesDataIndices,function(B){var z=s.getSeriesByIndex(B.seriesIndex),j=B.dataIndexInside,W=z.getDataParams(j);if(!(W.dataIndex<0)){W.axisDim=E.axisDim,W.axisIndex=E.axisIndex,W.axisType=E.axisType,W.axisId=E.axisId,W.axisValue=pA(P.axis,{value:N}),W.axisValueLabel=k,W.marker=_.makeTooltipMarker("item",ts(W.color),d);var q=wk(z.formatTooltip(j,!0,null)),Y=q.frag;if(Y){var K=Mg([z],u).get("valueFormatter");F.blocks.push(K?ce({valueFormatter:K},Y):Y)}q.text&&m.push(q.text),v.push(W)}})}})}),g.blocks.reverse(),m.reverse();var w=o.position,S=f.get("order"),x=Bk(g,_,d,S,s.get("useUTC"),f.get("textStyle"));x&&m.unshift(x);var T=m.join("richText"===d?"\n\n":"<br/>");this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(e,v)?this._updatePosition(f,w,c[0],c[1],this._tooltipContent,v):this._showTooltipContent(f,T,v,Math.random()+"",c[0],c[1],w,null,_)})},t.prototype._showSeriesItemTooltip=function(e,o,s){var u=this._ecModel,c=et(o),f=c.seriesIndex,d=u.getSeriesByIndex(f),v=c.dataModel||d,g=c.dataIndex,m=c.dataType,_=v.getData(m),w=this._renderMode,S=e.positionDefault,x=Mg([_.getItemModel(g),v,d&&(d.coordinateSystem||{}).model],this._tooltipModel,S?{position:S}:null),D=x.get("trigger");if(null==D||"item"===D){var T=v.getDataParams(g,m),A=new KT;T.marker=A.makeTooltipMarker("item",ts(T.color),w);var E=wk(v.formatTooltip(g,!1,m)),P=x.get("order"),N=x.get("valueFormatter"),k=E.frag,F=k?Bk(N?ce({valueFormatter:N},k):k,A,w,P,u.get("useUTC"),x.get("textStyle")):E.text,B="item_"+v.name+"_"+g;this._showOrMove(x,function(){this._showTooltipContent(x,F,T,B,e.offsetX,e.offsetY,e.position,e.target,A)}),s({type:"showTip",dataIndexInside:g,dataIndex:_.getRawIndex(g),seriesIndex:f,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,o,s){var u=et(o),f=u.tooltipConfig.option||{};xe(f)&&(f={content:f,formatter:f});var v=[f],g=this._ecModel.getComponent(u.componentMainType,u.componentIndex);g&&v.push(g),v.push({formatter:f.content});var m=e.positionDefault,_=Mg(v,this._tooltipModel,m?{position:m}:null),w=_.get("content"),S=Math.random()+"",x=new KT;this._showOrMove(_,function(){var D=Ge(_.get("formatterParams")||{});this._showTooltipContent(_,w,D,S,e.offsetX,e.offsetY,e.position,o,x)}),s({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,o,s,u,c,f,d,v,g){if(this._ticket="",e.get("showContent")&&e.get("show")){var m=this._tooltipContent;m.setEnterable(e.get("enterable"));var _=e.get("formatter");d=d||e.get("position");var w=o,x=this._getNearestPoint([c,f],s,e.get("trigger"),e.get("borderColor")).color;if(_)if(xe(_)){var D=e.ecModel.get("useUTC"),T=ge(s)?s[0]:s;w=_,T&&T.axisType&&T.axisType.indexOf("time")>=0&&(w=ry(T.axisValue,w,D)),w=cy(w,s,!0)}else if(Ne(_)){var E=Me(function(P,N){P===this._ticket&&(m.setContent(N,g,e,x,d),this._updatePosition(e,d,c,f,m,s,v))},this);this._ticket=u,w=_(s,u,E)}else w=_;m.setContent(w,g,e,x,d),m.show(e,x),this._updatePosition(e,d,c,f,m,s,v)}},t.prototype._getNearestPoint=function(e,o,s,u){return"axis"===s||ge(o)?{color:u||("html"===this._renderMode?"#fff":"none")}:ge(o)?void 0:{color:u||o.color||o.borderColor}},t.prototype._updatePosition=function(e,o,s,u,c,f,d){var v=this._api.getWidth(),g=this._api.getHeight();o=o||e.get("position");var m=c.getSize(),_=e.get("align"),w=e.get("verticalAlign"),S=d&&d.getBoundingRect().clone();if(d&&S.applyTransform(d.transform),Ne(o)&&(o=o([s,u],f,c.el,S,{viewSize:[v,g],contentSize:m.slice()})),ge(o))s=Ce(o[0],v),u=Ce(o[1],g);else if(Ue(o)){var x=o;x.width=m[0],x.height=m[1];var D=Ar(x,{width:v,height:g});s=D.x,u=D.y,_=null,w=null}else if(xe(o)&&d){var T=function y2(r,t,e,o){var s=e[0],u=e[1],c=Math.ceil(Math.SQRT2*o)+8,f=0,d=0,v=t.width,g=t.height;switch(r){case"inside":f=t.x+v/2-s/2,d=t.y+g/2-u/2;break;case"top":f=t.x+v/2-s/2,d=t.y-u-c;break;case"bottom":f=t.x+v/2-s/2,d=t.y+g+c;break;case"left":f=t.x-s-c,d=t.y+g/2-u/2;break;case"right":f=t.x+v+c,d=t.y+g/2-u/2}return[f,d]}(o,S,m,e.get("borderWidth"));s=T[0],u=T[1]}else T=function nx(r,t,e,o,s,u,c){var f=e.getSize(),d=f[0],v=f[1];return null!=u&&(r+d+u+2>o?r-=d+u:r+=u),null!=c&&(t+v+c>s?t-=v+c:t+=c),[r,t]}(s,u,c,v,g,_?null:20,w?null:20),s=T[0],u=T[1];_&&(s-=rx(_)?m[0]/2:"right"===_?m[0]:0),w&&(u-=rx(w)?m[1]/2:"bottom"===w?m[1]:0),n5(e)&&(T=function FK(r,t,e,o,s){var u=e.getSize(),c=u[0],f=u[1];return r=Math.min(r+c,o)-c,t=Math.min(t+f,s)-f,[r=Math.max(r,0),t=Math.max(t,0)]}(s,u,c,v,g),s=T[0],u=T[1]),c.moveTo(s,u)},t.prototype._updateContentNotChangedOnAxis=function(e,o){var s=this._lastDataByCoordSys,u=this._cbParamsList,c=!!s&&s.length===e.length;return c&&H(s,function(f,d){var v=f.dataByAxis||[],m=(e[d]||{}).dataByAxis||[];(c=c&&v.length===m.length)&&H(v,function(_,w){var S=m[w]||{},x=_.seriesDataIndices||[],D=S.seriesDataIndices||[];(c=c&&_.value===S.value&&_.axisType===S.axisType&&_.axisId===S.axisId&&x.length===D.length)&&H(x,function(T,A){var E=D[A];c=c&&T.seriesIndex===E.seriesIndex&&T.dataIndex===E.dataIndex}),u&&H(_.seriesDataIndices,function(T){var A=T.seriesIndex,E=o[A],P=u[A];E&&P&&P.data!==E.data&&(c=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=o,!!c},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,o){Pt.node||!o.getDom()||(By(this,"_updatePosition"),this._tooltipContent.dispose(),kd("itemTooltip",o))},t.type="tooltip",t}(Bn);function Mg(r,t,e){var s,o=t.ecModel;e?(s=new Sn(e,o,o),s=new Sn(t.option,s,o)):s=t;for(var u=r.length-1;u>=0;u--){var c=r[u];c&&(c instanceof Sn&&(c=c.get("tooltip",!0)),xe(c)&&(c={formatter:c}),c&&(s=new Sn(c,s,o)))}return s}function m2(r,t){return r.dispatchAction||Me(t.dispatchAction,t)}function rx(r){return"center"===r||"middle"===r}const P7=g2;var _2=["rect","polygon","keep","clear"];function L7(r,t){var e=nn(r?r.brush:[]);if(e.length){var o=[];H(e,function(d){var v=d.hasOwnProperty("toolbox")?d.toolbox:[];v instanceof Array&&(o=o.concat(v))});var s=r&&r.toolbox;ge(s)&&(s=s[0]),s||(r.toolbox=[s={feature:{}}]);var u=s.feature||(s.feature={}),c=u.brush||(u.brush={}),f=c.type||(c.type=[]);f.push.apply(f,o),function VK(r){var t={};H(r,function(e){t[e]=1}),r.length=0,H(t,function(e,o){r.push(o)})}(f),t&&!f.length&&f.push.apply(f,_2)}}var w2=H;function R7(r){if(r)for(var t in r)if(r.hasOwnProperty(t))return!0}function l5(r,t,e){var o={};return w2(t,function(u){var c=o[u]=function s(){var u=function(){};return u.prototype.__hidden=u.prototype,new u}();w2(r[u],function(f,d){if(Gr.isValidType(d)){var v={type:d,visual:f};e&&e(v,u),c[d]=new Gr(v),"opacity"===d&&((v=Ge(v)).type="colorAlpha",c.__hidden.__alphaForOpacity=new Gr(v))}})}),o}function k7(r,t,e){var o;H(e,function(s){t.hasOwnProperty(s)&&R7(t[s])&&(o=!0)}),o&&H(e,function(s){t.hasOwnProperty(s)&&R7(t[s])?r[s]=Ge(t[s]):delete r[s]})}var O7={lineX:u5(0),lineY:u5(1),rect:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])},rect:function(r,t,e){return r&&e.boundingRect.intersect(r)}},polygon:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])&&bv(e.range,r[0],r[1])},rect:function(r,t,e){var o=e.range;if(!r||o.length<=1)return!1;var s=r.x,u=r.y,c=r.width,f=r.height,d=o[0];return!!(bv(o,s,u)||bv(o,s+c,u)||bv(o,s,u+f)||bv(o,s+c,u+f)||Xe.create(r).contain(d[0],d[1])||zf(s,u,s+c,u,o)||zf(s,u,s,u+f,o)||zf(s+c,u,s+c,u+f,o)||zf(s,u+f,s+c,u+f,o))||void 0}}};function u5(r){var t=["x","y"],e=["width","height"];return{point:function(o,s,u){if(o)return k_(o[r],u.range)},rect:function(o,s,u){if(o){var c=u.range,f=[o[t[r]],o[t[r]]+o[e[r]]];return f[1]<f[0]&&f.reverse(),k_(f[0],c)||k_(f[1],c)||k_(c[0],f)||k_(c[1],f)}}}}function k_(r,t){return t[0]<=r&&r<=t[1]}var c5=["inBrush","outOfBrush"],ax="__ecBrushSelect",Ag="__ecInBrushSelectEvent";function ec(r){r.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new l2(t.option,r)).setInputRanges(t.areas,r)})}function zK(r,t,e){var s,u,o=[];r.eachComponent({mainType:"brush"},function(c){e&&"takeGlobalCursor"===e.type&&c.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),ec(r),r.eachComponent({mainType:"brush"},function(c,f){var d={brushId:c.id,brushIndex:f,brushName:c.name,areas:Ge(c.areas),selected:[]};o.push(d);var v=c.option,g=v.brushLink,m=[],_=[],w=[],S=!1;f||(s=v.throttleType,u=v.throttleDelay);var x=me(c.areas,function(N){var k=f5[N.brushType],F=Ve({boundingRect:k?k(N):void 0},N);return F.selectors=function Ml(r){var t=r.brushType,e={point:function(o){return O7[t].point(o,e,r)},rect:function(o){return O7[t].rect(o,e,r)}};return e}(F),F}),D=l5(c.option,c5,function(N){N.mappingMethod="fixed"});function T(N){return"all"===g||!!m[N]}function A(N){return!!N.length}ge(g)&&H(g,function(N){m[N]=1}),r.eachSeries(function(N,k){var F=w[k]=[];"parallel"===N.subType?function E(N,k){var F=N.coordinateSystem;S=S||F.hasAxisBrushed(),T(k)&&F.eachActiveState(N.getData(),function(B,z){"active"===B&&(_[z]=1)})}(N,k):function P(N,k,F){if(N.brushSelector&&!function h5(r,t){var e=r.option.seriesIndex;return null!=e&&"all"!==e&&(ge(e)?ot(e,t)<0:t!==e)}(c,k)&&(H(x,function(z){c.brushTargetManager.controlSeries(z,N,r)&&F.push(z),S=S||A(F)}),T(k)&&A(F))){var B=N.getData();B.each(function(z){b2(N,F,B,z)&&(_[z]=1)})}}(N,k,F)}),r.eachSeries(function(N,k){var F={seriesId:N.id,seriesIndex:k,seriesName:N.name,dataIndex:[]};d.selected.push(F);var B=w[k],z=N.getData(),j=T(k)?function(W){return _[W]?(F.dataIndex.push(z.getRawIndex(W)),"inBrush"):"outOfBrush"}:function(W){return b2(N,B,z,W)?(F.dataIndex.push(z.getRawIndex(W)),"inBrush"):"outOfBrush"};(T(k)?S:A(B))&&function ix(r,t,e,o,s,u){var f,c={};function d(m){return uS(e,f,m)}function v(m,_){CO(e,f,m,_)}function g(m,_){var w=e.getRawDataItem(f=null==u?m:_);if(!w||!1!==w.visualMap)for(var S=o.call(s,m),x=t[S],D=c[S],T=0,A=D.length;T<A;T++){var E=D[T];x[E]&&x[E].applyVisual(m,d,v)}}H(r,function(m){var _=Gr.prepareVisualTypes(t[m]);c[m]=_}),null==u?e.each(g):e.each([u],g)}(c5,D,z,j)})}),function N7(r,t,e,o,s){if(s){var u=r.getZr();u[Ag]||(u[ax]||(u[ax]=F7),Gf(u,ax,e,t)(r,o))}}(t,s,u,o,e)}function F7(r,t){if(!r.isDisposed()){var e=r.getZr();e[Ag]=!0,r.dispatchAction({type:"brushSelect",batch:t}),e[Ag]=!1}}function b2(r,t,e,o){for(var s=0,u=t.length;s<u;s++){var c=t[s];if(r.brushSelector(o,e,c.selectors,c))return!0}}var f5={rect:function(r){return d5(r.range)},polygon:function(r){for(var t,e=r.range,o=0,s=e.length;o<s;o++){var u=e[o];u[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=u[0]),u[0]>t[0][1]&&(t[0][1]=u[0]),u[1]<t[1][0]&&(t[1][0]=u[1]),u[1]>t[1][1]&&(t[1][1]=u[1])}return t&&d5(t)}};function d5(r){return new Xe(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var O_=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e,o){this.ecModel=e,this.api=o,(this._brushController=new i_(o.getZr())).on("brush",Me(this._onBrush,this)).mount()},t.prototype.render=function(e,o,s,u){this.model=e,this._updateController(e,o,s,u)},t.prototype.updateTransform=function(e,o,s,u){ec(o),this._updateController(e,o,s,u)},t.prototype.updateVisual=function(e,o,s,u){this.updateTransform(e,o,s,u)},t.prototype.updateView=function(e,o,s,u){this._updateController(e,o,s,u)},t.prototype._updateController=function(e,o,s,u){(!u||u.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(s)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var o=this.model.id,s=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:Ge(s),$from:o}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:Ge(s),$from:o})},t.type="brush",t}(Bn);const Eg=O_;var C2=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return ae(t,r),t.prototype.optionUpdated=function(e,o){var s=this.option;!o&&k7(s,e,["inBrush","outOfBrush"]);var u=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:"#ddd"},u.hasOwnProperty("liftZ")||(u.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=me(e,function(o){return Ud(this.option,o)},this))},t.prototype.setBrushOption=function(e){this.brushOption=Ud(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Lt);function Ud(r,t){return tt({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Sn(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,!0)}const p5=C2;var x2=["rect","polygon","lineX","lineY","keep","clear"],sx=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ae(t,r),t.prototype.render=function(e,o,s){var u,c,f;o.eachComponent({mainType:"brush"},function(d){u=d.brushType,c=d.brushOption.brushMode||"single",f=f||!!d.areas.length}),this._brushType=u,this._brushMode=c,H(e.get("type",!0),function(d){e.setIconStatus(d,("keep"===d?"multiple"===c:"clear"===d?f:d===u)?"emphasis":"normal")})},t.prototype.updateView=function(e,o,s){this.render(e,o,s)},t.prototype.getIcons=function(){var e=this.model,o=e.get("icon",!0),s={};return H(e.get("type",!0),function(u){o[u]&&(s[u]=o[u])}),s},t.prototype.onclick=function(e,o,s){var u=this._brushType,c=this._brushMode;"clear"===s?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===s?u:u!==s&&s,brushMode:"keep"===s?"multiple"===c?"single":"multiple":c}})},t.getDefaultOption=function(e){return{show:!0,type:x2.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(oa);const HK=sx;var GK=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return ae(t,r),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Lt),v5=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.render=function(e,o,s){if(this.group.removeAll(),e.get("show")){var u=this.group,c=e.getModel("textStyle"),f=e.getModel("subtextStyle"),d=e.get("textAlign"),v=Qe(e.get("textBaseline"),e.get("textVerticalAlign")),g=new Nt({style:gn(c,{text:e.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10}),m=g.getBoundingRect(),_=e.get("subtext"),w=new Nt({style:gn(f,{text:_,fill:f.getTextColor(),y:m.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),S=e.get("link"),x=e.get("sublink"),D=e.get("triggerEvent",!0);g.silent=!S&&!D,w.silent=!x&&!D,S&&g.on("click",function(){Cb(S,"_"+e.get("target"))}),x&&w.on("click",function(){Cb(x,"_"+e.get("subtarget"))}),et(g).eventData=et(w).eventData=D?{componentType:"title",componentIndex:e.componentIndex}:null,u.add(g),_&&u.add(w);var T=u.getBoundingRect(),A=e.getBoxLayoutParams();A.width=T.width,A.height=T.height;var E=Ar(A,{width:s.getWidth(),height:s.getHeight()},e.get("padding"));d||("middle"===(d=e.get("left")||e.get("right"))&&(d="center"),"right"===d?E.x+=E.width:"center"===d&&(E.x+=E.width/2)),v||("center"===(v=e.get("top")||e.get("bottom"))&&(v="middle"),"bottom"===v?E.y+=E.height:"middle"===v&&(E.y+=E.height/2),v=v||"top"),u.x=E.x,u.y=E.y,u.markRedraw();var P={align:d,verticalAlign:v};g.setStyle(P),w.setStyle(P),T=u.getBoundingRect();var N=E.margin,k=e.getItemStyle(["color","opacity"]);k.fill=e.get("backgroundColor");var F=new Ot({shape:{x:T.x-N[3],y:T.y-N[0],width:T.width+N[1]+N[3],height:T.height+N[0]+N[2],r:e.get("borderRadius")},style:k,subPixelOptimize:!0,silent:!0});u.add(F)}},t.type="title",t}(Bn),g5=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return ae(t,r),t.prototype.init=function(e,o,s){this.mergeDefaultAndTheme(e,s),this._initData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var o=this._data.count();this.option.loop?e=(e%o+o)%o:(e>=o&&(e=o-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var c,e=this.option,o=e.data||[],s=e.axisType,u=this._names=[];"category"===s?(c=[],H(o,function(v,g){var _,m=vr(Um(v),"");Ue(v)?(_=Ge(v)).value=g:_=g,c.push(_),u.push(m)})):c=o,(this._data=new oo([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[s]||"number"}],this)).initData(c,u)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Lt);const B7=g5;var D2=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="timeline.slider",t.defaultOption=gu(B7.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(B7);Zn(D2,BT.prototype);const z7=D2;var H7=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="timeline",t}(Bn);const G7=H7;var N_=function(r){function t(e,o,s,u){var c=r.call(this,e,o,s)||this;return c.type=u||"value",c}return ae(t,r),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Ia);const m5=N_;var T2=Math.PI,M2=zt(),jK=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(e,o){this.api=o},t.prototype.render=function(e,o,s){if(this.model=e,this.api=s,this.ecModel=o,this.group.removeAll(),e.get("show",!0)){var u=this._layout(e,s),c=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),d=this._axis=this._createAxis(u,e);e.formatTooltip=function(v){return Jr("nameValue",{noName:!0,value:d.scale.getLabel({value:v})})},H(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](u,c,d,e)},this),this._renderAxisLabel(u,f,d,e),this._position(u,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,o){var f,s=e.get(["label","position"]),u=e.get("orient"),c=function $K(r,t){return Ar(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},r.get("padding"))}(e,o),d={horizontal:"center",vertical:(f=null==s||"auto"===s?"horizontal"===u?c.y+c.height/2<o.getHeight()/2?"-":"+":c.x+c.width/2<o.getWidth()/2?"+":"-":xe(s)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][s]:s)>=0||"+"===f?"left":"right"},v={horizontal:f>=0||"+"===f?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:T2/2},m="vertical"===u?c.height:c.width,_=e.getModel("controlStyle"),w=_.get("show",!0),S=w?_.get("itemSize"):0,x=w?_.get("itemGap"):0,D=S+x,T=e.get(["label","rotate"])||0;T=T*T2/180;var A,E,P,N=_.get("position",!0),k=w&&_.get("showPlayBtn",!0),F=w&&_.get("showPrevBtn",!0),B=w&&_.get("showNextBtn",!0),z=0,j=m;"left"===N||"bottom"===N?(k&&(A=[0,0],z+=D),F&&(E=[z,0],z+=D),B&&(P=[j-S,0],j-=D)):(k&&(A=[j-S,0],j-=D),F&&(E=[0,0],z+=D),B&&(P=[j-S,0],j-=D));var W=[z,j];return e.get("inverse")&&W.reverse(),{viewRect:c,mainLength:m,orient:u,rotation:g[u],labelRotation:T,labelPosOpt:f,labelAlign:e.get(["label","align"])||d[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||v[u],playPosition:A,prevBtnPosition:E,nextBtnPosition:P,axisExtent:W,controlSize:S,controlGap:x}},t.prototype._position=function(e,o){var s=this._mainGroup,u=this._labelGroup,c=e.viewRect;if("vertical"===e.orient){var f=[1,0,0,1,0,0],d=c.x,v=c.y+c.height;Ie(f,f,[-d,-v]),wo(f,f,-T2/2),Ie(f,f,[d,v]),(c=c.clone()).applyTransform(f)}var g=A(c),m=A(s.getBoundingRect()),_=A(u.getBoundingRect()),w=[s.x,s.y],S=[u.x,u.y];S[0]=w[0]=g[0][0];var D,x=e.labelPosOpt;function T(P){P.originX=g[0][0]-P.x,P.originY=g[1][0]-P.y}function A(P){return[[P.x,P.x+P.width],[P.y,P.y+P.height]]}function E(P,N,k,F,B){P[F]+=k[F][B]-N[F][B]}null==x||xe(x)?(E(w,m,g,1,D="+"===x?0:1),E(S,_,g,1,1-D)):(E(w,m,g,1,D=x>=0?0:1),S[1]=w[1]+x),s.setPosition(w),u.setPosition(S),s.rotation=u.rotation=e.rotation,T(s),T(u)},t.prototype._createAxis=function(e,o){var s=o.getData(),u=o.get("axisType"),c=function WK(r,t){if(t=t||r.get("type"))switch(t){case"category":return new FS({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new hA({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new al}}(o,u);c.getTicks=function(){return s.mapArray(["value"],function(v){return{value:v}})};var f=s.getDataExtent("value");c.setExtent(f[0],f[1]),c.calcNiceTicks();var d=new m5("value",c,e.axisExtent,u);return d.model=o,d},t.prototype._createGroup=function(e){var o=this[e]=new Ze;return this.group.add(o),o},t.prototype._renderAxisLine=function(e,o,s,u){var c=s.getExtent();if(u.get(["lineStyle","show"])){var f=new zr({shape:{x1:c[0],y1:0,x2:c[1],y2:0},style:ce({lineCap:"round"},u.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(f);var d=this._progressLine=new zr({shape:{x1:c[0],x2:this._currentPointer?this._currentPointer.x:c[0],y1:0,y2:0},style:Ve({lineCap:"round",lineWidth:f.style.lineWidth},u.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(d)}},t.prototype._renderAxisTick=function(e,o,s,u){var c=this,f=u.getData(),d=s.scale.getTicks();this._tickSymbols=[],H(d,function(v){var g=s.dataToCoord(v.value),m=f.getItemModel(v.value),_=m.getModel("itemStyle"),w=m.getModel(["emphasis","itemStyle"]),S=m.getModel(["progress","itemStyle"]),x={x:g,y:0,onclick:Me(c._changeTimeline,c,v.value)},D=U7(m,_,o,x);D.ensureState("emphasis").style=w.getItemStyle(),D.ensureState("progress").style=S.getItemStyle(),du(D);var T=et(D);m.get("tooltip")?(T.dataIndex=v.value,T.dataModel=u):T.dataIndex=T.dataModel=null,c._tickSymbols.push(D)})},t.prototype._renderAxisLabel=function(e,o,s,u){var c=this;if(s.getLabelModel().get("show")){var d=u.getData(),v=s.getViewLabels();this._tickLabels=[],H(v,function(g){var m=g.tickValue,_=d.getItemModel(m),w=_.getModel("label"),S=_.getModel(["emphasis","label"]),x=_.getModel(["progress","label"]),D=s.dataToCoord(g.tickValue),T=new Nt({x:D,y:0,rotation:e.labelRotation-e.rotation,onclick:Me(c._changeTimeline,c,m),silent:!1,style:gn(w,{text:g.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});T.ensureState("emphasis").style=gn(S),T.ensureState("progress").style=gn(x),o.add(T),du(T),M2(T).dataIndex=m,c._tickLabels.push(T)})}},t.prototype._renderControl=function(e,o,s,u){var c=e.controlSize,f=e.rotation,d=u.getModel("controlStyle").getItemStyle(),v=u.getModel(["emphasis","controlStyle"]).getItemStyle(),g=u.getPlayState(),m=u.get("inverse",!0);function _(w,S,x,D){if(w){var T=Ya(Qe(u.get(["controlStyle",S+"BtnSize"]),c),c),E=function qK(r,t,e,o){var s=o.style,u=Ta(r.get(["controlStyle",t]),o||{},new Xe(e[0],e[1],e[2],e[3]));return s&&u.setStyle(s),u}(u,S+"Icon",[0,-T/2,T,T],{x:w[0],y:w[1],originX:c/2,originY:0,rotation:D?-f:0,rectHover:!0,style:d,onclick:x});E.ensureState("emphasis").style=v,o.add(E),du(E)}}_(e.nextBtnPosition,"next",Me(this._changeTimeline,this,m?"-":"+")),_(e.prevBtnPosition,"prev",Me(this._changeTimeline,this,m?"+":"-")),_(e.playPosition,g?"stop":"play",Me(this._handlePlayClick,this,!g),!0)},t.prototype._renderCurrentPointer=function(e,o,s,u){var c=u.getData(),f=u.getCurrentIndex(),d=c.getItemModel(f).getModel("checkpointStyle"),v=this;this._currentPointer=U7(d,d,this._mainGroup,{},this._currentPointer,{onCreate:function(m){m.draggable=!0,m.drift=Me(v._handlePointerDrag,v),m.ondragend=Me(v._handlePointerDragend,v),j7(m,v._progressLine,f,s,u,!0)},onUpdate:function(m){j7(m,v._progressLine,f,s,u)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,o,s){this._clearTimer(),this._pointerChangeTimeline([s.offsetX,s.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,o){var s=this._toAxisCoord(e)[0],c=Co(this._axis.getExtent().slice());s>c[1]&&(s=c[1]),s<c[0]&&(s=c[0]),this._currentPointer.x=s,this._currentPointer.markRedraw();var f=this._progressLine;f&&(f.shape.x2=s,f.dirty());var d=this._findNearestTick(s),v=this.model;(o||d!==v.getCurrentIndex()&&v.get("realtime"))&&this._changeTimeline(d)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=e.model;e._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Da(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var u,o=this.model.getData(),s=1/0,c=this._axis;return o.each(["value"],function(f,d){var v=c.dataToCoord(f),g=Math.abs(v-e);g<s&&(s=g,u=d)}),u},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var o=this.model.getCurrentIndex();"+"===e?e=o+1:"-"===e&&(e=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),o=this._tickSymbols,s=this._tickLabels;if(o)for(var u=0;u<o.length;u++)o&&o[u]&&o[u].toggleState("progress",u<e);if(s)for(u=0;u<s.length;u++)s&&s[u]&&s[u].toggleState("progress",M2(s[u]).dataIndex<=e)},t.type="timeline.slider",t}(G7);function U7(r,t,e,o,s,u){var c=t.get("color");s?(s.setColor(c),e.add(s),u&&u.onUpdate(s)):((s=ar(r.get("symbol"),-1,-1,2,2,c)).setStyle("strokeNoScale",!0),e.add(s),u&&u.onCreate(s));var d=t.getItemStyle(["color"]);s.setStyle(d),o=tt({rectHover:!0,z2:100},o,!0);var v=Wf(r.get("symbolSize"));o.scaleX=v[0]/2,o.scaleY=v[1]/2;var g=$c(r.get("symbolOffset"),v);g&&(o.x=(o.x||0)+g[0],o.y=(o.y||0)+g[1]);var m=r.get("symbolRotate");return o.rotation=(m||0)*Math.PI/180||0,s.attr(o),s.updateTransform(),s}function j7(r,t,e,o,s,u){if(!r.dragging){var c=s.getModel("checkpointStyle"),f=o.dataToCoord(s.getData().get("value",e));if(u||!c.get("animation",!0))r.attr({x:f,y:0}),t&&t.attr({shape:{x2:f}});else{var d={duration:c.get("animationDuration",!0),easing:c.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:f,y:0},d),t&&t.animateTo({shape:{x2:f}},d)}}}const W7=jK;function y5(r){var t=r&&r.timeline;ge(t)||(t=t?[t]:[]),H(t,function(e){e&&function q7(r){var t=r.type,e={number:"value",time:"time"};if(e[t]&&(r.axisType=e[t],delete r.type),Z7(r),jd(r,"controlPosition")){var o=r.controlStyle||(r.controlStyle={});jd(o,"position")||(o.position=r.controlPosition),"none"===o.position&&!jd(o,"show")&&(o.show=!1,delete o.position),delete r.controlPosition}H(r.data||[],function(s){Ue(s)&&!ge(s)&&(!jd(s,"value")&&jd(s,"name")&&(s.value=s.name),Z7(s))})}(e)})}function Z7(r){var t=r.itemStyle||(r.itemStyle={}),e=t.emphasis||(t.emphasis={}),o=r.label||r.label||{},s=o.normal||(o.normal={}),u={normal:1,emphasis:1};H(o,function(c,f){!u[f]&&!jd(s,f)&&(s[f]=c)}),e.label&&!jd(o,"emphasis")&&(o.emphasis=e.label,delete e.label)}function jd(r,t){return r.hasOwnProperty(t)}function lx(r,t){if(!r)return!1;for(var e=ge(r)?r:[r],o=0;o<e.length;o++)if(e[o]&&e[o][t])return!0;return!1}function Ig(r){Xa(r,"label",["show"])}var ux=zt(),A2=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return ae(t,r),t.prototype.init=function(e,o,s){this.mergeDefaultAndTheme(e,s),this._mergeOption(e,s,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Pt.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,o){this._mergeOption(e,o,!1,!1)},t.prototype._mergeOption=function(e,o,s,u){var c=this.mainType;s||o.eachSeries(function(f){var d=f.get(this.mainType,!0),v=ux(f)[c];d&&d.data?(v?v._mergeOption(d,o,!0):(u&&Ig(d),H(d.data,function(g){g instanceof Array?(Ig(g[0]),Ig(g[1])):Ig(g)}),ce(v=this.createMarkerModelFromSeries(d,this,o),{mainType:this.mainType,seriesIndex:f.seriesIndex,name:f.name,createdBySelf:!0}),v.__hostSeries=f),ux(f)[c]=v):ux(f)[c]=null},this)},t.prototype.formatTooltip=function(e,o,s){var u=this.getData(),c=this.getRawValue(e),f=u.getName(e);return Jr("section",{header:this.name,blocks:[Jr("nameValue",{name:f,value:c,noName:!f,noValue:null==c})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,o){return ux(e)[o]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Lt);Zn(A2,BT.prototype);const Ih=A2;var _5=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.createMarkerModelFromSeries=function(e,o,s){return new t(e,o,s)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Ih);const w5=_5;function E2(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function I2(r,t,e,o,s,u){var c=[],d=ol(t,o)?t.getCalculationInfo("stackResultDimension"):o,v=S5(t,d,r),g=t.indicesOfNearest(d,v)[0];c[s]=t.get(e,g),c[u]=t.get(d,g);var m=t.get(o,g),_=ga(t.get(o,g));return(_=Math.min(_,20))>=0&&(c[u]=+c[u].toFixed(_)),[c,m]}var Al={min:Je(I2,"min"),max:Je(I2,"max"),average:Je(I2,"average"),median:Je(I2,"median")};function bs(r,t){if(t){var e=r.getData(),o=r.coordinateSystem,s=o&&o.dimensions;if(!function X7(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}(t)&&!ge(t.coord)&&ge(s)){var u=b5(t,e,o,r);if((t=Ge(t)).type&&Al[t.type]&&u.baseAxis&&u.valueAxis){var c=ot(s,u.baseAxis.dim),f=ot(s,u.valueAxis.dim),d=Al[t.type](e,u.baseDataDim,u.valueDataDim,c,f);t.coord=d[0],t.value=d[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&ge(s))for(var v=t.coord,g=0;g<2;g++)Al[v[g]]&&(v[g]=S5(e,e.mapDimension(s[g]),v[g]));else t.coord=[];return t}}function b5(r,t,e,o){var s={};return null!=r.valueIndex||null!=r.valueDim?(s.valueDataDim=null!=r.valueIndex?t.getDimension(r.valueIndex):r.valueDim,s.valueAxis=e.getAxis(function ZK(r,t){var e=r.getData().getDimensionInfo(t);return e&&e.coordDim}(o,s.valueDataDim)),s.baseAxis=e.getOtherAxis(s.valueAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim)):(s.baseAxis=o.getBaseAxis(),s.valueAxis=e.getOtherAxis(s.baseAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim),s.valueDataDim=t.mapDimension(s.valueAxis.dim)),s}function Pg(r,t){return!(r&&r.containData&&t.coord&&!E2(t))||r.containData(t.coord)}function Q7(r,t){return r?function(e,o,s,u){return Fc(u<2?e.coord&&e.coord[u]:e.value,t[u])}:function(e,o,s,u){return Fc(e.value,t[u])}}function S5(r,t,e){if("average"===e){var o=0,s=0;return r.each(t,function(u,c){isNaN(u)||(o+=u,s++)}),o/s}return"median"===e?r.getMedian(t):r.getDataExtent(t)["max"===e?1:0]}var C5=zt(),YK=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.init=function(){this.markerGroupMap=Re()},t.prototype.render=function(e,o,s){var u=this,c=this.markerGroupMap;c.each(function(f){C5(f).keep=!1}),o.eachSeries(function(f){var d=Ih.getMarkerModelFromSeries(f,u.type);d&&u.renderSeries(f,d,o,s)}),c.each(function(f){!C5(f).keep&&u.group.remove(f.group)})},t.prototype.markKeep=function(e){C5(e).keep=!0},t.prototype.toggleBlurSeries=function(e,o){var s=this;H(e,function(u){var c=Ih.getMarkerModelFromSeries(u,s.type);c&&c.getData().eachItemGraphicEl(function(d){d&&(o?rT(d):zp(d))})})},t.type="marker",t}(Bn);const x5=YK;function J7(r,t,e){var o=t.coordinateSystem;r.each(function(s){var c,u=r.getItemModel(s),f=Ce(u.get("x"),e.getWidth()),d=Ce(u.get("y"),e.getHeight());if(isNaN(f)||isNaN(d)){if(t.getMarkerPosition)c=t.getMarkerPosition(r.getValues(r.dimensions,s));else if(o){var v=r.get(o.dimensions[0],s),g=r.get(o.dimensions[1],s);c=o.dataToPoint([v,g])}}else c=[f,d];isNaN(f)||(c[0]=f),isNaN(d)||(c[1]=d),r.setItemLayout(s,c)})}var eq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.updateTransform=function(e,o,s){o.eachSeries(function(u){var c=Ih.getMarkerModelFromSeries(u,"markPoint");c&&(J7(c.getData(),u,s),this.markerGroupMap.get(u.id).updateLayout())},this)},t.prototype.renderSeries=function(e,o,s,u){var c=e.coordinateSystem,f=e.id,d=e.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new b0),m=function XK(r,t,e){var o;o=r?me(r&&r.dimensions,function(f){return ce(ce({},t.getData().getDimensionInfo(t.getData().mapDimension(f))||{}),{name:f,ordinalMeta:null})}):[{name:"value",type:"float"}];var s=new oo(o,e),u=me(e.get("data"),Je(bs,t));r&&(u=Wt(u,Je(Pg,r)));var c=Q7(!!r,o);return s.initData(u,null,c),s}(c,e,o);o.setData(m),J7(o.getData(),e,u),m.each(function(_){var w=m.getItemModel(_),S=w.getShallow("symbol"),x=w.getShallow("symbolSize"),D=w.getShallow("symbolRotate"),T=w.getShallow("symbolOffset"),A=w.getShallow("symbolKeepAspect");if(Ne(S)||Ne(x)||Ne(D)||Ne(T)){var E=o.getRawValue(_),P=o.getDataParams(_);Ne(S)&&(S=S(E,P)),Ne(x)&&(x=x(E,P)),Ne(D)&&(D=D(E,P)),Ne(T)&&(T=T(E,P))}var N=w.getModel("itemStyle").getItemStyle(),k=Hy(d,"color");N.fill||(N.fill=k),m.setItemVisual(_,{symbol:S,symbolSize:x,symbolRotate:D,symbolOffset:T,symbolKeepAspect:A,style:N})}),g.updateData(m),this.group.add(g.group),m.eachItemGraphicEl(function(_){_.traverse(function(w){et(w).dataModel=o})}),this.markKeep(g),g.group.silent=o.get("silent")||e.get("silent")},t.type="markPoint",t}(x5);const cx=eq;var nq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.createMarkerModelFromSeries=function(e,o,s){return new t(e,o,s)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Ih);const rq=nq;var hx=zt(),iq=function(r,t,e,o){var u,s=r.getData();if(ge(o))u=o;else{var c=o.type;if("min"===c||"max"===c||"average"===c||"median"===c||null!=o.xAxis||null!=o.yAxis){var f=void 0,d=void 0;if(null!=o.yAxis||null!=o.xAxis)f=t.getAxis(null!=o.yAxis?"y":"x"),d=$t(o.yAxis,o.xAxis);else{var v=b5(o,s,t,r);f=v.valueAxis,d=S5(s,eA(s,v.valueDataDim),c)}var m="x"===f.dim?0:1,_=1-m,w=Ge(o),S={coord:[]};w.type=null,w.coord=[],w.coord[_]=-1/0,S.coord[_]=1/0;var x=e.get("precision");x>=0&&kt(d)&&(d=+d.toFixed(Math.min(x,20))),w.coord[m]=S.coord[m]=d,u=[w,S,{type:c,valueIndex:o.valueIndex,value:d}]}else u=[]}var D=[bs(r,u[0]),bs(r,u[1]),ce({},u[2])];return D[2].type=D[2].type||null,tt(D[2],D[0]),tt(D[2],D[1]),D};function P2(r){return!isNaN(r)&&!isFinite(r)}function L2(r,t,e,o){var s=1-r,u=o.dimensions[r];return P2(t[s])&&P2(e[s])&&t[r]===e[r]&&o.getAxis(u).containData(t[r])}function Lg(r,t){if("cartesian2d"===r.type){var e=t[0].coord,o=t[1].coord;if(e&&o&&(L2(1,e,o,r)||L2(0,e,o,r)))return!0}return Pg(r,t[0])&&Pg(r,t[1])}function F_(r,t,e,o,s){var f,u=o.coordinateSystem,c=r.getItemModel(t),d=Ce(c.get("x"),s.getWidth()),v=Ce(c.get("y"),s.getHeight());if(isNaN(d)||isNaN(v)){if(o.getMarkerPosition)f=o.getMarkerPosition(r.getValues(r.dimensions,t));else{var m=r.get((g=u.dimensions)[0],t),_=r.get(g[1],t);f=u.dataToPoint([m,_])}if(Iv(u,"cartesian2d")){var g,w=u.getAxis("x"),S=u.getAxis("y");P2(r.get((g=u.dimensions)[0],t))?f[0]=w.toGlobalCoord(w.getExtent()[e?0:1]):P2(r.get(g[1],t))&&(f[1]=S.toGlobalCoord(S.getExtent()[e?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}else f=[d,v];r.setItemLayout(t,f)}var oq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.updateTransform=function(e,o,s){o.eachSeries(function(u){var c=Ih.getMarkerModelFromSeries(u,"markLine");if(c){var f=c.getData(),d=hx(c).from,v=hx(c).to;d.each(function(g){F_(d,g,!0,u,s),F_(v,g,!1,u,s)}),f.each(function(g){f.setItemLayout(g,[d.getItemLayout(g),v.getItemLayout(g)])}),this.markerGroupMap.get(u.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,o,s,u){var c=e.coordinateSystem,f=e.id,d=e.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new qC);this.group.add(g.group);var m=function aq(r,t,e){var o;o=r?me(r&&r.dimensions,function(v){return ce(ce({},t.getData().getDimensionInfo(t.getData().mapDimension(v))||{}),{name:v,ordinalMeta:null})}):[{name:"value",type:"float"}];var s=new oo(o,e),u=new oo(o,e),c=new oo([],e),f=me(e.get("data"),Je(iq,t,r,e));r&&(f=Wt(f,Je(Lg,r)));var d=Q7(!!r,o);return s.initData(me(f,function(v){return v[0]}),null,d),u.initData(me(f,function(v){return v[1]}),null,d),c.initData(me(f,function(v){return v[2]})),c.hasItemOption=!0,{from:s,to:u,line:c}}(c,e,o),_=m.from,w=m.to,S=m.line;hx(o).from=_,hx(o).to=w,o.setData(S);var x=o.get("symbol"),D=o.get("symbolSize"),T=o.get("symbolRotate"),A=o.get("symbolOffset");function E(P,N,k){var F=P.getItemModel(N);F_(P,N,k,e,u);var B=F.getModel("itemStyle").getItemStyle();null==B.fill&&(B.fill=Hy(d,"color")),P.setItemVisual(N,{symbolKeepAspect:F.get("symbolKeepAspect"),symbolOffset:Qe(F.get("symbolOffset",!0),A[k?0:1]),symbolRotate:Qe(F.get("symbolRotate",!0),T[k?0:1]),symbolSize:Qe(F.get("symbolSize"),D[k?0:1]),symbol:Qe(F.get("symbol",!0),x[k?0:1]),style:B})}ge(x)||(x=[x,x]),ge(D)||(D=[D,D]),ge(T)||(T=[T,T]),ge(A)||(A=[A,A]),m.from.each(function(P){E(_,P,!0),E(w,P,!1)}),S.each(function(P){var N=S.getItemModel(P).getModel("lineStyle").getLineStyle();S.setItemLayout(P,[_.getItemLayout(P),w.getItemLayout(P)]),null==N.stroke&&(N.stroke=_.getItemVisual(P,"style").fill),S.setItemVisual(P,{fromSymbolKeepAspect:_.getItemVisual(P,"symbolKeepAspect"),fromSymbolOffset:_.getItemVisual(P,"symbolOffset"),fromSymbolRotate:_.getItemVisual(P,"symbolRotate"),fromSymbolSize:_.getItemVisual(P,"symbolSize"),fromSymbol:_.getItemVisual(P,"symbol"),toSymbolKeepAspect:w.getItemVisual(P,"symbolKeepAspect"),toSymbolOffset:w.getItemVisual(P,"symbolOffset"),toSymbolRotate:w.getItemVisual(P,"symbolRotate"),toSymbolSize:w.getItemVisual(P,"symbolSize"),toSymbol:w.getItemVisual(P,"symbol"),style:N})}),g.updateData(S),m.line.eachItemGraphicEl(function(P){et(P).dataModel=o,P.traverse(function(N){et(N).dataModel=o})}),this.markKeep(g),g.group.silent=o.get("silent")||e.get("silent")},t.type="markLine",t}(x5);const D5=oq;var sq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.createMarkerModelFromSeries=function(e,o,s){return new t(e,o,s)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Ih);const lq=sq;var fx=zt(),ni=function(r,t,e,o){var s=o[0],u=o[1];if(s&&u){var c=bs(r,s),f=bs(r,u),d=c.coord,v=f.coord;d[0]=$t(d[0],-1/0),d[1]=$t(d[1],-1/0),v[0]=$t(v[0],1/0),v[1]=$t(v[1],1/0);var g=uc([{},c,f]);return g.coord=[c.coord,f.coord],g.x0=c.x,g.y0=c.y,g.x1=f.x,g.y1=f.y,g}};function Cr(r){return!isNaN(r)&&!isFinite(r)}function uq(r,t,e,o){var s=1-r;return Cr(t[s])&&Cr(e[s])}function QK(r,t){var e=t.coord[0],o=t.coord[1],s={coord:e,x:t.x0,y:t.y0},u={coord:o,x:t.x1,y:t.y1};return Iv(r,"cartesian2d")?!(!e||!o||!uq(1,e,o)&&!uq(0,e,o))||function K7(r,t,e){return!(r&&r.containZone&&t.coord&&e.coord&&!E2(t)&&!E2(e))||r.containZone(t.coord,e.coord)}(r,s,u):Pg(r,s)||Pg(r,u)}function cq(r,t,e,o,s){var f,u=o.coordinateSystem,c=r.getItemModel(t),d=Ce(c.get(e[0]),s.getWidth()),v=Ce(c.get(e[1]),s.getHeight());if(isNaN(d)||isNaN(v)){if(o.getMarkerPosition){var g=r.getValues(["x0","y0"],t),m=r.getValues(["x1","y1"],t),_=u.clampData(g),w=u.clampData(m),S=[];S[0]="x0"===e[0]?_[0]>w[0]?m[0]:g[0]:_[0]>w[0]?g[0]:m[0],S[1]="y0"===e[1]?_[1]>w[1]?m[1]:g[1]:_[1]>w[1]?g[1]:m[1],f=o.getMarkerPosition(S,e,!0)}else{var T=[x=r.get(e[0],t),D=r.get(e[1],t)];u.clampData&&u.clampData(T,T),f=u.dataToPoint(T,!0)}if(Iv(u,"cartesian2d")){var A=u.getAxis("x"),E=u.getAxis("y"),x=r.get(e[0],t),D=r.get(e[1],t);Cr(x)?f[0]=A.toGlobalCoord(A.getExtent()["x0"===e[0]?0:1]):Cr(D)&&(f[1]=E.toGlobalCoord(E.getExtent()["y0"===e[1]?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}else f=[d,v];return f}var hq=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],JK=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.updateTransform=function(e,o,s){o.eachSeries(function(u){var c=Ih.getMarkerModelFromSeries(u,"markArea");if(c){var f=c.getData();f.each(function(d){var v=me(hq,function(m){return cq(f,d,m,u,s)});f.setItemLayout(d,v),f.getItemGraphicEl(d).setShape("points",v)})}},this)},t.prototype.renderSeries=function(e,o,s,u){var c=e.coordinateSystem,f=e.id,d=e.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,{group:new Ze});this.group.add(g.group),this.markKeep(g);var m=function eQ(r,t,e){var o,s;if(r){var c=me(r&&r.dimensions,function(v){var g=t.getData();return ce(ce({},g.getDimensionInfo(g.mapDimension(v))||{}),{name:v,ordinalMeta:null})});s=me(["x0","y0","x1","y1"],function(v,g){return{name:v,type:c[g%2].type}}),o=new oo(s,e)}else o=new oo(s=[{name:"value",type:"float"}],e);var f=me(e.get("data"),Je(ni,t,r,e));r&&(f=Wt(f,Je(QK,r)));var d=r?function(v,g,m,_){return Fc(v.coord[Math.floor(_/2)][_%2],s[_])}:function(v,g,m,_){return Fc(v.value,s[_])};return o.initData(f,null,d),o.hasItemOption=!0,o}(c,e,o);o.setData(m),m.each(function(_){var w=me(hq,function(B){return cq(m,_,B,e,u)}),S=c.getAxis("x").scale,x=c.getAxis("y").scale,D=S.getExtent(),T=x.getExtent(),A=[S.parse(m.get("x0",_)),S.parse(m.get("x1",_))],E=[x.parse(m.get("y0",_)),x.parse(m.get("y1",_))];Co(A),Co(E),m.setItemLayout(_,{points:w,allClipped:!!(D[0]>A[1]||D[1]<A[0]||T[0]>E[1]||T[1]<E[0])});var k=m.getItemModel(_).getModel("itemStyle").getItemStyle(),F=Hy(d,"color");k.fill||(k.fill=F,xe(k.fill)&&(k.fill=Ew(k.fill,.4))),k.stroke||(k.stroke=F),m.setItemVisual(_,"style",k)}),m.diff(fx(g).data).add(function(_){var w=m.getItemLayout(_);if(!w.allClipped){var S=new to({shape:{points:w.points}});m.setItemGraphicEl(_,S),g.group.add(S)}}).update(function(_,w){var S=fx(g).data.getItemGraphicEl(w),x=m.getItemLayout(_);x.allClipped?S&&g.group.remove(S):(S?Yt(S,{shape:{points:x.points}},o,_):S=new to({shape:{points:x.points}}),m.setItemGraphicEl(_,S),g.group.add(S))}).remove(function(_){var w=fx(g).data.getItemGraphicEl(_);g.group.remove(w)}).execute(),m.eachItemGraphicEl(function(_,w){var S=m.getItemModel(w),x=m.getItemVisual(w,"style");_.useStyle(m.getItemVisual(w,"style")),Li(_,Mr(S),{labelFetcher:o,labelDataIndex:w,defaultText:m.getName(w)||"",inheritColor:xe(x.fill)?Ew(x.fill,1):"#000"}),Si(_,S),Jn(_,null,null,S.get(["emphasis","disabled"])),et(_).dataModel=o}),fx(g).data=m,g.group.silent=o.get("silent")||e.get("silent")},t.type="markArea",t}(x5);const tQ=JK;var iQ=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return ae(t,r),t.prototype.init=function(e,o,s){this.mergeDefaultAndTheme(e,s),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,o){r.prototype.mergeOption.call(this,e,o),this._updateSelector(e)},t.prototype._updateSelector=function(e){var o=e.selector,s=this.ecModel;!0===o&&(o=e.selector=["all","inverse"]),ge(o)&&H(o,function(u,c){xe(u)&&(u={type:u}),o[c]=tt(u,function(r,t){return"all"===t?{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(s,u.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var o=!1,s=0;s<e.length;s++){var u=e[s].get("name");if(this.isSelected(u)){this.select(u),o=!0;break}}!o&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var o=[],s=[];e.eachRawSeries(function(d){var g;if(s.push(d.name),d.legendVisualProvider){var _=d.legendVisualProvider.getAllNames();e.isSeriesFiltered(d)||(s=s.concat(_)),_.length?o=o.concat(_):g=!0}else g=!0;g&&$w(d)&&o.push(d.name)}),this._availableNames=s;var u=this.get("data")||o,c=Re(),f=me(u,function(d){return(xe(d)||kt(d))&&(d={name:d}),c.get(d.name)?null:(c.set(d.name,!0),new Sn(d,this,this.ecModel))},this);this._data=Wt(f,function(d){return!!d})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var o=this.option.selected;"single"===this.get("selectedMode")&&H(this._data,function(c){o[c.get("name")]=!1}),o[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var o=this.option.selected;o.hasOwnProperty(e)||(o[e]=!0),this[o[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var o=this.option.selected;H(this._data,function(s){o[s.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var o=this.option.selected;H(this._data,function(s){var u=s.get("name",!0);o.hasOwnProperty(u)||(o[u]=!0),o[u]=!o[u]})},t.prototype.isSelected=function(e){var o=this.option.selected;return!(o.hasOwnProperty(e)&&!o[e])&&ot(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Lt);const dx=iQ;var No=Je,px=H,R2=Ze,fq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return ae(t,r),t.prototype.init=function(){this.group.add(this._contentGroup=new R2),this.group.add(this._selectorGroup=new R2),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,o,s){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var c=e.get("align"),f=e.get("orient");(!c||"auto"===c)&&(c="right"===e.get("left")&&"vertical"===f?"right":"left");var d=e.get("selector",!0),v=e.get("selectorPosition",!0);d&&(!v||"auto"===v)&&(v="horizontal"===f?"end":"start"),this.renderInner(c,e,o,s,d,f,v);var g=e.getBoxLayoutParams(),m={width:s.getWidth(),height:s.getHeight()},_=e.get("padding"),w=Ar(g,m,_),S=this.layoutInner(e,c,w,u,d,v),x=Ar(Ve({width:S.width,height:S.height},g),m,_);this.group.x=x.x-S.x,this.group.y=x.y-S.y,this.group.markRedraw(),this.group.add(this._backgroundEl=$3(S,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,o,s,u,c,f,d){var v=this.getContentGroup(),g=Re(),m=o.get("selectedMode"),_=[];s.eachRawSeries(function(w){!w.get("legendHoverLink")&&_.push(w.id)}),px(o.getData(),function(w,S){var x=w.get("name");if(!this.newlineDisabled&&(""===x||"\n"===x)){var D=new R2;return D.newline=!0,void v.add(D)}var T=s.getSeriesByName(x)[0];if(!g.get(x))if(T){var A=T.getData(),E=A.getVisual("legendLineStyle")||{},P=A.getVisual("legendIcon"),N=A.getVisual("style");this._createItem(T,x,S,w,o,e,E,N,P,m,u).on("click",No(T5,x,null,u,_)).on("mouseover",No(M5,T.name,null,u,_)).on("mouseout",No(k2,T.name,null,u,_)),g.set(x,!0)}else s.eachRawSeries(function(F){if(!g.get(x)&&F.legendVisualProvider){var B=F.legendVisualProvider;if(!B.containName(x))return;var z=B.indexOfName(x),j=B.getItemVisual(z,"style"),W=B.getItemVisual(z,"legendIcon"),q=Tr(j.fill);q&&0===q[3]&&(q[3]=.2,j=ce(ce({},j),{fill:Hs(q,"rgba")})),this._createItem(F,x,S,w,o,e,{},j,W,m,u).on("click",No(T5,null,x,u,_)).on("mouseover",No(M5,null,x,u,_)).on("mouseout",No(k2,null,x,u,_)),g.set(x,!0)}},this)},this),c&&this._createSelector(c,o,u,f,d)},t.prototype._createSelector=function(e,o,s,u,c){var f=this.getSelectorGroup();px(e,function(v){var g=v.type,m=new Nt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:"all"===g?"legendAllSelect":"legendInverseSelect"})}});f.add(m),Li(m,{normal:o.getModel("selectorLabel"),emphasis:o.getModel(["emphasis","selectorLabel"])},{defaultText:v.title}),du(m)})},t.prototype._createItem=function(e,o,s,u,c,f,d,v,g,m,_){var w=e.visualDrawType,S=c.get("itemWidth"),x=c.get("itemHeight"),D=c.isSelected(o),T=u.get("symbolRotate"),A=u.get("symbolKeepAspect"),E=u.get("icon"),P=function dq(r,t,e,o,s,u,c){function f(D,T){"auto"===D.lineWidth&&(D.lineWidth=T.lineWidth>0?2:0),px(D,function(A,E){"inherit"===D[E]&&(D[E]=T[E])})}var d=t.getModel("itemStyle"),v=d.getItemStyle(),g=0===r.lastIndexOf("empty",0)?"fill":"stroke",m=d.getShallow("decal");v.decal=m&&"inherit"!==m?gv(m,c):o.decal,"inherit"===v.fill&&(v.fill=o[s]),"inherit"===v.stroke&&(v.stroke=o[g]),"inherit"===v.opacity&&(v.opacity=("fill"===s?o:e).opacity),f(v,o);var _=t.getModel("lineStyle"),w=_.getLineStyle();if(f(w,e),"auto"===v.fill&&(v.fill=o.fill),"auto"===v.stroke&&(v.stroke=o.fill),"auto"===w.stroke&&(w.stroke=o.fill),!u){var S=t.get("inactiveBorderWidth");v.lineWidth="auto"===S?o.lineWidth>0&&v[g]?2:0:v.lineWidth,v.fill=t.get("inactiveColor"),v.stroke=t.get("inactiveBorderColor"),w.stroke=_.get("inactiveColor"),w.lineWidth=_.get("inactiveWidth")}return{itemStyle:v,lineStyle:w}}(g=E||g||"roundRect",u,d,v,w,D,_),N=new R2,k=u.getModel("textStyle");if(!Ne(e.getLegendIcon)||E&&"inherit"!==E){var F="inherit"===E&&e.getData().getVisual("symbol")?"inherit"===T?e.getData().getVisual("symbolRotate"):T:0;N.add(function V_(r){var t=r.icon||"roundRect",e=ar(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}({itemWidth:S,itemHeight:x,icon:g,iconRotate:F,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:A}))}else N.add(e.getLegendIcon({itemWidth:S,itemHeight:x,icon:g,iconRotate:T,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:A}));var B="left"===f?S+5:-5,z=f,j=c.get("formatter"),W=o;xe(j)&&j?W=j.replace("{name}",o??""):Ne(j)&&(W=j(o));var q=D?k.getTextColor():u.get("inactiveColor");N.add(new Nt({style:gn(k,{text:W,x:B,y:x/2,fill:q,align:z,verticalAlign:"middle"},{inheritColor:q})}));var Y=new Ot({shape:N.getBoundingRect(),invisible:!0}),K=u.getModel("tooltip");return K.get("show")&&Fy({el:Y,componentModel:c,itemName:o,itemTooltipOption:K.option}),N.add(Y),N.eachChild(function(Q){Q.silent=!0}),Y.silent=!m,this.getContentGroup().add(N),du(N),N.__legendDataIndex=s,N},t.prototype.layoutInner=function(e,o,s,u,c,f){var d=this.getContentGroup(),v=this.getSelectorGroup();Rc(e.get("orient"),d,e.get("itemGap"),s.width,s.height);var g=d.getBoundingRect(),m=[-g.x,-g.y];if(v.markRedraw(),d.markRedraw(),c){Rc("horizontal",v,e.get("selectorItemGap",!0));var _=v.getBoundingRect(),w=[-_.x,-_.y],S=e.get("selectorButtonGap",!0),x=e.getOrient().index,D=0===x?"width":"height",T=0===x?"height":"width",A=0===x?"y":"x";"end"===f?w[x]+=g[D]+S:m[x]+=_[D]+S,w[1-x]+=g[T]/2-_[T]/2,v.x=w[0],v.y=w[1],d.x=m[0],d.y=m[1];var E={x:0,y:0};return E[D]=g[D]+S+_[D],E[T]=Math.max(g[T],_[T]),E[A]=Math.min(0,_[A]+w[1-x]),E}return d.x=m[0],d.y=m[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Bn);function T5(r,t,e,o){k2(r,t,e,o),e.dispatchAction({type:"legendToggleSelect",name:r??t}),M5(r,t,e,o)}function pq(r){for(var e,t=r.getZr().storage.getDisplayList(),o=0,s=t.length;o<s&&!(e=t[o].states.emphasis);)o++;return e&&e.hoverLayer}function M5(r,t,e,o){pq(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:o})}function k2(r,t,e,o){pq(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:o})}const O2=fq;function vq(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var o=0;o<t.length;o++)if(!t[o].isSelected(e.name))return!1;return!0})}function vx(r,t,e){var u,o={},s="toggleSelected"===r;return e.eachComponent("legend",function(c){s&&null!=u?c[u?"select":"unSelect"](t.name):"allSelect"===r||"inverseSelect"===r?c[r]():(c[r](t.name),u=c.isSelected(t.name)),H(c.getData(),function(d){var v=d.get("name");if("\n"!==v&&""!==v){var g=c.isSelected(v);o[v]=o.hasOwnProperty(v)?o[v]&&g:g}})}),"allSelect"===r||"inverseSelect"===r?{selected:o}:{name:t.name,selected:o}}function gx(r){r.registerComponentModel(dx),r.registerComponentView(O2),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,vq),r.registerSubTypeDefaulter("legend",function(){return"plain"}),function gq(r){r.registerAction("legendToggleSelect","legendselectchanged",Je(vx,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",Je(vx,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",Je(vx,"inverseSelect")),r.registerAction("legendSelect","legendselected",Je(vx,"select")),r.registerAction("legendUnSelect","legendunselected",Je(vx,"unSelect"))}(r)}var A5=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,o,s){var u=kc(e);r.prototype.init.call(this,e,o,s),mq(this,e,u)},t.prototype.mergeOption=function(e,o){r.prototype.mergeOption.call(this,e,o),mq(this,this.option,e)},t.type="legend.scroll",t.defaultOption=gu(dx.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(dx);function mq(r,t,e){var s=[1,1];s[r.getOrient().index]=0,_u(t,e,{type:"box",ignoreSize:!!s})}const E5=A5;var I5=Ze,N2=["width","height"],F2=["x","y"],yq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return ae(t,r),t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new I5),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new I5)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,o,s,u,c,f,d){var v=this;r.prototype.renderInner.call(this,e,o,s,u,c,f,d);var g=this._controllerGroup,m=o.get("pageIconSize",!0),_=ge(m)?m:[m,m];S("pagePrev",0);var w=o.getModel("pageTextStyle");function S(x,D){var T=x+"DataIndex",A=Ta(o.get("pageIcons",!0)[o.getOrient().name][D],{onclick:Me(v._pageGo,v,T,o,u)},{x:-_[0]/2,y:-_[1]/2,width:_[0],height:_[1]});A.name=x,g.add(A)}g.add(new Nt({name:"pageText",style:{text:"xx/xx",fill:w.getTextColor(),font:w.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),S("pageNext",1)},t.prototype.layoutInner=function(e,o,s,u,c,f){var d=this.getSelectorGroup(),v=e.getOrient().index,g=N2[v],m=F2[v],_=N2[1-v],w=F2[1-v];c&&Rc("horizontal",d,e.get("selectorItemGap",!0));var S=e.get("selectorButtonGap",!0),x=d.getBoundingRect(),D=[-x.x,-x.y],T=Ge(s);c&&(T[g]=s[g]-x[g]-S);var A=this._layoutContentAndController(e,u,T,v,g,_,w,m);if(c){if("end"===f)D[v]+=A[g]+S;else{var E=x[g]+S;D[v]-=E,A[m]-=E}A[g]+=x[g]+S,D[1-v]+=A[w]+A[_]/2-x[_]/2,A[_]=Math.max(A[_],x[_]),A[w]=Math.min(A[w],x[w]+D[1-v]),d.x=D[0],d.y=D[1],d.markRedraw()}return A},t.prototype._layoutContentAndController=function(e,o,s,u,c,f,d,v){var g=this.getContentGroup(),m=this._containerGroup,_=this._controllerGroup;Rc(e.get("orient"),g,e.get("itemGap"),u?s.width:null,u?null:s.height),Rc("horizontal",_,e.get("pageButtonItemGap",!0));var w=g.getBoundingRect(),S=_.getBoundingRect(),x=this._showController=w[c]>s[c],D=[-w.x,-w.y];o||(D[u]=g[v]);var T=[0,0],A=[-S.x,-S.y],E=Qe(e.get("pageButtonGap",!0),e.get("itemGap",!0));x&&("end"===e.get("pageButtonPosition",!0)?A[u]+=s[c]-S[c]:T[u]+=S[c]+E),A[1-u]+=w[f]/2-S[f]/2,g.setPosition(D),m.setPosition(T),_.setPosition(A);var N={x:0,y:0};if(N[c]=x?s[c]:w[c],N[f]=Math.max(w[f],S[f]),N[d]=Math.min(0,S[d]+A[1-u]),m.__rectSize=s[c],x){var k={x:0,y:0};k[c]=Math.max(s[c]-S[c]-E,0),k[f]=N[f],m.setClipPath(new Ot({shape:k})),m.__rectSize=k[c]}else _.eachChild(function(B){B.attr({invisible:!0,silent:!0})});var F=this._getPageInfo(e);return null!=F.pageIndex&&Yt(g,{x:F.contentPosition[0],y:F.contentPosition[1]},x?e:null),this._updatePageInfoView(e,F),N},t.prototype._pageGo=function(e,o,s){var u=this._getPageInfo(o)[e];null!=u&&s.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:o.id})},t.prototype._updatePageInfoView=function(e,o){var s=this._controllerGroup;H(["pagePrev","pageNext"],function(g){var _=null!=o[g+"DataIndex"],w=s.childOfName(g);w&&(w.setStyle("fill",e.get(_?"pageIconColor":"pageIconInactiveColor",!0)),w.cursor=_?"pointer":"default")});var u=s.childOfName("pageText"),c=e.get("pageFormatter"),f=o.pageIndex,d=null!=f?f+1:0,v=o.pageCount;u&&c&&u.setStyle("text",xe(c)?c.replace("{current}",null==d?"":d+"").replace("{total}",null==v?"":v+""):c({current:d,total:v}))},t.prototype._getPageInfo=function(e){var o=e.get("scrollDataIndex",!0),s=this.getContentGroup(),u=this._containerGroup.__rectSize,c=e.getOrient().index,f=N2[c],d=F2[c],v=this._findTargetItemIndex(o),g=s.children(),m=g[v],_=g.length,w=_?1:0,S={contentPosition:[s.x,s.y],pageCount:w,pageIndex:w-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!m)return S;var x=P(m);S.contentPosition[c]=-x.s;for(var D=v+1,T=x,A=x,E=null;D<=_;++D)(!(E=P(g[D]))&&A.e>T.s+u||E&&!N(E,T.s))&&(T=A.i>T.i?A:E)&&(null==S.pageNextDataIndex&&(S.pageNextDataIndex=T.i),++S.pageCount),A=E;for(D=v-1,T=x,A=x,E=null;D>=-1;--D)(!(E=P(g[D]))||!N(A,E.s))&&T.i<A.i&&(A=T,null==S.pagePrevDataIndex&&(S.pagePrevDataIndex=T.i),++S.pageCount,++S.pageIndex),T=E;return S;function P(k){if(k){var F=k.getBoundingRect(),B=F[d]+k[d];return{s:B,e:B+F[f],i:k.__legendDataIndex}}}function N(k,F){return k.e>=F&&k.s<=F+u}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(c,f){var d=c.__legendDataIndex;null==u&&null!=d&&(u=f),d===e&&(o=f)}),o??u):0;var o,u},t.type="legend.scroll",t}(O2);const _q=yq;function bq(r){ft(gx),r.registerComponentModel(E5),r.registerComponentView(_q),function wq(r){r.registerAction("legendScroll","legendscroll",function(t,e){var o=t.scrollDataIndex;null!=o&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(s){s.setScrollDataIndex(o)})})}(r)}var L5=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="dataZoom.inside",t.defaultOption=gu(Vd.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Vd);const Sq=L5;var V2=zt();function k5(r,t){if(t){r.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function Dq(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function O5(r,t,e,o){return r.coordinateSystem.containPoint([e,o])}var Aq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return ae(t,r),t.prototype.render=function(e,o,s){r.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function Cq(r,t,e){V2(r).coordSysRecordMap.each(function(o){var s=o.dataZoomInfoMap.get(t.uid);s&&(s.getRange=e)})}(s,e,{pan:Me(Rg.pan,this),zoom:Me(Rg.zoom,this),scrollMove:Me(Rg.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function R5(r,t){for(var e=V2(r).coordSysRecordMap,o=e.keys(),s=0;s<o.length;s++){var c=e.get(o[s]),f=c.dataZoomInfoMap;if(f){var d=t.uid;f.get(d)&&(f.removeKey(d),f.keys().length||k5(e,c))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(ZP),Rg={zoom:function(r,t,e,o){var s=this.range,u=s.slice(),c=r.axisModels[0];if(c){var f=z2[t](null,[o.originX,o.originY],c,e,r),d=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(u[1]-u[0])+u[0],v=Math.max(1/o.scale,0);u[0]=(u[0]-d)*v+d,u[1]=(u[1]-d)*v+d;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(na(0,u,[0,100],0,g.minSpan,g.maxSpan),this.range=u,s[0]!==u[0]||s[1]!==u[1])return u}},pan:B2(function(r,t,e,o,s,u){var c=z2[o]([u.oldX,u.oldY],[u.newX,u.newY],t,s,e);return c.signal*(r[1]-r[0])*c.pixel/c.pixelLength}),scrollMove:B2(function(r,t,e,o,s,u){return z2[o]([0,0],[u.scrollDelta,u.scrollDelta],t,s,e).signal*(r[1]-r[0])*u.scrollDelta})};function B2(r){return function(t,e,o,s){var u=this.range,c=u.slice(),f=t.axisModels[0];if(f&&(na(r(c,f,t,e,o,s),c,[0,100],"all"),this.range=c,u[0]!==c[0]||u[1]!==c[1]))return c}}var z2={grid:function(r,t,e,o,s){var u=e.axis,c={},f=s.model.coordinateSystem.getRect();return r=r||[0,0],"x"===u.dim?(c.pixel=t[0]-r[0],c.pixelLength=f.width,c.pixelStart=f.x,c.signal=u.inverse?1:-1):(c.pixel=t[1]-r[1],c.pixelLength=f.height,c.pixelStart=f.y,c.signal=u.inverse?-1:1),c},polar:function(r,t,e,o,s){var u=e.axis,c={},f=s.model.coordinateSystem,d=f.getRadiusAxis().getExtent(),v=f.getAngleAxis().getExtent();return r=r?f.pointToCoord(r):[0,0],t=f.pointToCoord(t),"radiusAxis"===e.mainType?(c.pixel=t[0]-r[0],c.pixelLength=d[1]-d[0],c.pixelStart=d[0],c.signal=u.inverse?1:-1):(c.pixel=t[1]-r[1],c.pixelLength=v[1]-v[0],c.pixelStart=v[0],c.signal=u.inverse?-1:1),c},singleAxis:function(r,t,e,o,s){var u=e.axis,c=s.model.coordinateSystem.getRect(),f={};return r=r||[0,0],"horizontal"===u.orient?(f.pixel=t[0]-r[0],f.pixelLength=c.width,f.pixelStart=c.x,f.signal=u.inverse?1:-1):(f.pixel=t[1]-r[1],f.pixelLength=c.height,f.pixelStart=c.y,f.signal=u.inverse?-1:1),f}};const Eq=Aq;function N5(r){E_(r),r.registerComponentModel(Sq),r.registerComponentView(Eq),function Mq(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,e){var o=V2(e),s=o.coordSysRecordMap||(o.coordSysRecordMap=Re());s.each(function(u){u.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(u){H(O3(u).infoList,function(f){var d=f.model.uid,v=s.get(d)||s.set(d,function xq(r,t){var e={model:t,containsPoint:Je(O5,t),dispatchAction:Je(Dq,r),dataZoomInfoMap:null,controller:null},o=e.controller=new xC(r.getZr());return H(["pan","zoom","scrollMove"],function(s){o.on(s,function(u){var c=[];e.dataZoomInfoMap.each(function(f){if(u.isAvailableBehavior(f.model.option)){var d=(f.getRange||{})[s],v=d&&d(f.dzReferCoordSysInfo,e.model.mainType,e.controller,u);!f.model.get("disabled",!0)&&v&&c.push({dataZoomId:f.model.id,start:v[0],end:v[1]})}}),c.length&&e.dispatchAction(c)})}),e}(e,f.model));(v.dataZoomInfoMap||(v.dataZoomInfoMap=Re())).set(u.uid,{dzReferCoordSysInfo:f,model:u,getRange:null})})}),s.each(function(u){var f,c=u.controller,d=u.dataZoomInfoMap;if(d){var v=d.keys()[0];null!=v&&(f=d.get(v))}if(f){var g=function Tq(r){var t,e="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return r.each(function(u){var c=u.model,f=!c.get("disabled",!0)&&(!c.get("zoomLock",!0)||"move");o[e+f]>o[e+t]&&(t=f),s=s&&c.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s}}}(d);c.enable(g.controlType,g.opt),c.setPointerChecker(u.containsPoint),Gf(u,"dispatchAction",f.model.get("throttle",!0),"fixRate")}else k5(s,u)})})}(r)}var Iq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=gu(Vd.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Vd);const mx=Iq;var B_=Ot,z_="horizontal",F5="vertical",V5=["line","bar","candlestick","scatter"],H2={easing:"cubicOut",duration:100,delay:0},$d=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return ae(t,r),t.prototype.init=function(e,o){this.api=o,this._onBrush=Me(this._onBrush,this),this._onBrushEnd=Me(this._onBrushEnd,this)},t.prototype.render=function(e,o,s,u){if(r.prototype.render.apply(this,arguments),Gf(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show"))return e.noTarget()?(this._clear(),void this.group.removeAll()):((!u||"dataZoom"!==u.type||u.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){By(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Ze;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(o),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,o=this.api,u=e.get("brushSelect")?7:0,c=this._findCoordRect(),f={width:o.getWidth(),height:o.getHeight()},d=this._orient===z_?{right:f.width-c.x-c.width,top:f.height-30-7-u,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},v=kc(e.option);H(["right","top","width","height"],function(m){"ph"===v[m]&&(v[m]=d[m])});var g=Ar(v,f);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===F5&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,o=this._location,s=this._orient,u=this.dataZoomModel.getFirstTargetAxisModel(),c=u&&u.get("inverse"),f=this._displayables.sliderGroup,d=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(s!==z_||c?s===z_&&c?{scaleY:d?1:-1,scaleX:-1}:s!==F5||c?{scaleY:d?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:d?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:d?1:-1,scaleX:1});var v=e.getBoundingRect([f]);e.x=o.x-v.x,e.y=o.y-v.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,o=this._size,s=this._displayables.sliderGroup,u=e.get("brushSelect");s.add(new B_({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var c=new B_({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:Me(this._onClickPanel,this)}),f=this.api.getZr();u?(c.on("mousedown",this._onBrushStart,this),c.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),s.add(c)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var o=this._size,s=this._shadowSize||[],u=e.series,c=u.getRawData(),f=u.getShadowDim&&u.getShadowDim(),d=f&&c.getDimensionInfo(f)?u.getShadowDim():e.otherDim;if(null!=d){var v=this._shadowPolygonPts,g=this._shadowPolylinePts;if(c!==this._shadowData||d!==this._shadowDim||o[0]!==s[0]||o[1]!==s[1]){var m=c.getDataExtent(d),_=.3*(m[1]-m[0]);m=[m[0]-_,m[1]+_];var P,w=[0,o[1]],x=[[o[0],0],[0,0]],D=[],T=o[0]/(c.count()-1),A=0,E=Math.round(c.count()/o[0]);c.each([d],function(z,j){if(E>0&&j%E)A+=T;else{var W=null==z||isNaN(z)||""===z,q=W?0:on(z,m,w,!0);W&&!P&&j?(x.push([x[x.length-1][0],0]),D.push([D[D.length-1][0],0])):!W&&P&&(x.push([A,0]),D.push([A,0])),x.push([A,q]),D.push([A,q]),A+=T,P=W}}),v=this._shadowPolygonPts=x,g=this._shadowPolylinePts=D}this._shadowData=c,this._shadowDim=d,this._shadowSize=[o[0],o[1]];for(var j,W,q,Y,N=this.dataZoomModel,F=0;F<3;F++){var B=(j=void 0,W=void 0,void 0,void 0,j=N.getModel(1===F?"selectedDataBackground":"dataBackground"),W=new Ze,q=new to({shape:{points:v},segmentIgnoreThreshold:1,style:j.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Y=new Ni({shape:{points:g},segmentIgnoreThreshold:1,style:j.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),W.add(q),W.add(Y),W);this._displayables.sliderGroup.add(B),this._displayables.dataShadowSegs.push(B)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,o=e.get("showDataShadow");if(!1!==o){var s,u=this.ecModel;return e.eachTargetAxis(function(c,f){H(e.getAxisProxy(c,f).getTargetSeriesModels(),function(v){if(!(s||!0!==o&&ot(V5,v.get("type"))<0)){var _,g=u.getComponent(Dl(c),f).axis,m=function G2(r){return{x:"y",y:"x",radius:"angle",angle:"radius"}[r]}(c),w=v.coordinateSystem;null!=m&&w.getOtherAxis&&(_=w.getOtherAxis(g).inverse),m=v.getData().mapDimension(m),s={thisAxis:g,series:v,thisDim:c,otherDim:m,otherAxisInverse:_}}},this)},this),s}},t.prototype._renderHandle=function(){var e=this.group,o=this._displayables,s=o.handles=[null,null],u=o.handleLabels=[null,null],c=this._displayables.sliderGroup,f=this._size,d=this.dataZoomModel,v=this.api,g=d.get("borderRadius")||0,m=d.get("brushSelect"),_=o.filler=new B_({silent:m,style:{fill:d.get("fillerColor")},textConfig:{position:"inside"}});c.add(_),c.add(new B_({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:g},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),H([0,1],function(E){var P=d.get("handleIcon");!cS[P]&&P.indexOf("path://")<0&&P.indexOf("image://")<0&&(P="path://"+P);var N=ar(P,-1,0,2,2,null,!0);N.attr({cursor:B5(this._orient),draggable:!0,drift:Me(this._onDragMove,this,E),ondragend:Me(this._onDragEnd,this),onmouseover:Me(this._showDataInfo,this,!0),onmouseout:Me(this._showDataInfo,this,!1),z2:5});var k=N.getBoundingRect(),F=d.get("handleSize");this._handleHeight=Ce(F,this._size[1]),this._handleWidth=k.width/k.height*this._handleHeight,N.setStyle(d.getModel("handleStyle").getItemStyle()),N.style.strokeNoScale=!0,N.rectHover=!0,N.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),du(N);var B=d.get("handleColor");null!=B&&(N.style.fill=B),c.add(s[E]=N);var z=d.getModel("textStyle");e.add(u[E]=new Nt({silent:!0,invisible:!0,style:gn(z,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:z.getTextColor(),font:z.getFont()}),z2:10}))},this);var w=_;if(m){var S=Ce(d.get("moveHandleSize"),f[1]),x=o.moveHandle=new Ot({style:d.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:S}}),D=.8*S,T=o.moveHandleIcon=ar(d.get("moveHandleIcon"),-D/2,-D/2,D,D,"#fff",!0);T.silent=!0,T.y=f[1]+S/2-.5,x.ensureState("emphasis").style=d.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var A=Math.min(f[1]/2,Math.max(S,10));(w=o.moveZone=new Ot({invisible:!0,shape:{y:f[1]-A,height:S+A}})).on("mouseover",function(){v.enterEmphasis(x)}).on("mouseout",function(){v.leaveEmphasis(x)}),c.add(x),c.add(T),c.add(w)}w.attr({draggable:!0,cursor:B5(this._orient),drift:Me(this._onDragMove,this,"all"),ondragstart:Me(this._showDataInfo,this,!0),ondragend:Me(this._onDragEnd,this),onmouseover:Me(this._showDataInfo,this,!0),onmouseout:Me(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[on(e[0],[0,100],o,!0),on(e[1],[0,100],o,!0)]},t.prototype._updateInterval=function(e,o){var s=this.dataZoomModel,u=this._handleEnds,c=this._getViewExtent(),f=s.findRepresentativeAxisProxy().getMinMaxSpan(),d=[0,100];na(o,u,c,s.get("zoomLock")?"all":e,null!=f.minSpan?on(f.minSpan,d,c,!0):null,null!=f.maxSpan?on(f.maxSpan,d,c,!0):null);var v=this._range,g=this._range=Co([on(u[0],c,d,!0),on(u[1],c,d,!0)]);return!v||v[0]!==g[0]||v[1]!==g[1]},t.prototype._updateView=function(e){var o=this._displayables,s=this._handleEnds,u=Co(s.slice()),c=this._size;H([0,1],function(w){var x=this._handleHeight;o.handles[w].attr({scaleX:x/2,scaleY:x/2,x:s[w]+(w?-1:1),y:c[1]/2-x/2})},this),o.filler.setShape({x:u[0],y:0,width:u[1]-u[0],height:c[1]});var f={x:u[0],width:u[1]-u[0]};o.moveHandle&&(o.moveHandle.setShape(f),o.moveZone.setShape(f),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",f.x+f.width/2));for(var d=o.dataShadowSegs,v=[0,u[0],u[1],c[0]],g=0;g<d.length;g++){var m=d[g],_=m.getClipPath();_||(_=new Ot,m.setClipPath(_)),_.setShape({x:v[g],y:0,width:v[g+1]-v[g],height:c[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var o=this.dataZoomModel,s=this._displayables,u=s.handleLabels,c=this._orient,f=["",""];if(o.get("showDetail")){var d=o.findRepresentativeAxisProxy();if(d){var v=d.getAxisModel().axis,g=this._range,m=e?d.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:d.getDataValueWindow();f=[this._formatLabel(m[0],v),this._formatLabel(m[1],v)]}}var _=Co(this._handleEnds.slice());function w(S){var x=Au(s.handles[S].parent,this.group),D=Ry(0===S?"right":"left",x),T=this._handleWidth/2+5,A=Da([_[S]+(0===S?-T:T),this._size[1]/2],x);u[S].setStyle({x:A[0],y:A[1],verticalAlign:c===z_?"middle":D,align:c===z_?D:"center",text:f[S]})}w.call(this,0),w.call(this,1)},t.prototype._formatLabel=function(e,o){var s=this.dataZoomModel,u=s.get("labelFormatter"),c=s.get("labelPrecision");(null==c||"auto"===c)&&(c=o.getPixelPrecision());var f=null==e||isNaN(e)?"":"category"===o.type||"time"===o.type?o.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(c,20));return Ne(u)?u(e,f):xe(u)?u.replace("{value}",f):f},t.prototype._showDataInfo=function(e){var o=this._displayables,s=o.handleLabels;s[0].attr("invisible",!(e=this._dragging||e)),s[1].attr("invisible",!e),o.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](o.moveHandle,1)},t.prototype._onDragMove=function(e,o,s,u){this._dragging=!0,ha(u.event);var f=Da([o,s],this._displayables.sliderGroup.getLocalTransform(),!0),d=this._updateInterval(e,f[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),d&&v&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var o=this._size,s=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(s[0]<0||s[0]>o[0]||s[1]<0||s[1]>o[1])){var u=this._handleEnds,f=this._updateInterval("all",s[0]-(u[0]+u[1])/2);this._updateView(),f&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new nt(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,o){o.attr("ignore",!0);var s=o.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(s.width)<5)){var c=this._getViewExtent(),f=[0,100];this._range=Co([on(s.x,c,f,!0),on(s.x+s.width,c,f,!0)]),this._handleEnds=[s.x,s.x+s.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(ha(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,o){var s=this._displayables,c=s.brushRect;c||(c=s.brushRect=new B_({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),s.sliderGroup.add(c)),c.attr("ignore",!1);var f=this._brushStart,d=this._displayables.sliderGroup,v=d.transformCoordToLocal(e,o),g=d.transformCoordToLocal(f.x,f.y),m=this._size;v[0]=Math.max(Math.min(m[0],v[0]),0),c.setShape({x:g[0],y:0,width:v[0]-g[0],height:m[1]})},t.prototype._dispatchZoomAction=function(e){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?H2:null,start:o[0],end:o[1]})},t.prototype._findCoordRect=function(){var e,o=O3(this.dataZoomModel).infoList;if(!e&&o.length){var s=o[0].model.coordinateSystem;e=s.getRect&&s.getRect()}if(!e){var u=this.api.getWidth(),c=this.api.getHeight();e={x:.2*u,y:.2*c,width:.6*u,height:.6*c}}return e},t.type="dataZoom.slider",t}(ZP);function B5(r){return"vertical"===r?"ns-resize":"ew-resize"}const U2=$d;function H_(r){r.registerComponentModel(mx),r.registerComponentView(U2),E_(r)}var H5={get:function(r,t,e){var o=Ge((G5[r]||{})[t]);return e&&ge(o)?o[o.length-1]:o}},G5={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const j2=H5;var Og=Gr.mapVisual,Rq=Gr.eachVisual,nr=ge,W2=H,$2=Co,q2=on,Z2=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return ae(t,r),t.prototype.init=function(e,o,s){this.mergeDefaultAndTheme(e,s)},t.prototype.optionUpdated=function(e,o){!o&&k7(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var o=this.stateList;e=Me(e,this),this.controllerVisuals=l5(this.option.controller,o,e),this.targetVisuals=l5(this.option.target,o,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,o=[];return null==e||"all"===e?this.ecModel.eachSeries(function(s,u){o.push(u)}):o=nn(e),o},t.prototype.eachTargetSeries=function(e,o){H(this.getTargetSeriesIndices(),function(s){var u=this.ecModel.getSeriesByIndex(s);u&&e.call(o,u)},this)},t.prototype.isTargetSeries=function(e){var o=!1;return this.eachTargetSeries(function(s){s===e&&(o=!0)}),o},t.prototype.formatValueText=function(e,o,s){var v,u=this.option,c=u.precision,f=this.dataBound,d=u.formatter;s=s||["<",">"],ge(e)&&(e=e.slice(),v=!0);var g=o?e:v?[m(e[0]),m(e[1])]:m(e);return xe(d)?d.replace("{value}",v?g[0]:g).replace("{value2}",v?g[1]:g):Ne(d)?v?d(e[0],e[1]):d(e):v?e[0]===f[0]?s[0]+" "+g[1]:e[1]===f[1]?s[1]+" "+g[0]:g[0]+" - "+g[1]:g;function m(_){return _===f[0]?"min":_===f[1]?"max":(+_).toFixed(Math.min(c,20))}},t.prototype.resetExtent=function(){var e=this.option,o=$2([e.min,e.max]);this._dataExtent=o},t.prototype.getDataDimensionIndex=function(e){var o=this.option.dimension;if(null!=o)return e.getDimensionIndex(o);for(var s=e.dimensions,u=s.length-1;u>=0;u--){var f=e.getDimensionInfo(s[u]);if(!f.isCalculationCoord)return f.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,o=this.option,s={inRange:o.inRange,outOfRange:o.outOfRange},u=o.target||(o.target={}),c=o.controller||(o.controller={});tt(u,s),tt(c,s);var f=this.isCategory();function d(m){nr(o.color)&&!m.inRange&&(m.inRange={color:o.color.slice().reverse()}),m.inRange=m.inRange||{color:e.get("gradientColor")}}d.call(this,u),d.call(this,c),function v(m,_,w){var S=m[_],x=m[w];S&&!x&&(x=m[w]={},W2(S,function(D,T){if(Gr.isValidType(T)){var A=j2.get(T,"inactive",f);null!=A&&(x[T]=A,"color"===T&&!x.hasOwnProperty("opacity")&&!x.hasOwnProperty("colorAlpha")&&(x.opacity=[0,0]))}}))}.call(this,u,"inRange","outOfRange"),function g(m){var _=(m.inRange||{}).symbol||(m.outOfRange||{}).symbol,w=(m.inRange||{}).symbolSize||(m.outOfRange||{}).symbolSize,S=this.get("inactiveColor"),D=this.getItemSymbol()||"roundRect";W2(this.stateList,function(T){var A=this.itemSize,E=m[T];E||(E=m[T]={color:f?S:[S]}),null==E.symbol&&(E.symbol=_&&Ge(_)||(f?D:[D])),null==E.symbolSize&&(E.symbolSize=w&&Ge(w)||(f?A[0]:[A[0],A[0]])),E.symbol=Og(E.symbol,function(k){return"none"===k?D:k});var P=E.symbolSize;if(null!=P){var N=-1/0;Rq(P,function(k){k>N&&(N=k)}),E.symbolSize=Og(P,function(k){return q2(k,[0,N],[0,A[0]],!0)})}},this)}.call(this,c)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Lt);const G_=Z2;var U5=[20,140],j5=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.optionUpdated=function(e,o){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(s){s.mappingMethod="linear",s.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=U5[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=U5[1])},t.prototype._resetRange=function(){var e=this.getExtent(),o=this.option.range;!o||o.auto?(e.auto=1,this.option.range=e):ge(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],e[0]),o[1]=Math.min(o[1],e[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),H(this.stateList,function(e){var o=this.option.controller[e].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),o=Co((this.get("range")||[]).slice());return o[0]>e[1]&&(o[0]=e[1]),o[1]>e[1]&&(o[1]=e[1]),o[0]<e[0]&&(o[0]=e[0]),o[1]<e[0]&&(o[1]=e[0]),o},t.prototype.getValueState=function(e){var o=this.option.range,s=this.getExtent();return(o[0]<=s[0]||o[0]<=e)&&(o[1]>=s[1]||e<=o[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var o=[];return this.eachTargetSeries(function(s){var u=[],c=s.getData();c.each(this.getDataDimensionIndex(c),function(f,d){e[0]<=f&&f<=e[1]&&u.push(d)},this),o.push({seriesId:s.id,dataIndex:u})},this),o},t.prototype.getVisualMeta=function(e){var o=yx(0,0,this.getExtent()),s=yx(0,0,this.option.range.slice()),u=[];function c(w,S){u.push({value:w,color:e(w,S)})}for(var f=0,d=0,v=s.length,g=o.length;d<g&&(!s.length||o[d]<=s[0]);d++)o[d]<s[f]&&c(o[d],"outOfRange");for(var m=1;f<v;f++,m=0)m&&u.length&&c(s[f],"outOfRange"),c(s[f],"inRange");for(m=1;d<g;d++)(!s.length||s[s.length-1]<o[d])&&(m&&(u.length&&c(u[u.length-1].value,"outOfRange"),m=0),c(o[d],"outOfRange"));var _=u.length;return{stops:u,outerColors:[_?u[0].color:"transparent",_?u[_-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=gu(G_.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(G_);function yx(r,t,e){if(e[0]===e[1])return e.slice();for(var s=(e[1]-e[0])/200,u=e[0],c=[],f=0;f<=200&&u<e[1];f++)c.push(u),u+=s;return c.push(e[1]),c}const kq=j5;var W5=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return ae(t,r),t.prototype.init=function(e,o){this.ecModel=e,this.api=o},t.prototype.render=function(e,o,s,u){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,o,s,u):this.group.removeAll()},t.prototype.renderBackground=function(e){var o=this.visualMapModel,s=yu(o.get("padding")||0),u=e.getBoundingRect();e.add(new Ot({z2:-1,silent:!0,shape:{x:u.x-s[3],y:u.y-s[0],width:u.width+s[3]+s[1],height:u.height+s[0]+s[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,o,s){var u=(s=s||{}).forceState,c=this.visualMapModel,f={};if("color"===o){var d=c.get("contentColor");f.color=d}function v(w){return f[w]}function g(w,S){f[w]=S}var m=c.controllerVisuals[u||c.getValueState(e)];return H(Gr.prepareVisualTypes(m),function(w){var S=m[w];s.convertOpacityToAlpha&&"opacity"===w&&(w="colorAlpha",S=m.__alphaForOpacity),Gr.dependsOn(w,o)&&S&&S.applyVisual(e,v,g)}),f[o]},t.prototype.positionGroup=function(e){var s=this.api;Mf(e,this.visualMapModel.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})},t.prototype.doRender=function(e,o,s,u){},t.type="visualMap",t}(Bn);const $5=W5;var q5=[["left","right","width"],["top","bottom","height"]];function Z5(r,t,e){var o=r.option,s=o.align;if(null!=s&&"auto"!==s)return s;for(var u={width:t.getWidth(),height:t.getHeight()},c="horizontal"===o.orient?1:0,f=q5[c],d=[0,null,10],v={},g=0;g<3;g++)v[q5[1-c][g]]=d[g],v[f[g]]=2===g?e[0]:o[f[g]];var m=[["x","width",3],["y","height",0]][c],_=Ar(v,u,o.padding);return f[(_.margin[m[2]]||0)+_[m[0]]+.5*_[m[1]]<.5*u[m[1]]?0:1]}function qd(r,t){return H(r||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var Ss=on,Y5=H,_x=Math.min,bx=Math.max,Nq=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return ae(t,r),t.prototype.doRender=function(e,o,s,u){this._api=s,(!u||"selectDataRange"!==u.type||u.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,o=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(o);var s=e.get("text");this._renderEndsText(o,s,0),this._renderEndsText(o,s,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},t.prototype._renderEndsText=function(e,o,s){if(o){var u=o[1-s];u=null!=u?u+"":"";var c=this.visualMapModel,f=c.get("textGap"),d=c.itemSize,v=this._shapes.mainGroup,g=this._applyTransform([d[0]/2,0===s?-f:d[1]+f],v),m=this._applyTransform(0===s?"bottom":"top",v),_=this._orient;this.group.add(new Nt({style:gn(this.visualMapModel.textStyleModel,{x:g[0],y:g[1],verticalAlign:"horizontal"===_?"middle":m,align:"horizontal"===_?m:"center",text:u})}))}},t.prototype._renderBar=function(e){var o=this.visualMapModel,s=this._shapes,u=o.itemSize,c=this._orient,f=this._useHandle,d=Z5(o,this.api,u),v=s.mainGroup=this._createBarGroup(d),g=new Ze;v.add(g),g.add(s.outOfRange=X5()),g.add(s.inRange=X5(null,f?J5(this._orient):null,Me(this._dragHandle,this,"all",!1),Me(this._dragHandle,this,"all",!0))),g.setClipPath(new Ot({shape:{x:0,y:0,width:u[0],height:u[1],r:3}}));var m=o.textStyleModel.getTextRect("\u56fd"),_=bx(m.width,m.height);f&&(s.handleThumbs=[],s.handleLabels=[],s.handleLabelPoints=[],this._createHandle(o,v,0,u,_,c),this._createHandle(o,v,1,u,_,c)),this._createIndicator(o,v,u,_,c),e.add(v)},t.prototype._createHandle=function(e,o,s,u,c,f){var d=Me(this._dragHandle,this,s,!1),v=Me(this._dragHandle,this,s,!0),g=Ya(e.get("handleSize"),u[0]),m=ar(e.get("handleIcon"),-g/2,-g/2,g,g,null,!0),_=J5(this._orient);m.attr({cursor:_,draggable:!0,drift:d,ondragend:v,onmousemove:function(T){ha(T.event)}}),m.x=u[0]/2,m.useStyle(e.getModel("handleStyle").getItemStyle()),m.setStyle({strokeNoScale:!0,strokeFirst:!0}),m.style.lineWidth*=2,m.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Kr(m,!0),o.add(m);var S=new Nt({cursor:_,draggable:!0,drift:d,onmousemove:function(T){ha(T.event)},ondragend:v,style:gn(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});S.ensureState("blur").style={opacity:.1},S.stateTransition={duration:200},this.group.add(S);var x=[g,0],D=this._shapes;D.handleThumbs[s]=m,D.handleLabelPoints[s]=x,D.handleLabels[s]=S},t.prototype._createIndicator=function(e,o,s,u,c){var f=Ya(e.get("indicatorSize"),s[0]),d=ar(e.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);d.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2});var v=e.getModel("indicatorStyle").getItemStyle();if(d instanceof bn){var g=d.style;d.useStyle(ce({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},v))}else d.useStyle(v);o.add(d);var _=new Nt({silent:!0,invisible:!0,style:gn(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(_);var w=[("horizontal"===c?u/2:6)+s[0]/2,0],S=this._shapes;S.indicator=d,S.indicatorLabel=_,S.indicatorLabelPoint=w,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,o,s,u){if(this._useHandle){if(this._dragging=!o,!o){var c=this._applyTransform([s,u],this._shapes.mainGroup,!0);this._updateInterval(e,c[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():Q5(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,o=this._dataInterval=e.getSelected(),s=e.getExtent(),u=[0,e.itemSize[1]];this._handleEnds=[Ss(o[0],s,u,!0),Ss(o[1],s,u,!0)]},t.prototype._updateInterval=function(e,o){var s=this.visualMapModel,u=this._handleEnds,c=[0,s.itemSize[1]];na(o=o||0,u,c,e,0);var f=s.getExtent();this._dataInterval=[Ss(u[0],c,f,!0),Ss(u[1],c,f,!0)]},t.prototype._updateView=function(e){var o=this.visualMapModel,s=o.getExtent(),u=this._shapes,c=[0,o.itemSize[1]],f=e?c:this._handleEnds,d=this._createBarVisual(this._dataInterval,s,f,"inRange"),v=this._createBarVisual(s,s,c,"outOfRange");u.inRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),u.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(f,d)},t.prototype._createBarVisual=function(e,o,s,u){var c={forceState:u,convertOpacityToAlpha:!0},f=this._makeColorGradient(e,c),d=[this.getControllerVisual(e[0],"symbolSize",c),this.getControllerVisual(e[1],"symbolSize",c)],v=this._createBarPoints(s,d);return{barColor:new cv(0,0,0,1,f),barPoints:v,handlesColor:[f[0].color,f[f.length-1].color]}},t.prototype._makeColorGradient=function(e,o){var u=[],c=(e[1]-e[0])/100;u.push({color:this.getControllerVisual(e[0],"color",o),offset:0});for(var f=1;f<100;f++){var d=e[0]+c*f;if(d>e[1])break;u.push({color:this.getControllerVisual(d,"color",o),offset:f/100})}return u.push({color:this.getControllerVisual(e[1],"color",o),offset:1}),u},t.prototype._createBarPoints=function(e,o){var s=this.visualMapModel.itemSize;return[[s[0]-o[0],e[0]],[s[0],e[0]],[s[0],e[1]],[s[0]-o[1],e[1]]]},t.prototype._createBarGroup=function(e){var o=this._orient,s=this.visualMapModel.get("inverse");return new Ze("horizontal"!==o||s?"horizontal"===o&&s?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==o||s?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,o){if(this._useHandle){var s=this._shapes,u=this.visualMapModel,c=s.handleThumbs,f=s.handleLabels,d=u.itemSize,v=u.getExtent();Y5([0,1],function(g){var m=c[g];m.setStyle("fill",o.handlesColor[g]),m.y=e[g];var _=Ss(e[g],[0,d[1]],v,!0),w=this.getControllerVisual(_,"symbolSize");m.scaleX=m.scaleY=w/d[0],m.x=d[0]-w/2;var S=Da(s.handleLabelPoints[g],Au(m,this.group));f[g].setStyle({x:S[0],y:S[1],text:u.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",s.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,o,s,u){var c=this.visualMapModel,f=c.getExtent(),d=c.itemSize,v=[0,d[1]],g=this._shapes,m=g.indicator;if(m){m.attr("invisible",!1);var w=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),S=this.getControllerVisual(e,"symbolSize"),x=Ss(e,f,v,!0),D=d[0]-S/2,T={x:m.x,y:m.y};m.y=x,m.x=D;var A=Da(g.indicatorLabelPoint,Au(m,this.group)),E=g.indicatorLabel;E.attr("invisible",!1);var P=this._applyTransform("left",g.mainGroup),k="horizontal"===this._orient;E.setStyle({text:(s||"")+c.formatValueText(o),verticalAlign:k?P:"middle",align:k?"center":P});var F={x:D,y:x,style:{fill:w}},B={style:{x:A[0],y:A[1]}};if(c.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var z={duration:100,easing:"cubicInOut",additive:!0};m.x=T.x,m.y=T.y,m.animateTo(F,z),E.animateTo(B,z)}else m.attr(F),E.attr(B);this._firstShowIndicator=!1;var j=this._shapes.handleLabels;if(j)for(var W=0;W<j.length;W++)this._api.enterBlur(j[W])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(o){if(e._hovering=!0,!e._dragging){var s=e.visualMapModel.itemSize,u=e._applyTransform([o.offsetX,o.offsetY],e._shapes.mainGroup,!0,!0);u[1]=_x(bx(0,u[1]),s[1]),e._doHoverLinkToSeries(u[1],0<=u[0]&&u[0]<=s[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,o){var s=this.visualMapModel;if(s.option.hoverLink){var c=[0,s.itemSize[1]],f=s.getExtent();e=_x(bx(c[0],e),c[1]);var d=function K5(r,t,e){var o=6,s=r.get("hoverLinkDataSize");return s&&(o=Ss(s,t,e,!0)/2),o}(s,f,c),v=[e-d,e+d],g=Ss(e,c,f,!0),m=[Ss(v[0],c,f,!0),Ss(v[1],c,f,!0)];v[0]<c[0]&&(m[0]=-1/0),v[1]>c[1]&&(m[1]=1/0),o&&(m[0]===-1/0?this._showIndicator(g,m[1],"< ",d):m[1]===1/0?this._showIndicator(g,m[0],"> ",d):this._showIndicator(g,g,"\u2248 ",d));var _=this._hoverLinkDataIndices,w=[];(o||Q5(s))&&(w=this._hoverLinkDataIndices=s.findTargetDataIndices(m));var S=function qw(r,t){var e={},o={};return s(r||[],e),s(t||[],o,e),[u(e),u(o)];function s(c,f,d){for(var v=0,g=c.length;v<g;v++){var m=vr(c[v].seriesId,null);if(null==m)return;for(var _=nn(c[v].dataIndex),w=d&&d[m],S=0,x=_.length;S<x;S++){var D=_[S];w&&w[D]?w[D]=null:(f[m]||(f[m]={}))[D]=1}}}function u(c,f){var d=[];for(var v in c)if(c.hasOwnProperty(v)&&null!=c[v])if(f)d.push(+v);else{var g=u(c[v],!0);g.length&&d.push({seriesId:v,dataIndex:g})}return d}}(_,w);this._dispatchHighDown("downplay",qd(S[0],s)),this._dispatchHighDown("highlight",qd(S[1],s))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var o;if(jf(e.target,function(d){var v=et(d);if(null!=v.dataIndex)return o=v,!0},!0),o){var s=this.ecModel.getSeriesByIndex(o.seriesIndex),u=this.visualMapModel;if(u.isTargetSeries(s)){var c=s.getData(o.dataType),f=c.getStore().get(u.getDataDimensionIndex(c),o.dataIndex);isNaN(f)||this._showIndicator(f,f)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var s=0;s<o.length;s++)this._api.leaveBlur(o[s])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",qd(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,o,s,u){var c=Au(o,u?null:this.group);return ge(e)?Da(e,c,s):Ry(e,c,s)},t.prototype._dispatchHighDown=function(e,o){o&&o.length&&this.api.dispatchAction({type:e,batch:o})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}($5);function X5(r,t,e,o){return new to({shape:{points:r},draggable:!!e,cursor:t,drift:e,onmousemove:function(s){ha(s.event)},ondragend:o})}function Q5(r){return!!(r.get("hoverLinkOnHandle")??r.get("realtime"))}function J5(r){return"vertical"===r?"ns-resize":"ew-resize"}const Fq=Nq;var Vq={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Bq=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(e){e.setSelected(r.selected)})},zq=[{createOnAllSeries:!0,reset:function(r,t){var e=[];return t.eachComponent("visualMap",function(o){var s=r.pipelineContext;!o.isTargetSeries(r)||s&&s.large||e.push(function ox(r,t,e,o){var s={};return H(r,function(u){var c=Gr.prepareVisualTypes(t[u]);s[u]=c}),{progress:function(c,f){var d;function v(N){return uS(f,m,N)}function g(N,k){CO(f,m,N,k)}null!=o&&(d=f.getDimensionIndex(o));for(var m,_=f.getStore();null!=(m=c.next());){var w=f.getRawDataItem(m);if(!w||!1!==w.visualMap)for(var S=null!=o?_.get(d,m):m,x=e(S),D=t[x],T=s[x],A=0,E=T.length;A<E;A++){var P=T[A];D[P]&&D[P].applyVisual(S,v,g)}}}}}(o.stateList,o.targetVisuals,Me(o.getValueState,o),o.getDataDimensionIndex(r.getData())))}),e}},{createOnAllSeries:!0,reset:function(r,t){var e=r.getData(),o=[];t.eachComponent("visualMap",function(s){if(s.isTargetSeries(r)){var u=s.getVisualMeta(Me(Hq,null,r,s))||{stops:[],outerColors:[]},c=s.getDataDimensionIndex(e);c>=0&&(u.dimension=c,o.push(u))}}),r.getData().setVisual("visualMeta",o)}}];function Hq(r,t,e,o){for(var s=t.targetVisuals[o],u=Gr.prepareVisualTypes(s),c={color:Hy(r.getData(),"color")},f=0,d=u.length;f<d;f++){var v=u[f],g=s["opacity"===v?"__alphaForOpacity":v];g&&g.applyVisual(e,m,_)}return c.color;function m(w){return c[w]}function _(w,S){c[w]=S}}var eH=H;function Y2(r){var t=r&&r.visualMap;ge(t)||(t=t?[t]:[]),eH(t,function(e){if(e){tc(e,"splitList")&&!tc(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var o=e.pieces;o&&ge(o)&&eH(o,function(s){Ue(s)&&(tc(s,"start")&&!tc(s,"min")&&(s.min=s.start),tc(s,"end")&&!tc(s,"max")&&(s.max=s.end))})}})}function tc(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var Gq=!1;function Ng(r){Gq||(Gq=!0,r.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),r.registerAction(Vq,Bq),H(zq,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(Y2))}function tH(r){r.registerComponentModel(kq),r.registerComponentView(Fq),Ng(r)}var X2=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return ae(t,r),t.prototype.optionUpdated=function(e,o){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],Uq[this._mode].call(this,this._pieceList),this._resetSelected(e,o);var u=this.option.categories;this.resetVisual(function(c,f){"categories"===s?(c.mappingMethod="category",c.categories=Ge(u)):(c.dataExtent=this.getExtent(),c.mappingMethod="piecewise",c.pieceList=me(this._pieceList,function(d){return d=Ge(d),"inRange"!==f&&(d.visual=null),d}))})},t.prototype.completeVisualOption=function(){var e=this.option,o={},s=Gr.listVisualTypes(),u=this.isCategory();function c(f,d,v){return f&&f[d]&&f[d].hasOwnProperty(v)}H(e.pieces,function(f){H(s,function(d){f.hasOwnProperty(d)&&(o[d]=1)})}),H(o,function(f,d){var v=!1;H(this.stateList,function(g){v=v||c(e,g,d)||c(e.target,g,d)},this),!v&&H(this.stateList,function(g){(e[g]||(e[g]={}))[d]=j2.get(d,"inRange"===g?"active":"inactive",u)})},this),r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,o){var s=this.option,u=this._pieceList,c=(o?s:e).selected||{};if(s.selected=c,H(u,function(d,v){var g=this.getSelectedMapKey(d);c.hasOwnProperty(g)||(c[g]=!0)},this),"single"===s.selectedMode){var f=!1;H(u,function(d,v){var g=this.getSelectedMapKey(d);c[g]&&(f?c[g]=!1:f=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Ge(e)},t.prototype.getValueState=function(e){var o=Gr.findPieceIndex(e,this._pieceList);return null!=o&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var o=[],s=this._pieceList;return this.eachTargetSeries(function(u){var c=[],f=u.getData();f.each(this.getDataDimensionIndex(f),function(d,v){Gr.findPieceIndex(d,s)===e&&c.push(v)},this),o.push({seriesId:u.id,dataIndex:c})},this),o},t.prototype.getRepresentValue=function(e){var o;if(this.isCategory())o=e.value;else if(null!=e.value)o=e.value;else{var s=e.interval||[];o=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return o},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var o=[],s=["",""],u=this,f=this._pieceList.slice();if(f.length){var d=f[0].interval[0];d!==-1/0&&f.unshift({interval:[-1/0,d]}),(d=f[f.length-1].interval[1])!==1/0&&f.push({interval:[d,1/0]})}else f.push({interval:[-1/0,1/0]});var v=-1/0;return H(f,function(g){var m=g.interval;m&&(m[0]>v&&c([v,m[0]],"outOfRange"),c(m.slice()),v=m[1])},this),{stops:o,outerColors:s}}function c(g,m){var _=u.getRepresentValue({interval:g});m||(m=u.getValueState(_));var w=e(_,m);g[0]===-1/0?s[0]=w:g[1]===1/0?s[1]=w:o.push({value:g[0],color:w},{value:g[1],color:w})}},t.type="visualMap.piecewise",t.defaultOption=gu(G_.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(G_),Uq={splitNumber:function(r){var t=this.option,e=Math.min(t.precision,20),o=this.getExtent(),s=t.splitNumber;s=Math.max(parseInt(s,10),1),t.splitNumber=s;for(var u=(o[1]-o[0])/s;+u.toFixed(e)!==u&&e<5;)e++;t.precision=e,u=+u.toFixed(e),t.minOpen&&r.push({interval:[-1/0,o[0]],close:[0,0]});for(var c=0,f=o[0];c<s;f+=u,c++)r.push({interval:[f,c===s-1?o[1]:f+u],close:[1,1]});t.maxOpen&&r.push({interval:[o[1],1/0],close:[0,0]}),js(r),H(r,function(v,g){v.index=g,v.text=this.formatValueText(v.interval)},this)},categories:function(r){var t=this.option;H(t.categories,function(e){r.push({text:this.formatValueText(e,!0),value:e})},this),K2(t,r)},pieces:function(r){var t=this.option;H(t.pieces,function(e,o){Ue(e)||(e={value:e});var s={text:"",index:o};if(null!=e.label&&(s.text=e.label),e.hasOwnProperty("value")){var u=s.value=e.value;s.interval=[u,u],s.close=[1,1]}else{for(var c=s.interval=[],f=s.close=[0,0],d=[1,0,1],v=[-1/0,1/0],g=[],m=0;m<2;m++){for(var _=[["gte","gt","min"],["lte","lt","max"]][m],w=0;w<3&&null==c[m];w++)c[m]=e[_[w]],f[m]=d[w],g[m]=2===w;null==c[m]&&(c[m]=v[m])}g[0]&&c[1]===1/0&&(f[0]=0),g[1]&&c[0]===-1/0&&(f[1]=0),c[0]===c[1]&&f[0]&&f[1]&&(s.value=c[0])}s.visual=Gr.retrieveVisuals(e),r.push(s)},this),K2(t,r),js(r),H(r,function(e){var o=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][o[1]],[">","\u2265"][o[0]]])},this)}};function K2(r,t){var e=r.inverse;("vertical"===r.orient?!e:e)&&t.reverse()}const aQ=X2;var nH=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type=t.type,e}return ae(t,r),t.prototype.doRender=function(){var e=this.group;e.removeAll();var o=this.visualMapModel,s=o.get("textGap"),u=o.textStyleModel,c=u.getFont(),f=u.getTextColor(),d=this._getItemAlign(),v=o.itemSize,g=this._getViewData(),m=g.endsText,_=$t(o.get("showLabel",!0),!m);m&&this._renderEndsText(e,m[0],v,_,d),H(g.viewPieceList,function(w){var S=w.piece,x=new Ze;x.onclick=Me(this._onItemClick,this,S),this._enableHoverLink(x,w.indexInModelPieceList);var D=o.getRepresentValue(S);if(this._createItemSymbol(x,D,[0,0,v[0],v[1]]),_){var T=this.visualMapModel.getValueState(D);x.add(new Nt({style:{x:"right"===d?-s:v[0]+s,y:v[1]/2,text:S.text,verticalAlign:"middle",align:d,font:c,fill:f,opacity:"outOfRange"===T?.5:1}}))}e.add(x)},this),m&&this._renderEndsText(e,m[1],v,_,d),Rc(o.get("orient"),e,o.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,o){var s=this;e.on("mouseover",function(){return u("highlight")}).on("mouseout",function(){return u("downplay")});var u=function(c){var f=s.visualMapModel;f.option.hoverLink&&s.api.dispatchAction({type:c,batch:qd(f.findTargetDataIndices(o),f)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,o=e.option;if("vertical"===o.orient)return Z5(e,this.api,e.itemSize);var s=o.align;return(!s||"auto"===s)&&(s="left"),s},t.prototype._renderEndsText=function(e,o,s,u,c){if(o){var f=new Ze;f.add(new Nt({style:gn(this.visualMapModel.textStyleModel,{x:u?"right"===c?s[0]:0:s[0]/2,y:s[1]/2,verticalAlign:"middle",align:u?c:"center",text:o})})),e.add(f)}},t.prototype._getViewData=function(){var e=this.visualMapModel,o=me(e.getPieceList(),function(f,d){return{piece:f,indexInModelPieceList:d}}),s=e.get("text"),u=e.get("orient"),c=e.get("inverse");return("horizontal"===u?c:!c)?o.reverse():s&&(s=s.slice().reverse()),{viewPieceList:o,endsText:s}},t.prototype._createItemSymbol=function(e,o,s){e.add(ar(this.getControllerVisual(o,"symbol"),s[0],s[1],s[2],s[3],this.getControllerVisual(o,"color")))},t.prototype._onItemClick=function(e){var o=this.visualMapModel,s=o.option,u=s.selectedMode;if(u){var c=Ge(s.selected),f=o.getSelectedMapKey(e);"single"===u||!0===u?(c[f]=!0,H(c,function(d,v){c[v]=v===f})):c[f]=!c[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:c})}},t.type="visualMap.piecewise",t}($5);const Cx=nH;function rH(r){r.registerComponentModel(aQ),r.registerComponentView(Cx),Ng(r)}var sQ={label:{enabled:!0},decal:{show:!1}},U_=zt(),Q2={};function jq(r,t){var e=r.getModel("aria");if(e.get("enabled")){var o=Ge(sQ);tt(o.label,r.getLocaleModel().get("aria"),!1),tt(e.option,o,!1),function s(){if(e.getModel("decal").get("show")){var m=Re();r.eachSeries(function(_){if(!_.isColorBySeries()){var w=m.get(_.type);w||m.set(_.type,w={}),U_(_).scope=w}}),r.eachRawSeries(function(_){if(!r.isSeriesFiltered(_))if(Ne(_.enableAriaDecal))_.enableAriaDecal();else{var w=_.getData();if(_.isColorBySeries()){var A=mr(_.ecModel,_.name,Q2,r.getSeriesCount()),E=w.getVisual("decal");w.setVisual("decal",P(E,A))}else{var S=_.getRawData(),x={},D=U_(_).scope;w.each(function(N){var k=w.getRawIndex(N);x[k]=N});var T=S.count();S.each(function(N){var k=x[N],F=S.getName(N)||N+"",B=mr(_.ecModel,F,D,T),z=w.getItemVisual(k,"decal");w.setItemVisual(k,"decal",P(z,B))})}}function P(N,k){var F=N?ce(ce({},k),N):k;return F.dirty=!0,F}})}}(),function u(){var v=r.getLocaleModel().get("aria"),g=e.getModel("label");if(g.option=Ve(g.option,v),g.get("enabled")){var m=t.getZr().dom;if(g.get("description"))return void m.setAttribute("aria-label",g.get("description"));var D,_=r.getSeriesCount(),w=g.get(["data","maxCount"])||10,S=g.get(["series","maxCount"])||10,x=Math.min(_,S);if(!(_<1)){var T=function f(){var v=r.get("title");return v&&v.length&&(v=v[0]),v&&v.text}();D=T?c(g.get(["general","withTitle"]),{title:T}):g.get(["general","withoutTitle"]);var E=[];D+=c(g.get(_>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:_}),r.eachSeries(function(B,z){if(z<x){var j=void 0,q=B.get("name")?"withName":"withoutName";j=c(j=g.get(_>1?["series","multiple",q]:["series","single",q]),{seriesId:B.seriesIndex,seriesName:B.get("name"),seriesType:d(B.subType)});var Y=B.getData();Y.count()>w?j+=c(g.get(["data","partialData"]),{displayCnt:w}):j+=g.get(["data","allData"]);for(var Q=g.get(["data","separator","middle"]),re=g.get(["data","separator","end"]),le=[],se=0;se<Y.count();se++)if(se<w){var de=Y.getName(se),be=Y.getValues(se),De=g.get(["data",de?"withName":"withoutName"]);le.push(c(De,{name:de,value:be.join(Q)}))}j+=le.join(Q)+re,E.push(j)}});var N=g.getModel(["series","multiple","separator"]),k=N.get("middle"),F=N.get("end");D+=E.join(k)+F,m.setAttribute("aria-label",D)}}}()}function c(v,g){if(!xe(v))return v;var m=v;return H(g,function(_,w){m=m.replace(new RegExp("\\{\\s*"+w+"\\s*\\}","g"),_)}),m}function d(v){return r.getLocaleModel().get(["series","typeNames"])[v]||"\u81ea\u5b9a\u4e49\u56fe"}}function Wq(r){if(r&&r.aria){var t=r.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},H(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var $q={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},uQ=function(){function r(t){null==(this._condVal=xe(t)?new RegExp(t):la(t)?t:null)&&an("")}return r.prototype.evaluate=function(t){var e=typeof t;return xe(e)?this._condVal.test(t):!!kt(e)&&this._condVal.test(t+"")},r}(),qq=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),xx=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},r}(),cQ=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},r}(),Zq=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),iH=function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,o=(0,this.getValue)(this.valueGetterParam),s=t?this.valueParser(o):null,u=0;u<this.subCondList.length;u++)if(!this.subCondList[u].evaluate(t?s:o))return!1;return!0},r}();function J2(r,t){if(!0===r||!1===r){var e=new qq;return e.value=r,e}return Xq(r)||an(""),r.and?Il("and",r,t):r.or?Il("or",r,t):r.not?function Yq(r,t){var e=r.not;Xq(e)||an("");var s=new Zq;return s.child=J2(e,t),s.child||an(""),s}(r,t):function oH(r,t){for(var o=t.prepareGetValue(r),s=[],u=pt(r),c=r.parser,f=c?Hb(c):null,d=0;d<u.length;d++){var v=u[d];if("parser"!==v&&!t.valueGetterAttrMap.get(v)){var g=Ee($q,v)?$q[v]:v,m=r[v],_=f?f(m):m,w=Mk(g,_)||"reg"===g&&new uQ(_);w||an(""),s.push(w)}}s.length||an("");var S=new iH;return S.valueGetterParam=o,S.valueParser=f,S.getValue=t.getValue,S.subCondList=s,S}(r,t)}function Il(r,t,e){var o=t[r];ge(o)||an(""),o.length||an("");var u="and"===r?new xx:new cQ;return u.children=me(o,function(c){return J2(c,e)}),u.children.length||an(""),u}function Xq(r){return Ue(r)&&!$r(r)}var aH=function(){function r(t,e){this._cond=J2(t,e)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}(),eL={type:"echarts:filter",transform:function(r){for(var e,t=r.upstream,o=function j_(r,t){return new aH(r,t)}(r.config,{valueGetterAttrMap:Re({dimension:!0}),prepareGetValue:function(f){var v=f.dimension;Ee(f,"dimension")||an("");var g=t.getDimensionInfo(v);return g||an(""),{dimIdx:g.index}},getValue:function(f){return t.retrieveValueFromItem(e,f.dimIdx)}}),s=[],u=0,c=t.count();u<c;u++)e=t.getRawDataItem(u),o.evaluate()&&s.push(e);return{data:s}}},sH={type:"echarts:sort",transform:function(r){var t=r.upstream,o="",s=nn(r.config);s.length||an(o);var u=[];H(s,function(g){var m=g.dimension,_=g.order,w=g.parser,S=g.incomparable;null==m&&an(o),"asc"!==_&&"desc"!==_&&an(o),S&&"min"!==S&&"max"!==S&&an(""),"asc"!==_&&"desc"!==_&&an("");var T=t.getDimensionInfo(m);T||an(o);var A=w?Hb(w):null;w&&!A&&an(o),u.push({dimIdx:T.index,parser:A,comparator:new Dk(_,S)})});var c=t.sourceFormat;c!==dn&&c!==ba&&an(o);for(var f=[],d=0,v=t.count();d<v;d++)f.push(t.getRawDataItem(d));return f.sort(function(g,m){for(var _=0;_<u.length;_++){var w=u[_],S=t.retrieveValueFromItem(g,w.dimIdx),x=t.retrieveValueFromItem(m,w.dimIdx);w.parser&&(S=w.parser(S),x=w.parser(x));var D=w.comparator.evaluate(S,x);if(0!==D)return D}return 0}),{data:f}}},fQ=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="dataset",e}return ae(t,r),t.prototype.init=function(e,o,s){r.prototype.init.call(this,e,o,s),this._sourceManager=new kk(this),ZT(this)},t.prototype.mergeOption=function(e,o){r.prototype.mergeOption.call(this,e,o),ZT(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Qs},t}(Lt),dQ=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="dataset",e}return ae(t,r),t.type="dataset",t}(Bn),nc=Zs.CMD;function Pl(r,t){return Math.abs(r-t)<1e-5}function Dx(r){var s,Y,K,Q,re,le,se,de,be,De,Fe,$e,We,dt,Ke,_t,st,Be,t=r.data,e=r.len(),o=[],u=0,c=0,f=0,d=0;function v(Y,K){s&&s.length>2&&o.push(s),s=[Y,K]}function g(Y,K,Q,re){Pl(Y,Q)&&Pl(K,re)||s.push(Y,K,Q,re,Q,re)}for(var _,w,S,x,D=0;D<e;){var T=t[D++],A=1===D;switch(A&&(f=u=t[D],d=c=t[D+1],(T===nc.L||T===nc.C||T===nc.Q)&&(s=[f,d])),T){case nc.M:u=f=t[D++],c=d=t[D++],v(f,d);break;case nc.L:g(u,c,_=t[D++],w=t[D++]),u=_,c=w;break;case nc.C:s.push(t[D++],t[D++],t[D++],t[D++],u=t[D++],c=t[D++]);break;case nc.Q:_=t[D++],w=t[D++],S=t[D++],x=t[D++],s.push(u+2/3*(_-u),c+2/3*(w-c),S+2/3*(_-S),x+2/3*(w-x),S,x),u=S,c=x;break;case nc.A:var E=t[D++],P=t[D++],N=t[D++],k=t[D++],F=t[D++],B=t[D++]+F;D+=1;var z=!t[D++];_=Math.cos(F)*N+E,w=Math.sin(F)*k+P,A?v(f=_,d=w):g(u,c,_,w),u=Math.cos(B)*N+E,c=Math.sin(B)*k+P;for(var j=(z?-1:1)*Math.PI/2,W=F;z?W>B:W<B;W+=j){Y=W,K=z?Math.max(W+j,B):Math.min(W+j,B),Q=E,re=P,le=N,se=k,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,de=Math.abs(K-Y),be=4*Math.tan(de/4)/3,De=K<Y?-1:1,Fe=Math.cos(Y),$e=Math.sin(Y),We=Math.cos(K),dt=Math.sin(K),s.push(Fe*le+Q-(st=le*be*De)*$e,$e*se+re+(Be=se*be*De)*Fe,(Ke=We*le+Q)+st*dt,(_t=dt*se+re)-Be*We,Ke,_t)}break;case nc.R:f=u=t[D++],d=c=t[D++],_=f+t[D++],w=d+t[D++],v(_,d),g(_,d,_,w),g(_,w,f,w),g(f,w,f,d),g(f,d,_,d);break;case nc.Z:s&&g(u,c,f,d),u=f,c=d}}return s&&s.length>2&&o.push(s),o}function W_(r,t,e,o,s,u,c,f,d,v){if(Pl(r,e)&&Pl(t,o)&&Pl(s,c)&&Pl(u,f))d.push(c,f);else{var g=2/v,m=g*g,_=c-r,w=f-t,S=Math.sqrt(_*_+w*w);_/=S,w/=S;var x=e-r,D=o-t,T=s-c,A=u-f,E=x*x+D*D,P=T*T+A*A;if(E<m&&P<m)d.push(c,f);else{var N=_*x+w*D,k=-_*T-w*A;if(E-N*N<m&&N>=0&&P-k*k<m&&k>=0)d.push(c,f);else{var z=[],j=[];Qt(r,e,s,c,.5,z),Qt(t,o,u,f,.5,j),W_(z[0],j[0],z[1],j[1],z[2],j[2],z[3],j[3],d,v),W_(z[4],j[4],z[5],j[5],z[6],j[6],z[7],j[7],d,v)}}}}function uH(r,t,e){var u=Math.abs(r[t]/r[1-t]),c=Math.ceil(Math.sqrt(u*e)),f=Math.floor(e/c);0===f&&(f=1,c=e);for(var d=[],v=0;v<c;v++)d.push(f);var m=e-c*f;if(m>0)for(v=0;v<m;v++)d[v%c]+=1;return d}function cH(r,t,e){for(var o=r.r0,s=r.r,u=r.startAngle,f=Math.abs(r.endAngle-u),d=f*s,v=s-o,g=d>Math.abs(v),m=uH([d,v],g?0:1,t),_=(g?f:v)/m.length,w=0;w<m.length;w++)for(var S=(g?v:f)/m[w],x=0;x<m[w];x++){var D={};g?(D.startAngle=u+_*w,D.endAngle=u+_*(w+1),D.r0=o+S*x,D.r=o+S*(x+1)):(D.startAngle=u+S*x,D.endAngle=u+S*(x+1),D.r0=o+_*w,D.r=o+_*(w+1)),D.clockwise=r.clockwise,D.cx=r.cx,D.cy=r.cy,e.push(D)}}function hH(r,t,e,o){return r*o-e*t}function Qq(r,t,e,o,s,u,c,f){var d=e-r,v=o-t,g=c-s,m=f-u,_=hH(g,m,d,v);if(Math.abs(_)<1e-6)return null;var x=hH(r-s,t-u,g,m)/_;return x<0||x>1?null:new nt(x*d+r,x*v+t)}function Jq(r,t,e){var o=new nt;nt.sub(o,e,t),o.normalize();var s=new nt;return nt.sub(s,r,t),s.dot(o)}function Fg(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function fH(r){var t=r.points,e=[],o=[];eb(t,e,o);var s=new Xe(e[0],e[1],o[0]-e[0],o[1]-e[1]),u=s.width,c=s.height,f=s.x,d=s.y,v=new nt,g=new nt;return u>c?(v.x=g.x=f+u/2,v.y=d,g.y=d+c):(v.y=g.y=d+c/2,v.x=f,g.x=f+u),function eZ(r,t,e){for(var o=r.length,s=[],u=0;u<o;u++){var c=r[u],f=r[(u+1)%o],d=Qq(c[0],c[1],f[0],f[1],t.x,t.y,e.x,e.y);d&&s.push({projPt:Jq(d,t,e),pt:d,idx:u})}if(s.length<2)return[{points:r},{points:r}];s.sort(function(D,T){return D.projPt-T.projPt});var v=s[0],g=s[s.length-1];if(g.idx<v.idx){var m=v;v=g,g=m}var _=[v.pt.x,v.pt.y],w=[g.pt.x,g.pt.y],S=[_],x=[w];for(u=v.idx+1;u<=g.idx;u++)Fg(S,r[u].slice());for(Fg(S,w),Fg(S,_),u=g.idx+1;u<=v.idx+o;u++)Fg(x,r[u%o].slice());return Fg(x,_),Fg(x,w),[{points:S},{points:x}]}(t,v,g)}function Tx(r,t,e,o){if(1===e)o.push(t);else{var s=Math.floor(e/2),u=r(t);Tx(r,u[0],s,o),Tx(r,u[1],e-s,o)}return o}function nZ(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function iZ(r,t){var e=r.length,o=t.length;if(e===o)return[r,t];for(var s=[],u=[],c=e<o?r:t,f=Math.min(e,o),d=Math.abs(o-e)/6,g=Math.ceil(d/((f-2)/6))+1,m=[c[0],c[1]],_=d,w=2;w<f;){var S=c[w-2],x=c[w-1],D=c[w++],T=c[w++],A=c[w++],E=c[w++],P=c[w++],N=c[w++];if(_<=0)m.push(D,T,A,E,P,N);else{for(var k=Math.min(_,g-1)+1,F=1;F<=k;F++){var B=F/k;Qt(S,D,A,P,B,s),Qt(x,T,E,N,B,u),m.push(s[1],u[1],s[2],u[2],S=s[3],x=u[3]),D=s[5],T=u[5],A=s[6],E=u[6]}_-=k-1}}return c===r?[m,t]:[r,m]}function dH(r,t){for(var e=r.length,o=r[e-2],s=r[e-1],u=[],c=0;c<t.length;)u[c++]=o,u[c++]=s;return u}function tL(r){for(var t=0,e=0,o=0,s=r.length,u=0,c=s-2;u<s;c=u,u+=2){var f=r[c],d=r[c+1],v=r[u],g=r[u+1],m=f*g-v*d;t+=m,e+=(f+v)*m,o+=(d+g)*m}return 0===t?[r[0]||0,r[1]||0]:[e/t/3,o/t/3,t]}function pH(r,t,e,o){for(var s=(r.length-2)/6,u=1/0,c=0,f=r.length,d=f-2,v=0;v<s;v++){for(var g=6*v,m=0,_=0;_<f;_+=2){var w=0===_?g:(g+_-2)%d+2,A=t[_]-o[0]-(r[w]-e[0]),E=t[_+1]-o[1]-(r[w+1]-e[1]);m+=A*A+E*E}m<u&&(u=m,c=v)}return c}function oZ(r){for(var t=[],e=r.length,o=0;o<e;o+=2)t[o]=r[e-o-2],t[o+1]=r[e-o-1];return t}function Ax(r){return r.__isCombineMorphing}var Ph="__mOriginal_";function nL(r,t,e){var o=Ph+t,s=r[o]||r[t];r[o]||(r[o]=r[t]);var u=e.replace,c=e.after,f=e.before;r[t]=function(){var v,d=arguments;return f&&f.apply(this,d),v=u?u.apply(this,d):s.apply(this,d),c&&c.apply(this,d),v}}function $_(r,t){var e=Ph+t;r[e]&&(r[t]=r[e],r[e]=null)}function vH(r,t){for(var e=0;e<r.length;e++)for(var o=r[e],s=0;s<o.length;){var u=o[s],c=o[s+1];o[s++]=t[0]*u+t[2]*c+t[4],o[s++]=t[1]*u+t[3]*c+t[5]}}function gH(r,t){var e=r.getUpdatedPathProxy(),o=t.getUpdatedPathProxy(),s=function Mx(r,t){for(var e,o,s,u=[],c=[],f=0;f<Math.max(r.length,t.length);f++){var d=r[f],v=t[f],g=void 0,m=void 0;d?v?(o=g=(e=iZ(d,v))[0],s=m=e[1]):(m=dH(s||d,d),g=d):(g=dH(o||v,v),m=v),u.push(g),c.push(m)}return[u,c]}(Dx(e),Dx(o)),u=s[0],c=s[1],f=r.getComputedTransform(),d=t.getComputedTransform();f&&vH(u,f),d&&vH(c,d),nL(t,"updateTransform",{replace:function v(){this.transform=null}}),t.transform=null;var g=function aZ(r,t,e,o){for(var u,s=[],c=0;c<r.length;c++){var f=r[c],d=t[c],v=tL(f),g=tL(d);null==u&&(u=v[2]<0!=g[2]<0);var m=[],_=[],w=0,S=1/0,x=[],D=f.length;u&&(f=oZ(f));for(var T=6*pH(f,d,v,g),A=D-2,E=0;E<A;E+=2){var P=(T+E)%A+2;m[E+2]=f[P]-v[0],m[E+3]=f[P+1]-v[1]}if(m[0]=f[T]-v[0],m[1]=f[T+1]-v[1],e>0)for(var N=o/e,k=-o/2;k<=o/2;k+=N){var F=Math.sin(k),B=Math.cos(k),z=0;for(E=0;E<f.length;E+=2){var j=m[E],W=m[E+1],q=d[E]-g[0],Y=d[E+1]-g[1],K=q*B-Y*F,Q=q*F+Y*B;x[E]=K,x[E+1]=Q;var re=K-j,le=Q-W;z+=re*re+le*le}if(z<S){S=z,w=k;for(var se=0;se<x.length;se++)_[se]=x[se]}}else for(var de=0;de<D;de+=2)_[de]=d[de]-g[0],_[de+1]=d[de+1]-g[1];s.push({from:m,to:_,fromCp:v,toCp:g,rotation:-w})}return s}(u,c,10,Math.PI),m=[];nL(t,"buildPath",{replace:function(_){for(var w=t.__morphT,S=1-w,x=[],D=0;D<g.length;D++){var T=g[D],A=T.from,E=T.to,P=T.rotation*w,N=T.fromCp,k=T.toCp,F=Math.sin(P),B=Math.cos(P);Ns(x,N,k,w);for(var z=0;z<A.length;z+=2){var K=A[z]*S+(q=E[z])*w,Q=A[z+1]*S+(Y=E[z+1])*w;m[z]=K*B-Q*F+x[0],m[z+1]=K*F+Q*B+x[1]}var re=m[0],le=m[1];for(_.moveTo(re,le),z=2;z<A.length;){var q=m[z++],Y=m[z++],se=m[z++],de=m[z++],be=m[z++],De=m[z++];re===q&&le===Y&&se===be&&de===De?_.lineTo(be,De):_.bezierCurveTo(q,Y,se,de,be,De),re=be,le=De}}}})}function mH(r,t,e){if(!r||!t)return t;var o=e.done,s=e.during;return gH(r,t),t.__morphT=0,t.animateTo({__morphT:1},Ve({during:function(c){t.dirtyShape(),s&&s(c)},done:function(){(function u(){$_(t,"buildPath"),$_(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()})(),o&&o()}},e)),t}function mQ(r,t,e,o,s,u){r=s===e?0:Math.round(32767*(r-e)/(s-e)),t=u===o?0:Math.round(32767*(t-o)/(u-o));for(var d,f=0,v=32768;v>0;v/=2){var g=0,m=0;(r&v)>0&&(g=1),(t&v)>0&&(m=1),f+=v*v*(3*g^m),0===m&&(1===g&&(r=v-1-r,t=v-1-t),d=r,r=t,t=d)}return f}function rL(r){var t=1/0,e=1/0,o=-1/0,s=-1/0,u=me(r,function(f){var d=f.getBoundingRect(),v=f.getComputedTransform(),g=d.x+d.width/2+(v?v[4]:0),m=d.y+d.height/2+(v?v[5]:0);return t=Math.min(g,t),e=Math.min(m,e),o=Math.max(g,o),s=Math.max(m,s),[g,m]});return me(u,function(f,d){return{cp:f,z:mQ(f[0],f[1],t,e,o,s),path:r[d]}}).sort(function(f,d){return f.z-d.z}).map(function(f){return f.path})}function sZ(r){return function rZ(r,t){var s,e=[],o=r.shape;switch(r.type){case"rect":(function Kq(r,t,e){for(var o=r.width,s=r.height,u=o>s,c=uH([o,s],u?0:1,t),f=u?"width":"height",d=u?"height":"width",v=u?"x":"y",g=u?"y":"x",m=r[f]/c.length,_=0;_<c.length;_++)for(var w=r[d]/c[_],S=0;S<c[_];S++){var x={};x[v]=_*m,x[g]=S*w,x[f]=m,x[d]=w,x.x+=r.x,x.y+=r.y,e.push(x)}})(o,t,e),s=Ot;break;case"sector":cH(o,t,e),s=eo;break;case"circle":cH({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},t,e),s=eo;break;default:var u=r.getComputedTransform(),c=u?Math.sqrt(Math.max(u[0]*u[0]+u[1]*u[1],u[2]*u[2]+u[3]*u[3])):1,f=me(function lH(r,t){var e=Dx(r),o=[];t=t||1;for(var s=0;s<e.length;s++){var u=e[s],c=[],f=u[0],d=u[1];c.push(f,d);for(var v=2;v<u.length;){var g=u[v++],m=u[v++],_=u[v++],w=u[v++],S=u[v++],x=u[v++];W_(f,d,g,m,_,w,S,x,c,t),f=S,d=x}o.push(c)}return o}(r.getUpdatedPathProxy(),c),function(T){return function vQ(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}(T)}),d=f.length;if(0===d)Tx(fH,{points:f[0]},t,e);else if(d===t)for(var v=0;v<d;v++)e.push({points:f[v]});else{var g=0,m=me(f,function(T){var A=[],E=[];eb(T,A,E);var P=(E[1]-A[1])*(E[0]-A[0]);return g+=P,{poly:T,area:P}});m.sort(function(T,A){return A.area-T.area});var _=t;for(v=0;v<d;v++){var w=m[v];if(_<=0)break;var S=v===d-1?_:Math.ceil(w.area/g*t);S<0||(Tx(fH,{points:w.poly},S,e),_-=S)}}s=to}if(!s)return function tZ(r,t){for(var e=[],o=0;o<t;o++)e.push(Zb(r));return e}(r,t);var x=[];for(v=0;v<e.length;v++){var D=new s;D.setShape(e[v]),nZ(r,D),x.push(D)}return x}(r.path,r.count)}function yH(r){return ge(r[0])}function _H(r,t){for(var e=[],o=r.length,s=0;s<o;s++)e.push({one:r[s],many:[]});for(s=0;s<t.length;s++){var u=t[s].length,c=void 0;for(c=0;c<u;c++)e[c%o].many.push(t[s][c])}var f=0;for(s=o-1;s>=0;s--)if(!e[s].many.length){var d=e[f].many;if(d.length<=1){if(!f)return e;f=0}u=d.length;var v=Math.ceil(u/2);e[s].many=d.slice(v,u),e[f].many=d.slice(0,v),f++}return e}var cZ={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),o=0;o<r.count;o++){var s=Zb(r.path);s.setStyle("opacity",e),t.push(s)}return t},split:null};function iL(r,t,e,o,s,u){if(r.length&&t.length){var c=wf("update",o,s);if(c&&c.duration>0){var v,g,f=o.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},c);yH(r)&&(v=r,g=t),yH(t)&&(v=t,g=r);for(var _=v?v===r:r.length>t.length,w=v?_H(g,v):_H(_?t:r,[_?r:t]),S=0,x=0;x<w.length;x++)S+=w[x].many.length;var D=0;for(x=0;x<w.length;x++)m(w[x],_,D,S),D+=w[x].many.length}}function m(T,A,E,P,N){var k=T.many,F=T.one;if(1!==k.length||N)for(var W=Ve({dividePath:cZ[e],individualDelay:f&&function(le,se,de,be){return f(le+E,P)}},d),q=A?function lZ(r,t,e){var o=[];!function s(N){for(var k=0;k<N.length;k++){var F=N[k];Ax(F)?s(F.childrenRef()):F instanceof mt&&o.push(F)}}(r);var u=o.length;if(!u)return{fromIndividuals:[],toIndividuals:[],count:0};var f=(e.dividePath||sZ)({path:t,count:u});if(f.length!==u)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};o=rL(o),f=rL(f);for(var d=e.done,v=e.during,g=e.individualDelay,m=new tu,_=0;_<u;_++){var w=o[_],S=f[_];S.parent=t,S.copyTransform(m),g||gH(w,S)}function x(N){for(var k=0;k<f.length;k++)f[k].addSelfToZr(N)}function D(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,$_(t,"addSelfToZr"),$_(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return f},nL(t,"addSelfToZr",{after:function(N){x(N)}}),nL(t,"removeSelfFromZr",{after:function(N){for(var k=0;k<f.length;k++)f[k].removeSelfFromZr(N)}});var T=f.length;if(g){var A=T,E=function(){0==--A&&(D(),d&&d())};for(_=0;_<T;_++){var P=g?Ve({delay:(e.delay||0)+g(_,T,o[_],f[_]),done:E},e):e;mH(o[_],f[_],P)}}else t.__morphT=0,t.animateTo({__morphT:1},Ve({during:function(N){for(var k=0;k<T;k++){var F=f[k];F.__morphT=t.__morphT,F.dirtyShape()}v&&v(N)},done:function(){D();for(var N=0;N<r.length;N++)$_(r[N],"updateTransform");d&&d()}},e));return t.__zr&&x(t.__zr),{fromIndividuals:o,toIndividuals:f,count:T}}(k,F,W):function uZ(r,t,e){var o=t.length,s=[],u=e.dividePath||sZ;if(Ax(r)){!function c(w){for(var S=0;S<w.length;S++){var x=w[S];Ax(x)?c(x.childrenRef()):x instanceof mt&&s.push(x)}}(r.childrenRef());var f=s.length;if(f<o)for(var d=0,v=f;v<o;v++)s.push(Zb(s[d++%f]));s.length=o}else{s=u({path:r,count:o});var g=r.getComputedTransform();for(v=0;v<s.length;v++)s[v].setLocalTransform(g);if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}s=rL(s),t=rL(t);var m=e.individualDelay;for(v=0;v<o;v++){var _=m?Ve({delay:(e.delay||0)+m(v,o,s[v],t[v])},e):e;mH(s[v],t[v],_)}return{fromIndividuals:s,toIndividuals:t,count:t.length}}(F,k,W),Y=q.fromIndividuals,K=q.toIndividuals,Q=Y.length,re=0;re<Q;re++)j=f?Ve({delay:f(re,Q)},d):d,u(Y[re],K[re],A?k[re]:T.one,A?T.one:k[re],j);else{var j,B=A?k[0]:F,z=A?F:k[0];Ax(B)?m({many:[B],one:z},!0,E,P,!0):(mH(B,z,j=f?Ve({delay:f(E,P)},d):d),u(B,z,B,z,j))}}}function Zd(r){if(!r)return[];if(ge(r)){for(var t=[],e=0;e<r.length;e++)t.push(Zd(r[e]));return t}var o=[];return r.traverse(function(s){s instanceof mt&&!s.disableMorphing&&!s.invisible&&!s.ignore&&o.push(s)}),o}var wH=1e4,hZ=zt();function bH(r){var t=[];return H(r,function(e){var o=e.data;if(!(o.count()>wH))for(var s=o.getIndices(),u=function fZ(r){for(var t=r.dimensions,e=0;e<t.length;e++){var o=r.getDimensionInfo(t[e]);if(o&&0===o.otherDims.itemGroupId)return t[e]}}(o),c=0;c<s.length;c++)t.push({dataGroupId:e.dataGroupId,data:o,dim:e.dim||u,divide:e.divide,dataIndex:c})}),t}function oL(r,t,e){r.traverse(function(o){o instanceof mt&&On(o,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function aL(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function Vg(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function SH(r,t,e){var o=bH(r),s=bH(t);function u(T,A,E,P,N){(E||T)&&A.animateFrom({style:E&&E!==T?ce(ce({},E.style),T.style):T.style},N)}function c(T){for(var A=0;A<T.length;A++)if(T[A].dim)return T[A].dim}var f=c(o),d=c(s),v=!1;function g(T,A){return function(E){var P=E.data,N=E.dataIndex;if(A)return P.getId(N);var k=E.dataGroupId,F=T?f||d:d||f,B=F&&P.getDimensionInfo(F),z=B&&B.ordinalMeta;if(B){var j=P.get(B.name,N);return z&&z.categories[j]||j+""}var W=P.getRawDataItem(N);return W&&W.groupId?W.groupId+"":k||P.getId(N)}}var m=function pZ(r,t){var e=r.length;if(e!==t.length)return!1;for(var o=0;o<e;o++){var s=r[o],u=t[o];if(s.data.getId(s.dataIndex)!==u.data.getId(u.dataIndex))return!1}return!0}(o,s),_={};if(!m)for(var w=0;w<s.length;w++){var S=s[w],x=S.data.getItemGraphicEl(S.dataIndex);x&&(_[x.id]=!0)}function D(T,A){var E=o[A],P=s[T],N=P.data.hostModel,k=E.data.getItemGraphicEl(E.dataIndex),F=P.data.getItemGraphicEl(P.dataIndex);k!==F?k&&_[k.id]||F&&(Vg(F),k?(Vg(k),aL(k),v=!0,iL(Zd(k),Zd(F),P.divide,N,T,u)):oL(F,N,T)):F&&function dZ(r,t,e){var o=wf("update",e,t);o&&r.traverse(function(s){if(s instanceof ya){var u=function FR(r){return NR(r).oldStyle}(s);u&&s.animateFrom({style:u},o)}})}(F,P.dataIndex,N)}new Ru(o,s,g(!0,m),g(!1,m),null,"multiple").update(D).updateManyToOne(function(T,A){var E=s[T],P=E.data,N=P.hostModel,k=P.getItemGraphicEl(E.dataIndex),F=Wt(me(A,function(B){return o[B].data.getItemGraphicEl(o[B].dataIndex)}),function(B){return B&&B!==k&&!_[B.id]});k&&(Vg(k),F.length?(H(F,function(B){Vg(B),aL(B)}),v=!0,iL(Zd(F),Zd(k),E.divide,N,T,u)):oL(k,N,E.dataIndex))}).updateOneToMany(function(T,A){var E=o[A],P=E.data.getItemGraphicEl(E.dataIndex);if(!P||!_[P.id]){var N=Wt(me(T,function(F){return s[F].data.getItemGraphicEl(s[F].dataIndex)}),function(F){return F&&F!==P}),k=s[T[0]].data.hostModel;N.length&&(H(N,function(F){return Vg(F)}),P?(Vg(P),aL(P),v=!0,iL(Zd(P),Zd(N),E.divide,k,T[0],u)):H(N,function(F){return oL(F,k,T[0])}))}}).updateManyToMany(function(T,A){new Ru(A,T,function(E){return o[E].data.getId(o[E].dataIndex)},function(E){return s[E].data.getId(s[E].dataIndex)}).update(function(E,P){D(T[E],A[P])}).execute()}).execute(),v&&H(t,function(T){var E=T.data.hostModel,P=E&&e.getViewOfSeriesModel(E),N=wf("update",E,0);P&&E.isAnimationEnabled()&&N&&N.duration>0&&P.group.traverse(function(k){k instanceof mt&&!k.animators.length&&k.animateFrom({style:{opacity:0}},N)})})}function CH(r){return r.getModel("universalTransition").get("seriesKey")||r.id}function xH(r){return ge(r)?r.sort().join(","):r}function Lh(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function DH(r,t){for(var e=0;e<r.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===r[e].seriesIndex||null!=t.seriesId&&t.seriesId===r[e].id)return e}ft([function D4(r){r.registerPainter("canvas",JS)}]),ft([function HA(r){r.registerPainter("svg",wr)}]),ft([function xn(r){r.registerChartView(Y4),r.registerSeriesModel(B4),r.registerLayout(T0("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),o=t.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",o)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,ul("line"))},function nW(r){r.registerChartView(tW),r.registerSeriesModel(Gu),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Je(Uj,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jj("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,ul("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(s){t.sortInfo&&s.axis.setCategorySortInfo(t.sortInfo)})})},function HF(r){r.registerChartView(sW),r.registerSeriesModel(sh),xO("pie",r.registerAction),r.registerLayout(Je(rW,"pie")),r.registerProcessor(ad("pie")),r.registerProcessor(function uW(r){return{seriesType:r,reset:function(t,e){var o=t.getData();o.filterSelf(function(s){var u=o.mapDimension("value"),c=o.get(u,s);return!(kt(c)&&!isNaN(c)&&c<0)})}}}("pie"))},function Sr(r){ft(BW),r.registerSeriesModel(nE),r.registerChartView(gX),r.registerLayout(T0("scatter"))},function LX(r){ft(aV),r.registerChartView(MX),r.registerSeriesModel(GW),r.registerLayout(xX),r.registerProcessor(ad("radar")),r.registerPreprocessor(DX)},function ZX(r){ft(_$),r.registerChartView(c$),r.registerSeriesModel(h$),r.registerLayout(ch),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,SV),xO("map",r.registerAction)},function RC(r){r.registerChartView(RV),r.registerSeriesModel(ZE),r.registerLayout(GV),r.registerVisual(jV),function YE(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(o){var s=t.dataIndex,c=o.getData().tree.getNodeByDataIndex(s);c.isExpand=!c.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,o){e.eachComponent({mainType:"series",subType:"tree",query:t},function(s){var c=EC(s.coordinateSystem,t,void 0,o);s.setCenter&&s.setCenter(c.center),s.setZoom&&s.setZoom(c.zoom)})})}(r)},function nK(r){r.registerSeriesModel(KX),r.registerChartView(tI),r.registerVisual(VC),r.registerLayout(tK),function WV(r){for(var t=0;t<XE.length;t++)r.registerAction({type:XE[t],update:"updateView"},Mt);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,o){o.eachComponent({mainType:"series",subType:"treemap",query:e},function s(u,c){var d=Fv(e,["treemapZoomToNode","treemapRootToNode"],u);if(d){var v=u.getViewRoot();v&&(e.direction=qE(v,d.node)?"rollUp":"drillDown"),u.resetViewRoot(d.node)}})})}(r)},function CI(r){r.registerChartView(hB),r.registerSeriesModel(u6),r.registerProcessor(rK),r.registerVisual(W$),r.registerVisual($$),r.registerLayout(Y$),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,aB),r.registerLayout(K$),r.registerCoordinateSystem("graphView",{dimensions:Nv.dimensions,create:Q$}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Mt),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Mt),r.registerAction(c6,function(t,e,o){e.eachComponent({mainType:"series",query:t},function(s){var c=EC(s.coordinateSystem,t,void 0,o);s.setCenter&&s.setCenter(c.center),s.setZoom&&s.setZoom(c.zoom)})})},function yh(r){r.registerChartView(wd),r.registerSeriesModel(dB)},function vB(r){r.registerChartView(pB),r.registerSeriesModel(bd),r.registerLayout(v6),r.registerProcessor(ad("funnel"))},function l1(r){ft(GB),r.registerChartView(Qv),r.registerSeriesModel(gB),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,b6)},function fK(r){r.registerChartView(jI),r.registerSeriesModel(c1),r.registerLayout(WB),r.registerVisual(a_),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(o){o.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function t8(r){r.registerSeriesModel(JB),r.registerChartView(Y6),r.registerLayout(s_),r.registerTransform(e8)},function c8(r){r.registerChartView(o8),r.registerSeriesModel(iz),r.registerPreprocessor(a8),r.registerVisual(u8),r.registerLayout(lz)},function g8(r){r.registerChartView(d8),r.registerSeriesModel(v8),r.registerLayout(T0("effectScatter"))},function D8(r){r.registerChartView(XI),r.registerSeriesModel(mz),r.registerLayout(pz),r.registerVisual(_z)},function L8(r){r.registerChartView(bz),r.registerSeriesModel(P8)},function _K(r){r.registerChartView(Tz),r.registerSeriesModel(yK),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Je(Uj,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jj("pictorialBar"))},function j8(r){r.registerChartView(bK),r.registerSeriesModel(G8),r.registerLayout(Mz),r.registerProcessor(ad("themeRiver"))},function Rz(r){r.registerChartView(DK),r.registerSeriesModel(Qn),r.registerLayout(Je(Y8,"sunburst")),r.registerProcessor(Je(ad,"sunburst")),r.registerVisual(K8),function CK(r){r.registerAction({type:Pz,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function o(s,u){var c=Fv(t,[Pz],s);if(c){var f=s.getViewRoot();f&&(t.direction=qE(f,c.node)?"rollUp":"drillDown"),s.resetViewRoot(c.node)}})}),r.registerAction({type:q8,update:"none"},function(t,e,o){t=ce({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},function s(u){var c=Fv(t,[q8],u);c&&(t.dataIndex=c.node.dataIndex)}),o.dispatchAction(ce(t,{type:"highlight"}))}),r.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e,o){t=ce({},t),o.dispatchAction(ce(t,{type:"downplay"}))})}(r)},function y_(r){r.registerChartView(c9),r.registerSeriesModel(Pd)}]),ft(function M9(r){ft(BW),ft(S_)}),ft(function gg(r){ft(S_),ud.registerAxisPointerClass("PolarAxisPointer",P9),r.registerCoordinateSystem("polar",AP),r.registerComponentModel(Mh),r.registerComponentView(G9),Lv(r,"angle",O1,T_),Lv(r,"radius",L9,_3),r.registerComponentView(D_),r.registerComponentView(y3),r.registerLayout(Je(H9,"bar"))}),ft(_$),ft(function A3(r){ft(S_),ud.registerAxisPointerClass("SingleAxisPointer",M3),r.registerComponentView(VP),r.registerComponentView(w3),r.registerComponentModel(z1),Lv(r,"single",z1,z1.defaultOption),r.registerCoordinateSystem("single",Z9)}),ft(GB),ft(function X9(r){r.registerComponentModel(E3),r.registerComponentView(I3),r.registerCoordinateSystem("calendar",GP)}),ft(function J9(r){r.registerComponentModel(_g),r.registerComponentView(UP),r.registerPreprocessor(function(t){var e=t.graphic;ge(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),ft(function S7(r){r.registerComponentModel(o7),r.registerComponentView(l7),Cg("saveAsImage",u7),Cg("magicType",f7),Cg("dataView",en),Cg("dataZoom",t5),Cg("restore",e5),ft(YP)}),ft(function Ju(r){ft(S_),r.registerComponentModel(R_),r.registerComponentView(P7),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Mt),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Mt)}),ft(S_),ft(function V7(r){r.registerComponentView(Eg),r.registerComponentModel(p5),r.registerPreprocessor(L7),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,zK),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(o){o.setAreas(t.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Mt),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Mt),Cg("brush",HK)}),ft(function UK(r){r.registerComponentModel(GK),r.registerComponentView(v5)}),ft(function Y7(r){r.registerComponentModel(z7),r.registerComponentView(W7),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),function $7(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,o){var s=e.getComponent("timeline");return s&&null!=t.currentIndex&&(s.setCurrentIndex(t.currentIndex),!s.get("loop",!0)&&s.isIndexMax()&&s.getPlayState()&&(s.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:s.get("replaceMerge",!0)}),Ve({currentIndex:s.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var o=e.getComponent("timeline");o&&null!=t.playState&&o.setPlayState(t.playState)})}(r),r.registerPreprocessor(y5)}),ft(function tq(r){r.registerComponentModel(w5),r.registerComponentView(cx),r.registerPreprocessor(function(t){lx(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),ft(function KK(r){r.registerComponentModel(rq),r.registerComponentView(D5),r.registerPreprocessor(function(t){lx(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),ft(function nQ(r){r.registerComponentModel(lq),r.registerComponentView(tQ),r.registerPreprocessor(function(t){lx(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),ft(function P5(r){ft(gx),ft(bq)}),ft(function z5(r){ft(N5),ft(H_)}),ft(N5),ft(H_),ft(function El(r){ft(tH),ft(rH)}),ft(tH),ft(rH),ft(function lQ(r){r.registerPreprocessor(Wq),r.registerVisual(r.PRIORITY.VISUAL.ARIA,jq)}),ft(function hQ(r){r.registerTransform(eL),r.registerTransform(sH)}),ft(function pQ(r){r.registerComponentModel(fQ),r.registerComponentView(dQ)}),ft(function TH(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,o){H(nn(o.seriesTransition),function(s){H(nn(s.to),function(u){for(var c=o.updatedSeries,f=0;f<c.length;f++)(null!=u.seriesIndex&&u.seriesIndex===c[f].seriesIndex||null!=u.seriesId&&u.seriesId===c[f].id)&&(c[f][Wb]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,o){var s=hZ(e);if(s.oldSeries&&o.updatedSeries&&o.optionChanged){var u=o.seriesTransition;if(u)H(nn(u),function(w){!function gZ(r,t,e,o){var s=[],u=[];H(nn(r.from),function(c){var f=DH(t.oldSeries,c);f>=0&&s.push({dataGroupId:t.oldDataGroupIds[f],data:t.oldData[f],divide:Lh(t.oldData[f]),dim:c.dimension})}),H(nn(r.to),function(c){var f=DH(e.updatedSeries,c);if(f>=0){var d=e.updatedSeries[f].getData();u.push({dataGroupId:t.oldDataGroupIds[f],data:d,divide:Lh(d),dim:c.dimension})}}),s.length>0&&u.length>0&&SH(s,u,o)}(w,s,o,e)});else{var c=function vZ(r,t){var e=Re(),o=Re(),s=Re();return H(r.oldSeries,function(c,f){var d=r.oldDataGroupIds[f],v=r.oldData[f],g=CH(c),m=xH(g);o.set(m,{dataGroupId:d,data:v}),ge(g)&&H(g,function(_){s.set(_,{key:m,dataGroupId:d,data:v})})}),H(t.updatedSeries,function(c){if(c.isUniversalTransitionEnabled()&&c.isAnimationEnabled()){var f=c.get("dataGroupId"),d=c.getData(),v=CH(c),g=xH(v),m=o.get(g);if(m)e.set(g,{oldSeries:[{dataGroupId:m.dataGroupId,divide:Lh(m.data),data:m.data}],newSeries:[{dataGroupId:f,divide:Lh(d),data:d}]});else if(ge(v)){var _=[];H(v,function(x){var D=o.get(x);D.data&&_.push({dataGroupId:D.dataGroupId,divide:Lh(D.data),data:D.data})}),_.length&&e.set(g,{oldSeries:_,newSeries:[{dataGroupId:f,data:d,divide:Lh(d)}]})}else{var w=s.get(v);if(w){var S=e.get(w.key);S||(S={oldSeries:[{dataGroupId:w.dataGroupId,data:w.data,divide:Lh(w.data)}],newSeries:[]},e.set(w.key,S)),S.newSeries.push({dataGroupId:f,data:d,divide:Lh(d)})}}}}),e}(s,o);H(c.keys(),function(w){var S=c.get(w);SH(S.oldSeries,S.newSeries,e)})}H(o.updatedSeries,function(w){w[Wb]&&(w[Wb]=!1)})}for(var f=t.getSeries(),d=s.oldSeries=[],v=s.oldDataGroupIds=[],g=s.oldData=[],m=0;m<f.length;m++){var _=f[m].getData();_.count()<wH&&(d.push(f[m]),v.push(f[m].get("dataGroupId")),g.push(_))}})}),ft(xA)},519:function(J_){J_.exports=function(){"use strict";function Ts(L,O){return function ic(L,O){return O.get?O.get.call(L):O.value}(L,Tt(L,O,"get"))}function Gt(L,O,U){return function Fh(L,O,U){if(O.set)O.set.call(L,U);else{if(!O.writable)throw new TypeError("attempted to set read only private field");O.value=U}}(L,Tt(L,O,"set"),U),U}function Tt(L,O,U){if(!O.has(L))throw new TypeError("attempted to "+U+" private field on non-instance");return O.get(L)}function Wr(L,O,U){(function oc(L,O){if(O.has(L))throw new TypeError("Cannot initialize the same private elements twice on an object")})(L,O),O.set(L,U)}const Vt={},Na=L=>new Promise(O=>{if(!L)return O();const U=window.scrollX,X=window.scrollY;Vt.restoreFocusTimeout=setTimeout(()=>{Vt.previousActiveElement instanceof HTMLElement?(Vt.previousActiveElement.focus(),Vt.previousActiveElement=null):document.body&&document.body.focus(),O()},100),window.scrollTo(U,X)}),ve=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((L,O)=>(L[O]="swal2-"+O,L),{}),ae=["success","warning","info","question","error"].reduce((L,O)=>(L[O]="swal2-"+O,L),{}),Ug="SweetAlert2:",Kd=L=>L.charAt(0).toUpperCase()+L.slice(1),xr=L=>{console.warn("".concat(Ug," ").concat("object"==typeof L?L.join(" "):L))},Fa=L=>{console.error("".concat(Ug," ").concat(L))},Rx=[],dL=(L,O)=>{(L=>{Rx.includes(L)||(Rx.push(L),xr(L))})('"'.concat(L,'" is deprecated and will be removed in the next major release. Please use "').concat(O,'" instead.'))},Ol=L=>"function"==typeof L?L():L,nw=L=>L&&"function"==typeof L.toPromise,aa=L=>nw(L)?L.toPromise():Promise.resolve(L),ac=L=>L&&Promise.resolve(L)===L,Ai=()=>document.body.querySelector(".".concat(ve.container)),sc=L=>{const O=Ai();return O?O.querySelector(L):null},ho=L=>sc(".".concat(L)),rn=()=>ho(ve.popup),fo=()=>ho(ve.icon),rw=()=>ho(ve.title),qn=()=>ho(ve["html-container"]),jg=()=>ho(ve.image),iw=()=>ho(ve["progress-steps"]),Wg=()=>ho(ve["validation-message"]),Va=()=>sc(".".concat(ve.actions," .").concat(ve.confirm)),Pn=()=>sc(".".concat(ve.actions," .").concat(ve.cancel)),As=()=>sc(".".concat(ve.actions," .").concat(ve.deny)),hn=()=>sc(".".concat(ve.loader)),Ln=()=>ho(ve.actions),Pt=()=>ho(ve.footer),jt=()=>ho(ve["timer-progress-bar"]),lc=()=>ho(ve.close),Vh=()=>{const L=rn();if(!L)return[];const O=L.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),U=Array.from(O).sort((qe,vt)=>{const Qt=parseInt(qe.getAttribute("tabindex")||"0"),At=parseInt(vt.getAttribute("tabindex")||"0");return Qt>At?1:Qt<At?-1:0}),X=L.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),pe=Array.from(X).filter(qe=>"-1"!==qe.getAttribute("tabindex"));return[...new Set(U.concat(pe))].filter(qe=>ri(qe))},$g=()=>Lr(document.body,ve.shown)&&!Lr(document.body,ve["toast-shown"])&&!Lr(document.body,ve["no-backdrop"]),Qd=()=>{const L=rn();return!!L&&Lr(L,ve.toast)},po=(L,O)=>{if(L.textContent="",O){const X=(new DOMParser).parseFromString(O,"text/html"),pe=X.querySelector("head");pe&&Array.from(pe.childNodes).forEach(vt=>{L.appendChild(vt)});const qe=X.querySelector("body");qe&&Array.from(qe.childNodes).forEach(vt=>{vt instanceof HTMLVideoElement||vt instanceof HTMLAudioElement?L.appendChild(vt.cloneNode(!0)):L.appendChild(vt)})}},Lr=(L,O)=>{if(!O)return!1;const U=O.split(/\s+/);for(let X=0;X<U.length;X++)if(!L.classList.contains(U[X]))return!1;return!0},vo=(L,O,U)=>{if(((L,O)=>{Array.from(L.classList).forEach(U=>{!Object.values(ve).includes(U)&&!Object.values(ae).includes(U)&&!Object.values(O.showClass||{}).includes(U)&&L.classList.remove(U)})})(L,O),O.customClass&&O.customClass[U]){if("string"!=typeof O.customClass[U]&&!O.customClass[U].forEach)return void xr("Invalid type of customClass.".concat(U,'! Expected string or iterable object, got "').concat(typeof O.customClass[U],'"'));tn(L,O.customClass[U])}},Bh=(L,O)=>{if(!O)return null;switch(O){case"select":case"textarea":case"file":return L.querySelector(".".concat(ve.popup," > .").concat(ve[O]));case"checkbox":return L.querySelector(".".concat(ve.popup," > .").concat(ve.checkbox," input"));case"radio":return L.querySelector(".".concat(ve.popup," > .").concat(ve.radio," input:checked"))||L.querySelector(".".concat(ve.popup," > .").concat(ve.radio," input:first-child"));case"range":return L.querySelector(".".concat(ve.popup," > .").concat(ve.range," input"));default:return L.querySelector(".".concat(ve.popup," > .").concat(ve.input))}},Is=L=>{if(L.focus(),"file"!==L.type){const O=L.value;L.value="",L.value=O}},zh=(L,O,U)=>{!L||!O||("string"==typeof O&&(O=O.split(/\s+/).filter(Boolean)),O.forEach(X=>{Array.isArray(L)?L.forEach(pe=>{U?pe.classList.add(X):pe.classList.remove(X)}):U?L.classList.add(X):L.classList.remove(X)}))},tn=(L,O)=>{zh(L,O,!0)},sa=(L,O)=>{zh(L,O,!1)},go=(L,O)=>{const U=Array.from(L.children);for(let X=0;X<U.length;X++){const pe=U[X];if(pe instanceof HTMLElement&&Lr(pe,O))return pe}},Ps=(L,O,U)=>{U==="".concat(parseInt(U))&&(U=parseInt(U)),U||0===parseInt(U)?L.style[O]="number"==typeof U?"".concat(U,"px"):U:L.style.removeProperty(O)},Rr=function(L){L&&(L.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Dr=L=>{L&&(L.style.display="none")},Jd=(L,O,U,X)=>{const pe=L.querySelector(O);pe&&(pe.style[U]=X)},Vo=function(L,O){O?Rr(L,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Dr(L)},ri=L=>!(!L||!(L.offsetWidth||L.offsetHeight||L.getClientRects().length)),Ge=L=>L.scrollHeight>L.clientHeight,tt=L=>{const O=window.getComputedStyle(L),U=parseFloat(O.getPropertyValue("animation-duration")||"0"),X=parseFloat(O.getPropertyValue("transition-duration")||"0");return U>0||X>0},uc=function(L){let O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const U=jt();U&&ri(U)&&(O&&(U.style.transition="none",U.style.width="100%"),setTimeout(()=>{U.style.transition="width ".concat(L/1e3,"s linear"),U.style.width="0%"},10))},Ve=()=>typeof window>"u"||typeof document>"u",Nx='\n <div aria-labelledby="'.concat(ve.title,'" aria-describedby="').concat(ve["html-container"],'" class="').concat(ve.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ve.close,'"></button>\n   <ul class="').concat(ve["progress-steps"],'"></ul>\n   <div class="').concat(ve.icon,'"></div>\n   <img class="').concat(ve.image,'" />\n   <h2 class="').concat(ve.title,'" id="').concat(ve.title,'"></h2>\n   <div class="').concat(ve["html-container"],'" id="').concat(ve["html-container"],'"></div>\n   <input class="').concat(ve.input,'" id="').concat(ve.input,'" />\n   <input type="file" class="').concat(ve.file,'" />\n   <div class="').concat(ve.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ve.select,'" id="').concat(ve.select,'"></select>\n   <div class="').concat(ve.radio,'"></div>\n   <label class="').concat(ve.checkbox,'">\n     <input type="checkbox" id="').concat(ve.checkbox,'" />\n     <span class="').concat(ve.label,'"></span>\n   </label>\n   <textarea class="').concat(ve.textarea,'" id="').concat(ve.textarea,'"></textarea>\n   <div class="').concat(ve["validation-message"],'" id="').concat(ve["validation-message"],'"></div>\n   <div class="').concat(ve.actions,'">\n     <div class="').concat(ve.loader,'"></div>\n     <button type="button" class="').concat(ve.confirm,'"></button>\n     <button type="button" class="').concat(ve.deny,'"></button>\n     <button type="button" class="').concat(ve.cancel,'"></button>\n   </div>\n   <div class="').concat(ve.footer,'"></div>\n   <div class="').concat(ve["timer-progress-bar-container"],'">\n     <div class="').concat(ve["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ba=()=>{Vt.currentInstance.resetValidationMessage()},Ei=L=>{const O=(()=>{const L=Ai();return!!L&&(L.remove(),sa([document.documentElement,document.body],[ve["no-backdrop"],ve["toast-shown"],ve["has-column"]]),!0)})();if(Ve())return void Fa("SweetAlert2 requires document to initialize");const U=document.createElement("div");U.className=ve.container,O&&tn(U,ve["no-transition"]),po(U,Nx);const X=(L=>"string"==typeof L?document.querySelector(L):L)(L.target);X.appendChild(U),(L=>{const O=rn();O.setAttribute("role",L.toast?"alert":"dialog"),O.setAttribute("aria-live",L.toast?"polite":"assertive"),L.toast||O.setAttribute("aria-modal","true")})(L),(L=>{"rtl"===window.getComputedStyle(L).direction&&tn(Ai(),ve.rtl)})(X),(()=>{const L=rn(),O=go(L,ve.input),U=go(L,ve.file),X=L.querySelector(".".concat(ve.range," input")),pe=L.querySelector(".".concat(ve.range," output")),qe=go(L,ve.select),vt=L.querySelector(".".concat(ve.checkbox," input")),Qt=go(L,ve.textarea);O.oninput=Ba,U.onchange=Ba,qe.onchange=Ba,vt.onchange=Ba,Qt.oninput=Ba,X.oninput=()=>{Ba(),pe.value=X.value},X.onchange=()=>{Ba(),pe.value=X.value}})()},Wt=(L,O)=>{L instanceof HTMLElement?O.appendChild(L):"object"==typeof L?qg(L,O):L&&po(O,L)},qg=(L,O)=>{L.jquery?pt(O,L):po(O,L.toString())},pt=(L,O)=>{if(L.textContent="",0 in O)for(let U=0;U in O;U++)L.appendChild(O[U].cloneNode(!0));else L.appendChild(O.cloneNode(!0))},Ls=(()=>{if(Ve())return!1;const L=document.createElement("div");return typeof L.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof L.style.animation<"u"&&"animationend"})(),Me=(L,O)=>{const U=Ln(),X=hn();!U||!X||(O.showConfirmButton||O.showDenyButton||O.showCancelButton?Rr(U):Dr(U),vo(U,O,"actions"),function Je(L,O,U){const X=Va(),pe=As(),qe=Pn();!X||!pe||!qe||(Ne(X,"confirm",U),Ne(pe,"deny",U),Ne(qe,"cancel",U),function ge(L,O,U,X){X.buttonsStyling?(tn([L,O,U],ve.styled),X.confirmButtonColor&&(L.style.backgroundColor=X.confirmButtonColor,tn(L,ve["default-outline"])),X.denyButtonColor&&(O.style.backgroundColor=X.denyButtonColor,tn(O,ve["default-outline"])),X.cancelButtonColor&&(U.style.backgroundColor=X.cancelButtonColor,tn(U,ve["default-outline"]))):sa([L,O,U],ve.styled)}(X,pe,qe,U),U.reverseButtons&&(U.toast?(L.insertBefore(qe,X),L.insertBefore(pe,X)):(L.insertBefore(qe,O),L.insertBefore(pe,O),L.insertBefore(X,O))))}(U,X,O),po(X,O.loaderHtml||""),vo(X,O,"loader"))};function Ne(L,O,U){const X=Kd(O);Vo(L,U["show".concat(X,"Button")],"inline-block"),po(L,U["".concat(O,"ButtonText")]||""),L.setAttribute("aria-label",U["".concat(O,"ButtonAriaLabel")]||""),L.className=ve[O],vo(L,U,"".concat(O,"Button"))}const kr=(L,O)=>{const U=Ai();U&&(function kt(L,O){"string"==typeof O?L.style.background=O:O||tn([document.documentElement,document.body],ve["no-backdrop"])}(U,O.backdrop),function Ue(L,O){O&&(O in ve?tn(L,ve[O]):(xr('The "position" parameter is not valid, defaulting to "center"'),tn(L,ve.center)))}(U,O.position),function Zg(L,O){O&&tn(L,ve["grow-".concat(O)])}(U,O.grow),vo(U,O,"container"))};var Ut={innerParams:new WeakMap,domCache:new WeakMap};const Nl=["input","file","range","select","radio","checkbox","textarea"],aw=L=>{if(!L.input)return;if(!_n[L.input])return void Fa('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(L.input,'"'));const O=tp(L.input),U=_n[L.input](O,L);Rr(O),L.inputAutoFocus&&setTimeout(()=>{Is(U)})},cc=(L,O)=>{const U=Bh(rn(),L);if(U){(L=>{for(let O=0;O<L.attributes.length;O++){const U=L.attributes[O].name;["id","type","value","style"].includes(U)||L.removeAttribute(U)}})(U);for(const X in O)U.setAttribute(X,O[X])}},$t=L=>{const O=tp(L.input);"object"==typeof L.customClass&&tn(O,L.customClass.input)},Qe=(L,O)=>{(!L.placeholder||O.inputPlaceholder)&&(L.placeholder=O.inputPlaceholder)},Gn=(L,O,U)=>{if(U.inputLabel){const X=document.createElement("label"),pe=ve["input-label"];X.setAttribute("for",L.id),X.className=pe,"object"==typeof U.customClass&&tn(X,U.customClass.inputLabel),X.innerText=U.inputLabel,O.insertAdjacentElement("beforebegin",X)}},tp=L=>go(rn(),ve[L]||ve.input),Fl=(L,O)=>{["string","number"].includes(typeof O)?L.value="".concat(O):ac(O)||xr('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof O,'"'))},_n={};_n.text=_n.email=_n.password=_n.number=_n.tel=_n.url=(L,O)=>(Fl(L,O.inputValue),Gn(L,L,O),Qe(L,O),L.type=O.input,L),_n.file=(L,O)=>(Gn(L,L,O),Qe(L,O),L),_n.range=(L,O)=>{const U=L.querySelector("input"),X=L.querySelector("output");return Fl(U,O.inputValue),U.type=O.input,Fl(X,O.inputValue),Gn(U,L,O),L},_n.select=(L,O)=>{if(L.textContent="",O.inputPlaceholder){const U=document.createElement("option");po(U,O.inputPlaceholder),U.value="",U.disabled=!0,U.selected=!0,L.appendChild(U)}return Gn(L,L,O),L},_n.radio=L=>(L.textContent="",L),_n.checkbox=(L,O)=>{const U=Bh(rn(),"checkbox");U.value="1",U.checked=!!O.inputValue;const X=L.querySelector("span");return po(X,O.inputPlaceholder),U},_n.textarea=(L,O)=>{Fl(L,O.inputValue),Qe(L,O),Gn(L,L,O);return setTimeout(()=>{if("MutationObserver"in window){const X=parseInt(window.getComputedStyle(rn()).width);new MutationObserver(()=>{if(!document.body.contains(L))return;const qe=L.offsetWidth+(X=>parseInt(window.getComputedStyle(X).marginLeft)+parseInt(window.getComputedStyle(X).marginRight))(L);qe>X?rn().style.width="".concat(qe,"px"):Ps(rn(),"width",O.width)}).observe(L,{attributes:!0,attributeFilter:["style"]})}}),L};const Ii=(L,O)=>{const U=qn();U&&(vo(U,O,"htmlContainer"),O.html?(Wt(O.html,U),Rr(U,"block")):O.text?(U.textContent=O.text,Rr(U,"block")):Dr(U),((L,O)=>{const U=rn();if(!U)return;const X=Ut.innerParams.get(L),pe=!X||O.input!==X.input;Nl.forEach(qe=>{const vt=go(U,ve[qe]);vt&&(cc(qe,O.inputAttributes),vt.className=ve[qe],pe&&Dr(vt))}),O.input&&(pe&&aw(O),$t(O))})(L,O))},Vl=(L,O)=>{for(const[U,X]of Object.entries(ae))O.icon!==U&&sa(L,X);tn(L,O.icon&&ae[O.icon]),Re(L,O),sw(),vo(L,O,"icon")},sw=()=>{const L=rn();if(!L)return;const O=window.getComputedStyle(L).getPropertyValue("background-color"),U=L.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let X=0;X<U.length;X++)U[X].style.backgroundColor=O},Xg=(L,O)=>{if(!O.icon&&!O.iconHtml)return;let U=L.innerHTML,X="";O.iconHtml?X=hc(O.iconHtml):"success"===O.icon?(X='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',U=U.replace(/ style=".*?"/g,"")):"error"===O.icon?X='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':O.icon&&(X=hc({question:"?",warning:"!",info:"i"}[O.icon])),U.trim()!==X.trim()&&po(L,X)},Re=(L,O)=>{if(O.iconColor){L.style.color=O.iconColor,L.style.borderColor=O.iconColor;for(const U of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Jd(L,U,"backgroundColor",O.iconColor);Jd(L,".swal2-success-ring","borderColor",O.iconColor)}},hc=L=>'<div class="'.concat(ve["icon-content"],'">').concat(L,"</div>"),Ee=(L,O)=>{const U=O.showClass||{};L.className="".concat(ve.popup," ").concat(ri(L)?U.popup:""),O.toast?(tn([document.documentElement,document.body],ve["toast-shown"]),tn(L,ve.toast)):tn(L,ve.modal),vo(L,O,"popup"),"string"==typeof O.customClass&&tn(L,O.customClass),O.icon&&tn(L,ve["icon-".concat(O.icon)])},Bl=L=>{const O=document.createElement("li");return tn(O,ve["progress-step"]),po(O,L),O},rr=L=>{const O=document.createElement("li");return tn(O,ve["progress-step-line"]),L.progressStepsDistance&&Ps(O,"width",L.progressStepsDistance),O},Gh=(L,O)=>{((L,O)=>{const U=Ai(),X=rn();if(U&&X){if(O.toast){Ps(U,"width",O.width),X.style.width="100%";const pe=hn();pe&&X.insertBefore(pe,fo())}else Ps(X,"width",O.width);Ps(X,"padding",O.padding),O.color&&(X.style.color=O.color),O.background&&(X.style.background=O.background),Dr(Wg()),Ee(X,O)}})(0,O),kr(0,O),((L,O)=>{const U=iw();if(!U)return;const{progressSteps:X,currentProgressStep:pe}=O;X&&0!==X.length&&void 0!==pe?(Rr(U),U.textContent="",pe>=X.length&&xr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),X.forEach((qe,vt)=>{const Qt=Bl(qe);if(U.appendChild(Qt),vt===pe&&tn(Qt,ve["active-progress-step"]),vt!==X.length-1){const At=rr(O);U.appendChild(At)}})):Dr(U)})(0,O),((L,O)=>{const U=Ut.innerParams.get(L),X=fo();if(X){if(U&&O.icon===U.icon)return Xg(X,O),void Vl(X,O);if(!O.icon&&!O.iconHtml)return void Dr(X);if(O.icon&&-1===Object.keys(ae).indexOf(O.icon))return Fa('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(O.icon,'"')),void Dr(X);Rr(X),Xg(X,O),Vl(X,O),tn(X,O.showClass&&O.showClass.icon)}})(L,O),((L,O)=>{const U=jg();if(U){if(!O.imageUrl)return void Dr(U);Rr(U,""),U.setAttribute("src",O.imageUrl),U.setAttribute("alt",O.imageAlt||""),Ps(U,"width",O.imageWidth),Ps(U,"height",O.imageHeight),U.className=ve.image,vo(U,O,"image")}})(0,O),((L,O)=>{const U=rw();U&&(Vo(U,O.title||O.titleText,"block"),O.title&&Wt(O.title,U),O.titleText&&(U.innerText=O.titleText),vo(U,O,"title"))})(0,O),((L,O)=>{const U=lc();U&&(po(U,O.closeButtonHtml||""),vo(U,O,"closeButton"),Vo(U,O.showCloseButton),U.setAttribute("aria-label",O.closeButtonAriaLabel||""))})(0,O),Ii(L,O),Me(0,O),((L,O)=>{const U=Pt();U&&(Vo(U,O.footer,"block"),O.footer&&Wt(O.footer,U),vo(U,O,"footer"))})(0,O);const U=rn();"function"==typeof O.didRender&&U&&O.didRender(U)},Gi=()=>{var L;return null===(L=Va())||void 0===L?void 0:L.click()},sn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),rp=L=>{L.keydownTarget&&L.keydownHandlerAdded&&(L.keydownTarget.removeEventListener("keydown",L.keydownHandler,{capture:L.keydownListenerCapture}),L.keydownHandlerAdded=!1)},ip=(L,O)=>{var U;const X=Vh();if(X.length)return(L+=O)===X.length?L=0:-1===L&&(L=X.length-1),void X[L].focus();null===(U=rn())||void 0===U||U.focus()},Jg=["ArrowRight","ArrowDown"],Rn=["ArrowLeft","ArrowUp"],wt=(L,O,U)=>{L&&(O.isComposing||229===O.keyCode||(L.stopKeydownPropagation&&O.stopPropagation(),"Enter"===O.key?uw(O,L):"Tab"===O.key?cw(O):[...Jg,...Rn].includes(O.key)?em(O.key):"Escape"===O.key&&Vx(O,L,U)))},uw=(L,O)=>{if(!Ol(O.allowEnterKey))return;const U=Bh(rn(),O.input);if(L.target&&U&&L.target instanceof HTMLElement&&L.target.outerHTML===U.outerHTML){if(["textarea","file"].includes(O.input))return;Gi(),L.preventDefault()}},cw=L=>{const O=L.target,U=Vh();let X=-1;for(let pe=0;pe<U.length;pe++)if(O===U[pe]){X=pe;break}ip(X,L.shiftKey?-1:1),L.stopPropagation(),L.preventDefault()},em=L=>{const O=Ln(),U=Va(),X=As(),pe=Pn();if(!(O&&U&&X&&pe))return;if(document.activeElement instanceof HTMLElement&&![U,X,pe].includes(document.activeElement))return;const vt=Jg.includes(L)?"nextElementSibling":"previousElementSibling";let Qt=document.activeElement;if(Qt){for(let At=0;At<O.children.length;At++){if(Qt=Qt[vt],!Qt)return;if(Qt instanceof HTMLButtonElement&&ri(Qt))break}Qt instanceof HTMLButtonElement&&Qt.focus()}},Vx=(L,O,U)=>{Ol(O.allowEscapeKey)&&(L.preventDefault(),U(sn.esc))};var fe={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const bt=()=>{Array.from(document.body.children).forEach(O=>{O.hasAttribute("data-previous-aria-hidden")?(O.setAttribute("aria-hidden",O.getAttribute("data-previous-aria-hidden")||""),O.removeAttribute("data-previous-aria-hidden")):O.removeAttribute("aria-hidden")})},fn=typeof window<"u"&&!!window.GestureEvent,UH=()=>{const L=Ai();if(!L)return;let O;L.ontouchstart=U=>{O=mL(U)},L.ontouchmove=U=>{O&&(U.preventDefault(),U.stopPropagation())}},mL=L=>{const O=L.target,U=Ai(),X=qn();return!(!U||!X||hw(L)||hr(L)||O!==U&&(Ge(U)||!(O instanceof HTMLElement)||"INPUT"===O.tagName||"TEXTAREA"===O.tagName||Ge(X)&&X.contains(O)))},hw=L=>L.touches&&L.touches.length&&"stylus"===L.touches[0].touchType,hr=L=>L.touches&&L.touches.length>1;let dc=null;const Ha=L=>{null===dc&&(document.body.scrollHeight>window.innerHeight||"scroll"===L)&&(dc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(dc+(()=>{const L=document.createElement("div");L.className=ve["scrollbar-measure"],document.body.appendChild(L);const O=L.getBoundingClientRect().width-L.clientWidth;return document.body.removeChild(L),O})(),"px"))};function Rs(L,O,U,X){Qd()?Hl(L,X):(Na(U).then(()=>Hl(L,X)),rp(Vt)),fn?(O.setAttribute("style","display:none !important"),O.removeAttribute("class"),O.innerHTML=""):O.remove(),$g()&&(null!==dc&&(document.body.style.paddingRight="".concat(dc,"px"),dc=null),(()=>{if(Lr(document.body,ve.iosfix)){const L=parseInt(document.body.style.top,10);sa(document.body,ve.iosfix),document.body.style.top="",document.body.scrollTop=-1*L}})(),bt()),function op(){sa([document.documentElement,document.body],[ve.shown,ve["height-auto"],ve["no-backdrop"],ve["toast-shown"]])}()}function zl(L){L=yL(L);const O=fe.swalPromiseResolve.get(this),U=rm(this);this.isAwaitingPromise?L.isDismissed||(Uh(this),O(L)):U&&O(L)}const rm=L=>{const O=rn();if(!O)return!1;const U=Ut.innerParams.get(L);if(!U||Lr(O,U.hideClass.popup))return!1;sa(O,U.showClass.popup),tn(O,U.hideClass.popup);const X=Ai();return sa(X,U.showClass.backdrop),tn(X,U.hideClass.backdrop),mo(L,O,U),!0};function Bx(L){const O=fe.swalPromiseReject.get(this);Uh(this),O&&O(L)}const Uh=L=>{L.isAwaitingPromise&&(delete L.isAwaitingPromise,Ut.innerParams.get(L)||L._destroy())},yL=L=>typeof L>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},L),mo=(L,O,U)=>{const X=Ai(),pe=Ls&&tt(O);"function"==typeof U.willClose&&U.willClose(O),pe?at(L,O,X,U.returnFocus,U.didClose):Rs(L,X,U.returnFocus,U.didClose)},at=(L,O,U,X,pe)=>{Ls&&(Vt.swalCloseEventFinishedCallback=Rs.bind(null,L,U,X,pe),O.addEventListener(Ls,function(qe){qe.target===O&&(Vt.swalCloseEventFinishedCallback(),delete Vt.swalCloseEventFinishedCallback)}))},Hl=(L,O)=>{setTimeout(()=>{"function"==typeof O&&O.bind(L.params)(),L._destroy&&L._destroy()})},ks=L=>{let O=rn();if(O||new wi,O=rn(),!O)return;const U=hn();Qd()?Dr(fo()):Os(O,L),Rr(U),O.setAttribute("data-loading","true"),O.setAttribute("aria-busy","true"),O.focus()},Os=(L,O)=>{const U=Ln(),X=hn();!U||!X||(!O&&ri(Va())&&(O=Va()),Rr(U),O&&(Dr(O),X.setAttribute("data-button-to-replace",O.className),U.insertBefore(X,O)),tn([L,U],ve.loading))},fr=L=>L.checked?1:0,Ns=L=>L.checked?L.value:null,Or=L=>L.files&&L.files.length?null!==L.getAttribute("multiple")?L.files:L.files[0]:null,ca=(L,O)=>{const U=rn();if(!U)return;const X=pe=>{"select"===O.input?function Ua(L,O,U){const X=go(L,ve.select);if(!X)return;const pe=(qe,vt,Qt)=>{const At=document.createElement("option");At.value=Qt,po(At,vt),At.selected=im(Qt,U.inputValue),qe.appendChild(At)};O.forEach(qe=>{const vt=qe[0],Qt=qe[1];if(Array.isArray(Qt)){const At=document.createElement("optgroup");At.label=vt,At.disabled=!1,X.appendChild(At),Qt.forEach(Wi=>pe(At,Wi[1],Wi[0]))}else pe(X,Qt,vt)}),X.focus()}(U,pc(pe),O):"radio"===O.input&&function ap(L,O,U){const X=go(L,ve.radio);if(!X)return;O.forEach(qe=>{const vt=qe[0],Qt=qe[1],At=document.createElement("input"),Wi=document.createElement("label");At.type="radio",At.name=ve.radio,At.value=vt,im(vt,U.inputValue)&&(At.checked=!0);const Fn=document.createElement("span");po(Fn,Qt),Fn.className=ve.label,Wi.appendChild(At),Wi.appendChild(Fn),X.appendChild(Wi)});const pe=X.querySelectorAll("input");pe.length&&pe[0].focus()}(U,pc(pe),O)};nw(O.inputOptions)||ac(O.inputOptions)?(ks(Va()),aa(O.inputOptions).then(pe=>{L.hideLoading(),X(pe)})):"object"==typeof O.inputOptions?X(O.inputOptions):Fa("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof O.inputOptions))},Ga=(L,O)=>{const U=L.getInput();U&&(Dr(U),aa(O.inputValue).then(X=>{U.value="".concat("number"===O.input?parseFloat(X)||0:X),Rr(U),U.focus(),L.hideLoading()}).catch(X=>{Fa("Error in inputValue promise: ".concat(X)),U.value="",Rr(U),U.focus(),L.hideLoading()}))};const pc=L=>{const O=[];return L instanceof Map?L.forEach((U,X)=>{let pe=U;"object"==typeof pe&&(pe=pc(pe)),O.push([X,pe])}):Object.keys(L).forEach(U=>{let X=L[U];"object"==typeof X&&(X=pc(X)),O.push([U,X])}),O},im=(L,O)=>!!O&&O.toString()===L.toString(),sp=(L,O)=>{const U=Ut.innerParams.get(L);if(!U.input)return void Fa('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Kd(O)));const X=L.getInput(),pe=((L,O)=>{const U=L.getInput();if(!U)return null;switch(O.input){case"checkbox":return fr(U);case"radio":return Ns(U);case"file":return Or(U);default:return O.inputAutoTrim?U.value.trim():U.value}})(L,U);U.inputValidator?mi(L,pe,O):X&&!X.checkValidity()?(L.enableButtons(),L.showValidationMessage(U.validationMessage)):"deny"===O?vc(L,pe):fw(L,pe)},mi=(L,O,U)=>{const X=Ut.innerParams.get(L);L.disableInput(),Promise.resolve().then(()=>aa(X.inputValidator(O,X.validationMessage))).then(qe=>{L.enableButtons(),L.enableInput(),qe?L.showValidationMessage(qe):"deny"===U?vc(L,O):fw(L,O)})},vc=(L,O)=>{const U=Ut.innerParams.get(L||void 0);U.showLoaderOnDeny&&ks(As()),U.preDeny?(L.isAwaitingPromise=!0,Promise.resolve().then(()=>aa(U.preDeny(O,U.validationMessage))).then(pe=>{!1===pe?(L.hideLoading(),Uh(L)):L.close({isDenied:!0,value:typeof pe>"u"?O:pe})}).catch(pe=>wn(L||void 0,pe))):L.close({isDenied:!0,value:O})},zx=(L,O)=>{L.close({isConfirmed:!0,value:O})},wn=(L,O)=>{L.rejectPromise(O)},fw=(L,O)=>{const U=Ut.innerParams.get(L||void 0);U.showLoaderOnConfirm&&ks(),U.preConfirm?(L.resetValidationMessage(),L.isAwaitingPromise=!0,Promise.resolve().then(()=>aa(U.preConfirm(O,U.validationMessage))).then(pe=>{ri(Wg())||!1===pe?(L.hideLoading(),Uh(L)):zx(L,typeof pe>"u"?O:pe)}).catch(pe=>wn(L||void 0,pe))):zx(L,O)};function om(){const L=Ut.innerParams.get(this);if(!L)return;const O=Ut.domCache.get(this);Dr(O.loader),Qd()?L.icon&&Rr(fo()):lp(O),sa([O.popup,O.actions],ve.loading),O.popup.removeAttribute("aria-busy"),O.popup.removeAttribute("data-loading"),O.confirmButton.disabled=!1,O.denyButton.disabled=!1,O.cancelButton.disabled=!1}const lp=L=>{const O=L.popup.getElementsByClassName(L.loader.getAttribute("data-button-to-replace"));O.length?Rr(O[0],"inline-block"):!ri(Va())&&!ri(As())&&!ri(Pn())&&Dr(L.actions)};function up(){const L=Ut.innerParams.get(this),O=Ut.domCache.get(this);return O?Bh(O.popup,L.input):null}function am(L,O,U){const X=Ut.domCache.get(L);O.forEach(pe=>{X[pe].disabled=U})}function Nr(L,O){const U=rn();if(U&&L)if("radio"===L.type){const X=U.querySelectorAll('[name="'.concat(ve.radio,'"]'));for(let pe=0;pe<X.length;pe++)X[pe].disabled=O}else L.disabled=O}function dw(){am(this,["confirmButton","denyButton","cancelButton"],!1)}function gc(){am(this,["confirmButton","denyButton","cancelButton"],!0)}function Hx(){Nr(this.getInput(),!1)}function sm(){Nr(this.getInput(),!0)}function pw(L){const O=Ut.domCache.get(this),U=Ut.innerParams.get(this);po(O.validationMessage,L),O.validationMessage.className=ve["validation-message"],U.customClass&&U.customClass.validationMessage&&tn(O.validationMessage,U.customClass.validationMessage),Rr(O.validationMessage);const X=this.getInput();X&&(X.setAttribute("aria-invalid","true"),X.setAttribute("aria-describedby",ve["validation-message"]),Is(X),tn(X,ve.inputerror))}function lm(){const L=Ut.domCache.get(this);L.validationMessage&&Dr(L.validationMessage);const O=this.getInput();O&&(O.removeAttribute("aria-invalid"),O.removeAttribute("aria-describedby"),sa(O,ve.inputerror))}const ii={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Wh=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],$h={},cp=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ha=L=>Object.prototype.hasOwnProperty.call(ii,L),um=L=>-1!==Wh.indexOf(L),vw=L=>$h[L],cm=L=>{ha(L)||xr('Unknown parameter "'.concat(L,'"'))},mc=L=>{cp.includes(L)&&xr('The parameter "'.concat(L,'" is incompatible with toasts'))},hm=L=>{const O=vw(L);O&&dL(L,O)};function yc(L){const O=rn(),U=Ut.innerParams.get(this);if(!O||Lr(O,U.hideClass.popup))return void xr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const X=Se(L),pe=Object.assign({},U,X);Gh(this,pe),Ut.innerParams.set(this,pe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,L),writable:!1,enumerable:!0}})}const Se=L=>{const O={};return Object.keys(L).forEach(U=>{um(U)?O[U]=L[U]:xr("Invalid parameter to update: ".concat(U))}),O};function _o(){const L=Ut.domCache.get(this),O=Ut.innerParams.get(this);O?(L.popup&&Vt.swalCloseEventFinishedCallback&&(Vt.swalCloseEventFinishedCallback(),delete Vt.swalCloseEventFinishedCallback),"function"==typeof O.didDestroy&&O.didDestroy(),Ie(this)):wo(this)}const Ie=L=>{wo(L),delete L.params,delete Vt.keydownHandler,delete Vt.keydownTarget,delete Vt.currentInstance},wo=L=>{L.isAwaitingPromise?(Fs(Ut,L),L.isAwaitingPromise=!0):(Fs(fe,L),Fs(Ut,L),delete L.isAwaitingPromise,delete L.disableButtons,delete L.enableButtons,delete L.getInput,delete L.disableInput,delete L.enableInput,delete L.hideLoading,delete L.disableLoading,delete L.showValidationMessage,delete L.resetValidationMessage,delete L.close,delete L.closePopup,delete L.closeModal,delete L.closeToast,delete L.rejectPromise,delete L.update,delete L._destroy)},Fs=(L,O)=>{for(const U in L)L[U].delete(O)};var Bo=Object.freeze({__proto__:null,_destroy:_o,close:zl,closeModal:zl,closePopup:zl,closeToast:zl,disableButtons:gc,disableInput:sm,disableLoading:om,enableButtons:dw,enableInput:Hx,getInput:up,handleAwaitingPromise:Uh,hideLoading:om,rejectPromise:Bx,resetValidationMessage:lm,showValidationMessage:pw,update:yc});const Gx=(L,O,U)=>{O.popup.onclick=()=>{L&&(nt(L)||L.timer||L.input)||U(sn.close)}},nt=L=>!!(L.showConfirmButton||L.showDenyButton||L.showCancelButton||L.showCloseButton);let yi=!1;const Ul=L=>{L.popup.onmousedown=()=>{L.container.onmouseup=function(O){L.container.onmouseup=()=>{},O.target===L.container&&(yi=!0)}}},Fr=L=>{L.container.onmousedown=()=>{L.popup.onmouseup=function(O){L.popup.onmouseup=()=>{},(O.target===L.popup||O.target instanceof HTMLElement&&L.popup.contains(O.target))&&(yi=!0)}}},oi=(L,O,U)=>{O.container.onclick=X=>{yi?yi=!1:X.target===O.container&&Ol(L.allowOutsideClick)&&U(sn.backdrop)}},zo=L=>L instanceof Element||(L=>"object"==typeof L&&L.jquery)(L);const $l=()=>{if(Vt.timeout)return(()=>{const L=jt();if(!L)return;const O=parseInt(window.getComputedStyle(L).width);L.style.removeProperty("transition"),L.style.width="100%";const U=parseInt(window.getComputedStyle(L).width);L.style.width="".concat(O/U*100,"%")})(),Vt.timeout.stop()},fm=()=>{if(Vt.timeout){const L=Vt.timeout.start();return uc(L),L}};let pm=!1;const ja={};const _w=L=>{for(let O=L.target;O&&O!==document;O=O.parentNode)for(const U in ja){const X=O.getAttribute(U);if(X)return void ja[U].fire({template:X})}};var ww=Object.freeze({__proto__:null,argsToParams:L=>{const O={};return"object"!=typeof L[0]||zo(L[0])?["title","html","icon"].forEach((U,X)=>{const pe=L[X];"string"==typeof pe||zo(pe)?O[U]=pe:void 0!==pe&&Fa("Unexpected type of ".concat(U,'! Expected "string" or "Element", got ').concat(typeof pe))}):Object.assign(O,L[0]),O},bindClickHandler:function vm(){ja[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,pm||(document.body.addEventListener("click",_w),pm=!0)},clickCancel:()=>{var L;return null===(L=Pn())||void 0===L?void 0:L.click()},clickConfirm:Gi,clickDeny:()=>{var L;return null===(L=As())||void 0===L?void 0:L.click()},enableLoading:ks,fire:function Wl(){for(var O=arguments.length,U=new Array(O),X=0;X<O;X++)U[X]=arguments[X];return new this(...U)},getActions:Ln,getCancelButton:Pn,getCloseButton:lc,getConfirmButton:Va,getContainer:Ai,getDenyButton:As,getFocusableElements:Vh,getFooter:Pt,getHtmlContainer:qn,getIcon:fo,getIconContent:()=>ho(ve["icon-content"]),getImage:jg,getInputLabel:()=>ho(ve["input-label"]),getLoader:hn,getPopup:rn,getProgressSteps:iw,getTimerLeft:()=>Vt.timeout&&Vt.timeout.getTimerLeft(),getTimerProgressBar:jt,getTitle:rw,getValidationMessage:Wg,increaseTimer:L=>{if(Vt.timeout){const O=Vt.timeout.increase(L);return uc(O,!0),O}},isDeprecatedParameter:vw,isLoading:()=>{const L=rn();return!!L&&L.hasAttribute("data-loading")},isTimerRunning:()=>!(!Vt.timeout||!Vt.timeout.isRunning()),isUpdatableParameter:um,isValidParameter:ha,isVisible:()=>ri(rn()),mixin:function mw(L){return class O extends(this){_main(X,pe){return super._main(X,Object.assign({},L,pe))}}},resumeTimer:fm,showLoading:ks,stopTimer:$l,toggleTimer:()=>{const L=Vt.timeout;return L&&(L.running?$l():fm())}});class gm{constructor(O,U){this.callback=O,this.remaining=U,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(O){const U=this.running;return U&&this.stop(),this.remaining+=O,U&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const bw=["swal-title","swal-html","swal-footer"],_i=L=>{const O={};return Array.from(L.querySelectorAll("swal-param")).forEach(X=>{ql(X,["name","value"]);const pe=X.getAttribute("name"),qe=X.getAttribute("value");O[pe]="boolean"==typeof ii[pe]?"false"!==qe:"object"==typeof ii[pe]?JSON.parse(qe):qe}),O},Cw=L=>{const O={};return Array.from(L.querySelectorAll("swal-function-param")).forEach(X=>{const pe=X.getAttribute("name"),qe=X.getAttribute("value");O[pe]=new Function("return ".concat(qe))()}),O},xw=L=>{const O={};return Array.from(L.querySelectorAll("swal-button")).forEach(X=>{ql(X,["type","color","aria-label"]);const pe=X.getAttribute("type");O["".concat(pe,"ButtonText")]=X.innerHTML,O["show".concat(Kd(pe),"Button")]=!0,X.hasAttribute("color")&&(O["".concat(pe,"ButtonColor")]=X.getAttribute("color")),X.hasAttribute("aria-label")&&(O["".concat(pe,"ButtonAriaLabel")]=X.getAttribute("aria-label"))}),O},Dw=L=>{const O={},U=L.querySelector("swal-image");return U&&(ql(U,["src","width","height","alt"]),U.hasAttribute("src")&&(O.imageUrl=U.getAttribute("src")),U.hasAttribute("width")&&(O.imageWidth=U.getAttribute("width")),U.hasAttribute("height")&&(O.imageHeight=U.getAttribute("height")),U.hasAttribute("alt")&&(O.imageAlt=U.getAttribute("alt"))),O},Ux=L=>{const O={},U=L.querySelector("swal-icon");return U&&(ql(U,["type","color"]),U.hasAttribute("type")&&(O.icon=U.getAttribute("type")),U.hasAttribute("color")&&(O.iconColor=U.getAttribute("color")),O.iconHtml=U.innerHTML),O},Tw=L=>{const O={},U=L.querySelector("swal-input");U&&(ql(U,["type","label","placeholder","value"]),O.input=U.getAttribute("type")||"text",U.hasAttribute("label")&&(O.inputLabel=U.getAttribute("label")),U.hasAttribute("placeholder")&&(O.inputPlaceholder=U.getAttribute("placeholder")),U.hasAttribute("value")&&(O.inputValue=U.getAttribute("value")));const X=Array.from(L.querySelectorAll("swal-input-option"));return X.length&&(O.inputOptions={},X.forEach(pe=>{ql(pe,["value"]);const qe=pe.getAttribute("value");O.inputOptions[qe]=pe.innerHTML})),O},mm=(L,O)=>{const U={};for(const X in O){const pe=O[X],qe=L.querySelector(pe);qe&&(ql(qe,[]),U[pe.replace(/^swal-/,"")]=qe.innerHTML.trim())}return U},hp=L=>{const O=bw.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(L.children).forEach(U=>{const X=U.tagName.toLowerCase();O.includes(X)||xr("Unrecognized element <".concat(X,">"))})},ql=(L,O)=>{Array.from(L.attributes).forEach(U=>{-1===O.indexOf(U.name)&&xr(['Unrecognized attribute "'.concat(U.name,'" on <').concat(L.tagName.toLowerCase(),">."),"".concat(O.length?"Allowed attributes are: ".concat(O.join(", ")):"To set the value, use HTML within the element.")])})},Ui=L=>{const O=Ai(),U=rn();"function"==typeof L.willOpen&&L.willOpen(U);const pe=window.getComputedStyle(document.body).overflowY;ym(O,U,L),setTimeout(()=>{wc(O,U)},10),$g()&&(Mw(O,L.scrollbarPadding,pe),Array.from(document.body.children).forEach(O=>{O===Ai()||O.contains(Ai())||(O.hasAttribute("aria-hidden")&&O.setAttribute("data-previous-aria-hidden",O.getAttribute("aria-hidden")||""),O.setAttribute("aria-hidden","true"))})),!Qd()&&!Vt.previousActiveElement&&(Vt.previousActiveElement=document.activeElement),"function"==typeof L.didOpen&&setTimeout(()=>L.didOpen(U)),sa(O,ve["no-transition"])},qr=L=>{const O=rn();if(L.target!==O||!Ls)return;const U=Ai();O.removeEventListener(Ls,qr),U.style.overflowY="auto"},wc=(L,O)=>{Ls&&tt(O)?(L.style.overflowY="hidden",O.addEventListener(Ls,qr)):L.style.overflowY="auto"},Mw=(L,O,U)=>{(()=>{if(fn&&!Lr(document.body,ve.iosfix)){const L=document.body.scrollTop;document.body.style.top="".concat(-1*L,"px"),tn(document.body,ve.iosfix),UH()}})(),O&&"hidden"!==U&&Ha(U),setTimeout(()=>{L.scrollTop=0})},ym=(L,O,U)=>{tn(L,U.showClass.backdrop),O.style.setProperty("opacity","0","important"),Rr(O,"grid"),setTimeout(()=>{tn(O,U.showClass.popup),O.style.removeProperty("opacity")},10),tn([document.documentElement,document.body],ve.shown),U.heightAuto&&U.backdrop&&!U.toast&&tn([document.documentElement,document.body],ve["height-auto"])};var ir={email:(L,O)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(L)?Promise.resolve():Promise.resolve(O||"Invalid email address"),url:(L,O)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(L)?Promise.resolve():Promise.resolve(O||"Invalid URL")};function ht(L){(function jx(L){L.inputValidator||("email"===L.input&&(L.inputValidator=ir.email),"url"===L.input&&(L.inputValidator=ir.url))})(L),L.showLoaderOnConfirm&&!L.preConfirm&&xr("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Aw(L){(!L.target||"string"==typeof L.target&&!document.querySelector(L.target)||"string"!=typeof L.target&&!L.target.appendChild)&&(xr('Target parameter is not valid, defaulting to "body"'),L.target="body")}(L),"string"==typeof L.title&&(L.title=L.title.split("\n").join("<br />")),Ei(L)}let Nn;var Bt=new WeakMap;class Zt{constructor(){if(Wr(this,Bt,{writable:!0,value:void 0}),typeof window>"u")return;Nn=this;for(var O=arguments.length,U=new Array(O),X=0;X<O;X++)U[X]=arguments[X];const pe=Object.freeze(this.constructor.argsToParams(U));this.params=pe,this.isAwaitingPromise=!1,Gt(this,Bt,this._main(Nn.params))}_main(O){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(L=>{!1===L.backdrop&&L.allowOutsideClick&&xr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const O in L)cm(O),L.toast&&mc(O),hm(O)})(Object.assign({},U,O)),Vt.currentInstance&&(Vt.currentInstance._destroy(),$g()&&bt()),Vt.currentInstance=Nn;const X=ji(O,U);ht(X),Object.freeze(X),Vt.timeout&&(Vt.timeout.stop(),delete Vt.timeout),clearTimeout(Vt.restoreFocusTimeout);const pe=ai(Nn);return Gh(Nn,X),Ut.innerParams.set(Nn,X),Vr(Nn,pe,X)}then(O){return Ts(this,Bt).then(O)}finally(O){return Ts(this,Bt).finally(O)}}const Vr=(L,O,U)=>new Promise((X,pe)=>{const qe=vt=>{L.close({isDismissed:!0,dismiss:vt})};fe.swalPromiseResolve.set(L,X),fe.swalPromiseReject.set(L,pe),O.confirmButton.onclick=()=>{(L=>{const O=Ut.innerParams.get(L);L.disableButtons(),O.input?sp(L,"confirm"):fw(L,!0)})(L)},O.denyButton.onclick=()=>{(L=>{const O=Ut.innerParams.get(L);L.disableButtons(),O.returnInputValueOnDeny?sp(L,"deny"):vc(L,!1)})(L)},O.cancelButton.onclick=()=>{((L,O)=>{L.disableButtons(),O(sn.cancel)})(L,qe)},O.closeButton.onclick=()=>{qe(sn.close)},((L,O,U)=>{L.toast?Gx(L,O,U):(Ul(O),Fr(O),oi(L,O,U))})(U,O,qe),((L,O,U)=>{rp(L),O.toast||(L.keydownHandler=X=>wt(O,X,U),L.keydownTarget=O.keydownListenerCapture?window:rn(),L.keydownListenerCapture=O.keydownListenerCapture,L.keydownTarget.addEventListener("keydown",L.keydownHandler,{capture:L.keydownListenerCapture}),L.keydownHandlerAdded=!0)})(Vt,U,qe),((L,O)=>{"select"===O.input||"radio"===O.input?ca(L,O):["text","email","number","tel","textarea"].some(U=>U===O.input)&&(nw(O.inputValue)||ac(O.inputValue))&&(ks(Va()),Ga(L,O))})(L,U),Ui(U),_m(Vt,U,qe),wm(O,U),setTimeout(()=>{O.container.scrollTop=0})}),ji=(L,O)=>{const U=(L=>{const O="string"==typeof L.template?document.querySelector(L.template):L.template;if(!O)return{};const U=O.content;return hp(U),Object.assign(_i(U),Cw(U),xw(U),Dw(U),Ux(U),Tw(U),mm(U,bw))})(L),X=Object.assign({},ii,O,U,L);return X.showClass=Object.assign({},ii.showClass,X.showClass),X.hideClass=Object.assign({},ii.hideClass,X.hideClass),X},ai=L=>{const O={popup:rn(),container:Ai(),actions:Ln(),confirmButton:Va(),denyButton:As(),cancelButton:Pn(),loader:hn(),closeButton:lc(),validationMessage:Wg(),progressSteps:iw()};return Ut.domCache.set(L,O),O},_m=(L,O,U)=>{const X=jt();Dr(X),O.timer&&(L.timeout=new gm(()=>{U("timer"),delete L.timeout},O.timer),O.timerProgressBar&&(Rr(X),vo(X,O,"timerProgressBar"),setTimeout(()=>{L.timeout&&L.timeout.running&&uc(O.timer)})))},wm=(L,O)=>{if(!O.toast){if(!Ol(O.allowEnterKey))return void fa();Zl(L,O)||ip(-1,1)}},Zl=(L,O)=>O.focusDeny&&ri(L.denyButton)?(L.denyButton.focus(),!0):O.focusCancel&&ri(L.cancelButton)?(L.cancelButton.focus(),!0):!(!O.focusConfirm||!ri(L.confirmButton)||(L.confirmButton.focus(),0)),fa=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const L=new Date,O=localStorage.getItem("swal-initiation");O?(L.getTime()-Date.parse(O))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const U=document.createElement("audio");U.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",U.loop=!0,document.body.appendChild(U),setTimeout(()=>{U.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(L))}Zt.prototype.disableButtons=gc,Zt.prototype.enableButtons=dw,Zt.prototype.getInput=up,Zt.prototype.disableInput=sm,Zt.prototype.enableInput=Hx,Zt.prototype.hideLoading=om,Zt.prototype.disableLoading=om,Zt.prototype.showValidationMessage=pw,Zt.prototype.resetValidationMessage=lm,Zt.prototype.close=zl,Zt.prototype.closePopup=zl,Zt.prototype.closeModal=zl,Zt.prototype.closeToast=zl,Zt.prototype.rejectPromise=Bx,Zt.prototype.update=yc,Zt.prototype._destroy=_o,Object.assign(Zt,ww),Object.keys(Bo).forEach(L=>{Zt[L]=function(){return Nn&&Nn[L]?Nn[L](...arguments):null}}),Zt.DismissReason=sn,Zt.version="11.7.32";const wi=Zt;return wi.default=wi,wi}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ts,Gt){var Tt=Ts.createElement("style");if(Ts.getElementsByTagName("head")[0].appendChild(Tt),Tt.styleSheet)Tt.styleSheet.disabled||(Tt.styleSheet.cssText=Gt);else try{Tt.innerHTML=Gt}catch{Tt.innerText=Gt}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')}},J_=>{J_(J_.s=284)}]);